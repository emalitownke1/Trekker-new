function KS(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tf={exports:{}},eo={},rf={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function HS(){if(Zg)return Qe;Zg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function b(R,O,B){this.props=R,this.context=O,this.refs=N,this.updater=B||S}b.prototype.isReactComponent={},b.prototype.setState=function(R,O){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,O,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=b.prototype;function C(R,O,B){this.props=R,this.context=O,this.refs=N,this.updater=B||S}var P=C.prototype=new E;P.constructor=C,_(P,b.prototype),P.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function re(R,O,B){var F,V={},ie=null,X=null;if(O!=null)for(F in O.ref!==void 0&&(X=O.ref),O.key!==void 0&&(ie=""+O.key),O)$.call(O,F)&&!U.hasOwnProperty(F)&&(V[F]=O[F]);var ce=arguments.length-2;if(ce===1)V.children=B;else if(1<ce){for(var we=Array(ce),$e=0;$e<ce;$e++)we[$e]=arguments[$e+2];V.children=we}if(R&&R.defaultProps)for(F in ce=R.defaultProps,ce)V[F]===void 0&&(V[F]=ce[F]);return{$$typeof:e,type:R,key:ie,ref:X,props:V,_owner:H.current}}function ge(R,O){return{$$typeof:e,type:R.type,key:O,ref:R.ref,props:R.props,_owner:R._owner}}function fe(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function me(R){var O={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(B){return O[B]})}var ee=/\/+/g;function ue(R,O){return typeof R=="object"&&R!==null&&R.key!=null?me(""+R.key):O.toString(36)}function G(R,O,B,F,V){var ie=typeof R;(ie==="undefined"||ie==="boolean")&&(R=null);var X=!1;if(R===null)X=!0;else switch(ie){case"string":case"number":X=!0;break;case"object":switch(R.$$typeof){case e:case t:X=!0}}if(X)return X=R,V=V(X),R=F===""?"."+ue(X,0):F,M(V)?(B="",R!=null&&(B=R.replace(ee,"$&/")+"/"),G(V,O,B,"",function($e){return $e})):V!=null&&(fe(V)&&(V=ge(V,B+(!V.key||X&&X.key===V.key?"":(""+V.key).replace(ee,"$&/")+"/")+R)),O.push(V)),1;if(X=0,F=F===""?".":F+":",M(R))for(var ce=0;ce<R.length;ce++){ie=R[ce];var we=F+ue(ie,ce);X+=G(ie,O,B,we,V)}else if(we=w(R),typeof we=="function")for(R=we.call(R),ce=0;!(ie=R.next()).done;)ie=ie.value,we=F+ue(ie,ce++),X+=G(ie,O,B,we,V);else if(ie==="object")throw O=String(R),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return X}function he(R,O,B){if(R==null)return R;var F=[],V=0;return G(R,F,"","",function(ie){return O.call(B,ie,V++)}),F}function K(R){if(R._status===-1){var O=R._result;O=O(),O.then(function(B){(R._status===0||R._status===-1)&&(R._status=1,R._result=B)},function(B){(R._status===0||R._status===-1)&&(R._status=2,R._result=B)}),R._status===-1&&(R._status=0,R._result=O)}if(R._status===1)return R._result.default;throw R._result}var k={current:null},I={transition:null},Z={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:I,ReactCurrentOwner:H};function J(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:he,forEach:function(R,O,B){he(R,function(){O.apply(this,arguments)},B)},count:function(R){var O=0;return he(R,function(){O++}),O},toArray:function(R){return he(R,function(O){return O})||[]},only:function(R){if(!fe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Qe.Component=b,Qe.Fragment=n,Qe.Profiler=l,Qe.PureComponent=C,Qe.StrictMode=a,Qe.Suspense=p,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Qe.act=J,Qe.cloneElement=function(R,O,B){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var F=_({},R.props),V=R.key,ie=R.ref,X=R._owner;if(O!=null){if(O.ref!==void 0&&(ie=O.ref,X=H.current),O.key!==void 0&&(V=""+O.key),R.type&&R.type.defaultProps)var ce=R.type.defaultProps;for(we in O)$.call(O,we)&&!U.hasOwnProperty(we)&&(F[we]=O[we]===void 0&&ce!==void 0?ce[we]:O[we])}var we=arguments.length-2;if(we===1)F.children=B;else if(1<we){ce=Array(we);for(var $e=0;$e<we;$e++)ce[$e]=arguments[$e+2];F.children=ce}return{$$typeof:e,type:R.type,key:V,ref:ie,props:F,_owner:X}},Qe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Qe.createElement=re,Qe.createFactory=function(R){var O=re.bind(null,R);return O.type=R,O},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(R){return{$$typeof:f,render:R}},Qe.isValidElement=fe,Qe.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:K}},Qe.memo=function(R,O){return{$$typeof:h,type:R,compare:O===void 0?null:O}},Qe.startTransition=function(R){var O=I.transition;I.transition={};try{R()}finally{I.transition=O}},Qe.unstable_act=J,Qe.useCallback=function(R,O){return k.current.useCallback(R,O)},Qe.useContext=function(R){return k.current.useContext(R)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(R){return k.current.useDeferredValue(R)},Qe.useEffect=function(R,O){return k.current.useEffect(R,O)},Qe.useId=function(){return k.current.useId()},Qe.useImperativeHandle=function(R,O,B){return k.current.useImperativeHandle(R,O,B)},Qe.useInsertionEffect=function(R,O){return k.current.useInsertionEffect(R,O)},Qe.useLayoutEffect=function(R,O){return k.current.useLayoutEffect(R,O)},Qe.useMemo=function(R,O){return k.current.useMemo(R,O)},Qe.useReducer=function(R,O,B){return k.current.useReducer(R,O,B)},Qe.useRef=function(R){return k.current.useRef(R)},Qe.useState=function(R){return k.current.useState(R)},Qe.useSyncExternalStore=function(R,O,B){return k.current.useSyncExternalStore(R,O,B)},Qe.useTransition=function(){return k.current.useTransition()},Qe.version="18.3.1",Qe}var Yg;function Oc(){return Yg||(Yg=1,rf.exports=HS()),rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function GS(){if(Xg)return eo;Xg=1;var e=Oc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,h){var x,y={},w=null,S=null;h!==void 0&&(w=""+h),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(x in p)a.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:t,type:f,key:w,ref:S,props:y,_owner:l.current}}return eo.Fragment=n,eo.jsx=d,eo.jsxs=d,eo}var Jg;function ZS(){return Jg||(Jg=1,tf.exports=GS()),tf.exports}var i=ZS(),Yl={},nf={exports:{}},Nr={},sf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function YS(){return ev||(ev=1,(function(e){function t(I,Z){var J=I.length;I.push(Z);e:for(;0<J;){var R=J-1>>>1,O=I[R];if(0<l(O,Z))I[R]=Z,I[J]=O,J=R;else break e}}function n(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var Z=I[0],J=I.pop();if(J!==Z){I[0]=J;e:for(var R=0,O=I.length,B=O>>>1;R<B;){var F=2*(R+1)-1,V=I[F],ie=F+1,X=I[ie];if(0>l(V,J))ie<O&&0>l(X,V)?(I[R]=X,I[ie]=J,R=ie):(I[R]=V,I[F]=J,R=F);else if(ie<O&&0>l(X,J))I[R]=X,I[ie]=J,R=ie;else break e}}return Z}function l(I,Z){var J=I.sortIndex-Z.sortIndex;return J!==0?J:I.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],h=[],x=1,y=null,w=3,S=!1,_=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(I){for(var Z=n(h);Z!==null;){if(Z.callback===null)a(h);else if(Z.startTime<=I)a(h),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=n(h)}}function M(I){if(N=!1,P(I),!_)if(n(p)!==null)_=!0,K($);else{var Z=n(h);Z!==null&&k(M,Z.startTime-I)}}function $(I,Z){_=!1,N&&(N=!1,E(re),re=-1),S=!0;var J=w;try{for(P(Z),y=n(p);y!==null&&(!(y.expirationTime>Z)||I&&!me());){var R=y.callback;if(typeof R=="function"){y.callback=null,w=y.priorityLevel;var O=R(y.expirationTime<=Z);Z=e.unstable_now(),typeof O=="function"?y.callback=O:y===n(p)&&a(p),P(Z)}else a(p);y=n(p)}if(y!==null)var B=!0;else{var F=n(h);F!==null&&k(M,F.startTime-Z),B=!1}return B}finally{y=null,w=J,S=!1}}var H=!1,U=null,re=-1,ge=5,fe=-1;function me(){return!(e.unstable_now()-fe<ge)}function ee(){if(U!==null){var I=e.unstable_now();fe=I;var Z=!0;try{Z=U(!0,I)}finally{Z?ue():(H=!1,U=null)}}else H=!1}var ue;if(typeof C=="function")ue=function(){C(ee)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=ee,ue=function(){he.postMessage(null)}}else ue=function(){b(ee,0)};function K(I){U=I,H||(H=!0,ue())}function k(I,Z){re=b(function(){I(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){_||S||(_=!0,K($))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(I){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var J=w;w=Z;try{return I()}finally{w=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,Z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var J=w;w=I;try{return Z()}finally{w=J}},e.unstable_scheduleCallback=function(I,Z,J){var R=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?R+J:R):J=R,I){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,I={id:x++,callback:Z,priorityLevel:I,startTime:J,expirationTime:O,sortIndex:-1},J>R?(I.sortIndex=J,t(h,I),n(p)===null&&I===n(h)&&(N?(E(re),re=-1):N=!0,k(M,J-R))):(I.sortIndex=O,t(p,I),_||S||(_=!0,K($))),I},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(I){var Z=w;return function(){var J=w;w=Z;try{return I.apply(this,arguments)}finally{w=J}}}})(af)),af}var tv;function XS(){return tv||(tv=1,sf.exports=YS()),sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function JS(){if(rv)return Nr;rv=1;var e=Oc(),t=XS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(l[r]=s,r=0;r<s.length;r++)a.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(r){return p.call(y,r)?!0:p.call(x,r)?!1:h.test(r)?y[r]=!0:(x[r]=!0,!1)}function S(r,s,o,u){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,s,o,u){if(s===null||typeof s>"u"||S(r,s,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,o,u,m,v,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(E,C);b[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(E,C);b[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(E,C);b[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,s,o,u){var m=b.hasOwnProperty(s)?b[s]:null;(m!==null?m.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,o,m,u)&&(o=null),u||m===null?w(s)&&(o===null?r.removeAttribute(s):r.setAttribute(s,""+o)):m.mustUseProperty?r[m.propertyName]=o===null?m.type===3?!1:"":o:(s=m.attributeName,u=m.attributeNamespace,o===null?r.removeAttribute(s):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,u?r.setAttributeNS(u,s,o):r.setAttribute(s,o))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),me=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),I=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var J=Object.assign,R;function O(r){if(R===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+r}var B=!1;function F(r,s){if(!r||B)return"";B=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var u=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){u=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){u=Q}r()}}catch(Q){if(Q&&u&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=u.stack.split(`
`),j=m.length-1,T=v.length-1;1<=j&&0<=T&&m[j]!==v[T];)T--;for(;1<=j&&0<=T;j--,T--)if(m[j]!==v[T]){if(j!==1||T!==1)do if(j--,T--,0>T||m[j]!==v[T]){var D=`
`+m[j].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=j&&0<=T);break}}}finally{B=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?O(r):""}function V(r){switch(r.tag){case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return r=F(r.type,!1),r;case 11:return r=F(r.type.render,!1),r;case 1:return r=F(r.type,!0),r;default:return""}}function ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case H:return"Portal";case ge:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case G:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case me:return(r.displayName||"Context")+".Consumer";case fe:return(r._context.displayName||"Context")+".Provider";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case he:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}function X(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(s);case 8:return s===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function we(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $e(r){var s=we(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(j){u=""+j,v.call(this,j)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function nt(r){r._valueTracker||(r._valueTracker=$e(r))}function ot(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=we(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gr(r,s){var o=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function En(r,s){var o=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;o=ce(s.value!=null?s.value:o),r._wrapperState={initialChecked:u,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gn(r,s){s=s.checked,s!=null&&P(r,"checked",s,!1)}function Tn(r,s){Gn(r,s);var o=ce(s.value),u=s.type;if(o!=null)u==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?mi(r,s.type,o):s.hasOwnProperty("defaultValue")&&mi(r,s.type,ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function mu(r,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,o||s===r.value||(r.value=s),r.defaultValue=s}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function mi(r,s,o){(s!=="number"||Dt(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var A=Array.isArray;function q(r,s,o,u){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+ce(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Y(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ye(r,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(A(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}r._wrapperState={initialValue:ce(o)}}function ve(r,s){var o=ce(s.value),u=ce(s.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),s.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),u!=null&&(r.defaultValue=""+u)}function pe(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Re(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Re(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var st,lr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,u,m){MSApp.execUnsafeLocalFunction(function(){return r(s,o,u,m)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=st.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function fn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pu=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(r){pu.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),vr[s]=vr[r]})});function pi(r,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||vr.hasOwnProperty(r)&&vr[r]?(""+s).trim():s+"px"}function hi(r,s){r=r.style;for(var o in s)if(s.hasOwnProperty(o)){var u=o.indexOf("--")===0,m=pi(o,s[o],u);o==="float"&&(o="cssFloat"),u?r.setProperty(o,m):r[o]=m}}var hu=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(r,s){if(s){if(hu[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function va(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function gu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vu=null,xi=null,yi=null;function mp(r){if(r=Ba(r)){if(typeof vu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=fl(s),vu(r.stateNode,r.type,s))}}function pp(r){xi?yi?yi.push(r):yi=[r]:xi=r}function hp(){if(xi){var r=xi,s=yi;if(yi=xi=null,mp(r),s)for(r=0;r<s.length;r++)mp(s[r])}}function gp(r,s){return r(s)}function vp(){}var xu=!1;function xp(r,s,o){if(xu)return r(s,o);xu=!0;try{return gp(r,s,o)}finally{xu=!1,(xi!==null||yi!==null)&&(vp(),hp())}}function xa(r,s){var o=r.stateNode;if(o===null)return null;var u=fl(o);if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var yu=!1;if(f)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){yu=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{yu=!1}function Jj(r,s,o,u,m,v,j,T,D){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(o,Q)}catch(se){this.onError(se)}}var ba=!1,qo=null,Wo=!1,bu=null,eN={onError:function(r){ba=!0,qo=r}};function tN(r,s,o,u,m,v,j,T,D){ba=!1,qo=null,Jj.apply(eN,arguments)}function rN(r,s,o,u,m,v,j,T,D){if(tN.apply(this,arguments),ba){if(ba){var Q=qo;ba=!1,qo=null}else throw Error(n(198));Wo||(Wo=!0,bu=Q)}}function Is(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function yp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bp(r){if(Is(r)!==r)throw Error(n(188))}function nN(r){var s=r.alternate;if(!s){if(s=Is(r),s===null)throw Error(n(188));return s!==r?null:r}for(var o=r,u=s;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return bp(m),r;if(v===u)return bp(m),s;v=v.sibling}throw Error(n(188))}if(o.return!==u.return)o=m,u=v;else{for(var j=!1,T=m.child;T;){if(T===o){j=!0,o=m,u=v;break}if(T===u){j=!0,u=m,o=v;break}T=T.sibling}if(!j){for(T=v.child;T;){if(T===o){j=!0,o=v,u=m;break}if(T===u){j=!0,u=v,o=m;break}T=T.sibling}if(!j)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:s}function wp(r){return r=nN(r),r!==null?jp(r):null}function jp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=jp(r);if(s!==null)return s;r=r.sibling}return null}var Np=t.unstable_scheduleCallback,Sp=t.unstable_cancelCallback,sN=t.unstable_shouldYield,iN=t.unstable_requestPaint,St=t.unstable_now,aN=t.unstable_getCurrentPriorityLevel,wu=t.unstable_ImmediatePriority,Cp=t.unstable_UserBlockingPriority,Qo=t.unstable_NormalPriority,oN=t.unstable_LowPriority,kp=t.unstable_IdlePriority,Ko=null,mn=null;function lN(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ko,r,void 0,(r.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:dN,cN=Math.log,uN=Math.LN2;function dN(r){return r>>>=0,r===0?32:31-(cN(r)/uN|0)|0}var Ho=64,Go=4194304;function wa(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zo(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,m=r.suspendedLanes,v=r.pingedLanes,j=o&268435455;if(j!==0){var T=j&~m;T!==0?u=wa(T):(v&=j,v!==0&&(u=wa(v)))}else j=o&~m,j!==0?u=wa(j):v!==0&&(u=wa(v));if(u===0)return 0;if(s!==0&&s!==u&&(s&m)===0&&(m=u&-u,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((u&4)!==0&&(u|=o&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)o=31-qr(s),m=1<<o,u|=r[o],s&=~m;return u}function fN(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes;0<v;){var j=31-qr(v),T=1<<j,D=m[j];D===-1?((T&o)===0||(T&u)!==0)&&(m[j]=fN(T,s)):D<=s&&(r.expiredLanes|=T),v&=~T}}function ju(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _p(){var r=Ho;return Ho<<=1,(Ho&4194240)===0&&(Ho=64),r}function Nu(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ja(r,s,o){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qr(s),r[s]=o}function pN(r,s){var o=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<o;){var m=31-qr(o),v=1<<m;s[m]=0,u[m]=-1,r[m]=-1,o&=~v}}function Su(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-qr(o),m=1<<u;m&s|r[u]&s&&(r[u]|=s),o&=~m}}var it=0;function Ep(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Tp,Cu,Pp,Rp,Ap,ku=!1,Yo=[],Zn=null,Yn=null,Xn=null,Na=new Map,Sa=new Map,Jn=[],hN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(r,s){switch(r){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Na.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(s.pointerId)}}function Ca(r,s,o,u,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ba(s),s!==null&&Cu(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function gN(r,s,o,u,m){switch(s){case"focusin":return Zn=Ca(Zn,r,s,o,u,m),!0;case"dragenter":return Yn=Ca(Yn,r,s,o,u,m),!0;case"mouseover":return Xn=Ca(Xn,r,s,o,u,m),!0;case"pointerover":var v=m.pointerId;return Na.set(v,Ca(Na.get(v)||null,r,s,o,u,m)),!0;case"gotpointercapture":return v=m.pointerId,Sa.set(v,Ca(Sa.get(v)||null,r,s,o,u,m)),!0}return!1}function Op(r){var s=Os(r.target);if(s!==null){var o=Is(s);if(o!==null){if(s=o.tag,s===13){if(s=yp(o),s!==null){r.blockedOn=s,Ap(r.priority,function(){Pp(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xo(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Eu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return s=Ba(o),s!==null&&Cu(s),r.blockedOn=o,!1;s.shift()}return!0}function Dp(r,s,o){Xo(r)&&o.delete(s)}function vN(){ku=!1,Zn!==null&&Xo(Zn)&&(Zn=null),Yn!==null&&Xo(Yn)&&(Yn=null),Xn!==null&&Xo(Xn)&&(Xn=null),Na.forEach(Dp),Sa.forEach(Dp)}function ka(r,s){r.blockedOn===s&&(r.blockedOn=null,ku||(ku=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vN)))}function _a(r){function s(m){return ka(m,r)}if(0<Yo.length){ka(Yo[0],r);for(var o=1;o<Yo.length;o++){var u=Yo[o];u.blockedOn===r&&(u.blockedOn=null)}}for(Zn!==null&&ka(Zn,r),Yn!==null&&ka(Yn,r),Xn!==null&&ka(Xn,r),Na.forEach(s),Sa.forEach(s),o=0;o<Jn.length;o++)u=Jn[o],u.blockedOn===r&&(u.blockedOn=null);for(;0<Jn.length&&(o=Jn[0],o.blockedOn===null);)Op(o),o.blockedOn===null&&Jn.shift()}var bi=M.ReactCurrentBatchConfig,Jo=!0;function xN(r,s,o,u){var m=it,v=bi.transition;bi.transition=null;try{it=1,_u(r,s,o,u)}finally{it=m,bi.transition=v}}function yN(r,s,o,u){var m=it,v=bi.transition;bi.transition=null;try{it=4,_u(r,s,o,u)}finally{it=m,bi.transition=v}}function _u(r,s,o,u){if(Jo){var m=Eu(r,s,o,u);if(m===null)Wu(r,s,u,el,o),Ip(r,u);else if(gN(m,r,s,o,u))u.stopPropagation();else if(Ip(r,u),s&4&&-1<hN.indexOf(r)){for(;m!==null;){var v=Ba(m);if(v!==null&&Tp(v),v=Eu(r,s,o,u),v===null&&Wu(r,s,u,el,o),v===m)break;m=v}m!==null&&u.stopPropagation()}else Wu(r,s,u,null,o)}}var el=null;function Eu(r,s,o,u){if(el=null,r=gu(u),r=Os(r),r!==null)if(s=Is(r),s===null)r=null;else if(o=s.tag,o===13){if(r=yp(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return el=r,null}function Mp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aN()){case wu:return 1;case Cp:return 4;case Qo:case oN:return 16;case kp:return 536870912;default:return 16}default:return 16}}var es=null,Tu=null,tl=null;function Fp(){if(tl)return tl;var r,s=Tu,o=s.length,u,m="value"in es?es.value:es.textContent,v=m.length;for(r=0;r<o&&s[r]===m[r];r++);var j=o-r;for(u=1;u<=j&&s[o-u]===m[v-u];u++);return tl=m.slice(r,1<u?1-u:void 0)}function rl(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function Lp(){return!1}function _r(r){function s(o,u,m,v,j){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?nl:Lp,this.isPropagationStopped=Lp,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),s}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=_r(wi),Ea=J({},wi,{view:0,detail:0}),bN=_r(Ea),Ru,Au,Ta,sl=J({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ta&&(Ta&&r.type==="mousemove"?(Ru=r.screenX-Ta.screenX,Au=r.screenY-Ta.screenY):Au=Ru=0,Ta=r),Ru)},movementY:function(r){return"movementY"in r?r.movementY:Au}}),Bp=_r(sl),wN=J({},sl,{dataTransfer:0}),jN=_r(wN),NN=J({},Ea,{relatedTarget:0}),Iu=_r(NN),SN=J({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=_r(SN),kN=J({},wi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_N=_r(kN),EN=J({},wi,{data:0}),$p=_r(EN),TN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AN(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=RN[r])?!!s[r]:!1}function Ou(){return AN}var IN=J({},Ea,{key:function(r){if(r.key){var s=TN[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=rl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?PN[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(r){return r.type==="keypress"?rl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?rl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ON=_r(IN),DN=J({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vp=_r(DN),MN=J({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),FN=_r(MN),LN=J({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),BN=_r(LN),$N=J({},sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),VN=_r($N),zN=[9,13,27,32],Du=f&&"CompositionEvent"in window,Pa=null;f&&"documentMode"in document&&(Pa=document.documentMode);var UN=f&&"TextEvent"in window&&!Pa,zp=f&&(!Du||Pa&&8<Pa&&11>=Pa),Up=" ",qp=!1;function Wp(r,s){switch(r){case"keyup":return zN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ji=!1;function qN(r,s){switch(r){case"compositionend":return Qp(s);case"keypress":return s.which!==32?null:(qp=!0,Up);case"textInput":return r=s.data,r===Up&&qp?null:r;default:return null}}function WN(r,s){if(ji)return r==="compositionend"||!Du&&Wp(r,s)?(r=Fp(),tl=Tu=es=null,ji=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zp&&s.locale!=="ko"?null:s.data;default:return null}}var QN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!QN[r.type]:s==="textarea"}function Hp(r,s,o,u){pp(u),s=cl(s,"onChange"),0<s.length&&(o=new Pu("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Ra=null,Aa=null;function KN(r){fh(r,0)}function il(r){var s=_i(r);if(ot(s))return r}function HN(r,s){if(r==="change")return s}var Gp=!1;if(f){var Mu;if(f){var Fu="oninput"in document;if(!Fu){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Fu=typeof Zp.oninput=="function"}Mu=Fu}else Mu=!1;Gp=Mu&&(!document.documentMode||9<document.documentMode)}function Yp(){Ra&&(Ra.detachEvent("onpropertychange",Xp),Aa=Ra=null)}function Xp(r){if(r.propertyName==="value"&&il(Aa)){var s=[];Hp(s,Aa,r,gu(r)),xp(KN,s)}}function GN(r,s,o){r==="focusin"?(Yp(),Ra=s,Aa=o,Ra.attachEvent("onpropertychange",Xp)):r==="focusout"&&Yp()}function ZN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(Aa)}function YN(r,s){if(r==="click")return il(s)}function XN(r,s){if(r==="input"||r==="change")return il(s)}function JN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Wr=typeof Object.is=="function"?Object.is:JN;function Ia(r,s){if(Wr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!p.call(s,m)||!Wr(r[m],s[m]))return!1}return!0}function Jp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eh(r,s){var o=Jp(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jp(o)}}function th(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?th(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function rh(){for(var r=window,s=Dt();s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Dt(r.document)}return s}function Lu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function eS(r){var s=rh(),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&th(o.ownerDocument.documentElement,o)){if(u!==null&&Lu(o)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(r,o.value.length);else if(r=(s=o.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=o.textContent.length,v=Math.min(u.start,m);u=u.end===void 0?v:Math.min(u.end,m),!r.extend&&v>u&&(m=u,u=v,v=m),m=eh(o,v);var j=eh(o,u);m&&j&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),v>u?(r.addRange(s),r.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),r.addRange(s)))}}for(s=[],r=o;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)r=s[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tS=f&&"documentMode"in document&&11>=document.documentMode,Ni=null,Bu=null,Oa=null,$u=!1;function nh(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$u||Ni==null||Ni!==Dt(u)||(u=Ni,"selectionStart"in u&&Lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Oa&&Ia(Oa,u)||(Oa=u,u=cl(Bu,"onSelect"),0<u.length&&(s=new Pu("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ni)))}function al(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Si={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Vu={},sh={};f&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function ol(r){if(Vu[r])return Vu[r];if(!Si[r])return r;var s=Si[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in sh)return Vu[r]=s[o];return r}var ih=ol("animationend"),ah=ol("animationiteration"),oh=ol("animationstart"),lh=ol("transitionend"),ch=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(r,s){ch.set(r,s),c(s,[r])}for(var zu=0;zu<uh.length;zu++){var Uu=uh[zu],rS=Uu.toLowerCase(),nS=Uu[0].toUpperCase()+Uu.slice(1);ts(rS,"on"+nS)}ts(ih,"onAnimationEnd"),ts(ah,"onAnimationIteration"),ts(oh,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(lh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function dh(r,s,o){var u=r.type||"unknown-event";r.currentTarget=o,rN(u,s,void 0,r),r.currentTarget=null}function fh(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var j=u.length-1;0<=j;j--){var T=u[j],D=T.instance,Q=T.currentTarget;if(T=T.listener,D!==v&&m.isPropagationStopped())break e;dh(m,T,Q),v=D}else for(j=0;j<u.length;j++){if(T=u[j],D=T.instance,Q=T.currentTarget,T=T.listener,D!==v&&m.isPropagationStopped())break e;dh(m,T,Q),v=D}}}if(Wo)throw r=bu,Wo=!1,bu=null,r}function ct(r,s){var o=s[Yu];o===void 0&&(o=s[Yu]=new Set);var u=r+"__bubble";o.has(u)||(mh(s,r,2,!1),o.add(u))}function qu(r,s,o){var u=0;s&&(u|=4),mh(o,r,u,s)}var ll="_reactListening"+Math.random().toString(36).slice(2);function Ma(r){if(!r[ll]){r[ll]=!0,a.forEach(function(o){o!=="selectionchange"&&(sS.has(o)||qu(o,!1,r),qu(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ll]||(s[ll]=!0,qu("selectionchange",!1,s))}}function mh(r,s,o,u){switch(Mp(s)){case 1:var m=xN;break;case 4:m=yN;break;default:m=_u}o=m.bind(null,s,o,r),m=void 0,!yu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Wu(r,s,o,u,m){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var T=u.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(j===4)for(j=u.return;j!==null;){var D=j.tag;if((D===3||D===4)&&(D=j.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;j=j.return}for(;T!==null;){if(j=Os(T),j===null)return;if(D=j.tag,D===5||D===6){u=v=j;continue e}T=T.parentNode}}u=u.return}xp(function(){var Q=v,se=gu(o),oe=[];e:{var ne=ch.get(r);if(ne!==void 0){var be=Pu,Ce=r;switch(r){case"keypress":if(rl(o)===0)break e;case"keydown":case"keyup":be=ON;break;case"focusin":Ce="focus",be=Iu;break;case"focusout":Ce="blur",be=Iu;break;case"beforeblur":case"afterblur":be=Iu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=jN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=FN;break;case ih:case ah:case oh:be=CN;break;case lh:be=BN;break;case"scroll":be=bN;break;case"wheel":be=VN;break;case"copy":case"cut":case"paste":be=_N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Vp}var _e=(s&4)!==0,Ct=!_e&&r==="scroll",z=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var L=Q,W;L!==null;){W=L;var de=W.stateNode;if(W.tag===5&&de!==null&&(W=de,z!==null&&(de=xa(L,z),de!=null&&_e.push(Fa(L,de,W)))),Ct)break;L=L.return}0<_e.length&&(ne=new be(ne,Ce,null,o,se),oe.push({event:ne,listeners:_e}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",ne&&o!==vi&&(Ce=o.relatedTarget||o.fromElement)&&(Os(Ce)||Ce[Pn]))break e;if((be||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,be?(Ce=o.relatedTarget||o.toElement,be=Q,Ce=Ce?Os(Ce):null,Ce!==null&&(Ct=Is(Ce),Ce!==Ct||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=Q),be!==Ce)){if(_e=Bp,de="onMouseLeave",z="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Vp,de="onPointerLeave",z="onPointerEnter",L="pointer"),Ct=be==null?ne:_i(be),W=Ce==null?ne:_i(Ce),ne=new _e(de,L+"leave",be,o,se),ne.target=Ct,ne.relatedTarget=W,de=null,Os(se)===Q&&(_e=new _e(z,L+"enter",Ce,o,se),_e.target=W,_e.relatedTarget=Ct,de=_e),Ct=de,be&&Ce)t:{for(_e=be,z=Ce,L=0,W=_e;W;W=Ci(W))L++;for(W=0,de=z;de;de=Ci(de))W++;for(;0<L-W;)_e=Ci(_e),L--;for(;0<W-L;)z=Ci(z),W--;for(;L--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=Ci(_e),z=Ci(z)}_e=null}else _e=null;be!==null&&ph(oe,ne,be,_e,!1),Ce!==null&&Ct!==null&&ph(oe,Ct,Ce,_e,!0)}}e:{if(ne=Q?_i(Q):window,be=ne.nodeName&&ne.nodeName.toLowerCase(),be==="select"||be==="input"&&ne.type==="file")var Te=HN;else if(Kp(ne))if(Gp)Te=XN;else{Te=ZN;var Me=GN}else(be=ne.nodeName)&&be.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Te=YN);if(Te&&(Te=Te(r,Q))){Hp(oe,Te,o,se);break e}Me&&Me(r,ne,Q),r==="focusout"&&(Me=ne._wrapperState)&&Me.controlled&&ne.type==="number"&&mi(ne,"number",ne.value)}switch(Me=Q?_i(Q):window,r){case"focusin":(Kp(Me)||Me.contentEditable==="true")&&(Ni=Me,Bu=Q,Oa=null);break;case"focusout":Oa=Bu=Ni=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,nh(oe,o,se);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":nh(oe,o,se)}var Fe;if(Du)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ji?Wp(r,o)&&(Ve="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(zp&&o.locale!=="ko"&&(ji||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ji&&(Fe=Fp()):(es=se,Tu="value"in es?es.value:es.textContent,ji=!0)),Me=cl(Q,Ve),0<Me.length&&(Ve=new $p(Ve,r,null,o,se),oe.push({event:Ve,listeners:Me}),Fe?Ve.data=Fe:(Fe=Qp(o),Fe!==null&&(Ve.data=Fe)))),(Fe=UN?qN(r,o):WN(r,o))&&(Q=cl(Q,"onBeforeInput"),0<Q.length&&(se=new $p("onBeforeInput","beforeinput",null,o,se),oe.push({event:se,listeners:Q}),se.data=Fe))}fh(oe,s)})}function Fa(r,s,o){return{instance:r,listener:s,currentTarget:o}}function cl(r,s){for(var o=s+"Capture",u=[];r!==null;){var m=r,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=xa(r,o),v!=null&&u.unshift(Fa(r,v,m)),v=xa(r,s),v!=null&&u.push(Fa(r,v,m))),r=r.return}return u}function Ci(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ph(r,s,o,u,m){for(var v=s._reactName,j=[];o!==null&&o!==u;){var T=o,D=T.alternate,Q=T.stateNode;if(D!==null&&D===u)break;T.tag===5&&Q!==null&&(T=Q,m?(D=xa(o,v),D!=null&&j.unshift(Fa(o,D,T))):m||(D=xa(o,v),D!=null&&j.push(Fa(o,D,T)))),o=o.return}j.length!==0&&r.push({event:s,listeners:j})}var iS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function hh(r){return(typeof r=="string"?r:""+r).replace(iS,`
`).replace(aS,"")}function ul(r,s,o){if(s=hh(s),hh(r)!==s&&o)throw Error(n(425))}function dl(){}var Qu=null,Ku=null;function Hu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(r){return gh.resolve(null).then(r).catch(cS)}:Gu;function cS(r){setTimeout(function(){throw r})}function Zu(r,s){var o=s,u=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){r.removeChild(m),_a(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);_a(s)}function rs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function vh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}var ki=Math.random().toString(36).slice(2),pn="__reactFiber$"+ki,La="__reactProps$"+ki,Pn="__reactContainer$"+ki,Yu="__reactEvents$"+ki,uS="__reactListeners$"+ki,dS="__reactHandles$"+ki;function Os(r){var s=r[pn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Pn]||o[pn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=vh(r);r!==null;){if(o=r[pn])return o;r=vh(r)}return s}r=o,o=r.parentNode}return null}function Ba(r){return r=r[pn]||r[Pn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _i(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function fl(r){return r[La]||null}var Xu=[],Ei=-1;function ns(r){return{current:r}}function ut(r){0>Ei||(r.current=Xu[Ei],Xu[Ei]=null,Ei--)}function lt(r,s){Ei++,Xu[Ei]=r.current,r.current=s}var ss={},er=ns(ss),xr=ns(!1),Ds=ss;function Ti(r,s){var o=r.type.contextTypes;if(!o)return ss;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in o)m[v]=s[v];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function yr(r){return r=r.childContextTypes,r!=null}function ml(){ut(xr),ut(er)}function xh(r,s,o){if(er.current!==ss)throw Error(n(168));lt(er,s),lt(xr,o)}function yh(r,s,o){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var m in u)if(!(m in s))throw Error(n(108,X(r)||"Unknown",m));return J({},o,u)}function pl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ss,Ds=er.current,lt(er,r),lt(xr,xr.current),!0}function bh(r,s,o){var u=r.stateNode;if(!u)throw Error(n(169));o?(r=yh(r,s,Ds),u.__reactInternalMemoizedMergedChildContext=r,ut(xr),ut(er),lt(er,r)):ut(xr),lt(xr,o)}var Rn=null,hl=!1,Ju=!1;function wh(r){Rn===null?Rn=[r]:Rn.push(r)}function fS(r){hl=!0,wh(r)}function is(){if(!Ju&&Rn!==null){Ju=!0;var r=0,s=it;try{var o=Rn;for(it=1;r<o.length;r++){var u=o[r];do u=u(!0);while(u!==null)}Rn=null,hl=!1}catch(m){throw Rn!==null&&(Rn=Rn.slice(r+1)),Np(wu,is),m}finally{it=s,Ju=!1}}return null}var Pi=[],Ri=0,gl=null,vl=0,Dr=[],Mr=0,Ms=null,An=1,In="";function Fs(r,s){Pi[Ri++]=vl,Pi[Ri++]=gl,gl=r,vl=s}function jh(r,s,o){Dr[Mr++]=An,Dr[Mr++]=In,Dr[Mr++]=Ms,Ms=r;var u=An;r=In;var m=32-qr(u)-1;u&=~(1<<m),o+=1;var v=32-qr(s)+m;if(30<v){var j=m-m%5;v=(u&(1<<j)-1).toString(32),u>>=j,m-=j,An=1<<32-qr(s)+m|o<<m|u,In=v+r}else An=1<<v|o<<m|u,In=r}function ed(r){r.return!==null&&(Fs(r,1),jh(r,1,0))}function td(r){for(;r===gl;)gl=Pi[--Ri],Pi[Ri]=null,vl=Pi[--Ri],Pi[Ri]=null;for(;r===Ms;)Ms=Dr[--Mr],Dr[Mr]=null,In=Dr[--Mr],Dr[Mr]=null,An=Dr[--Mr],Dr[Mr]=null}var Er=null,Tr=null,ft=!1,Qr=null;function Nh(r,s){var o=$r(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=r,s=r.deletions,s===null?(r.deletions=[o],r.flags|=16):s.push(o)}function Sh(r,s){switch(r.tag){case 5:var o=r.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Er=r,Tr=rs(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Er=r,Tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Ms!==null?{id:An,overflow:In}:null,r.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=$r(18,null,null,0),o.stateNode=s,o.return=r,r.child=o,Er=r,Tr=null,!0):!1;default:return!1}}function rd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nd(r){if(ft){var s=Tr;if(s){var o=s;if(!Sh(r,s)){if(rd(r))throw Error(n(418));s=rs(o.nextSibling);var u=Er;s&&Sh(r,s)?Nh(u,o):(r.flags=r.flags&-4097|2,ft=!1,Er=r)}}else{if(rd(r))throw Error(n(418));r.flags=r.flags&-4097|2,ft=!1,Er=r}}}function Ch(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Er=r}function xl(r){if(r!==Er)return!1;if(!ft)return Ch(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hu(r.type,r.memoizedProps)),s&&(s=Tr)){if(rd(r))throw kh(),Error(n(418));for(;s;)Nh(r,s),s=rs(s.nextSibling)}if(Ch(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(s===0){Tr=rs(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}r=r.nextSibling}Tr=null}}else Tr=Er?rs(r.stateNode.nextSibling):null;return!0}function kh(){for(var r=Tr;r;)r=rs(r.nextSibling)}function Ai(){Tr=Er=null,ft=!1}function sd(r){Qr===null?Qr=[r]:Qr.push(r)}var mS=M.ReactCurrentBatchConfig;function $a(r,s,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,r));var m=u,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(j){var T=m.refs;j===null?delete T[v]:T[v]=j},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,r))}return r}function yl(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _h(r){var s=r._init;return s(r._payload)}function Eh(r){function s(z,L){if(r){var W=z.deletions;W===null?(z.deletions=[L],z.flags|=16):W.push(L)}}function o(z,L){if(!r)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function u(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function m(z,L){return z=ms(z,L),z.index=0,z.sibling=null,z}function v(z,L,W){return z.index=W,r?(W=z.alternate,W!==null?(W=W.index,W<L?(z.flags|=2,L):W):(z.flags|=2,L)):(z.flags|=1048576,L)}function j(z){return r&&z.alternate===null&&(z.flags|=2),z}function T(z,L,W,de){return L===null||L.tag!==6?(L=Gd(W,z.mode,de),L.return=z,L):(L=m(L,W),L.return=z,L)}function D(z,L,W,de){var Te=W.type;return Te===U?se(z,L,W.props.children,de,W.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===K&&_h(Te)===L.type)?(de=m(L,W.props),de.ref=$a(z,L,W),de.return=z,de):(de=Ul(W.type,W.key,W.props,null,z.mode,de),de.ref=$a(z,L,W),de.return=z,de)}function Q(z,L,W,de){return L===null||L.tag!==4||L.stateNode.containerInfo!==W.containerInfo||L.stateNode.implementation!==W.implementation?(L=Zd(W,z.mode,de),L.return=z,L):(L=m(L,W.children||[]),L.return=z,L)}function se(z,L,W,de,Te){return L===null||L.tag!==7?(L=Ws(W,z.mode,de,Te),L.return=z,L):(L=m(L,W),L.return=z,L)}function oe(z,L,W){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Gd(""+L,z.mode,W),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $:return W=Ul(L.type,L.key,L.props,null,z.mode,W),W.ref=$a(z,null,L),W.return=z,W;case H:return L=Zd(L,z.mode,W),L.return=z,L;case K:var de=L._init;return oe(z,de(L._payload),W)}if(A(L)||Z(L))return L=Ws(L,z.mode,W,null),L.return=z,L;yl(z,L)}return null}function ne(z,L,W,de){var Te=L!==null?L.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Te!==null?null:T(z,L,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return W.key===Te?D(z,L,W,de):null;case H:return W.key===Te?Q(z,L,W,de):null;case K:return Te=W._init,ne(z,L,Te(W._payload),de)}if(A(W)||Z(W))return Te!==null?null:se(z,L,W,de,null);yl(z,W)}return null}function be(z,L,W,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number")return z=z.get(W)||null,T(L,z,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case $:return z=z.get(de.key===null?W:de.key)||null,D(L,z,de,Te);case H:return z=z.get(de.key===null?W:de.key)||null,Q(L,z,de,Te);case K:var Me=de._init;return be(z,L,W,Me(de._payload),Te)}if(A(de)||Z(de))return z=z.get(W)||null,se(L,z,de,Te,null);yl(L,de)}return null}function Ce(z,L,W,de){for(var Te=null,Me=null,Fe=L,Ve=L=0,Vt=null;Fe!==null&&Ve<W.length;Ve++){Fe.index>Ve?(Vt=Fe,Fe=null):Vt=Fe.sibling;var tt=ne(z,Fe,W[Ve],de);if(tt===null){Fe===null&&(Fe=Vt);break}r&&Fe&&tt.alternate===null&&s(z,Fe),L=v(tt,L,Ve),Me===null?Te=tt:Me.sibling=tt,Me=tt,Fe=Vt}if(Ve===W.length)return o(z,Fe),ft&&Fs(z,Ve),Te;if(Fe===null){for(;Ve<W.length;Ve++)Fe=oe(z,W[Ve],de),Fe!==null&&(L=v(Fe,L,Ve),Me===null?Te=Fe:Me.sibling=Fe,Me=Fe);return ft&&Fs(z,Ve),Te}for(Fe=u(z,Fe);Ve<W.length;Ve++)Vt=be(Fe,z,Ve,W[Ve],de),Vt!==null&&(r&&Vt.alternate!==null&&Fe.delete(Vt.key===null?Ve:Vt.key),L=v(Vt,L,Ve),Me===null?Te=Vt:Me.sibling=Vt,Me=Vt);return r&&Fe.forEach(function(ps){return s(z,ps)}),ft&&Fs(z,Ve),Te}function _e(z,L,W,de){var Te=Z(W);if(typeof Te!="function")throw Error(n(150));if(W=Te.call(W),W==null)throw Error(n(151));for(var Me=Te=null,Fe=L,Ve=L=0,Vt=null,tt=W.next();Fe!==null&&!tt.done;Ve++,tt=W.next()){Fe.index>Ve?(Vt=Fe,Fe=null):Vt=Fe.sibling;var ps=ne(z,Fe,tt.value,de);if(ps===null){Fe===null&&(Fe=Vt);break}r&&Fe&&ps.alternate===null&&s(z,Fe),L=v(ps,L,Ve),Me===null?Te=ps:Me.sibling=ps,Me=ps,Fe=Vt}if(tt.done)return o(z,Fe),ft&&Fs(z,Ve),Te;if(Fe===null){for(;!tt.done;Ve++,tt=W.next())tt=oe(z,tt.value,de),tt!==null&&(L=v(tt,L,Ve),Me===null?Te=tt:Me.sibling=tt,Me=tt);return ft&&Fs(z,Ve),Te}for(Fe=u(z,Fe);!tt.done;Ve++,tt=W.next())tt=be(Fe,z,Ve,tt.value,de),tt!==null&&(r&&tt.alternate!==null&&Fe.delete(tt.key===null?Ve:tt.key),L=v(tt,L,Ve),Me===null?Te=tt:Me.sibling=tt,Me=tt);return r&&Fe.forEach(function(QS){return s(z,QS)}),ft&&Fs(z,Ve),Te}function Ct(z,L,W,de){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case $:e:{for(var Te=W.key,Me=L;Me!==null;){if(Me.key===Te){if(Te=W.type,Te===U){if(Me.tag===7){o(z,Me.sibling),L=m(Me,W.props.children),L.return=z,z=L;break e}}else if(Me.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===K&&_h(Te)===Me.type){o(z,Me.sibling),L=m(Me,W.props),L.ref=$a(z,Me,W),L.return=z,z=L;break e}o(z,Me);break}else s(z,Me);Me=Me.sibling}W.type===U?(L=Ws(W.props.children,z.mode,de,W.key),L.return=z,z=L):(de=Ul(W.type,W.key,W.props,null,z.mode,de),de.ref=$a(z,L,W),de.return=z,z=de)}return j(z);case H:e:{for(Me=W.key;L!==null;){if(L.key===Me)if(L.tag===4&&L.stateNode.containerInfo===W.containerInfo&&L.stateNode.implementation===W.implementation){o(z,L.sibling),L=m(L,W.children||[]),L.return=z,z=L;break e}else{o(z,L);break}else s(z,L);L=L.sibling}L=Zd(W,z.mode,de),L.return=z,z=L}return j(z);case K:return Me=W._init,Ct(z,L,Me(W._payload),de)}if(A(W))return Ce(z,L,W,de);if(Z(W))return _e(z,L,W,de);yl(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,L!==null&&L.tag===6?(o(z,L.sibling),L=m(L,W),L.return=z,z=L):(o(z,L),L=Gd(W,z.mode,de),L.return=z,z=L),j(z)):o(z,L)}return Ct}var Ii=Eh(!0),Th=Eh(!1),bl=ns(null),wl=null,Oi=null,id=null;function ad(){id=Oi=wl=null}function od(r){var s=bl.current;ut(bl),r._currentValue=s}function ld(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Di(r,s){wl=r,id=Oi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(br=!0),r.firstContext=null)}function Fr(r){var s=r._currentValue;if(id!==r)if(r={context:r,memoizedValue:s,next:null},Oi===null){if(wl===null)throw Error(n(308));Oi=r,wl.dependencies={lanes:0,firstContext:r}}else Oi=Oi.next=r;return s}var Ls=null;function cd(r){Ls===null?Ls=[r]:Ls.push(r)}function Ph(r,s,o,u){var m=s.interleaved;return m===null?(o.next=o,cd(s)):(o.next=m.next,m.next=o),s.interleaved=o,On(r,u)}function On(r,s){r.lanes|=s;var o=r.alternate;for(o!==null&&(o.lanes|=s),o=r,r=r.return;r!==null;)r.childLanes|=s,o=r.alternate,o!==null&&(o.childLanes|=s),o=r,r=r.return;return o.tag===3?o.stateNode:null}var as=!1;function ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Dn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function os(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,On(r,o)}return m=u.interleaved,m===null?(s.next=s,cd(u)):(s.next=m.next,m.next=s),u.interleaved=s,On(r,o)}function jl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Su(r,o)}}function Ah(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var j={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?m=v=j:v=v.next=j,o=o.next}while(o!==null);v===null?m=v=s:v=v.next=s}else m=v=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,effects:u.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}function Nl(r,s,o,u){var m=r.updateQueue;as=!1;var v=m.firstBaseUpdate,j=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var D=T,Q=D.next;D.next=null,j===null?v=Q:j.next=Q,j=D;var se=r.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==j&&(T===null?se.firstBaseUpdate=Q:T.next=Q,se.lastBaseUpdate=D))}if(v!==null){var oe=m.baseState;j=0,se=Q=D=null,T=v;do{var ne=T.lane,be=T.eventTime;if((u&ne)===ne){se!==null&&(se=se.next={eventTime:be,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Ce=r,_e=T;switch(ne=s,be=o,_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){oe=Ce.call(be,oe,ne);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,ne=typeof Ce=="function"?Ce.call(be,oe,ne):Ce,ne==null)break e;oe=J({},oe,ne);break e;case 2:as=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,ne=m.effects,ne===null?m.effects=[T]:ne.push(T))}else be={eventTime:be,lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(Q=se=be,D=oe):se=se.next=be,j|=ne;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(se===null&&(D=oe),m.baseState=D,m.firstBaseUpdate=Q,m.lastBaseUpdate=se,s=m.shared.interleaved,s!==null){m=s;do j|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);Vs|=j,r.lanes=j,r.memoizedState=oe}}function Ih(r,s,o){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],m=u.callback;if(m!==null){if(u.callback=null,u=o,typeof m!="function")throw Error(n(191,m));m.call(u)}}}var Va={},hn=ns(Va),za=ns(Va),Ua=ns(Va);function Bs(r){if(r===Va)throw Error(n(174));return r}function dd(r,s){switch(lt(Ua,s),lt(za,r),lt(hn,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Xe(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Xe(s,r)}ut(hn),lt(hn,s)}function Mi(){ut(hn),ut(za),ut(Ua)}function Oh(r){Bs(Ua.current);var s=Bs(hn.current),o=Xe(s,r.type);s!==o&&(lt(za,r),lt(hn,o))}function fd(r){za.current===r&&(ut(hn),ut(za))}var mt=ns(0);function Sl(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var md=[];function pd(){for(var r=0;r<md.length;r++)md[r]._workInProgressVersionPrimary=null;md.length=0}var Cl=M.ReactCurrentDispatcher,hd=M.ReactCurrentBatchConfig,$s=0,pt=null,Mt=null,Bt=null,kl=!1,qa=!1,Wa=0,pS=0;function tr(){throw Error(n(321))}function gd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Wr(r[o],s[o]))return!1;return!0}function vd(r,s,o,u,m,v){if($s=v,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cl.current=r===null||r.memoizedState===null?xS:yS,r=o(u,m),qa){v=0;do{if(qa=!1,Wa=0,25<=v)throw Error(n(301));v+=1,Bt=Mt=null,s.updateQueue=null,Cl.current=bS,r=o(u,m)}while(qa)}if(Cl.current=Tl,s=Mt!==null&&Mt.next!==null,$s=0,Bt=Mt=pt=null,kl=!1,s)throw Error(n(300));return r}function xd(){var r=Wa!==0;return Wa=0,r}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?pt.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Lr(){if(Mt===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var s=Bt===null?pt.memoizedState:Bt.next;if(s!==null)Bt=s,Mt=r;else{if(r===null)throw Error(n(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?pt.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function Qa(r,s){return typeof s=="function"?s(r):s}function yd(r){var s=Lr(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var u=Mt,m=u.baseQueue,v=o.pending;if(v!==null){if(m!==null){var j=m.next;m.next=v.next,v.next=j}u.baseQueue=m=v,o.pending=null}if(m!==null){v=m.next,u=u.baseState;var T=j=null,D=null,Q=v;do{var se=Q.lane;if(($s&se)===se)D!==null&&(D=D.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),u=Q.hasEagerState?Q.eagerState:r(u,Q.action);else{var oe={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};D===null?(T=D=oe,j=u):D=D.next=oe,pt.lanes|=se,Vs|=se}Q=Q.next}while(Q!==null&&Q!==v);D===null?j=u:D.next=T,Wr(u,s.memoizedState)||(br=!0),s.memoizedState=u,s.baseState=j,s.baseQueue=D,o.lastRenderedState=u}if(r=o.interleaved,r!==null){m=r;do v=m.lane,pt.lanes|=v,Vs|=v,m=m.next;while(m!==r)}else m===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function bd(r){var s=Lr(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,v=s.memoizedState;if(m!==null){o.pending=null;var j=m=m.next;do v=r(v,j.action),j=j.next;while(j!==m);Wr(v,s.memoizedState)||(br=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function Dh(){}function Mh(r,s){var o=pt,u=Lr(),m=s(),v=!Wr(u.memoizedState,m);if(v&&(u.memoizedState=m,br=!0),u=u.queue,wd(Bh.bind(null,o,u,r),[r]),u.getSnapshot!==s||v||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Ka(9,Lh.bind(null,o,u,m,s),void 0,null),$t===null)throw Error(n(349));($s&30)!==0||Fh(o,s,m)}return m}function Fh(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=pt.updateQueue,s===null?(s={lastEffect:null,stores:null},pt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Lh(r,s,o,u){s.value=o,s.getSnapshot=u,$h(s)&&Vh(r)}function Bh(r,s,o){return o(function(){$h(s)&&Vh(r)})}function $h(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Wr(r,o)}catch{return!0}}function Vh(r){var s=On(r,1);s!==null&&Zr(s,r,1,-1)}function zh(r){var s=gn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},s.queue=r,r=r.dispatch=vS.bind(null,pt,r),[s.memoizedState,r]}function Ka(r,s,o,u){return r={tag:r,create:s,destroy:o,deps:u,next:null},s=pt.updateQueue,s===null?(s={lastEffect:null,stores:null},pt.updateQueue=s,s.lastEffect=r.next=r):(o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r)),r}function Uh(){return Lr().memoizedState}function _l(r,s,o,u){var m=gn();pt.flags|=r,m.memoizedState=Ka(1|s,o,void 0,u===void 0?null:u)}function El(r,s,o,u){var m=Lr();u=u===void 0?null:u;var v=void 0;if(Mt!==null){var j=Mt.memoizedState;if(v=j.destroy,u!==null&&gd(u,j.deps)){m.memoizedState=Ka(s,o,v,u);return}}pt.flags|=r,m.memoizedState=Ka(1|s,o,v,u)}function qh(r,s){return _l(8390656,8,r,s)}function wd(r,s){return El(2048,8,r,s)}function Wh(r,s){return El(4,2,r,s)}function Qh(r,s){return El(4,4,r,s)}function Kh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hh(r,s,o){return o=o!=null?o.concat([r]):null,El(4,4,Kh.bind(null,s,r),o)}function jd(){}function Gh(r,s){var o=Lr();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&gd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Zh(r,s){var o=Lr();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&gd(s,u[1])?u[0]:(r=r(),o.memoizedState=[r,s],r)}function Yh(r,s,o){return($s&21)===0?(r.baseState&&(r.baseState=!1,br=!0),r.memoizedState=o):(Wr(o,s)||(o=_p(),pt.lanes|=o,Vs|=o,r.baseState=!0),s)}function hS(r,s){var o=it;it=o!==0&&4>o?o:4,r(!0);var u=hd.transition;hd.transition={};try{r(!1),s()}finally{it=o,hd.transition=u}}function Xh(){return Lr().memoizedState}function gS(r,s,o){var u=ds(r);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Jh(r))eg(s,o);else if(o=Ph(r,s,o,u),o!==null){var m=ur();Zr(o,r,u,m),tg(o,s,u)}}function vS(r,s,o){var u=ds(r),m={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jh(r))eg(s,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var j=s.lastRenderedState,T=v(j,o);if(m.hasEagerState=!0,m.eagerState=T,Wr(T,j)){var D=s.interleaved;D===null?(m.next=m,cd(s)):(m.next=D.next,D.next=m),s.interleaved=m;return}}catch{}finally{}o=Ph(r,s,m,u),o!==null&&(m=ur(),Zr(o,r,u,m),tg(o,s,u))}}function Jh(r){var s=r.alternate;return r===pt||s!==null&&s===pt}function eg(r,s){qa=kl=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function tg(r,s,o){if((o&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Su(r,o)}}var Tl={readContext:Fr,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},xS={readContext:Fr,useCallback:function(r,s){return gn().memoizedState=[r,s===void 0?null:s],r},useContext:Fr,useEffect:qh,useImperativeHandle:function(r,s,o){return o=o!=null?o.concat([r]):null,_l(4194308,4,Kh.bind(null,s,r),o)},useLayoutEffect:function(r,s){return _l(4194308,4,r,s)},useInsertionEffect:function(r,s){return _l(4,2,r,s)},useMemo:function(r,s){var o=gn();return s=s===void 0?null:s,r=r(),o.memoizedState=[r,s],r},useReducer:function(r,s,o){var u=gn();return s=o!==void 0?o(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=gS.bind(null,pt,r),[u.memoizedState,r]},useRef:function(r){var s=gn();return r={current:r},s.memoizedState=r},useState:zh,useDebugValue:jd,useDeferredValue:function(r){return gn().memoizedState=r},useTransition:function(){var r=zh(!1),s=r[0];return r=hS.bind(null,r[1]),gn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,o){var u=pt,m=gn();if(ft){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),$t===null)throw Error(n(349));($s&30)!==0||Fh(u,s,o)}m.memoizedState=o;var v={value:o,getSnapshot:s};return m.queue=v,qh(Bh.bind(null,u,v,r),[r]),u.flags|=2048,Ka(9,Lh.bind(null,u,v,o,s),void 0,null),o},useId:function(){var r=gn(),s=$t.identifierPrefix;if(ft){var o=In,u=An;o=(u&~(1<<32-qr(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Wa++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=pS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},yS={readContext:Fr,useCallback:Gh,useContext:Fr,useEffect:wd,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Qh,useMemo:Zh,useReducer:yd,useRef:Uh,useState:function(){return yd(Qa)},useDebugValue:jd,useDeferredValue:function(r){var s=Lr();return Yh(s,Mt.memoizedState,r)},useTransition:function(){var r=yd(Qa)[0],s=Lr().memoizedState;return[r,s]},useMutableSource:Dh,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1},bS={readContext:Fr,useCallback:Gh,useContext:Fr,useEffect:wd,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Qh,useMemo:Zh,useReducer:bd,useRef:Uh,useState:function(){return bd(Qa)},useDebugValue:jd,useDeferredValue:function(r){var s=Lr();return Mt===null?s.memoizedState=r:Yh(s,Mt.memoizedState,r)},useTransition:function(){var r=bd(Qa)[0],s=Lr().memoizedState;return[r,s]},useMutableSource:Dh,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1};function Kr(r,s){if(r&&r.defaultProps){s=J({},s),r=r.defaultProps;for(var o in r)s[o]===void 0&&(s[o]=r[o]);return s}return s}function Nd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:J({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Pl={isMounted:function(r){return(r=r._reactInternals)?Is(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=ur(),m=ds(r),v=Dn(u,m);v.payload=s,o!=null&&(v.callback=o),s=os(r,v,m),s!==null&&(Zr(s,r,m,u),jl(s,r,m))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=ur(),m=ds(r),v=Dn(u,m);v.tag=1,v.payload=s,o!=null&&(v.callback=o),s=os(r,v,m),s!==null&&(Zr(s,r,m,u),jl(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ur(),u=ds(r),m=Dn(o,u);m.tag=2,s!=null&&(m.callback=s),s=os(r,m,u),s!==null&&(Zr(s,r,u,o),jl(s,r,u))}};function rg(r,s,o,u,m,v,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,v,j):s.prototype&&s.prototype.isPureReactComponent?!Ia(o,u)||!Ia(m,v):!0}function ng(r,s,o){var u=!1,m=ss,v=s.contextType;return typeof v=="object"&&v!==null?v=Fr(v):(m=yr(s)?Ds:er.current,u=s.contextTypes,v=(u=u!=null)?Ti(r,m):ss),s=new s(o,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pl,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=v),s}function sg(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Pl.enqueueReplaceState(s,s.state,null)}function Sd(r,s,o,u){var m=r.stateNode;m.props=o,m.state=r.memoizedState,m.refs={},ud(r);var v=s.contextType;typeof v=="object"&&v!==null?m.context=Fr(v):(v=yr(s)?Ds:er.current,m.context=Ti(r,v)),m.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Nd(r,s,v,o),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Pl.enqueueReplaceState(m,m.state,null),Nl(r,o,m,u),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function Fi(r,s){try{var o="",u=s;do o+=V(u),u=u.return;while(u);var m=o}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:m,digest:null}}function Cd(r,s,o){return{value:r,source:null,stack:o??null,digest:s??null}}function kd(r,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var wS=typeof WeakMap=="function"?WeakMap:Map;function ig(r,s,o){o=Dn(-1,o),o.tag=3,o.payload={element:null};var u=s.value;return o.callback=function(){Fl||(Fl=!0,Vd=u),kd(r,s)},o}function ag(r,s,o){o=Dn(-1,o),o.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=s.value;o.payload=function(){return u(m)},o.callback=function(){kd(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){kd(r,s),typeof u!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),o}function og(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new wS;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(m.add(o),r=DS.bind(null,r,s,o),s.then(r,r))}function lg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function cg(r,s,o,u,m){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Dn(-1,1),s.tag=2,os(o,s,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var jS=M.ReactCurrentOwner,br=!1;function cr(r,s,o,u){s.child=r===null?Th(s,null,o,u):Ii(s,r.child,o,u)}function ug(r,s,o,u,m){o=o.render;var v=s.ref;return Di(s,m),u=vd(r,s,o,u,v,m),o=xd(),r!==null&&!br?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Mn(r,s,m)):(ft&&o&&ed(s),s.flags|=1,cr(r,s,u,m),s.child)}function dg(r,s,o,u,m){if(r===null){var v=o.type;return typeof v=="function"&&!Hd(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=v,fg(r,s,v,u,m)):(r=Ul(o.type,null,u,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&m)===0){var j=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ia,o(j,u)&&r.ref===s.ref)return Mn(r,s,m)}return s.flags|=1,r=ms(v,u),r.ref=s.ref,r.return=s,s.child=r}function fg(r,s,o,u,m){if(r!==null){var v=r.memoizedProps;if(Ia(v,u)&&r.ref===s.ref)if(br=!1,s.pendingProps=u=v,(r.lanes&m)!==0)(r.flags&131072)!==0&&(br=!0);else return s.lanes=r.lanes,Mn(r,s,m)}return _d(r,s,o,u,m)}function mg(r,s,o){var u=s.pendingProps,m=u.children,v=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Bi,Pr),Pr|=o;else{if((o&1073741824)===0)return r=v!==null?v.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,lt(Bi,Pr),Pr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:o,lt(Bi,Pr),Pr|=u}else v!==null?(u=v.baseLanes|o,s.memoizedState=null):u=o,lt(Bi,Pr),Pr|=u;return cr(r,s,m,o),s.child}function pg(r,s){var o=s.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function _d(r,s,o,u,m){var v=yr(o)?Ds:er.current;return v=Ti(s,v),Di(s,m),o=vd(r,s,o,u,v,m),u=xd(),r!==null&&!br?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Mn(r,s,m)):(ft&&u&&ed(s),s.flags|=1,cr(r,s,o,m),s.child)}function hg(r,s,o,u,m){if(yr(o)){var v=!0;pl(s)}else v=!1;if(Di(s,m),s.stateNode===null)Al(r,s),ng(s,o,u),Sd(s,o,u,m),u=!0;else if(r===null){var j=s.stateNode,T=s.memoizedProps;j.props=T;var D=j.context,Q=o.contextType;typeof Q=="object"&&Q!==null?Q=Fr(Q):(Q=yr(o)?Ds:er.current,Q=Ti(s,Q));var se=o.getDerivedStateFromProps,oe=typeof se=="function"||typeof j.getSnapshotBeforeUpdate=="function";oe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==u||D!==Q)&&sg(s,j,u,Q),as=!1;var ne=s.memoizedState;j.state=ne,Nl(s,u,j,m),D=s.memoizedState,T!==u||ne!==D||xr.current||as?(typeof se=="function"&&(Nd(s,o,se,u),D=s.memoizedState),(T=as||rg(s,o,T,u,ne,D,Q))?(oe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=D),j.props=u,j.state=D,j.context=Q,u=T):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{j=s.stateNode,Rh(r,s),T=s.memoizedProps,Q=s.type===s.elementType?T:Kr(s.type,T),j.props=Q,oe=s.pendingProps,ne=j.context,D=o.contextType,typeof D=="object"&&D!==null?D=Fr(D):(D=yr(o)?Ds:er.current,D=Ti(s,D));var be=o.getDerivedStateFromProps;(se=typeof be=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==oe||ne!==D)&&sg(s,j,u,D),as=!1,ne=s.memoizedState,j.state=ne,Nl(s,u,j,m);var Ce=s.memoizedState;T!==oe||ne!==Ce||xr.current||as?(typeof be=="function"&&(Nd(s,o,be,u),Ce=s.memoizedState),(Q=as||rg(s,o,Q,u,ne,Ce,D)||!1)?(se||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(u,Ce,D),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(u,Ce,D)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ce),j.props=u,j.state=Ce,j.context=D,u=Q):(typeof j.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),u=!1)}return Ed(r,s,o,u,v,m)}function Ed(r,s,o,u,m,v){pg(r,s);var j=(s.flags&128)!==0;if(!u&&!j)return m&&bh(s,o,!1),Mn(r,s,v);u=s.stateNode,jS.current=s;var T=j&&typeof o.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&j?(s.child=Ii(s,r.child,null,v),s.child=Ii(s,null,T,v)):cr(r,s,T,v),s.memoizedState=u.state,m&&bh(s,o,!0),s.child}function gg(r){var s=r.stateNode;s.pendingContext?xh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xh(r,s.context,!1),dd(r,s.containerInfo)}function vg(r,s,o,u,m){return Ai(),sd(m),s.flags|=256,cr(r,s,o,u),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Pd(r){return{baseLanes:r,cachePool:null,transitions:null}}function xg(r,s,o){var u=s.pendingProps,m=mt.current,v=!1,j=(s.flags&128)!==0,T;if((T=j)||(T=r!==null&&r.memoizedState===null?!1:(m&2)!==0),T?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),lt(mt,m&1),r===null)return nd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=u.children,r=u.fallback,v?(u=s.mode,v=s.child,j={mode:"hidden",children:j},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=j):v=ql(j,u,0,null),r=Ws(r,u,o,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Pd(o),s.memoizedState=Td,r):Rd(s,j));if(m=r.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return NS(r,s,j,u,T,m,o);if(v){v=u.fallback,j=s.mode,m=r.child,T=m.sibling;var D={mode:"hidden",children:u.children};return(j&1)===0&&s.child!==m?(u=s.child,u.childLanes=0,u.pendingProps=D,s.deletions=null):(u=ms(m,D),u.subtreeFlags=m.subtreeFlags&14680064),T!==null?v=ms(T,v):(v=Ws(v,j,o,null),v.flags|=2),v.return=s,u.return=s,u.sibling=v,s.child=u,u=v,v=s.child,j=r.child.memoizedState,j=j===null?Pd(o):{baseLanes:j.baseLanes|o,cachePool:null,transitions:j.transitions},v.memoizedState=j,v.childLanes=r.childLanes&~o,s.memoizedState=Td,u}return v=r.child,r=v.sibling,u=ms(v,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=o),u.return=s,u.sibling=null,r!==null&&(o=s.deletions,o===null?(s.deletions=[r],s.flags|=16):o.push(r)),s.child=u,s.memoizedState=null,u}function Rd(r,s){return s=ql({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Rl(r,s,o,u){return u!==null&&sd(u),Ii(s,r.child,null,o),r=Rd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function NS(r,s,o,u,m,v,j){if(o)return s.flags&256?(s.flags&=-257,u=Cd(Error(n(422))),Rl(r,s,j,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=u.fallback,m=s.mode,u=ql({mode:"visible",children:u.children},m,0,null),v=Ws(v,m,j,null),v.flags|=2,u.return=s,v.return=s,u.sibling=v,s.child=u,(s.mode&1)!==0&&Ii(s,r.child,null,j),s.child.memoizedState=Pd(j),s.memoizedState=Td,v);if((s.mode&1)===0)return Rl(r,s,j,null);if(m.data==="$!"){if(u=m.nextSibling&&m.nextSibling.dataset,u)var T=u.dgst;return u=T,v=Error(n(419)),u=Cd(v,u,void 0),Rl(r,s,j,u)}if(T=(j&r.childLanes)!==0,br||T){if(u=$t,u!==null){switch(j&-j){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(u.suspendedLanes|j))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,On(r,m),Zr(u,r,m,-1))}return Kd(),u=Cd(Error(n(421))),Rl(r,s,j,u)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=MS.bind(null,r),m._reactRetry=s,null):(r=v.treeContext,Tr=rs(m.nextSibling),Er=s,ft=!0,Qr=null,r!==null&&(Dr[Mr++]=An,Dr[Mr++]=In,Dr[Mr++]=Ms,An=r.id,In=r.overflow,Ms=s),s=Rd(s,u.children),s.flags|=4096,s)}function yg(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),ld(r.return,s,o)}function Ad(r,s,o,u,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=m)}function bg(r,s,o){var u=s.pendingProps,m=u.revealOrder,v=u.tail;if(cr(r,s,u.children,o),u=mt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yg(r,o,s);else if(r.tag===19)yg(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(lt(mt,u),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Sl(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Ad(s,!1,m,o,v);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Sl(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Ad(s,!0,o,null,v);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Al(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mn(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Vs|=s.lanes,(o&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,o=ms(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ms(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function SS(r,s,o){switch(s.tag){case 3:gg(s),Ai();break;case 5:Oh(s);break;case 1:yr(s.type)&&pl(s);break;case 4:dd(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,m=s.memoizedProps.value;lt(bl,u._currentValue),u._currentValue=m;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(lt(mt,mt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?xg(r,s,o):(lt(mt,mt.current&1),r=Mn(r,s,o),r!==null?r.sibling:null);lt(mt,mt.current&1);break;case 19:if(u=(o&s.childLanes)!==0,(r.flags&128)!==0){if(u)return bg(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(mt,mt.current),u)break;return null;case 22:case 23:return s.lanes=0,mg(r,s,o)}return Mn(r,s,o)}var wg,Id,jg,Ng;wg=function(r,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Id=function(){},jg=function(r,s,o,u){var m=r.memoizedProps;if(m!==u){r=s.stateNode,Bs(hn.current);var v=null;switch(o){case"input":m=gr(r,m),u=gr(r,u),v=[];break;case"select":m=J({},m,{value:void 0}),u=J({},u,{value:void 0}),v=[];break;case"textarea":m=Y(r,m),u=Y(r,u),v=[];break;default:typeof m.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=dl)}gi(o,u);var j;o=null;for(Q in m)if(!u.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var T=m[Q];for(j in T)T.hasOwnProperty(j)&&(o||(o={}),o[j]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(l.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in u){var D=u[Q];if(T=m?.[Q],u.hasOwnProperty(Q)&&D!==T&&(D!=null||T!=null))if(Q==="style")if(T){for(j in T)!T.hasOwnProperty(j)||D&&D.hasOwnProperty(j)||(o||(o={}),o[j]="");for(j in D)D.hasOwnProperty(j)&&T[j]!==D[j]&&(o||(o={}),o[j]=D[j])}else o||(v||(v=[]),v.push(Q,o)),o=D;else Q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,T=T?T.__html:void 0,D!=null&&T!==D&&(v=v||[]).push(Q,D)):Q==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(Q,""+D):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(l.hasOwnProperty(Q)?(D!=null&&Q==="onScroll"&&ct("scroll",r),v||T===D||(v=[])):(v=v||[]).push(Q,D))}o&&(v=v||[]).push("style",o);var Q=v;(s.updateQueue=Q)&&(s.flags|=4)}},Ng=function(r,s,o,u){o!==u&&(s.flags|=4)};function Ha(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function rr(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&14680064,u|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function CS(r,s,o){var u=s.pendingProps;switch(td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(s),null;case 1:return yr(s.type)&&ml(),rr(s),null;case 3:return u=s.stateNode,Mi(),ut(xr),ut(er),pd(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(xl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qr!==null&&(qd(Qr),Qr=null))),Id(r,s),rr(s),null;case 5:fd(s);var m=Bs(Ua.current);if(o=s.type,r!==null&&s.stateNode!=null)jg(r,s,o,u,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return rr(s),null}if(r=Bs(hn.current),xl(s)){u=s.stateNode,o=s.type;var v=s.memoizedProps;switch(u[pn]=s,u[La]=v,r=(s.mode&1)!==0,o){case"dialog":ct("cancel",u),ct("close",u);break;case"iframe":case"object":case"embed":ct("load",u);break;case"video":case"audio":for(m=0;m<Da.length;m++)ct(Da[m],u);break;case"source":ct("error",u);break;case"img":case"image":case"link":ct("error",u),ct("load",u);break;case"details":ct("toggle",u);break;case"input":En(u,v),ct("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},ct("invalid",u);break;case"textarea":ye(u,v),ct("invalid",u)}gi(o,v),m=null;for(var j in v)if(v.hasOwnProperty(j)){var T=v[j];j==="children"?typeof T=="string"?u.textContent!==T&&(v.suppressHydrationWarning!==!0&&ul(u.textContent,T,r),m=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&ul(u.textContent,T,r),m=["children",""+T]):l.hasOwnProperty(j)&&T!=null&&j==="onScroll"&&ct("scroll",u)}switch(o){case"input":nt(u),mu(u,v,!0);break;case"textarea":nt(u),pe(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=dl)}u=m,s.updateQueue=u,u!==null&&(s.flags|=4)}else{j=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Re(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=j.createElement(o,{is:u.is}):(r=j.createElement(o),o==="select"&&(j=r,u.multiple?j.multiple=!0:u.size&&(j.size=u.size))):r=j.createElementNS(r,o),r[pn]=s,r[La]=u,wg(r,s,!1,!1),s.stateNode=r;e:{switch(j=va(o,u),o){case"dialog":ct("cancel",r),ct("close",r),m=u;break;case"iframe":case"object":case"embed":ct("load",r),m=u;break;case"video":case"audio":for(m=0;m<Da.length;m++)ct(Da[m],r);m=u;break;case"source":ct("error",r),m=u;break;case"img":case"image":case"link":ct("error",r),ct("load",r),m=u;break;case"details":ct("toggle",r),m=u;break;case"input":En(r,u),m=gr(r,u),ct("invalid",r);break;case"option":m=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},m=J({},u,{value:void 0}),ct("invalid",r);break;case"textarea":ye(r,u),m=Y(r,u),ct("invalid",r);break;default:m=u}gi(o,m),T=m;for(v in T)if(T.hasOwnProperty(v)){var D=T[v];v==="style"?hi(r,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&lr(r,D)):v==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&fn(r,D):typeof D=="number"&&fn(r,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(l.hasOwnProperty(v)?D!=null&&v==="onScroll"&&ct("scroll",r):D!=null&&P(r,v,D,j))}switch(o){case"input":nt(r),mu(r,u,!1);break;case"textarea":nt(r),pe(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ce(u.value));break;case"select":r.multiple=!!u.multiple,v=u.value,v!=null?q(r,!!u.multiple,v,!1):u.defaultValue!=null&&q(r,!!u.multiple,u.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=dl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rr(s),null;case 6:if(r&&s.stateNode!=null)Ng(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(o=Bs(Ua.current),Bs(hn.current),xl(s)){if(u=s.stateNode,o=s.memoizedProps,u[pn]=s,(v=u.nodeValue!==o)&&(r=Er,r!==null))switch(r.tag){case 3:ul(u.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ul(u.nodeValue,o,(r.mode&1)!==0)}v&&(s.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[pn]=s,s.stateNode=u}return rr(s),null;case 13:if(ut(mt),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)kh(),Ai(),s.flags|=98560,v=!1;else if(v=xl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[pn]=s}else Ai(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rr(s),v=!1}else Qr!==null&&(qd(Qr),Qr=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(mt.current&1)!==0?Ft===0&&(Ft=3):Kd())),s.updateQueue!==null&&(s.flags|=4),rr(s),null);case 4:return Mi(),Id(r,s),r===null&&Ma(s.stateNode.containerInfo),rr(s),null;case 10:return od(s.type._context),rr(s),null;case 17:return yr(s.type)&&ml(),rr(s),null;case 19:if(ut(mt),v=s.memoizedState,v===null)return rr(s),null;if(u=(s.flags&128)!==0,j=v.rendering,j===null)if(u)Ha(v,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(j=Sl(r),j!==null){for(s.flags|=128,Ha(v,!1),u=j.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=o,o=s.child;o!==null;)v=o,r=u,v.flags&=14680066,j=v.alternate,j===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=j.childLanes,v.lanes=j.lanes,v.child=j.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=j.memoizedProps,v.memoizedState=j.memoizedState,v.updateQueue=j.updateQueue,v.type=j.type,r=j.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return lt(mt,mt.current&1|2),s.child}r=r.sibling}v.tail!==null&&St()>$i&&(s.flags|=128,u=!0,Ha(v,!1),s.lanes=4194304)}else{if(!u)if(r=Sl(j),r!==null){if(s.flags|=128,u=!0,o=r.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ha(v,!0),v.tail===null&&v.tailMode==="hidden"&&!j.alternate&&!ft)return rr(s),null}else 2*St()-v.renderingStartTime>$i&&o!==1073741824&&(s.flags|=128,u=!0,Ha(v,!1),s.lanes=4194304);v.isBackwards?(j.sibling=s.child,s.child=j):(o=v.last,o!==null?o.sibling=j:s.child=j,v.last=j)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=St(),s.sibling=null,o=mt.current,lt(mt,u?o&1|2:o&1),s):(rr(s),null);case 22:case 23:return Qd(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Pr&1073741824)!==0&&(rr(s),s.subtreeFlags&6&&(s.flags|=8192)):rr(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function kS(r,s){switch(td(s),s.tag){case 1:return yr(s.type)&&ml(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Mi(),ut(xr),ut(er),pd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return fd(s),null;case 13:if(ut(mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ai()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ut(mt),null;case 4:return Mi(),null;case 10:return od(s.type._context),null;case 22:case 23:return Qd(),null;case 24:return null;default:return null}}var Il=!1,nr=!1,_S=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Li(r,s){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){bt(r,s,u)}else o.current=null}function Od(r,s,o){try{o()}catch(u){bt(r,s,u)}}var Sg=!1;function ES(r,s){if(Qu=Jo,r=rh(),Lu(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var j=0,T=-1,D=-1,Q=0,se=0,oe=r,ne=null;t:for(;;){for(var be;oe!==o||m!==0&&oe.nodeType!==3||(T=j+m),oe!==v||u!==0&&oe.nodeType!==3||(D=j+u),oe.nodeType===3&&(j+=oe.nodeValue.length),(be=oe.firstChild)!==null;)ne=oe,oe=be;for(;;){if(oe===r)break t;if(ne===o&&++Q===m&&(T=j),ne===v&&++se===u&&(D=j),(be=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=be}o=T===-1||D===-1?null:{start:T,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ku={focusedElem:r,selectionRange:o},Jo=!1,Ne=s;Ne!==null;)if(s=Ne,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ne=r;else for(;Ne!==null;){s=Ne;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var _e=Ce.memoizedProps,Ct=Ce.memoizedState,z=s.stateNode,L=z.getSnapshotBeforeUpdate(s.elementType===s.type?_e:Kr(s.type,_e),Ct);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){bt(s,s.return,de)}if(r=s.sibling,r!==null){r.return=s.return,Ne=r;break}Ne=s.return}return Ce=Sg,Sg=!1,Ce}function Ga(r,s,o){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&r)===r){var v=m.destroy;m.destroy=void 0,v!==void 0&&Od(s,o,v)}m=m.next}while(m!==u)}}function Ol(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&r)===r){var u=o.create;o.destroy=u()}o=o.next}while(o!==s)}}function Dd(r){var s=r.ref;if(s!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof s=="function"?s(r):s.current=r}}function Cg(r){var s=r.alternate;s!==null&&(r.alternate=null,Cg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[pn],delete s[La],delete s[Yu],delete s[uS],delete s[dS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function kg(r){return r.tag===5||r.tag===3||r.tag===4}function _g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Md(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=dl));else if(u!==4&&(r=r.child,r!==null))for(Md(r,s,o),r=r.sibling;r!==null;)Md(r,s,o),r=r.sibling}function Fd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Fd(r,s,o),r=r.sibling;r!==null;)Fd(r,s,o),r=r.sibling}var Qt=null,Hr=!1;function ls(r,s,o){for(o=o.child;o!==null;)Eg(r,s,o),o=o.sibling}function Eg(r,s,o){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ko,o)}catch{}switch(o.tag){case 5:nr||Li(o,s);case 6:var u=Qt,m=Hr;Qt=null,ls(r,s,o),Qt=u,Hr=m,Qt!==null&&(Hr?(r=Qt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Qt.removeChild(o.stateNode));break;case 18:Qt!==null&&(Hr?(r=Qt,o=o.stateNode,r.nodeType===8?Zu(r.parentNode,o):r.nodeType===1&&Zu(r,o),_a(r)):Zu(Qt,o.stateNode));break;case 4:u=Qt,m=Hr,Qt=o.stateNode.containerInfo,Hr=!0,ls(r,s,o),Qt=u,Hr=m;break;case 0:case 11:case 14:case 15:if(!nr&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){m=u=u.next;do{var v=m,j=v.destroy;v=v.tag,j!==void 0&&((v&2)!==0||(v&4)!==0)&&Od(o,s,j),m=m.next}while(m!==u)}ls(r,s,o);break;case 1:if(!nr&&(Li(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){bt(o,s,T)}ls(r,s,o);break;case 21:ls(r,s,o);break;case 22:o.mode&1?(nr=(u=nr)||o.memoizedState!==null,ls(r,s,o),nr=u):ls(r,s,o);break;default:ls(r,s,o)}}function Tg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new _S),s.forEach(function(u){var m=FS.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}}function Gr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];try{var v=r,j=s,T=j;e:for(;T!==null;){switch(T.tag){case 5:Qt=T.stateNode,Hr=!1;break e;case 3:Qt=T.stateNode.containerInfo,Hr=!0;break e;case 4:Qt=T.stateNode.containerInfo,Hr=!0;break e}T=T.return}if(Qt===null)throw Error(n(160));Eg(v,j,m),Qt=null,Hr=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(Q){bt(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Pg(s,r),s=s.sibling}function Pg(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gr(s,r),vn(r),u&4){try{Ga(3,r,r.return),Ol(3,r)}catch(_e){bt(r,r.return,_e)}try{Ga(5,r,r.return)}catch(_e){bt(r,r.return,_e)}}break;case 1:Gr(s,r),vn(r),u&512&&o!==null&&Li(o,o.return);break;case 5:if(Gr(s,r),vn(r),u&512&&o!==null&&Li(o,o.return),r.flags&32){var m=r.stateNode;try{fn(m,"")}catch(_e){bt(r,r.return,_e)}}if(u&4&&(m=r.stateNode,m!=null)){var v=r.memoizedProps,j=o!==null?o.memoizedProps:v,T=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&Gn(m,v),va(T,j);var Q=va(T,v);for(j=0;j<D.length;j+=2){var se=D[j],oe=D[j+1];se==="style"?hi(m,oe):se==="dangerouslySetInnerHTML"?lr(m,oe):se==="children"?fn(m,oe):P(m,se,oe,Q)}switch(T){case"input":Tn(m,v);break;case"textarea":ve(m,v);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var be=v.value;be!=null?q(m,!!v.multiple,be,!1):ne!==!!v.multiple&&(v.defaultValue!=null?q(m,!!v.multiple,v.defaultValue,!0):q(m,!!v.multiple,v.multiple?[]:"",!1))}m[La]=v}catch(_e){bt(r,r.return,_e)}}break;case 6:if(Gr(s,r),vn(r),u&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,v=r.memoizedProps;try{m.nodeValue=v}catch(_e){bt(r,r.return,_e)}}break;case 3:if(Gr(s,r),vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_a(s.containerInfo)}catch(_e){bt(r,r.return,_e)}break;case 4:Gr(s,r),vn(r);break;case 13:Gr(s,r),vn(r),m=r.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($d=St())),u&4&&Tg(r);break;case 22:if(se=o!==null&&o.memoizedState!==null,r.mode&1?(nr=(Q=nr)||se,Gr(s,r),nr=Q):Gr(s,r),vn(r),u&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!se&&(r.mode&1)!==0)for(Ne=r,se=r.child;se!==null;){for(oe=Ne=se;Ne!==null;){switch(ne=Ne,be=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ga(4,ne,ne.return);break;case 1:Li(ne,ne.return);var Ce=ne.stateNode;if(typeof Ce.componentWillUnmount=="function"){u=ne,o=ne.return;try{s=u,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(_e){bt(u,o,_e)}}break;case 5:Li(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ig(oe);continue}}be!==null?(be.return=ne,Ne=be):Ig(oe)}se=se.sibling}e:for(se=null,oe=r;;){if(oe.tag===5){if(se===null){se=oe;try{m=oe.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=oe.stateNode,D=oe.memoizedProps.style,j=D!=null&&D.hasOwnProperty("display")?D.display:null,T.style.display=pi("display",j))}catch(_e){bt(r,r.return,_e)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(_e){bt(r,r.return,_e)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Gr(s,r),vn(r),u&4&&Tg(r);break;case 21:break;default:Gr(s,r),vn(r)}}function vn(r){var s=r.flags;if(s&2){try{e:{for(var o=r.return;o!==null;){if(kg(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var m=u.stateNode;u.flags&32&&(fn(m,""),u.flags&=-33);var v=_g(r);Fd(r,v,m);break;case 3:case 4:var j=u.stateNode.containerInfo,T=_g(r);Md(r,T,j);break;default:throw Error(n(161))}}catch(D){bt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function TS(r,s,o){Ne=r,Rg(r)}function Rg(r,s,o){for(var u=(r.mode&1)!==0;Ne!==null;){var m=Ne,v=m.child;if(m.tag===22&&u){var j=m.memoizedState!==null||Il;if(!j){var T=m.alternate,D=T!==null&&T.memoizedState!==null||nr;T=Il;var Q=nr;if(Il=j,(nr=D)&&!Q)for(Ne=m;Ne!==null;)j=Ne,D=j.child,j.tag===22&&j.memoizedState!==null?Og(m):D!==null?(D.return=j,Ne=D):Og(m);for(;v!==null;)Ne=v,Rg(v),v=v.sibling;Ne=m,Il=T,nr=Q}Ag(r)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Ne=v):Ag(r)}}function Ag(r){for(;Ne!==null;){var s=Ne;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:nr||Ol(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!nr)if(o===null)u.componentDidMount();else{var m=s.elementType===s.type?o.memoizedProps:Kr(s.type,o.memoizedProps);u.componentDidUpdate(m,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Ih(s,v,u);break;case 3:var j=s.updateQueue;if(j!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Ih(s,j,o)}break;case 5:var T=s.stateNode;if(o===null&&s.flags&4){o=T;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&_a(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nr||s.flags&512&&Dd(s)}catch(ne){bt(s,s.return,ne)}}if(s===r){Ne=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ne=o;break}Ne=s.return}}function Ig(r){for(;Ne!==null;){var s=Ne;if(s===r){Ne=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ne=o;break}Ne=s.return}}function Og(r){for(;Ne!==null;){var s=Ne;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ol(4,s)}catch(D){bt(s,o,D)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var m=s.return;try{u.componentDidMount()}catch(D){bt(s,m,D)}}var v=s.return;try{Dd(s)}catch(D){bt(s,v,D)}break;case 5:var j=s.return;try{Dd(s)}catch(D){bt(s,j,D)}}}catch(D){bt(s,s.return,D)}if(s===r){Ne=null;break}var T=s.sibling;if(T!==null){T.return=s.return,Ne=T;break}Ne=s.return}}var PS=Math.ceil,Dl=M.ReactCurrentDispatcher,Ld=M.ReactCurrentOwner,Br=M.ReactCurrentBatchConfig,Je=0,$t=null,Pt=null,Kt=0,Pr=0,Bi=ns(0),Ft=0,Za=null,Vs=0,Ml=0,Bd=0,Ya=null,wr=null,$d=0,$i=1/0,Fn=null,Fl=!1,Vd=null,cs=null,Ll=!1,us=null,Bl=0,Xa=0,zd=null,$l=-1,Vl=0;function ur(){return(Je&6)!==0?St():$l!==-1?$l:$l=St()}function ds(r){return(r.mode&1)===0?1:(Je&2)!==0&&Kt!==0?Kt&-Kt:mS.transition!==null?(Vl===0&&(Vl=_p()),Vl):(r=it,r!==0||(r=window.event,r=r===void 0?16:Mp(r.type)),r)}function Zr(r,s,o,u){if(50<Xa)throw Xa=0,zd=null,Error(n(185));ja(r,o,u),((Je&2)===0||r!==$t)&&(r===$t&&((Je&2)===0&&(Ml|=o),Ft===4&&fs(r,Kt)),jr(r,u),o===1&&Je===0&&(s.mode&1)===0&&($i=St()+500,hl&&is()))}function jr(r,s){var o=r.callbackNode;mN(r,s);var u=Zo(r,r===$t?Kt:0);if(u===0)o!==null&&Sp(o),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(o!=null&&Sp(o),s===1)r.tag===0?fS(Mg.bind(null,r)):wh(Mg.bind(null,r)),lS(function(){(Je&6)===0&&is()}),o=null;else{switch(Ep(u)){case 1:o=wu;break;case 4:o=Cp;break;case 16:o=Qo;break;case 536870912:o=kp;break;default:o=Qo}o=qg(o,Dg.bind(null,r))}r.callbackPriority=s,r.callbackNode=o}}function Dg(r,s){if($l=-1,Vl=0,(Je&6)!==0)throw Error(n(327));var o=r.callbackNode;if(Vi()&&r.callbackNode!==o)return null;var u=Zo(r,r===$t?Kt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=zl(r,u);else{s=u;var m=Je;Je|=2;var v=Lg();($t!==r||Kt!==s)&&(Fn=null,$i=St()+500,Us(r,s));do try{IS();break}catch(T){Fg(r,T)}while(!0);ad(),Dl.current=v,Je=m,Pt!==null?s=0:($t=null,Kt=0,s=Ft)}if(s!==0){if(s===2&&(m=ju(r),m!==0&&(u=m,s=Ud(r,m))),s===1)throw o=Za,Us(r,0),fs(r,u),jr(r,St()),o;if(s===6)fs(r,u);else{if(m=r.current.alternate,(u&30)===0&&!RS(m)&&(s=zl(r,u),s===2&&(v=ju(r),v!==0&&(u=v,s=Ud(r,v))),s===1))throw o=Za,Us(r,0),fs(r,u),jr(r,St()),o;switch(r.finishedWork=m,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:qs(r,wr,Fn);break;case 3:if(fs(r,u),(u&130023424)===u&&(s=$d+500-St(),10<s)){if(Zo(r,0)!==0)break;if(m=r.suspendedLanes,(m&u)!==u){ur(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=Gu(qs.bind(null,r,wr,Fn),s);break}qs(r,wr,Fn);break;case 4:if(fs(r,u),(u&4194240)===u)break;for(s=r.eventTimes,m=-1;0<u;){var j=31-qr(u);v=1<<j,j=s[j],j>m&&(m=j),u&=~v}if(u=m,u=St()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*PS(u/1960))-u,10<u){r.timeoutHandle=Gu(qs.bind(null,r,wr,Fn),u);break}qs(r,wr,Fn);break;case 5:qs(r,wr,Fn);break;default:throw Error(n(329))}}}return jr(r,St()),r.callbackNode===o?Dg.bind(null,r):null}function Ud(r,s){var o=Ya;return r.current.memoizedState.isDehydrated&&(Us(r,s).flags|=256),r=zl(r,s),r!==2&&(s=wr,wr=o,s!==null&&qd(s)),r}function qd(r){wr===null?wr=r:wr.push.apply(wr,r)}function RS(r){for(var s=r;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var m=o[u],v=m.getSnapshot;m=m.value;try{if(!Wr(v(),m))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(r,s){for(s&=~Bd,s&=~Ml,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var o=31-qr(s),u=1<<o;r[o]=-1,s&=~u}}function Mg(r){if((Je&6)!==0)throw Error(n(327));Vi();var s=Zo(r,0);if((s&1)===0)return jr(r,St()),null;var o=zl(r,s);if(r.tag!==0&&o===2){var u=ju(r);u!==0&&(s=u,o=Ud(r,u))}if(o===1)throw o=Za,Us(r,0),fs(r,s),jr(r,St()),o;if(o===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,qs(r,wr,Fn),jr(r,St()),null}function Wd(r,s){var o=Je;Je|=1;try{return r(s)}finally{Je=o,Je===0&&($i=St()+500,hl&&is())}}function zs(r){us!==null&&us.tag===0&&(Je&6)===0&&Vi();var s=Je;Je|=1;var o=Br.transition,u=it;try{if(Br.transition=null,it=1,r)return r()}finally{it=u,Br.transition=o,Je=s,(Je&6)===0&&is()}}function Qd(){Pr=Bi.current,ut(Bi)}function Us(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,oS(o)),Pt!==null)for(o=Pt.return;o!==null;){var u=o;switch(td(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ml();break;case 3:Mi(),ut(xr),ut(er),pd();break;case 5:fd(u);break;case 4:Mi();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:od(u.type._context);break;case 22:case 23:Qd()}o=o.return}if($t=r,Pt=r=ms(r.current,null),Kt=Pr=s,Ft=0,Za=null,Bd=Ml=Vs=0,wr=Ya=null,Ls!==null){for(s=0;s<Ls.length;s++)if(o=Ls[s],u=o.interleaved,u!==null){o.interleaved=null;var m=u.next,v=o.pending;if(v!==null){var j=v.next;v.next=m,u.next=j}o.pending=u}Ls=null}return r}function Fg(r,s){do{var o=Pt;try{if(ad(),Cl.current=Tl,kl){for(var u=pt.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}kl=!1}if($s=0,Bt=Mt=pt=null,qa=!1,Wa=0,Ld.current=null,o===null||o.return===null){Ft=1,Za=s,Pt=null;break}e:{var v=r,j=o.return,T=o,D=s;if(s=Kt,T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=D,se=T,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var be=lg(j);if(be!==null){be.flags&=-257,cg(be,j,T,v,s),be.mode&1&&og(v,Q,s),s=be,D=Q;var Ce=s.updateQueue;if(Ce===null){var _e=new Set;_e.add(D),s.updateQueue=_e}else Ce.add(D);break e}else{if((s&1)===0){og(v,Q,s),Kd();break e}D=Error(n(426))}}else if(ft&&T.mode&1){var Ct=lg(j);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),cg(Ct,j,T,v,s),sd(Fi(D,T));break e}}v=D=Fi(D,T),Ft!==4&&(Ft=2),Ya===null?Ya=[v]:Ya.push(v),v=j;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var z=ig(v,D,s);Ah(v,z);break e;case 1:T=D;var L=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(cs===null||!cs.has(W)))){v.flags|=65536,s&=-s,v.lanes|=s;var de=ag(v,T,s);Ah(v,de);break e}}v=v.return}while(v!==null)}$g(o)}catch(Te){s=Te,Pt===o&&o!==null&&(Pt=o=o.return);continue}break}while(!0)}function Lg(){var r=Dl.current;return Dl.current=Tl,r===null?Tl:r}function Kd(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),$t===null||(Vs&268435455)===0&&(Ml&268435455)===0||fs($t,Kt)}function zl(r,s){var o=Je;Je|=2;var u=Lg();($t!==r||Kt!==s)&&(Fn=null,Us(r,s));do try{AS();break}catch(m){Fg(r,m)}while(!0);if(ad(),Je=o,Dl.current=u,Pt!==null)throw Error(n(261));return $t=null,Kt=0,Ft}function AS(){for(;Pt!==null;)Bg(Pt)}function IS(){for(;Pt!==null&&!sN();)Bg(Pt)}function Bg(r){var s=Ug(r.alternate,r,Pr);r.memoizedProps=r.pendingProps,s===null?$g(r):Pt=s,Ld.current=null}function $g(r){var s=r;do{var o=s.alternate;if(r=s.return,(s.flags&32768)===0){if(o=CS(o,s,Pr),o!==null){Pt=o;return}}else{if(o=kS(o,s),o!==null){o.flags&=32767,Pt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,Pt=null;return}}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=r}while(s!==null);Ft===0&&(Ft=5)}function qs(r,s,o){var u=it,m=Br.transition;try{Br.transition=null,it=1,OS(r,s,o,u)}finally{Br.transition=m,it=u}return null}function OS(r,s,o,u){do Vi();while(us!==null);if((Je&6)!==0)throw Error(n(327));o=r.finishedWork;var m=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=o.lanes|o.childLanes;if(pN(r,v),r===$t&&(Pt=$t=null,Kt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ll||(Ll=!0,qg(Qo,function(){return Vi(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Br.transition,Br.transition=null;var j=it;it=1;var T=Je;Je|=4,Ld.current=null,ES(r,o),Pg(o,r),eS(Ku),Jo=!!Qu,Ku=Qu=null,r.current=o,TS(o),iN(),Je=T,it=j,Br.transition=v}else r.current=o;if(Ll&&(Ll=!1,us=r,Bl=m),v=r.pendingLanes,v===0&&(cs=null),lN(o.stateNode),jr(r,St()),s!==null)for(u=r.onRecoverableError,o=0;o<s.length;o++)m=s[o],u(m.value,{componentStack:m.stack,digest:m.digest});if(Fl)throw Fl=!1,r=Vd,Vd=null,r;return(Bl&1)!==0&&r.tag!==0&&Vi(),v=r.pendingLanes,(v&1)!==0?r===zd?Xa++:(Xa=0,zd=r):Xa=0,is(),null}function Vi(){if(us!==null){var r=Ep(Bl),s=Br.transition,o=it;try{if(Br.transition=null,it=16>r?16:r,us===null)var u=!1;else{if(r=us,us=null,Bl=0,(Je&6)!==0)throw Error(n(331));var m=Je;for(Je|=4,Ne=r.current;Ne!==null;){var v=Ne,j=v.child;if((Ne.flags&16)!==0){var T=v.deletions;if(T!==null){for(var D=0;D<T.length;D++){var Q=T[D];for(Ne=Q;Ne!==null;){var se=Ne;switch(se.tag){case 0:case 11:case 15:Ga(8,se,v)}var oe=se.child;if(oe!==null)oe.return=se,Ne=oe;else for(;Ne!==null;){se=Ne;var ne=se.sibling,be=se.return;if(Cg(se),se===Q){Ne=null;break}if(ne!==null){ne.return=be,Ne=ne;break}Ne=be}}}var Ce=v.alternate;if(Ce!==null){var _e=Ce.child;if(_e!==null){Ce.child=null;do{var Ct=_e.sibling;_e.sibling=null,_e=Ct}while(_e!==null)}}Ne=v}}if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,Ne=j;else e:for(;Ne!==null;){if(v=Ne,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ga(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,Ne=z;break e}Ne=v.return}}var L=r.current;for(Ne=L;Ne!==null;){j=Ne;var W=j.child;if((j.subtreeFlags&2064)!==0&&W!==null)W.return=j,Ne=W;else e:for(j=L;Ne!==null;){if(T=Ne,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ol(9,T)}}catch(Te){bt(T,T.return,Te)}if(T===j){Ne=null;break e}var de=T.sibling;if(de!==null){de.return=T.return,Ne=de;break e}Ne=T.return}}if(Je=m,is(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ko,r)}catch{}u=!0}return u}finally{it=o,Br.transition=s}}return!1}function Vg(r,s,o){s=Fi(o,s),s=ig(r,s,1),r=os(r,s,1),s=ur(),r!==null&&(ja(r,1,s),jr(r,s))}function bt(r,s,o){if(r.tag===3)Vg(r,r,o);else for(;s!==null;){if(s.tag===3){Vg(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){r=Fi(o,r),r=ag(s,r,1),s=os(s,r,1),r=ur(),s!==null&&(ja(s,1,r),jr(s,r));break}}s=s.return}}function DS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),s=ur(),r.pingedLanes|=r.suspendedLanes&o,$t===r&&(Kt&o)===o&&(Ft===4||Ft===3&&(Kt&130023424)===Kt&&500>St()-$d?Us(r,0):Bd|=o),jr(r,s)}function zg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var o=ur();r=On(r,s),r!==null&&(ja(r,s,o),jr(r,o))}function MS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zg(r,o)}function FS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),zg(r,o)}var Ug;Ug=function(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps||xr.current)br=!0;else{if((r.lanes&o)===0&&(s.flags&128)===0)return br=!1,SS(r,s,o);br=(r.flags&131072)!==0}else br=!1,ft&&(s.flags&1048576)!==0&&jh(s,vl,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Al(r,s),r=s.pendingProps;var m=Ti(s,er.current);Di(s,o),m=vd(null,s,u,r,m,o);var v=xd();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yr(u)?(v=!0,pl(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ud(s),m.updater=Pl,s.stateNode=m,m._reactInternals=s,Sd(s,u,r,o),s=Ed(null,s,u,!0,v,o)):(s.tag=0,ft&&v&&ed(s),cr(null,s,m,o),s=s.child),s;case 16:u=s.elementType;e:{switch(Al(r,s),r=s.pendingProps,m=u._init,u=m(u._payload),s.type=u,m=s.tag=BS(u),r=Kr(u,r),m){case 0:s=_d(null,s,u,r,o);break e;case 1:s=hg(null,s,u,r,o);break e;case 11:s=ug(null,s,u,r,o);break e;case 14:s=dg(null,s,u,Kr(u.type,r),o);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:Kr(u,m),_d(r,s,u,m,o);case 1:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:Kr(u,m),hg(r,s,u,m,o);case 3:e:{if(gg(s),r===null)throw Error(n(387));u=s.pendingProps,v=s.memoizedState,m=v.element,Rh(r,s),Nl(s,u,null,o);var j=s.memoizedState;if(u=j.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=Fi(Error(n(423)),s),s=vg(r,s,u,o,m);break e}else if(u!==m){m=Fi(Error(n(424)),s),s=vg(r,s,u,o,m);break e}else for(Tr=rs(s.stateNode.containerInfo.firstChild),Er=s,ft=!0,Qr=null,o=Th(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ai(),u===m){s=Mn(r,s,o);break e}cr(r,s,u,o)}s=s.child}return s;case 5:return Oh(s),r===null&&nd(s),u=s.type,m=s.pendingProps,v=r!==null?r.memoizedProps:null,j=m.children,Hu(u,m)?j=null:v!==null&&Hu(u,v)&&(s.flags|=32),pg(r,s),cr(r,s,j,o),s.child;case 6:return r===null&&nd(s),null;case 13:return xg(r,s,o);case 4:return dd(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ii(s,null,u,o):cr(r,s,u,o),s.child;case 11:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:Kr(u,m),ug(r,s,u,m,o);case 7:return cr(r,s,s.pendingProps,o),s.child;case 8:return cr(r,s,s.pendingProps.children,o),s.child;case 12:return cr(r,s,s.pendingProps.children,o),s.child;case 10:e:{if(u=s.type._context,m=s.pendingProps,v=s.memoizedProps,j=m.value,lt(bl,u._currentValue),u._currentValue=j,v!==null)if(Wr(v.value,j)){if(v.children===m.children&&!xr.current){s=Mn(r,s,o);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var T=v.dependencies;if(T!==null){j=v.child;for(var D=T.firstContext;D!==null;){if(D.context===u){if(v.tag===1){D=Dn(-1,o&-o),D.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?D.next=D:(D.next=se.next,se.next=D),Q.pending=D}}v.lanes|=o,D=v.alternate,D!==null&&(D.lanes|=o),ld(v.return,o,s),T.lanes|=o;break}D=D.next}}else if(v.tag===10)j=v.type===s.type?null:v.child;else if(v.tag===18){if(j=v.return,j===null)throw Error(n(341));j.lanes|=o,T=j.alternate,T!==null&&(T.lanes|=o),ld(j,o,s),j=v.sibling}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===s){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}cr(r,s,m.children,o),s=s.child}return s;case 9:return m=s.type,u=s.pendingProps.children,Di(s,o),m=Fr(m),u=u(m),s.flags|=1,cr(r,s,u,o),s.child;case 14:return u=s.type,m=Kr(u,s.pendingProps),m=Kr(u.type,m),dg(r,s,u,m,o);case 15:return fg(r,s,s.type,s.pendingProps,o);case 17:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:Kr(u,m),Al(r,s),s.tag=1,yr(u)?(r=!0,pl(s)):r=!1,Di(s,o),ng(s,u,m),Sd(s,u,m,o),Ed(null,s,u,!0,r,o);case 19:return bg(r,s,o);case 22:return mg(r,s,o)}throw Error(n(156,s.tag))};function qg(r,s){return Np(r,s)}function LS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(r,s,o,u){return new LS(r,s,o,u)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BS(r){if(typeof r=="function")return Hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===he)return 14}return 2}function ms(r,s){var o=r.alternate;return o===null?(o=$r(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Ul(r,s,o,u,m,v){var j=2;if(u=r,typeof r=="function")Hd(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case U:return Ws(o.children,m,v,s);case re:j=8,m|=8;break;case ge:return r=$r(12,o,s,m|2),r.elementType=ge,r.lanes=v,r;case ue:return r=$r(13,o,s,m),r.elementType=ue,r.lanes=v,r;case G:return r=$r(19,o,s,m),r.elementType=G,r.lanes=v,r;case k:return ql(o,m,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case fe:j=10;break e;case me:j=9;break e;case ee:j=11;break e;case he:j=14;break e;case K:j=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=$r(j,o,s,m),s.elementType=r,s.type=u,s.lanes=v,s}function Ws(r,s,o,u){return r=$r(7,r,u,s),r.lanes=o,r}function ql(r,s,o,u){return r=$r(22,r,u,s),r.elementType=k,r.lanes=o,r.stateNode={isHidden:!1},r}function Gd(r,s,o){return r=$r(6,r,null,s),r.lanes=o,r}function Zd(r,s,o){return s=$r(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $S(r,s,o,u,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=u,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yd(r,s,o,u,m,v,j,T,D){return r=new $S(r,s,o,T,D),s===1?(s=1,v===!0&&(s|=8)):s=0,v=$r(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(v),r}function VS(r,s,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:u==null?null:""+u,children:r,containerInfo:s,implementation:o}}function Wg(r){if(!r)return ss;r=r._reactInternals;e:{if(Is(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var o=r.type;if(yr(o))return yh(r,o,s)}return s}function Qg(r,s,o,u,m,v,j,T,D){return r=Yd(o,u,!0,r,m,v,j,T,D),r.context=Wg(null),o=r.current,u=ur(),m=ds(o),v=Dn(u,m),v.callback=s??null,os(o,v,m),r.current.lanes=m,ja(r,m,u),jr(r,u),r}function Wl(r,s,o,u){var m=s.current,v=ur(),j=ds(m);return o=Wg(o),s.context===null?s.context=o:s.pendingContext=o,s=Dn(v,j),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=os(m,s,j),r!==null&&(Zr(r,m,j,v),jl(r,m,j)),j}function Ql(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Kg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Xd(r,s){Kg(r,s),(r=r.alternate)&&Kg(r,s)}function zS(){return null}var Hg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Jd(r){this._internalRoot=r}Kl.prototype.render=Jd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Wl(r,s,null,null)},Kl.prototype.unmount=Jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;zs(function(){Wl(null,r,null,null)}),s[Pn]=null}};function Kl(r){this._internalRoot=r}Kl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Rp();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Jn.length&&s!==0&&s<Jn[o].priority;o++);Jn.splice(o,0,r),o===0&&Op(r)}};function ef(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Hl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gg(){}function US(r,s,o,u,m){if(m){if(typeof u=="function"){var v=u;u=function(){var Q=Ql(j);v.call(Q)}}var j=Qg(s,u,r,0,null,!1,!1,"",Gg);return r._reactRootContainer=j,r[Pn]=j.current,Ma(r.nodeType===8?r.parentNode:r),zs(),j}for(;m=r.lastChild;)r.removeChild(m);if(typeof u=="function"){var T=u;u=function(){var Q=Ql(D);T.call(Q)}}var D=Yd(r,0,!1,null,null,!1,!1,"",Gg);return r._reactRootContainer=D,r[Pn]=D.current,Ma(r.nodeType===8?r.parentNode:r),zs(function(){Wl(s,D,o,u)}),D}function Gl(r,s,o,u,m){var v=o._reactRootContainer;if(v){var j=v;if(typeof m=="function"){var T=m;m=function(){var D=Ql(j);T.call(D)}}Wl(s,j,r,m)}else j=US(o,s,r,m,u);return Ql(j)}Tp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var o=wa(s.pendingLanes);o!==0&&(Su(s,o|1),jr(s,St()),(Je&6)===0&&($i=St()+500,is()))}break;case 13:zs(function(){var u=On(r,1);if(u!==null){var m=ur();Zr(u,r,1,m)}}),Xd(r,1)}},Cu=function(r){if(r.tag===13){var s=On(r,134217728);if(s!==null){var o=ur();Zr(s,r,134217728,o)}Xd(r,134217728)}},Pp=function(r){if(r.tag===13){var s=ds(r),o=On(r,s);if(o!==null){var u=ur();Zr(o,r,s,u)}Xd(r,s)}},Rp=function(){return it},Ap=function(r,s){var o=it;try{return it=r,s()}finally{it=o}},vu=function(r,s,o){switch(s){case"input":if(Tn(r,o),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var m=fl(u);if(!m)throw Error(n(90));ot(u),Tn(u,m)}}}break;case"textarea":ve(r,o);break;case"select":s=o.value,s!=null&&q(r,!!o.multiple,s,!1)}},gp=Wd,vp=zs;var qS={usingClientEntryPoint:!1,Events:[Ba,_i,fl,pp,hp,Wd]},Ja={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WS={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=wp(r),r===null?null:r.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||zS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Ko=Zl.inject(WS),mn=Zl}catch{}}return Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qS,Nr.createPortal=function(r,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(s))throw Error(n(200));return VS(r,s,null,o)},Nr.createRoot=function(r,s){if(!ef(r))throw Error(n(299));var o=!1,u="",m=Hg;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Yd(r,1,!1,null,null,o,!1,u,m),r[Pn]=s.current,Ma(r.nodeType===8?r.parentNode:r),new Jd(s)},Nr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=wp(s),r=r===null?null:r.stateNode,r},Nr.flushSync=function(r){return zs(r)},Nr.hydrate=function(r,s,o){if(!Hl(s))throw Error(n(200));return Gl(null,r,s,!0,o)},Nr.hydrateRoot=function(r,s,o){if(!ef(r))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,m=!1,v="",j=Hg;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),s=Qg(s,null,r,1,o??null,m,!1,v,j),r[Pn]=s.current,Ma(r),u)for(r=0;r<u.length;r++)o=u[r],m=o._getVersion,m=m(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,m]:s.mutableSourceEagerHydrationData.push(o,m);return new Kl(s)},Nr.render=function(r,s,o){if(!Hl(s))throw Error(n(200));return Gl(null,r,s,!1,o)},Nr.unmountComponentAtNode=function(r){if(!Hl(r))throw Error(n(40));return r._reactRootContainer?(zs(function(){Gl(null,null,r,!1,function(){r._reactRootContainer=null,r[Pn]=null})}),!0):!1},Nr.unstable_batchedUpdates=Wd,Nr.unstable_renderSubtreeIntoContainer=function(r,s,o,u){if(!Hl(o))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Gl(r,s,o,!1,u)},Nr.version="18.3.1-next-f1338f8080-20240426",Nr}var nv;function Px(){if(nv)return nf.exports;nv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nf.exports=JS(),nf.exports}var sv;function eC(){if(sv)return Yl;sv=1;var e=Px();return Yl.createRoot=e.createRoot,Yl.hydrateRoot=e.hydrateRoot,Yl}var tC=eC();function rC(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,a,l,c,d=[],f="",p=e.split("/");for(p[0]||p.shift();l=p.shift();)n=l[0],n==="*"?(d.push(n),f+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=l.indexOf("?",1),c=l.indexOf(".",1),d.push(l.substring(1,~a?a:~c?c:l.length)),f+=~a&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~a?"?":"")+"\\"+l.substring(c))):f+="/"+l;return{keys:d,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var g=Oc();const kt=Tx(g),dm=KS({__proto__:null,default:kt},[g]);var of={exports:{}},lf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function nC(){if(iv)return lf;iv=1;var e=Oc();function t(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(y,w){var S=w(),_=a({inst:{value:S,getSnapshot:w}}),N=_[0].inst,b=_[1];return c(function(){N.value=S,N.getSnapshot=w,p(N)&&b({inst:N})},[y,S,w]),l(function(){return p(N)&&b({inst:N}),y(function(){p(N)&&b({inst:N})})},[y]),d(S),S}function p(y){var w=y.getSnapshot;y=y.value;try{var S=w();return!n(y,S)}catch{return!0}}function h(y,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return lf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,lf}var av;function sC(){return av||(av=1,of.exports=nC()),of.exports}var iC=sC();const aC=dm.useInsertionEffect,oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=oC?g.useLayoutEffect:g.useEffect,cC=aC||lC,Rx=e=>{const t=g.useRef([e,(...n)=>t[0](...n)]).current;return cC(()=>{t[0]=e}),t[1]},uC="popstate",fm="pushState",mm="replaceState",dC="hashchange",ov=[uC,fm,mm,dC],fC=e=>{for(const t of ov)addEventListener(t,e);return()=>{for(const t of ov)removeEventListener(t,e)}},Ax=(e,t)=>iC.useSyncExternalStore(fC,e,t),mC=()=>location.search,pC=({ssrSearch:e=""}={})=>Ax(mC,()=>e),lv=()=>location.pathname,hC=({ssrPath:e}={})=>Ax(lv,e?()=>e:lv),gC=(e,{replace:t=!1,state:n=null}={})=>history[t?mm:fm](n,"",e),vC=(e={})=>[hC(e),gC],cv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cv]>"u"){for(const e of[fm,mm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,cv,{value:!0})}const xC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Ix=(e="")=>e==="/"?"":e,yC=(e,t)=>e[0]==="~"?e.slice(1):Ix(t)+e,bC=(e="",t)=>xC(uv(Ix(e)),uv(t)),uv=e=>{try{return decodeURI(e)}catch{return e}},Ox={hook:vC,searchHook:pC,parser:rC,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Dx=g.createContext(Ox),Ao=()=>g.useContext(Dx),Mx={},Fx=g.createContext(Mx),wC=()=>g.useContext(Fx),Dc=e=>{const[t,n]=e.hook(e);return[bC(e.base,t),Rx((a,l)=>n(yC(a,e.base),l))]},jC=()=>Dc(Ao()),Lx=(e,t,n,a)=>{const{pattern:l,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),d=l.exec(n)||[],[f,...p]=d;return f!==void 0?[!0,(()=>{const h=c!==!1?Object.fromEntries(c.map((y,w)=>[y,p[w]])):d.groups;let x={...p};return h&&Object.assign(x,h),x})(),...a?[f]:[]]:[!1,null]},NC=({children:e,...t})=>{const n=Ao(),a=t.hook?Ox:n;let l=a;const[c,d]=t.ssrPath?.split("?")??[];d&&(t.ssrSearch=d,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=g.useRef({}),p=f.current,h=p;for(let x in a){const y=x==="base"?a[x]+(t[x]||""):t[x]||a[x];p===h&&y!==h[x]&&(f.current=h={...h}),h[x]=y,(y!==a[x]||y!==l[x])&&(l=h)}return g.createElement(Dx.Provider,{value:l,children:e})},dv=({children:e,component:t},n)=>t?g.createElement(t,{params:n}):typeof e=="function"?e(n):e,SC=e=>{let t=g.useRef(Mx);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([a,l])=>l!==n[a])?e:n},to=({path:e,nest:t,match:n,...a})=>{const l=Ao(),[c]=Dc(l),[d,f,p]=n??Lx(l.parser,e,c,t),h=SC({...wC(),...f});if(!d)return null;const x=p?g.createElement(NC,{base:p},dv(a,h)):dv(a,h);return g.createElement(Fx.Provider,{value:h,children:x})},Af=g.forwardRef((e,t)=>{const n=Ao(),[a,l]=Dc(n),{to:c="",href:d=c,onClick:f,asChild:p,children:h,className:x,replace:y,state:w,...S}=e,_=Rx(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(f?.(b),b.defaultPrevented||(b.preventDefault(),l(d,e)))}),N=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return p&&g.isValidElement(h)?g.cloneElement(h,{onClick:_,href:N}):g.createElement("a",{...S,onClick:_,href:N,className:x?.call?x(a===d):x,children:h,ref:t})}),Bx=e=>Array.isArray(e)?e.flatMap(t=>Bx(t&&t.type===g.Fragment?t.props.children:t)):[e],CC=({children:e,location:t})=>{const n=Ao(),[a]=Dc(n);for(const l of Bx(e)){let c=0;if(g.isValidElement(l)&&(c=Lx(n.parser,l.props.path,t||a,l.props.nest))[0])return g.cloneElement(l,{match:c})}return null};var ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_C=class{#e=kC;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Qs=new _C;function EC(e){setTimeout(e,0)}var Ys=typeof window>"u"||"Deno"in globalThis;function dr(){}function TC(e,t){return typeof e=="function"?e(t):e}function If(e){return typeof e=="number"&&e>=0&&e!==1/0}function $x(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ys(e,t){return typeof e=="function"?e(t):e}function Vr(e,t){return typeof e=="function"?e(t):e}function fv(e,t){const{type:n="all",exact:a,fetchStatus:l,predicate:c,queryKey:d,stale:f}=e;if(d){if(a){if(t.queryHash!==pm(d,t.options))return!1}else if(!fo(t.queryKey,d))return!1}if(n!=="all"){const p=t.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function mv(e,t){const{exact:n,status:a,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(Xs(t.options.mutationKey)!==Xs(c))return!1}else if(!fo(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function pm(e,t){return(t?.queryKeyHashFn||Xs)(e)}function Xs(e){return JSON.stringify(e,(t,n)=>Of(n)?Object.keys(n).sort().reduce((a,l)=>(a[l]=n[l],a),{}):n)}function fo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>fo(e[n],t[n])):!1}var PC=Object.prototype.hasOwnProperty;function Vx(e,t){if(e===t)return e;const n=pv(e)&&pv(t);if(!n&&!(Of(e)&&Of(t)))return t;const l=(n?e:Object.keys(e)).length,c=n?t:Object.keys(t),d=c.length,f=n?new Array(d):{};let p=0;for(let h=0;h<d;h++){const x=n?h:c[h],y=e[x],w=t[x];if(y===w){f[x]=y,(n?h<l:PC.call(e,x))&&p++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[x]=w;continue}const S=Vx(y,w);f[x]=S,S===y&&p++}return l===d&&p===l?e:f}function fc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Of(e){if(!hv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hv(e){return Object.prototype.toString.call(e)==="[object Object]"}function RC(e){return new Promise(t=>{Qs.setTimeout(t,e)})}function Df(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vx(e,t):t}function AC(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function IC(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var hm=Symbol();function zx(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===hm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ux(e,t){return typeof e=="function"?e(...t):!!e}var OC=class extends ca{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Ys&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},gm=new OC;function Mf(){let e,t;const n=new Promise((l,c)=>{e=l,t=c});n.status="pending",n.catch(()=>{});function a(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},n.reject=l=>{a({status:"rejected",reason:l}),t(l)},n}var DC=EC;function MC(){let e=[],t=0,n=f=>{f()},a=f=>{f()},l=DC;const c=f=>{t?e.push(f):l(()=>{n(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{a(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{l=f}}}var Lt=MC(),FC=class extends ca{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Ys&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},mc=new FC;function LC(e){return Math.min(1e3*2**e,3e4)}function qx(e){return(e??"online")==="online"?mc.isOnline():!0}var Ff=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Wx(e){let t=!1,n=0,a;const l=Mf(),c=()=>l.status!=="pending",d=N=>{if(!c()){const b=new Ff(N);w(b),e.onCancel?.(b)}},f=()=>{t=!0},p=()=>{t=!1},h=()=>gm.isFocused()&&(e.networkMode==="always"||mc.isOnline())&&e.canRun(),x=()=>qx(e.networkMode)&&e.canRun(),y=N=>{c()||(a?.(),l.resolve(N))},w=N=>{c()||(a?.(),l.reject(N))},S=()=>new Promise(N=>{a=b=>{(c()||h())&&N(b)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),_=()=>{if(c())return;let N;const b=n===0?e.initialPromise:void 0;try{N=b??e.fn()}catch(E){N=Promise.reject(E)}Promise.resolve(N).then(y).catch(E=>{if(c())return;const C=e.retry??(Ys?0:3),P=e.retryDelay??LC,M=typeof P=="function"?P(n,E):P,$=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,E);if(t||!$){w(E);return}n++,e.onFail?.(n,E),RC(M).then(()=>h()?void 0:S()).then(()=>{t?w(E):_()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:f,continueRetry:p,canStart:x,start:()=>(x()?_():S().then(_),l)}}var Qx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),If(this.gcTime)&&(this.#e=Qs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ys?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qs.clearTimeout(this.#e),this.#e=void 0)}},BC=class extends Qx{#e;#t;#r;#n;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=gv(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Df(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ys(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$x(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},l=()=>{const f=zx(this.options,t),h=(()=>{const x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Wx({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Ff&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Ff){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Kx(n.data,this.options),fetchMeta:e.meta??null};case"success":const a={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Kx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $C=class extends ca{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Mf(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#a;#o;#i;#h;#f;#m;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vv(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!fc(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&xv(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),a&&(this.#t!==n||Vr(this.options.enabled,this.#t)!==Vr(t.enabled,this.#t)||ys(this.options.staleTime,this.#t)!==ys(t.staleTime,this.#t))&&this.#g();const l=this.#v();a&&(this.#t!==n||Vr(this.options.enabled,this.#t)!==Vr(t.enabled,this.#t)||l!==this.#l)&&this.#x(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return zC(this,n)&&(this.#n=n,this.#a=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(n,a)=>(this.trackProp(a),t?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(dr)),t}#g(){this.#b();const e=ys(this.options.staleTime,this.#t);if(Ys||this.#n.isStale||!If(e))return;const n=$x(this.#n.dataUpdatedAt,e)+1;this.#c=Qs.setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(Ys||Vr(this.options.enabled,this.#t)===!1||!If(this.#l)||this.#l===0)&&(this.#u=Qs.setInterval(()=>{(this.options.refetchIntervalInBackground||gm.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#b(){this.#c&&(Qs.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Qs.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,a=this.options,l=this.#n,c=this.#s,d=this.#a,p=e!==n?e.state:this.#r,{state:h}=e;let x={...h},y=!1,w;if(t._optimisticResults){const re=this.hasListeners(),ge=!re&&vv(e,t),fe=re&&xv(e,n,t,a);(ge||fe)&&(x={...x,...Kx(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:S,errorUpdatedAt:_,status:N}=x;w=x.data;let b=!1;if(t.placeholderData!==void 0&&w===void 0&&N==="pending"){let re;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(re=l.data,b=!0):re=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,re!==void 0&&(N="success",w=Df(l?.data,re,t),y=!0)}if(t.select&&w!==void 0&&!b)if(l&&w===c?.data&&t.select===this.#h)w=this.#f;else try{this.#h=t.select,w=t.select(w),w=Df(l?.data,w,t),this.#f=w,this.#i=null}catch(re){this.#i=re}this.#i&&(S=this.#i,w=this.#f,_=Date.now(),N="error");const E=x.fetchStatus==="fetching",C=N==="pending",P=N==="error",M=C&&E,$=w!==void 0,U={status:N,fetchStatus:x.fetchStatus,isPending:C,isSuccess:N==="success",isError:P,isInitialLoading:M,isLoading:M,data:w,dataUpdatedAt:x.dataUpdatedAt,error:S,errorUpdatedAt:_,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:P&&!$,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:P&&$,isStale:vm(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Vr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const re=me=>{U.status==="error"?me.reject(U.error):U.data!==void 0&&me.resolve(U.data)},ge=()=>{const me=this.#o=U.promise=Mf();re(me)},fe=this.#o;switch(fe.status){case"pending":e.queryHash===n.queryHash&&re(fe);break;case"fulfilled":(U.status==="error"||U.data!==fe.value)&&ge();break;case"rejected":(U.status!=="error"||U.error!==fe.reason)&&ge();break}}return U}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#m=this.#t),fc(t,e))return;this.#n=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#p.size)return!0;const c=new Set(l??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const f=d;return this.#n[f]!==e[f]&&c.has(f)})};this.#N({listeners:n()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Lt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function VC(e,t){return Vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vv(e,t){return VC(e,t)||e.state.data!==void 0&&Lf(e,t,t.refetchOnMount)}function Lf(e,t,n){if(Vr(t.enabled,e)!==!1&&ys(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&vm(e,t)}return!1}function xv(e,t,n,a){return(e!==t||Vr(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&vm(e,n)}function vm(e,t){return Vr(t.enabled,e)!==!1&&e.isStaleByTime(ys(t.staleTime,e))}function zC(e,t){return!fc(e.getCurrentResult(),t)}function yv(e){return{onFetch:(t,n)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const h=async()=>{let x=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=zx(t.options,t.fetchOptions),S=async(_,N,b)=>{if(x)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const C=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};return y(H),H})(),P=await w(C),{maxPages:M}=t.options,$=b?IC:AC;return{pages:$(_.pages,P,M),pageParams:$(_.pageParams,N,M)}};if(l&&c.length){const _=l==="backward",N=_?UC:bv,b={pages:c,pageParams:d},E=N(a,b);f=await S(b,E,_)}else{const _=e??c.length;do{const N=p===0?d[0]??a.initialPageParam:bv(a,f);if(p>0&&N==null)break;f=await S(f,N),p++}while(p<_)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function bv(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function UC(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var qC=class extends Qx{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Hx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=Wx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",a=!this.#r.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:a})}const l=await this.#r.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#n({type:"error",error:l})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Lt.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Hx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var WC=class extends ca{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,n){const a=new qC({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){this.#e.add(e);const t=Xl(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Xl(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xl(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Xl(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Lt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>mv(t,n))}findAll(e={}){return this.getAll().filter(t=>mv(e,t))}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Lt.batch(()=>Promise.all(e.map(t=>t.continue().catch(dr))))}};function Xl(e){return e.options.scope?.id}var QC=class extends ca{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),fc(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Xs(n.mutationKey)!==Xs(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??Hx();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Lt.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,a=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,a),this.#n.onSettled?.(t.data,null,n,a)):t?.type==="error"&&(this.#n.onError?.(t.error,n,a),this.#n.onSettled?.(void 0,t.error,n,a))}this.listeners.forEach(n=>{n(this.#t)})})}},KC=class extends ca{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const a=t.queryKey,l=t.queryHash??pm(a,t);let c=this.get(l);return c||(c=new BC({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fv(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>fv(e,n)):t}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},HC=class{#e;#t;#r;#n;#s;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new KC,this.#t=e.mutationCache||new WC,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=gm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=mc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ys(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,d=TC(t,c);if(d!==void 0)return this.#e.build(this,a).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Lt.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Lt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Lt.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=Lt.batch(()=>this.#e.findAll(e).map(l=>l.cancel(n)));return Promise.all(a).then(dr).catch(dr)}invalidateQueries(e,t={}){return Lt.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Lt.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,n);return n.throwOnError||(c=c.catch(dr)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ys(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=yv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=yv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Xs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(a=>{fo(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(Xs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(a=>{fo(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gx=g.createContext(void 0),cn=e=>{const t=g.useContext(Gx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},GC=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Gx.Provider,{value:e,children:t})),Zx=g.createContext(!1),ZC=()=>g.useContext(Zx);Zx.Provider;function YC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var XC=g.createContext(YC()),JC=()=>g.useContext(XC),ek=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},tk=e=>{g.useEffect(()=>{e.clearReset()},[e])},rk=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(l&&e.data===void 0||Ux(n,[e.error,a])),nk=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...l)=>n(a(...l)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},sk=(e,t)=>e.isLoading&&e.isFetching&&!t,ik=(e,t)=>e?.suspense&&t.isPending,wv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ak(e,t,n){const a=ZC(),l=JC(),c=cn(),d=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=a?"isRestoring":"optimistic",nk(d),ek(d,l),tk(l);const f=!c.getQueryCache().get(d.queryHash),[p]=g.useState(()=>new t(c,d)),h=p.getOptimisticResult(d),x=!a&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const w=x?p.subscribe(Lt.batchCalls(y)):dr;return p.updateResult(),w},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),g.useEffect(()=>{p.setOptions(d)},[d,p]),ik(d,h))throw wv(d,p,l);if(rk({result:h,errorResetBoundary:l,throwOnError:d.throwOnError,query:c.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw h.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(d,h),d.experimental_prefetchInRender&&!Ys&&sk(h,a)&&(f?wv(d,p,l):c.getQueryCache().get(d.queryHash)?.promise)?.catch(dr).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?h:p.trackResult(h)}function xt(e,t){return ak(e,$C)}function et(e,t){const n=cn(),[a]=g.useState(()=>new QC(n,e));g.useEffect(()=>{a.setOptions(e)},[a,e]);const l=g.useSyncExternalStore(g.useCallback(d=>a.subscribe(Lt.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=g.useCallback((d,f)=>{a.mutate(d,f).catch(dr)},[a]);if(l.error&&Ux(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}async function Yx(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Et(e,t,n){const a={};n&&(a["Content-Type"]="application/json");const l=localStorage.getItem("auth_token");l&&(a.Authorization=`Bearer ${l}`);const c=await fetch(t,{method:e,headers:a,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Yx(c),c}const ok=({on401:e})=>async({queryKey:t})=>{const n={},a=localStorage.getItem("auth_token");a&&(n.Authorization=`Bearer ${a}`);const l=await fetch(t.join("/"),{headers:n,credentials:"include"});return await Yx(l),await l.json()},sr=new HC({defaultOptions:{queries:{queryFn:ok({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),lk=1,ck=1e6;let cf=0;function uk(){return cf=(cf+1)%Number.MAX_SAFE_INTEGER,cf.toString()}const uf=new Map,jv=e=>{if(uf.has(e))return;const t=setTimeout(()=>{uf.delete(e),lo({type:"REMOVE_TOAST",toastId:e})},ck);uf.set(e,t)},dk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?jv(n):e.toasts.forEach(a=>{jv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ac=[];let oc={toasts:[]};function lo(e){oc=dk(oc,e),ac.forEach(t=>{t(oc)})}function fk({...e}){const t=uk(),n=l=>lo({type:"UPDATE_TOAST",toast:{...l,id:t}}),a=()=>lo({type:"DISMISS_TOAST",toastId:t});return lo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:l=>{l||a()}}}),{id:t,dismiss:a,update:n}}function Cr(){const[e,t]=g.useState(oc);return g.useEffect(()=>(ac.push(t),()=>{const n=ac.indexOf(t);n>-1&&ac.splice(n,1)}),[e]),{...e,toast:fk,dismiss:n=>lo({type:"DISMISS_TOAST",toastId:n})}}var ua=Px();const mk=Tx(ua);function Ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function Nv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Js(...e){return t=>{let n=!1;const a=e.map(l=>{const c=Nv(l,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():Nv(e[l],null)}}}}function He(...e){return g.useCallback(Js(...e),e)}function pk(e,t){const n=g.createContext(t),a=c=>{const{children:d,...f}=c,p=g.useMemo(()=>f,Object.values(f));return i.jsx(n.Provider,{value:p,children:d})};a.displayName=e+"Provider";function l(c){const d=g.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,l]}function Or(e,t=[]){let n=[];function a(c,d){const f=g.createContext(d),p=n.length;n=[...n,d];const h=y=>{const{scope:w,children:S,..._}=y,N=w?.[e]?.[p]||f,b=g.useMemo(()=>_,Object.values(_));return i.jsx(N.Provider,{value:b,children:S})};h.displayName=c+"Provider";function x(y,w){const S=w?.[e]?.[p]||f,_=g.useContext(S);if(_)return _;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[h,x]}const l=()=>{const c=n.map(d=>g.createContext(d));return function(f){const p=f?.[e]||c;return g.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return l.scopeName=e,[a,hk(l,...t)]}function hk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=a.reduce((f,{useScope:p,scopeName:h})=>{const y=p(c)[`__scope${h}`];return{...f,...y}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function ei(e){const t=vk(e),n=g.forwardRef((a,l)=>{const{children:c,...d}=a,f=g.Children.toArray(c),p=f.find(xk);if(p){const h=p.props.children,x=f.map(y=>y===p?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:y);return i.jsx(t,{...d,ref:l,children:g.isValidElement(h)?g.cloneElement(h,void 0,x):null})}return i.jsx(t,{...d,ref:l,children:c})});return n.displayName=`${e}.Slot`,n}var gk=ei("Slot");function vk(e){const t=g.forwardRef((n,a)=>{const{children:l,...c}=n;if(g.isValidElement(l)){const d=bk(l),f=yk(c,l.props);return l.type!==g.Fragment&&(f.ref=a?Js(a,d):d),g.cloneElement(l,f)}return g.Children.count(l)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xx=Symbol("radix.slottable");function Jx(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Xx,t}function xk(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xx}function yk(e,t){const n={...t};for(const a in t){const l=e[a],c=t[a];/^on[A-Z]/.test(a)?l&&c?n[a]=(...f)=>{const p=c(...f);return l(...f),p}:l&&(n[a]=l):a==="style"?n[a]={...l,...c}:a==="className"&&(n[a]=[l,c].filter(Boolean).join(" "))}return{...e,...n}}function bk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function xm(e){const t=e+"CollectionProvider",[n,a]=Or(t),[l,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:b,children:E}=N,C=kt.useRef(null),P=kt.useRef(new Map).current;return i.jsx(l,{scope:b,itemMap:P,collectionRef:C,children:E})};d.displayName=t;const f=e+"CollectionSlot",p=ei(f),h=kt.forwardRef((N,b)=>{const{scope:E,children:C}=N,P=c(f,E),M=He(b,P.collectionRef);return i.jsx(p,{ref:M,children:C})});h.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",w=ei(x),S=kt.forwardRef((N,b)=>{const{scope:E,children:C,...P}=N,M=kt.useRef(null),$=He(b,M),H=c(x,E);return kt.useEffect(()=>(H.itemMap.set(M,{ref:M,...P}),()=>void H.itemMap.delete(M))),i.jsx(w,{[y]:"",ref:$,children:C})});S.displayName=x;function _(N){const b=c(e+"CollectionConsumer",N);return kt.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const P=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(b.itemMap.values()).sort((H,U)=>P.indexOf(H.ref.current)-P.indexOf(U.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:d,Slot:h,ItemSlot:S},_,a]}var wk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=wk.reduce((e,t)=>{const n=ei(`Primitive.${t}`),a=g.forwardRef((l,c)=>{const{asChild:d,...f}=l,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function ey(e,t){e&&ua.flushSync(()=>e.dispatchEvent(t))}function Ur(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}function jk(e,t=globalThis?.document){const n=Ur(e);g.useEffect(()=>{const a=l=>{l.key==="Escape"&&n(l)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var Nk="DismissableLayer",Bf="dismissableLayer.update",Sk="dismissableLayer.pointerDownOutside",Ck="dismissableLayer.focusOutside",Sv,ty=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),da=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...p}=e,h=g.useContext(ty),[x,y]=g.useState(null),w=x?.ownerDocument??globalThis?.document,[,S]=g.useState({}),_=He(t,U=>y(U)),N=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=N.indexOf(b),C=x?N.indexOf(x):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,M=C>=E,$=_k(U=>{const re=U.target,ge=[...h.branches].some(fe=>fe.contains(re));!M||ge||(l?.(U),d?.(U),U.defaultPrevented||f?.())},w),H=Ek(U=>{const re=U.target;[...h.branches].some(fe=>fe.contains(re))||(c?.(U),d?.(U),U.defaultPrevented||f?.())},w);return jk(U=>{C===h.layers.size-1&&(a?.(U),!U.defaultPrevented&&f&&(U.preventDefault(),f()))},w),g.useEffect(()=>{if(x)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Sv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),Cv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Sv)}},[x,w,n,h]),g.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),Cv())},[x,h]),g.useEffect(()=>{const U=()=>S({});return document.addEventListener(Bf,U),()=>document.removeEventListener(Bf,U)},[]),i.jsx(Oe.div,{...p,ref:_,style:{pointerEvents:P?M?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,H.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,$.onPointerDownCapture)})});da.displayName=Nk;var kk="DismissableLayerBranch",ry=g.forwardRef((e,t)=>{const n=g.useContext(ty),a=g.useRef(null),l=He(t,a);return g.useEffect(()=>{const c=a.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),i.jsx(Oe.div,{...e,ref:l})});ry.displayName=kk;function _k(e,t=globalThis?.document){const n=Ur(e),a=g.useRef(!1),l=g.useRef(()=>{});return g.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let p=function(){ny(Sk,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=p,t.addEventListener("click",l.current,{once:!0})):p()}else t.removeEventListener("click",l.current);a.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function Ek(e,t=globalThis?.document){const n=Ur(e),a=g.useRef(!1);return g.useEffect(()=>{const l=c=>{c.target&&!a.current&&ny(Ck,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Cv(){const e=new CustomEvent(Bf);document.dispatchEvent(e)}function ny(e,t,n,{discrete:a}){const l=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),a?ey(l,c):l.dispatchEvent(c)}var Tk=da,Pk=ry,Jt=globalThis?.document?g.useLayoutEffect:()=>{},Rk="Portal",Io=g.forwardRef((e,t)=>{const{container:n,...a}=e,[l,c]=g.useState(!1);Jt(()=>c(!0),[]);const d=n||l&&globalThis?.document?.body;return d?mk.createPortal(i.jsx(Oe.div,{...a,ref:t}),d):null});Io.displayName=Rk;function Ak(e,t){return g.useReducer((n,a)=>t[n][a]??n,e)}var un=e=>{const{present:t,children:n}=e,a=Ik(t),l=typeof n=="function"?n({present:a.isPresent}):g.Children.only(n),c=He(a.ref,Ok(l));return typeof n=="function"||a.isPresent?g.cloneElement(l,{ref:c}):null};un.displayName="Presence";function Ik(e){const[t,n]=g.useState(),a=g.useRef(null),l=g.useRef(e),c=g.useRef("none"),d=e?"mounted":"unmounted",[f,p]=Ak(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=Jl(a.current);c.current=f==="mounted"?h:"none"},[f]),Jt(()=>{const h=a.current,x=l.current;if(x!==e){const w=c.current,S=Jl(h);e?p("MOUNT"):S==="none"||h?.display==="none"?p("UNMOUNT"):p(x&&w!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,p]),Jt(()=>{if(t){let h;const x=t.ownerDocument.defaultView??window,y=S=>{const N=Jl(a.current).includes(CSS.escape(S.animationName));if(S.target===t&&N&&(p("ANIMATION_END"),!l.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},w=S=>{S.target===t&&(c.current=Jl(a.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{x.clearTimeout(h),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:g.useCallback(h=>{a.current=h?getComputedStyle(h):null,n(h)},[])}}function Jl(e){return e?.animationName||"none"}function Ok(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dk=dm[" useInsertionEffect ".trim().toString()]||Jt;function Un({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[l,c,d]=Mk({defaultProp:t,onChange:n}),f=e!==void 0,p=f?e:l;{const x=g.useRef(e!==void 0);g.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,a])}const h=g.useCallback(x=>{if(f){const y=Fk(x)?x(e):x;y!==e&&d.current?.(y)}else c(x)},[f,e,c,d]);return[p,h]}function Mk({defaultProp:e,onChange:t}){const[n,a]=g.useState(e),l=g.useRef(n),c=g.useRef(t);return Dk(()=>{c.current=t},[t]),g.useEffect(()=>{l.current!==n&&(c.current?.(n),l.current=n)},[n,l]),[n,a,c]}function Fk(e){return typeof e=="function"}var sy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lk="VisuallyHidden",Mc=g.forwardRef((e,t)=>i.jsx(Oe.span,{...e,ref:t,style:{...sy,...e.style}}));Mc.displayName=Lk;var Bk=Mc,ym="ToastProvider",[bm,$k,Vk]=xm("Toast"),[iy,$D]=Or("Toast",[Vk]),[zk,Fc]=iy(ym),ay=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:d}=e,[f,p]=g.useState(null),[h,x]=g.useState(0),y=g.useRef(!1),w=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ym}\`. Expected non-empty \`string\`.`),i.jsx(bm.Provider,{scope:t,children:i.jsx(zk,{scope:t,label:n,duration:a,swipeDirection:l,swipeThreshold:c,toastCount:h,viewport:f,onViewportChange:p,onToastAdd:g.useCallback(()=>x(S=>S+1),[]),onToastRemove:g.useCallback(()=>x(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:d})})};ay.displayName=ym;var oy="ToastViewport",Uk=["F8"],$f="toast.viewportPause",Vf="toast.viewportResume",ly=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=Uk,label:l="Notifications ({hotkey})",...c}=e,d=Fc(oy,n),f=$k(n),p=g.useRef(null),h=g.useRef(null),x=g.useRef(null),y=g.useRef(null),w=He(t,y,d.onViewportChange),S=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=d.toastCount>0;g.useEffect(()=>{const b=E=>{a.length!==0&&a.every(P=>E[P]||E.code===P)&&y.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),g.useEffect(()=>{const b=p.current,E=y.current;if(_&&b&&E){const C=()=>{if(!d.isClosePausedRef.current){const H=new CustomEvent($f);E.dispatchEvent(H),d.isClosePausedRef.current=!0}},P=()=>{if(d.isClosePausedRef.current){const H=new CustomEvent(Vf);E.dispatchEvent(H),d.isClosePausedRef.current=!1}},M=H=>{!b.contains(H.relatedTarget)&&P()},$=()=>{b.contains(document.activeElement)||P()};return b.addEventListener("focusin",C),b.addEventListener("focusout",M),b.addEventListener("pointermove",C),b.addEventListener("pointerleave",$),window.addEventListener("blur",C),window.addEventListener("focus",P),()=>{b.removeEventListener("focusin",C),b.removeEventListener("focusout",M),b.removeEventListener("pointermove",C),b.removeEventListener("pointerleave",$),window.removeEventListener("blur",C),window.removeEventListener("focus",P)}}},[_,d.isClosePausedRef]);const N=g.useCallback(({tabbingDirection:b})=>{const C=f().map(P=>{const M=P.ref.current,$=[M,...r1(M)];return b==="forwards"?$:$.reverse()});return(b==="forwards"?C.reverse():C).flat()},[f]);return g.useEffect(()=>{const b=y.current;if(b){const E=C=>{const P=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!P){const $=document.activeElement,H=C.shiftKey;if(C.target===b&&H){h.current?.focus();return}const ge=N({tabbingDirection:H?"backwards":"forwards"}),fe=ge.findIndex(me=>me===$);df(ge.slice(fe+1))?C.preventDefault():H?h.current?.focus():x.current?.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[f,N]),i.jsxs(Pk,{ref:p,role:"region","aria-label":l.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&i.jsx(zf,{ref:h,onFocusFromOutsideViewport:()=>{const b=N({tabbingDirection:"forwards"});df(b)}}),i.jsx(bm.Slot,{scope:n,children:i.jsx(Oe.ol,{tabIndex:-1,...c,ref:w})}),_&&i.jsx(zf,{ref:x,onFocusFromOutsideViewport:()=>{const b=N({tabbingDirection:"backwards"});df(b)}})]})});ly.displayName=oy;var cy="ToastFocusProxy",zf=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...l}=e,c=Fc(cy,n);return i.jsx(Mc,{tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:d=>{const f=d.relatedTarget;!c.viewport?.contains(f)&&a()}})});zf.displayName=cy;var Oo="Toast",qk="toast.swipeStart",Wk="toast.swipeMove",Qk="toast.swipeCancel",Kk="toast.swipeEnd",uy=g.forwardRef((e,t)=>{const{forceMount:n,open:a,defaultOpen:l,onOpenChange:c,...d}=e,[f,p]=Un({prop:a,defaultProp:l??!0,onChange:c,caller:Oo});return i.jsx(un,{present:n||f,children:i.jsx(Zk,{open:f,...d,ref:t,onClose:()=>p(!1),onPause:Ur(e.onPause),onResume:Ur(e.onResume),onSwipeStart:Ee(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,h=>{const{x,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,h=>{const{x,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),p(!1)})})})});uy.displayName=Oo;var[Hk,Gk]=iy(Oo,{onClose(){}}),Zk=g.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:l,open:c,onClose:d,onEscapeKeyDown:f,onPause:p,onResume:h,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:S,..._}=e,N=Fc(Oo,n),[b,E]=g.useState(null),C=He(t,G=>E(G)),P=g.useRef(null),M=g.useRef(null),$=l||N.duration,H=g.useRef(0),U=g.useRef($),re=g.useRef(0),{onToastAdd:ge,onToastRemove:fe}=N,me=Ur(()=>{b?.contains(document.activeElement)&&N.viewport?.focus(),d()}),ee=g.useCallback(G=>{!G||G===1/0||(window.clearTimeout(re.current),H.current=new Date().getTime(),re.current=window.setTimeout(me,G))},[me]);g.useEffect(()=>{const G=N.viewport;if(G){const he=()=>{ee(U.current),h?.()},K=()=>{const k=new Date().getTime()-H.current;U.current=U.current-k,window.clearTimeout(re.current),p?.()};return G.addEventListener($f,K),G.addEventListener(Vf,he),()=>{G.removeEventListener($f,K),G.removeEventListener(Vf,he)}}},[N.viewport,$,p,h,ee]),g.useEffect(()=>{c&&!N.isClosePausedRef.current&&ee($)},[c,$,N.isClosePausedRef,ee]),g.useEffect(()=>(ge(),()=>fe()),[ge,fe]);const ue=g.useMemo(()=>b?vy(b):null,[b]);return N.viewport?i.jsxs(i.Fragment,{children:[ue&&i.jsx(Yk,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ue}),i.jsx(Hk,{scope:n,onClose:me,children:ua.createPortal(i.jsx(bm.ItemSlot,{scope:n,children:i.jsx(Tk,{asChild:!0,onEscapeKeyDown:Ee(f,()=>{N.isFocusedToastEscapeKeyDownRef.current||me(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Oe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":N.swipeDirection,..._,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,G=>{G.key==="Escape"&&(f?.(G.nativeEvent),G.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,me()))}),onPointerDown:Ee(e.onPointerDown,G=>{G.button===0&&(P.current={x:G.clientX,y:G.clientY})}),onPointerMove:Ee(e.onPointerMove,G=>{if(!P.current)return;const he=G.clientX-P.current.x,K=G.clientY-P.current.y,k=!!M.current,I=["left","right"].includes(N.swipeDirection),Z=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,J=I?Z(0,he):0,R=I?0:Z(0,K),O=G.pointerType==="touch"?10:2,B={x:J,y:R},F={originalEvent:G,delta:B};k?(M.current=B,ec(Wk,y,F,{discrete:!1})):kv(B,N.swipeDirection,O)?(M.current=B,ec(qk,x,F,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(he)>O||Math.abs(K)>O)&&(P.current=null)}),onPointerUp:Ee(e.onPointerUp,G=>{const he=M.current,K=G.target;if(K.hasPointerCapture(G.pointerId)&&K.releasePointerCapture(G.pointerId),M.current=null,P.current=null,he){const k=G.currentTarget,I={originalEvent:G,delta:he};kv(he,N.swipeDirection,N.swipeThreshold)?ec(Kk,S,I,{discrete:!0}):ec(Qk,w,I,{discrete:!0}),k.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),Yk=e=>{const{__scopeToast:t,children:n,...a}=e,l=Fc(Oo,t),[c,d]=g.useState(!1),[f,p]=g.useState(!1);return e1(()=>d(!0)),g.useEffect(()=>{const h=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(h)},[]),f?null:i.jsx(Io,{asChild:!0,children:i.jsx(Mc,{...a,children:c&&i.jsxs(i.Fragment,{children:[l.label," ",n]})})})},Xk="ToastTitle",dy=g.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return i.jsx(Oe.div,{...a,ref:t})});dy.displayName=Xk;var Jk="ToastDescription",fy=g.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return i.jsx(Oe.div,{...a,ref:t})});fy.displayName=Jk;var my="ToastAction",py=g.forwardRef((e,t)=>{const{altText:n,...a}=e;return n.trim()?i.jsx(gy,{altText:n,asChild:!0,children:i.jsx(wm,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${my}\`. Expected non-empty \`string\`.`),null)});py.displayName=my;var hy="ToastClose",wm=g.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e,l=Gk(hy,n);return i.jsx(gy,{asChild:!0,children:i.jsx(Oe.button,{type:"button",...a,ref:t,onClick:Ee(e.onClick,l.onClose)})})});wm.displayName=hy;var gy=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:a,...l}=e;return i.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...l,ref:t})});function vy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),t1(a)){const l=a.ariaHidden||a.hidden||a.style.display==="none",c=a.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const d=a.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...vy(a))}}),t}function ec(e,t,n,{discrete:a}){const l=n.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),a?ey(l,c):l.dispatchEvent(c)}var kv=(e,t,n=0)=>{const a=Math.abs(e.x),l=Math.abs(e.y),c=a>l;return t==="left"||t==="right"?c&&a>n:!c&&l>n};function e1(e=()=>{}){const t=Ur(e);Jt(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function t1(e){return e.nodeType===e.ELEMENT_NODE}function r1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function df(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var n1=ay,xy=ly,yy=uy,by=dy,wy=fy,jy=py,Ny=wm;function Sy(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Sy(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Cy(){for(var e,t,n=0,a="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Sy(e))&&(a&&(a+=" "),a+=t);return a}const _v=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ev=Cy,Do=(e,t)=>n=>{var a;if(t?.variants==null)return Ev(e,n?.class,n?.className);const{variants:l,defaultVariants:c}=t,d=Object.keys(l).map(h=>{const x=n?.[h],y=c?.[h];if(x===null)return null;const w=_v(x)||_v(y);return l[h][w]}),f=n&&Object.entries(n).reduce((h,x)=>{let[y,w]=x;return w===void 0||(h[y]=w),h},{}),p=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((h,x)=>{let{class:y,className:w,...S}=x;return Object.entries(S).every(_=>{let[N,b]=_;return Array.isArray(b)?b.includes({...c,...f}[N]):{...c,...f}[N]===b})?[...h,y,w]:h},[]);return Ev(e,d,p,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ky=(...e)=>e.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...f},p)=>g.createElement("svg",{ref:p,...i1,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:ky("lucide",l),...f},[...d.map(([h,x])=>g.createElement(h,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(e,t)=>{const n=g.forwardRef(({className:a,...l},c)=>g.createElement(a1,{ref:c,iconNode:t,className:ky(`lucide-${s1(e)}`,a),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ot("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Ot("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Ot("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=Ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nm="-",j1=e=>{const t=S1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split(Nm);return f[0]===""&&f.length!==1&&f.shift(),Ty(f,t)||N1(d)},getConflictingClassGroupIds:(d,f)=>{const p=n[d]||[];return f&&a[d]?[...p,...a[d]]:p}}},Ty=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),l=a?Ty(e.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(Nm);return t.validators.find(({validator:d})=>d(c))?.classGroupId},Rv=/^\[(.+)\]$/,N1=e=>{if(Rv.test(e)){const t=Rv.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},S1=e=>{const{theme:t,prefix:n}=e,a={nextPart:new Map,validators:[]};return k1(Object.entries(e.classGroups),n).forEach(([c,d])=>{Uf(d,a,c,t)}),a},Uf=(e,t,n,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:Av(t,l);c.classGroupId=n;return}if(typeof l=="function"){if(C1(l)){Uf(l(a),t,n,a);return}t.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([c,d])=>{Uf(d,Av(t,c),n,a)})})},Av=(e,t)=>{let n=e;return t.split(Nm).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},C1=e=>e.isThemeGetter,k1=(e,t)=>t?e.map(([n,a])=>{const l=a.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,f])=>[t+d,f])):c);return[n,l]}):e,_1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const l=(c,d)=>{n.set(c,d),t++,t>e&&(t=0,a=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return l(c,d),d},set(c,d){n.has(c)?n.set(c,d):l(c,d)}}},Py="!",E1=e=>{const{separator:t,experimentalParseClassName:n}=e,a=t.length===1,l=t[0],c=t.length,d=f=>{const p=[];let h=0,x=0,y;for(let b=0;b<f.length;b++){let E=f[b];if(h===0){if(E===l&&(a||f.slice(b,b+c)===t)){p.push(f.slice(x,b)),x=b+c;continue}if(E==="/"){y=b;continue}}E==="["?h++:E==="]"&&h--}const w=p.length===0?f:f.substring(x),S=w.startsWith(Py),_=S?w.substring(1):w,N=y&&y>x?y-x:void 0;return{modifiers:p,hasImportantModifier:S,baseClassName:_,maybePostfixModifierPosition:N}};return n?f=>n({className:f,parseClassName:d}):d},T1=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(a=>{a[0]==="["?(t.push(...n.sort(),a),n=[]):n.push(a)}),t.push(...n.sort()),t},P1=e=>({cache:_1(e.cacheSize),parseClassName:E1(e),...j1(e)}),R1=/\s+/,A1=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:l}=t,c=[],d=e.trim().split(R1);let f="";for(let p=d.length-1;p>=0;p-=1){const h=d[p],{modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:S}=n(h);let _=!!S,N=a(_?w.substring(0,S):w);if(!N){if(!_){f=h+(f.length>0?" "+f:f);continue}if(N=a(w),!N){f=h+(f.length>0?" "+f:f);continue}_=!1}const b=T1(x).join(":"),E=y?b+Py:b,C=E+N;if(c.includes(C))continue;c.push(C);const P=l(N,_);for(let M=0;M<P.length;++M){const $=P[M];c.push(E+$)}f=h+(f.length>0?" "+f:f)}return f};function I1(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ry(t))&&(a&&(a+=" "),a+=n);return a}const Ry=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=Ry(e[a]))&&(n&&(n+=" "),n+=t);return n};function O1(e,...t){let n,a,l,c=d;function d(p){const h=t.reduce((x,y)=>y(x),e());return n=P1(h),a=n.cache.get,l=n.cache.set,c=f,f(p)}function f(p){const h=a(p);if(h)return h;const x=A1(p,n);return l(p,x),x}return function(){return c(I1.apply(null,arguments))}}const dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ay=/^\[(?:([a-z-]+):)?(.+)\]$/i,D1=/^\d+\/\d+$/,M1=new Set(["px","full","screen"]),F1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=e=>Zi(e)||M1.has(e)||D1.test(e),hs=e=>fa(e,"length",G1),Zi=e=>!!e&&!Number.isNaN(Number(e)),ff=e=>fa(e,"number",Zi),ro=e=>!!e&&Number.isInteger(Number(e)),z1=e=>e.endsWith("%")&&Zi(e.slice(0,-1)),qe=e=>Ay.test(e),gs=e=>F1.test(e),U1=new Set(["length","size","percentage"]),q1=e=>fa(e,U1,Iy),W1=e=>fa(e,"position",Iy),Q1=new Set(["image","url"]),K1=e=>fa(e,Q1,Y1),H1=e=>fa(e,"",Z1),no=()=>!0,fa=(e,t,n)=>{const a=Ay.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):n(a[2]):!1},G1=e=>L1.test(e)&&!B1.test(e),Iy=()=>!1,Z1=e=>$1.test(e),Y1=e=>V1.test(e),X1=()=>{const e=dt("colors"),t=dt("spacing"),n=dt("blur"),a=dt("brightness"),l=dt("borderColor"),c=dt("borderRadius"),d=dt("borderSpacing"),f=dt("borderWidth"),p=dt("contrast"),h=dt("grayscale"),x=dt("hueRotate"),y=dt("invert"),w=dt("gap"),S=dt("gradientColorStops"),_=dt("gradientColorStopPositions"),N=dt("inset"),b=dt("margin"),E=dt("opacity"),C=dt("padding"),P=dt("saturate"),M=dt("scale"),$=dt("sepia"),H=dt("skew"),U=dt("space"),re=dt("translate"),ge=()=>["auto","contain","none"],fe=()=>["auto","hidden","clip","visible","scroll"],me=()=>["auto",qe,t],ee=()=>[qe,t],ue=()=>["",Ln,hs],G=()=>["auto",Zi,qe],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Zi,qe];return{cacheSize:500,separator:":",theme:{colors:[no],spacing:[Ln,hs],blur:["none","",gs,qe],brightness:R(),borderColor:[e],borderRadius:["none","","full",gs,qe],borderSpacing:ee(),borderWidth:ue(),contrast:R(),grayscale:Z(),hueRotate:R(),invert:Z(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[z1,hs],inset:me(),margin:me(),opacity:R(),padding:ee(),saturate:R(),scale:R(),sepia:Z(),skew:R(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),qe]}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:ge()}],"overscroll-x":[{"overscroll-x":ge()}],"overscroll-y":[{"overscroll-y":ge()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ro,qe]}],basis:[{basis:me()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",ro,qe]}],"grid-cols":[{"grid-cols":[no]}],"col-start-end":[{col:["auto",{span:["full",ro,qe]},qe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[no]}],"row-start-end":[{row:["auto",{span:[ro,qe]},qe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ff]}],"font-family":[{font:[no]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Zi,ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,hs]}],"underline-offset":[{"underline-offset":["auto",Ln,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),W1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",q1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:K()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ln,qe]}],"outline-w":[{outline:[Ln,hs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ln,hs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,H1]}],"shadow-color":[{shadow:[no]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",gs,qe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[y]}],saturate:[{saturate:[P]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ro,qe]}],"translate-x":[{"translate-x":[re]}],"translate-y":[{"translate-y":[re]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ln,hs,ff]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J1=O1(X1);function Se(...e){return J1(Cy(e))}const e_=n1,Oy=g.forwardRef(({className:e,...t},n)=>i.jsx(xy,{ref:n,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Oy.displayName=xy.displayName;const t_=Do("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dy=g.forwardRef(({className:e,variant:t,...n},a)=>i.jsx(yy,{ref:a,className:Se(t_({variant:t}),e),...n}));Dy.displayName=yy.displayName;const r_=g.forwardRef(({className:e,...t},n)=>i.jsx(jy,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));r_.displayName=jy.displayName;const My=g.forwardRef(({className:e,...t},n)=>i.jsx(Ny,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ey,{className:"h-4 w-4"})}));My.displayName=Ny.displayName;const Fy=g.forwardRef(({className:e,...t},n)=>i.jsx(by,{ref:n,className:Se("text-sm font-semibold",e),...t}));Fy.displayName=by.displayName;const Ly=g.forwardRef(({className:e,...t},n)=>i.jsx(wy,{ref:n,className:Se("text-sm opacity-90",e),...t}));Ly.displayName=wy.displayName;function n_(){const{toasts:e}=Cr();return i.jsxs(e_,{children:[e.map(function({id:t,title:n,description:a,action:l,...c}){return i.jsxs(Dy,{...c,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(Fy,{children:n}),a&&i.jsx(Ly,{children:a})]}),l,i.jsx(My,{})]},t)}),i.jsx(Oy,{})]})}var s_=dm[" useId ".trim().toString()]||(()=>{}),i_=0;function pr(e){const[t,n]=g.useState(s_());return Jt(()=>{n(a=>a??String(i_++))},[e]),t?`radix-${t}`:""}const a_=["top","right","bottom","left"],ws=Math.min,Rr=Math.max,pc=Math.round,tc=Math.floor,jn=e=>({x:e,y:e}),o_={left:"right",right:"left",bottom:"top",top:"bottom"},l_={start:"end",end:"start"};function qf(e,t,n){return Rr(e,ws(t,n))}function qn(e,t){return typeof e=="function"?e(t):e}function Wn(e){return e.split("-")[0]}function ma(e){return e.split("-")[1]}function Sm(e){return e==="x"?"y":"x"}function Cm(e){return e==="y"?"height":"width"}const c_=new Set(["top","bottom"]);function bn(e){return c_.has(Wn(e))?"y":"x"}function km(e){return Sm(bn(e))}function u_(e,t,n){n===void 0&&(n=!1);const a=ma(e),l=km(e),c=Cm(l);let d=l==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=hc(d)),[d,hc(d)]}function d_(e){const t=hc(e);return[Wf(e),t,Wf(t)]}function Wf(e){return e.replace(/start|end/g,t=>l_[t])}const Iv=["left","right"],Ov=["right","left"],f_=["top","bottom"],m_=["bottom","top"];function p_(e,t,n){switch(e){case"top":case"bottom":return n?t?Ov:Iv:t?Iv:Ov;case"left":case"right":return t?f_:m_;default:return[]}}function h_(e,t,n,a){const l=ma(e);let c=p_(Wn(e),n==="start",a);return l&&(c=c.map(d=>d+"-"+l),t&&(c=c.concat(c.map(Wf)))),c}function hc(e){return e.replace(/left|right|bottom|top/g,t=>o_[t])}function g_(e){return{top:0,right:0,bottom:0,left:0,...e}}function By(e){return typeof e!="number"?g_(e):{top:e,right:e,bottom:e,left:e}}function gc(e){const{x:t,y:n,width:a,height:l}=e;return{width:a,height:l,top:n,left:t,right:t+a,bottom:n+l,x:t,y:n}}function Dv(e,t,n){let{reference:a,floating:l}=e;const c=bn(t),d=km(t),f=Cm(d),p=Wn(t),h=c==="y",x=a.x+a.width/2-l.width/2,y=a.y+a.height/2-l.height/2,w=a[f]/2-l[f]/2;let S;switch(p){case"top":S={x,y:a.y-l.height};break;case"bottom":S={x,y:a.y+a.height};break;case"right":S={x:a.x+a.width,y};break;case"left":S={x:a.x-l.width,y};break;default:S={x:a.x,y:a.y}}switch(ma(t)){case"start":S[d]-=w*(n&&h?-1:1);break;case"end":S[d]+=w*(n&&h?-1:1);break}return S}const v_=async(e,t,n)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:d}=n,f=c.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(t));let h=await d.getElementRects({reference:e,floating:t,strategy:l}),{x,y}=Dv(h,a,p),w=a,S={},_=0;for(let N=0;N<f.length;N++){const{name:b,fn:E}=f[N],{x:C,y:P,data:M,reset:$}=await E({x,y,initialPlacement:a,placement:w,strategy:l,middlewareData:S,rects:h,platform:d,elements:{reference:e,floating:t}});x=C??x,y=P??y,S={...S,[b]:{...S[b],...M}},$&&_<=50&&(_++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(h=$.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):$.rects),{x,y}=Dv(h,w,p)),N=-1)}return{x,y,placement:w,strategy:l,middlewareData:S}};async function mo(e,t){var n;t===void 0&&(t={});const{x:a,y:l,platform:c,rects:d,elements:f,strategy:p}=e,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=qn(t,e),_=By(S),b=f[w?y==="floating"?"reference":"floating":y],E=gc(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(b)))==null||n?b:b.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:x,strategy:p})),C=y==="floating"?{x:a,y:l,width:d.floating.width,height:d.floating.height}:d.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),M=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},$=gc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:P,strategy:p}):C);return{top:(E.top-$.top+_.top)/M.y,bottom:($.bottom-E.bottom+_.bottom)/M.y,left:(E.left-$.left+_.left)/M.x,right:($.right-E.right+_.right)/M.x}}const x_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:l,rects:c,platform:d,elements:f,middlewareData:p}=t,{element:h,padding:x=0}=qn(e,t)||{};if(h==null)return{};const y=By(x),w={x:n,y:a},S=km(l),_=Cm(S),N=await d.getDimensions(h),b=S==="y",E=b?"top":"left",C=b?"bottom":"right",P=b?"clientHeight":"clientWidth",M=c.reference[_]+c.reference[S]-w[S]-c.floating[_],$=w[S]-c.reference[S],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let U=H?H[P]:0;(!U||!await(d.isElement==null?void 0:d.isElement(H)))&&(U=f.floating[P]||c.floating[_]);const re=M/2-$/2,ge=U/2-N[_]/2-1,fe=ws(y[E],ge),me=ws(y[C],ge),ee=fe,ue=U-N[_]-me,G=U/2-N[_]/2+re,he=qf(ee,G,ue),K=!p.arrow&&ma(l)!=null&&G!==he&&c.reference[_]/2-(G<ee?fe:me)-N[_]/2<0,k=K?G<ee?G-ee:G-ue:0;return{[S]:w[S]+k,data:{[S]:he,centerOffset:G-he-k,...K&&{alignmentOffset:k}},reset:K}}}),y_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:p,elements:h}=t,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:N=!0,...b}=qn(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const E=Wn(l),C=bn(f),P=Wn(f)===f,M=await(p.isRTL==null?void 0:p.isRTL(h.floating)),$=w||(P||!N?[hc(f)]:d_(f)),H=_!=="none";!w&&H&&$.push(...h_(f,N,_,M));const U=[f,...$],re=await mo(t,b),ge=[];let fe=((a=c.flip)==null?void 0:a.overflows)||[];if(x&&ge.push(re[E]),y){const G=u_(l,d,M);ge.push(re[G[0]],re[G[1]])}if(fe=[...fe,{placement:l,overflows:ge}],!ge.every(G=>G<=0)){var me,ee;const G=(((me=c.flip)==null?void 0:me.index)||0)+1,he=U[G];if(he&&(!(y==="alignment"?C!==bn(he):!1)||fe.every(I=>bn(I.placement)===C?I.overflows[0]>0:!0)))return{data:{index:G,overflows:fe},reset:{placement:he}};let K=(ee=fe.filter(k=>k.overflows[0]<=0).sort((k,I)=>k.overflows[1]-I.overflows[1])[0])==null?void 0:ee.placement;if(!K)switch(S){case"bestFit":{var ue;const k=(ue=fe.filter(I=>{if(H){const Z=bn(I.placement);return Z===C||Z==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(Z=>Z>0).reduce((Z,J)=>Z+J,0)]).sort((I,Z)=>I[1]-Z[1])[0])==null?void 0:ue[0];k&&(K=k);break}case"initialPlacement":K=f;break}if(l!==K)return{reset:{placement:K}}}return{}}}};function Mv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fv(e){return a_.some(t=>e[t]>=0)}const b_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...l}=qn(e,t);switch(a){case"referenceHidden":{const c=await mo(t,{...l,elementContext:"reference"}),d=Mv(c,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Fv(d)}}}case"escaped":{const c=await mo(t,{...l,altBoundary:!0}),d=Mv(c,n.floating);return{data:{escapedOffsets:d,escaped:Fv(d)}}}default:return{}}}}},$y=new Set(["left","top"]);async function w_(e,t){const{placement:n,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),d=Wn(n),f=ma(n),p=bn(n)==="y",h=$y.has(d)?-1:1,x=c&&p?-1:1,y=qn(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof _=="number"&&(S=f==="end"?_*-1:_),p?{x:S*x,y:w*h}:{x:w*h,y:S*x}}const j_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:l,y:c,placement:d,middlewareData:f}=t,p=await w_(t,e);return d===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+p.x,y:c+p.y,data:{...p,placement:d}}}}},N_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:l}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:b=>{let{x:E,y:C}=b;return{x:E,y:C}}},...p}=qn(e,t),h={x:n,y:a},x=await mo(t,p),y=bn(Wn(l)),w=Sm(y);let S=h[w],_=h[y];if(c){const b=w==="y"?"top":"left",E=w==="y"?"bottom":"right",C=S+x[b],P=S-x[E];S=qf(C,S,P)}if(d){const b=y==="y"?"top":"left",E=y==="y"?"bottom":"right",C=_+x[b],P=_-x[E];_=qf(C,_,P)}const N=f.fn({...t,[w]:S,[y]:_});return{...N,data:{x:N.x-n,y:N.y-a,enabled:{[w]:c,[y]:d}}}}}},S_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:l,rects:c,middlewareData:d}=t,{offset:f=0,mainAxis:p=!0,crossAxis:h=!0}=qn(e,t),x={x:n,y:a},y=bn(l),w=Sm(y);let S=x[w],_=x[y];const N=qn(f,t),b=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(p){const P=w==="y"?"height":"width",M=c.reference[w]-c.floating[P]+b.mainAxis,$=c.reference[w]+c.reference[P]-b.mainAxis;S<M?S=M:S>$&&(S=$)}if(h){var E,C;const P=w==="y"?"width":"height",M=$y.has(Wn(l)),$=c.reference[y]-c.floating[P]+(M&&((E=d.offset)==null?void 0:E[y])||0)+(M?0:b.crossAxis),H=c.reference[y]+c.reference[P]+(M?0:((C=d.offset)==null?void 0:C[y])||0)-(M?b.crossAxis:0);_<$?_=$:_>H&&(_=H)}return{[w]:S,[y]:_}}}},C_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:l,rects:c,platform:d,elements:f}=t,{apply:p=()=>{},...h}=qn(e,t),x=await mo(t,h),y=Wn(l),w=ma(l),S=bn(l)==="y",{width:_,height:N}=c.floating;let b,E;y==="top"||y==="bottom"?(b=y,E=w===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(E=y,b=w==="end"?"top":"bottom");const C=N-x.top-x.bottom,P=_-x.left-x.right,M=ws(N-x[b],C),$=ws(_-x[E],P),H=!t.middlewareData.shift;let U=M,re=$;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(re=P),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(U=C),H&&!w){const fe=Rr(x.left,0),me=Rr(x.right,0),ee=Rr(x.top,0),ue=Rr(x.bottom,0);S?re=_-2*(fe!==0||me!==0?fe+me:Rr(x.left,x.right)):U=N-2*(ee!==0||ue!==0?ee+ue:Rr(x.top,x.bottom))}await p({...t,availableWidth:re,availableHeight:U});const ge=await d.getDimensions(f.floating);return _!==ge.width||N!==ge.height?{reset:{rects:!0}}:{}}}};function Lc(){return typeof window<"u"}function pa(e){return Vy(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _n(e){var t;return(t=(Vy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vy(e){return Lc()?e instanceof Node||e instanceof Ar(e).Node:!1}function sn(e){return Lc()?e instanceof Element||e instanceof Ar(e).Element:!1}function Sn(e){return Lc()?e instanceof HTMLElement||e instanceof Ar(e).HTMLElement:!1}function Lv(e){return!Lc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot}const k_=new Set(["inline","contents"]);function Mo(e){const{overflow:t,overflowX:n,overflowY:a,display:l}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!k_.has(l)}const __=new Set(["table","td","th"]);function E_(e){return __.has(pa(e))}const T_=[":popover-open",":modal"];function Bc(e){return T_.some(t=>{try{return e.matches(t)}catch{return!1}})}const P_=["transform","translate","scale","rotate","perspective"],R_=["transform","translate","scale","rotate","perspective","filter"],A_=["paint","layout","strict","content"];function _m(e){const t=Em(),n=sn(e)?an(e):e;return P_.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||R_.some(a=>(n.willChange||"").includes(a))||A_.some(a=>(n.contain||"").includes(a))}function I_(e){let t=js(e);for(;Sn(t)&&!na(t);){if(_m(t))return t;if(Bc(t))return null;t=js(t)}return null}function Em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O_=new Set(["html","body","#document"]);function na(e){return O_.has(pa(e))}function an(e){return Ar(e).getComputedStyle(e)}function $c(e){return sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function js(e){if(pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lv(e)&&e.host||_n(e);return Lv(t)?t.host:t}function zy(e){const t=js(e);return na(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sn(t)&&Mo(t)?t:zy(t)}function po(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=zy(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),d=Ar(l);if(c){const f=Qf(d);return t.concat(d,d.visualViewport||[],Mo(l)?l:[],f&&n?po(f):[])}return t.concat(l,po(l,[],n))}function Qf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uy(e){const t=an(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const l=Sn(e),c=l?e.offsetWidth:n,d=l?e.offsetHeight:a,f=pc(n)!==c||pc(a)!==d;return f&&(n=c,a=d),{width:n,height:a,$:f}}function Tm(e){return sn(e)?e:e.contextElement}function Yi(e){const t=Tm(e);if(!Sn(t))return jn(1);const n=t.getBoundingClientRect(),{width:a,height:l,$:c}=Uy(t);let d=(c?pc(n.width):n.width)/a,f=(c?pc(n.height):n.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const D_=jn(0);function qy(e){const t=Ar(e);return!Em()||!t.visualViewport?D_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function M_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ar(e)?!1:t}function ti(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),c=Tm(e);let d=jn(1);t&&(a?sn(a)&&(d=Yi(a)):d=Yi(e));const f=M_(c,n,a)?qy(c):jn(0);let p=(l.left+f.x)/d.x,h=(l.top+f.y)/d.y,x=l.width/d.x,y=l.height/d.y;if(c){const w=Ar(c),S=a&&sn(a)?Ar(a):a;let _=w,N=Qf(_);for(;N&&a&&S!==_;){const b=Yi(N),E=N.getBoundingClientRect(),C=an(N),P=E.left+(N.clientLeft+parseFloat(C.paddingLeft))*b.x,M=E.top+(N.clientTop+parseFloat(C.paddingTop))*b.y;p*=b.x,h*=b.y,x*=b.x,y*=b.y,p+=P,h+=M,_=Ar(N),N=Qf(_)}}return gc({width:x,height:y,x:p,y:h})}function Vc(e,t){const n=$c(e).scrollLeft;return t?t.left+n:ti(_n(e)).left+n}function Wy(e,t){const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-Vc(e,n),l=n.top+t.scrollTop;return{x:a,y:l}}function F_(e){let{elements:t,rect:n,offsetParent:a,strategy:l}=e;const c=l==="fixed",d=_n(a),f=t?Bc(t.floating):!1;if(a===d||f&&c)return n;let p={scrollLeft:0,scrollTop:0},h=jn(1);const x=jn(0),y=Sn(a);if((y||!y&&!c)&&((pa(a)!=="body"||Mo(d))&&(p=$c(a)),Sn(a))){const S=ti(a);h=Yi(a),x.x=S.x+a.clientLeft,x.y=S.y+a.clientTop}const w=d&&!y&&!c?Wy(d,p):jn(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-p.scrollLeft*h.x+x.x+w.x,y:n.y*h.y-p.scrollTop*h.y+x.y+w.y}}function L_(e){return Array.from(e.getClientRects())}function B_(e){const t=_n(e),n=$c(e),a=e.ownerDocument.body,l=Rr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=Rr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let d=-n.scrollLeft+Vc(e);const f=-n.scrollTop;return an(a).direction==="rtl"&&(d+=Rr(t.clientWidth,a.clientWidth)-l),{width:l,height:c,x:d,y:f}}const Bv=25;function $_(e,t){const n=Ar(e),a=_n(e),l=n.visualViewport;let c=a.clientWidth,d=a.clientHeight,f=0,p=0;if(l){c=l.width,d=l.height;const x=Em();(!x||x&&t==="fixed")&&(f=l.offsetLeft,p=l.offsetTop)}const h=Vc(a);if(h<=0){const x=a.ownerDocument,y=x.body,w=getComputedStyle(y),S=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,_=Math.abs(a.clientWidth-y.clientWidth-S);_<=Bv&&(c-=_)}else h<=Bv&&(c+=h);return{width:c,height:d,x:f,y:p}}const V_=new Set(["absolute","fixed"]);function z_(e,t){const n=ti(e,!0,t==="fixed"),a=n.top+e.clientTop,l=n.left+e.clientLeft,c=Sn(e)?Yi(e):jn(1),d=e.clientWidth*c.x,f=e.clientHeight*c.y,p=l*c.x,h=a*c.y;return{width:d,height:f,x:p,y:h}}function $v(e,t,n){let a;if(t==="viewport")a=$_(e,n);else if(t==="document")a=B_(_n(e));else if(sn(t))a=z_(t,n);else{const l=qy(e);a={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return gc(a)}function Qy(e,t){const n=js(e);return n===t||!sn(n)||na(n)?!1:an(n).position==="fixed"||Qy(n,t)}function U_(e,t){const n=t.get(e);if(n)return n;let a=po(e,[],!1).filter(f=>sn(f)&&pa(f)!=="body"),l=null;const c=an(e).position==="fixed";let d=c?js(e):e;for(;sn(d)&&!na(d);){const f=an(d),p=_m(d);!p&&f.position==="fixed"&&(l=null),(c?!p&&!l:!p&&f.position==="static"&&!!l&&V_.has(l.position)||Mo(d)&&!p&&Qy(e,d))?a=a.filter(x=>x!==d):l=f,d=js(d)}return t.set(e,a),a}function q_(e){let{element:t,boundary:n,rootBoundary:a,strategy:l}=e;const d=[...n==="clippingAncestors"?Bc(t)?[]:U_(t,this._c):[].concat(n),a],f=d[0],p=d.reduce((h,x)=>{const y=$v(t,x,l);return h.top=Rr(y.top,h.top),h.right=ws(y.right,h.right),h.bottom=ws(y.bottom,h.bottom),h.left=Rr(y.left,h.left),h},$v(t,f,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function W_(e){const{width:t,height:n}=Uy(e);return{width:t,height:n}}function Q_(e,t,n){const a=Sn(t),l=_n(t),c=n==="fixed",d=ti(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const p=jn(0);function h(){p.x=Vc(l)}if(a||!a&&!c)if((pa(t)!=="body"||Mo(l))&&(f=$c(t)),a){const S=ti(t,!0,c,t);p.x=S.x+t.clientLeft,p.y=S.y+t.clientTop}else l&&h();c&&!a&&l&&h();const x=l&&!a&&!c?Wy(l,f):jn(0),y=d.left+f.scrollLeft-p.x-x.x,w=d.top+f.scrollTop-p.y-x.y;return{x:y,y:w,width:d.width,height:d.height}}function mf(e){return an(e).position==="static"}function Vv(e,t){if(!Sn(e)||an(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _n(e)===n&&(n=n.ownerDocument.body),n}function Ky(e,t){const n=Ar(e);if(Bc(e))return n;if(!Sn(e)){let l=js(e);for(;l&&!na(l);){if(sn(l)&&!mf(l))return l;l=js(l)}return n}let a=Vv(e,t);for(;a&&E_(a)&&mf(a);)a=Vv(a,t);return a&&na(a)&&mf(a)&&!_m(a)?n:a||I_(e)||n}const K_=async function(e){const t=this.getOffsetParent||Ky,n=this.getDimensions,a=await n(e.floating);return{reference:Q_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function H_(e){return an(e).direction==="rtl"}const G_={convertOffsetParentRelativeRectToViewportRelativeRect:F_,getDocumentElement:_n,getClippingRect:q_,getOffsetParent:Ky,getElementRects:K_,getClientRects:L_,getDimensions:W_,getScale:Yi,isElement:sn,isRTL:H_};function Hy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z_(e,t){let n=null,a;const l=_n(e);function c(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function d(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const h=e.getBoundingClientRect(),{left:x,top:y,width:w,height:S}=h;if(f||t(),!w||!S)return;const _=tc(y),N=tc(l.clientWidth-(x+w)),b=tc(l.clientHeight-(y+S)),E=tc(x),P={rootMargin:-_+"px "+-N+"px "+-b+"px "+-E+"px",threshold:Rr(0,ws(1,p))||1};let M=!0;function $(H){const U=H[0].intersectionRatio;if(U!==p){if(!M)return d();U?d(!1,U):a=setTimeout(()=>{d(!1,1e-7)},1e3)}U===1&&!Hy(h,e.getBoundingClientRect())&&d(),M=!1}try{n=new IntersectionObserver($,{...P,root:l.ownerDocument})}catch{n=new IntersectionObserver($,P)}n.observe(e)}return d(!0),c}function Y_(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=a,h=Tm(e),x=l||c?[...h?po(h):[],...po(t)]:[];x.forEach(E=>{l&&E.addEventListener("scroll",n,{passive:!0}),c&&E.addEventListener("resize",n)});const y=h&&f?Z_(h,n):null;let w=-1,S=null;d&&(S=new ResizeObserver(E=>{let[C]=E;C&&C.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var P;(P=S)==null||P.observe(t)})),n()}),h&&!p&&S.observe(h),S.observe(t));let _,N=p?ti(e):null;p&&b();function b(){const E=ti(e);N&&!Hy(N,E)&&n(),N=E,_=requestAnimationFrame(b)}return n(),()=>{var E;x.forEach(C=>{l&&C.removeEventListener("scroll",n),c&&C.removeEventListener("resize",n)}),y?.(),(E=S)==null||E.disconnect(),S=null,p&&cancelAnimationFrame(_)}}const X_=j_,J_=N_,eE=y_,tE=C_,rE=b_,zv=x_,nE=S_,sE=(e,t,n)=>{const a=new Map,l={platform:G_,...n},c={...l.platform,_c:a};return v_(e,t,{...l,platform:c})};var iE=typeof document<"u",aE=function(){},lc=iE?g.useLayoutEffect:aE;function vc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!vc(e[a],t[a]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,l[a]))return!1;for(a=n;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!vc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Gy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(e,t){const n=Gy(e);return Math.round(t*n)/n}function pf(e){const t=g.useRef(e);return lc(()=>{t.current=e}),t}function oE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:p,open:h}=e,[x,y]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=g.useState(a);vc(w,a)||S(a);const[_,N]=g.useState(null),[b,E]=g.useState(null),C=g.useCallback(I=>{I!==H.current&&(H.current=I,N(I))},[]),P=g.useCallback(I=>{I!==U.current&&(U.current=I,E(I))},[]),M=c||_,$=d||b,H=g.useRef(null),U=g.useRef(null),re=g.useRef(x),ge=p!=null,fe=pf(p),me=pf(l),ee=pf(h),ue=g.useCallback(()=>{if(!H.current||!U.current)return;const I={placement:t,strategy:n,middleware:w};me.current&&(I.platform=me.current),sE(H.current,U.current,I).then(Z=>{const J={...Z,isPositioned:ee.current!==!1};G.current&&!vc(re.current,J)&&(re.current=J,ua.flushSync(()=>{y(J)}))})},[w,t,n,me,ee]);lc(()=>{h===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[h]);const G=g.useRef(!1);lc(()=>(G.current=!0,()=>{G.current=!1}),[]),lc(()=>{if(M&&(H.current=M),$&&(U.current=$),M&&$){if(fe.current)return fe.current(M,$,ue);ue()}},[M,$,ue,fe,ge]);const he=g.useMemo(()=>({reference:H,floating:U,setReference:C,setFloating:P}),[C,P]),K=g.useMemo(()=>({reference:M,floating:$}),[M,$]),k=g.useMemo(()=>{const I={position:n,left:0,top:0};if(!K.floating)return I;const Z=Uv(K.floating,x.x),J=Uv(K.floating,x.y);return f?{...I,transform:"translate("+Z+"px, "+J+"px)",...Gy(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:J}},[n,f,K.floating,x.x,x.y]);return g.useMemo(()=>({...x,update:ue,refs:he,elements:K,floatingStyles:k}),[x,ue,he,K,k])}const lE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:l}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?zv({element:a.current,padding:l}).fn(n):{}:a?zv({element:a,padding:l}).fn(n):{}}}},cE=(e,t)=>({...X_(e),options:[e,t]}),uE=(e,t)=>({...J_(e),options:[e,t]}),dE=(e,t)=>({...nE(e),options:[e,t]}),fE=(e,t)=>({...eE(e),options:[e,t]}),mE=(e,t)=>({...tE(e),options:[e,t]}),pE=(e,t)=>({...rE(e),options:[e,t]}),hE=(e,t)=>({...lE(e),options:[e,t]});var gE="Arrow",Zy=g.forwardRef((e,t)=>{const{children:n,width:a=10,height:l=5,...c}=e;return i.jsx(Oe.svg,{...c,ref:t,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zy.displayName=gE;var vE=Zy;function Pm(e){const[t,n]=g.useState(void 0);return Jt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const p=c.borderBoxSize,h=Array.isArray(p)?p[0]:p;d=h.inlineSize,f=h.blockSize}else d=e.offsetWidth,f=e.offsetHeight;n({width:d,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Rm="Popper",[Yy,ha]=Or(Rm),[xE,Xy]=Yy(Rm),Jy=e=>{const{__scopePopper:t,children:n}=e,[a,l]=g.useState(null);return i.jsx(xE,{scope:t,anchor:a,onAnchorChange:l,children:n})};Jy.displayName=Rm;var eb="PopperAnchor",tb=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...l}=e,c=Xy(eb,n),d=g.useRef(null),f=He(t,d),p=g.useRef(null);return g.useEffect(()=>{const h=p.current;p.current=a?.current||d.current,h!==p.current&&c.onAnchorChange(p.current)}),a?null:i.jsx(Oe.div,{...l,ref:f})});tb.displayName=eb;var Am="PopperContent",[yE,bE]=Yy(Am),rb=g.forwardRef((e,t)=>{const{__scopePopper:n,side:a="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:_,...N}=e,b=Xy(Am,n),[E,C]=g.useState(null),P=He(t,X=>C(X)),[M,$]=g.useState(null),H=Pm(M),U=H?.width??0,re=H?.height??0,ge=a+(c!=="center"?"-"+c:""),fe=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},me=Array.isArray(h)?h:[h],ee=me.length>0,ue={padding:fe,boundary:me.filter(jE),altBoundary:ee},{refs:G,floatingStyles:he,placement:K,isPositioned:k,middlewareData:I}=oE({strategy:"fixed",placement:ge,whileElementsMounted:(...X)=>Y_(...X,{animationFrame:S==="always"}),elements:{reference:b.anchor},middleware:[cE({mainAxis:l+re,alignmentAxis:d}),p&&uE({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?dE():void 0,...ue}),p&&fE({...ue}),mE({...ue,apply:({elements:X,rects:ce,availableWidth:we,availableHeight:$e})=>{const{width:nt,height:ot}=ce.reference,Dt=X.floating.style;Dt.setProperty("--radix-popper-available-width",`${we}px`),Dt.setProperty("--radix-popper-available-height",`${$e}px`),Dt.setProperty("--radix-popper-anchor-width",`${nt}px`),Dt.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),M&&hE({element:M,padding:f}),NE({arrowWidth:U,arrowHeight:re}),w&&pE({strategy:"referenceHidden",...ue})]}),[Z,J]=ib(K),R=Ur(_);Jt(()=>{k&&R?.()},[k,R]);const O=I.arrow?.x,B=I.arrow?.y,F=I.arrow?.centerOffset!==0,[V,ie]=g.useState();return Jt(()=>{E&&ie(window.getComputedStyle(E).zIndex)},[E]),i.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:k?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(yE,{scope:n,placedSide:Z,onArrowChange:$,arrowX:O,arrowY:B,shouldHideArrow:F,children:i.jsx(Oe.div,{"data-side":Z,"data-align":J,...N,ref:P,style:{...N.style,animation:k?void 0:"none"}})})})});rb.displayName=Am;var nb="PopperArrow",wE={top:"bottom",right:"left",bottom:"top",left:"right"},sb=g.forwardRef(function(t,n){const{__scopePopper:a,...l}=t,c=bE(nb,a),d=wE[c.placedSide];return i.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:i.jsx(vE,{...l,ref:n,style:{...l.style,display:"block"}})})});sb.displayName=nb;function jE(e){return e!==null}var NE=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:a,middlewareData:l}=t,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,p=d?0:e.arrowHeight,[h,x]=ib(n),y={start:"0%",center:"50%",end:"100%"}[x],w=(l.arrow?.x??0)+f/2,S=(l.arrow?.y??0)+p/2;let _="",N="";return h==="bottom"?(_=d?y:`${w}px`,N=`${-p}px`):h==="top"?(_=d?y:`${w}px`,N=`${a.floating.height+p}px`):h==="right"?(_=`${-p}px`,N=d?y:`${S}px`):h==="left"&&(_=`${a.floating.width+p}px`,N=d?y:`${S}px`),{data:{x:_,y:N}}}});function ib(e){const[t,n="center"]=e.split("-");return[t,n]}var ab=Jy,zc=tb,Im=rb,Om=sb,[Uc,VD]=Or("Tooltip",[ha]),Dm=ha(),ob="TooltipProvider",SE=700,qv="tooltip.open",[CE,lb]=Uc(ob),cb=e=>{const{__scopeTooltip:t,delayDuration:n=SE,skipDelayDuration:a=300,disableHoverableContent:l=!1,children:c}=e,d=g.useRef(!0),f=g.useRef(!1),p=g.useRef(0);return g.useEffect(()=>{const h=p.current;return()=>window.clearTimeout(h)},[]),i.jsx(CE,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(p.current),d.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:g.useCallback(h=>{f.current=h},[]),disableHoverableContent:l,children:c})};cb.displayName=ob;var ub="Tooltip",[zD,qc]=Uc(ub),Kf="TooltipTrigger",kE=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,l=qc(Kf,n),c=lb(Kf,n),d=Dm(n),f=g.useRef(null),p=He(t,f,l.onTriggerChange),h=g.useRef(!1),x=g.useRef(!1),y=g.useCallback(()=>h.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),i.jsx(zc,{asChild:!0,...d,children:i.jsx(Oe.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:p,onPointerMove:Ee(e.onPointerMove,w=>{w.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{l.onTriggerLeave(),x.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{l.open&&l.onClose(),h.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ee(e.onFocus,()=>{h.current||l.onOpen()}),onBlur:Ee(e.onBlur,l.onClose),onClick:Ee(e.onClick,l.onClose)})})});kE.displayName=Kf;var _E="TooltipPortal",[UD,EE]=Uc(_E,{forceMount:void 0}),sa="TooltipContent",db=g.forwardRef((e,t)=>{const n=EE(sa,e.__scopeTooltip),{forceMount:a=n.forceMount,side:l="top",...c}=e,d=qc(sa,e.__scopeTooltip);return i.jsx(un,{present:a||d.open,children:d.disableHoverableContent?i.jsx(fb,{side:l,...c,ref:t}):i.jsx(TE,{side:l,...c,ref:t})})}),TE=g.forwardRef((e,t)=>{const n=qc(sa,e.__scopeTooltip),a=lb(sa,e.__scopeTooltip),l=g.useRef(null),c=He(t,l),[d,f]=g.useState(null),{trigger:p,onClose:h}=n,x=l.current,{onPointerInTransitChange:y}=a,w=g.useCallback(()=>{f(null),y(!1)},[y]),S=g.useCallback((_,N)=>{const b=_.currentTarget,E={x:_.clientX,y:_.clientY},C=OE(E,b.getBoundingClientRect()),P=DE(E,C),M=ME(N.getBoundingClientRect()),$=LE([...P,...M]);f($),y(!0)},[y]);return g.useEffect(()=>()=>w(),[w]),g.useEffect(()=>{if(p&&x){const _=b=>S(b,x),N=b=>S(b,p);return p.addEventListener("pointerleave",_),x.addEventListener("pointerleave",N),()=>{p.removeEventListener("pointerleave",_),x.removeEventListener("pointerleave",N)}}},[p,x,S,w]),g.useEffect(()=>{if(d){const _=N=>{const b=N.target,E={x:N.clientX,y:N.clientY},C=p?.contains(b)||x?.contains(b),P=!FE(E,d);C?w():P&&(w(),h())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[p,x,d,h,w]),i.jsx(fb,{...e,ref:c})}),[PE,RE]=Uc(ub,{isInside:!1}),AE=Jx("TooltipContent"),fb=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=e,p=qc(sa,n),h=Dm(n),{onClose:x}=p;return g.useEffect(()=>(document.addEventListener(qv,x),()=>document.removeEventListener(qv,x)),[x]),g.useEffect(()=>{if(p.trigger){const y=w=>{w.target?.contains(p.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[p.trigger,x]),i.jsx(da,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:i.jsxs(Im,{"data-state":p.stateAttribute,...h,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(AE,{children:a}),i.jsx(PE,{scope:n,isInside:!0,children:i.jsx(Bk,{id:p.contentId,role:"tooltip",children:l||a})})]})})});db.displayName=sa;var mb="TooltipArrow",IE=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,l=Dm(n);return RE(mb,n).isInside?null:i.jsx(Om,{...l,...a,ref:t})});IE.displayName=mb;function OE(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(n,a,l,c)){case c:return"left";case l:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function DE(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return a}function ME(e){const{top:t,right:n,bottom:a,left:l}=e;return[{x:l,y:t},{x:n,y:t},{x:n,y:a},{x:l,y:a}]}function FE(e,t){const{x:n,y:a}=e;let l=!1;for(let c=0,d=t.length-1;c<t.length;d=c++){const f=t[c],p=t[d],h=f.x,x=f.y,y=p.x,w=p.y;x>a!=w>a&&n<(y-h)*(a-x)/(w-x)+h&&(l=!l)}return l}function LE(e){const t=e.slice();return t.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),BE(t)}function BE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const l=e[a];for(;t.length>=2;){const c=t[t.length-1],d=t[t.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))t.pop();else break}t.push(l)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const l=e[a];for(;n.length>=2;){const c=n[n.length-1],d=n[n.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))n.pop();else break}n.push(l)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $E=cb,pb=db;const VE=$E,zE=g.forwardRef(({className:e,sideOffset:t=4,...n},a)=>i.jsx(pb,{ref:a,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));zE.displayName=pb.displayName;const Ae=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const Ke=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));Ke.displayName="CardHeader";const Ze=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const vt=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));vt.displayName="CardDescription";const Ie=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const UE=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",e),...t}));UE.displayName="CardFooter";const Mm=Do("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=g.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...l},c)=>{const d=a?gk:"button";return i.jsx(d,{className:Se(Mm({variant:t,size:n,className:e})),ref:c,...l})});ae.displayName="Button";var hf="focusScope.autoFocusOnMount",gf="focusScope.autoFocusOnUnmount",Wv={bubbles:!1,cancelable:!0},qE="FocusScope",Wc=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=e,[f,p]=g.useState(null),h=Ur(l),x=Ur(c),y=g.useRef(null),w=He(t,N=>p(N)),S=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(a){let N=function(P){if(S.paused||!f)return;const M=P.target;f.contains(M)?y.current=M:vs(y.current,{select:!0})},b=function(P){if(S.paused||!f)return;const M=P.relatedTarget;M!==null&&(f.contains(M)||vs(y.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const $ of P)$.removedNodes.length>0&&vs(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",b);const C=new MutationObserver(E);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",b),C.disconnect()}}},[a,f,S.paused]),g.useEffect(()=>{if(f){Kv.add(S);const N=document.activeElement;if(!f.contains(N)){const E=new CustomEvent(hf,Wv);f.addEventListener(hf,h),f.dispatchEvent(E),E.defaultPrevented||(WE(ZE(hb(f)),{select:!0}),document.activeElement===N&&vs(f))}return()=>{f.removeEventListener(hf,h),setTimeout(()=>{const E=new CustomEvent(gf,Wv);f.addEventListener(gf,x),f.dispatchEvent(E),E.defaultPrevented||vs(N??document.body,{select:!0}),f.removeEventListener(gf,x),Kv.remove(S)},0)}}},[f,h,x,S]);const _=g.useCallback(N=>{if(!n&&!a||S.paused)return;const b=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,E=document.activeElement;if(b&&E){const C=N.currentTarget,[P,M]=QE(C);P&&M?!N.shiftKey&&E===M?(N.preventDefault(),n&&vs(P,{select:!0})):N.shiftKey&&E===P&&(N.preventDefault(),n&&vs(M,{select:!0})):E===C&&N.preventDefault()}},[n,a,S.paused]);return i.jsx(Oe.div,{tabIndex:-1,...d,ref:w,onKeyDown:_})});Wc.displayName=qE;function WE(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(vs(a,{select:t}),document.activeElement!==n)return}function QE(e){const t=hb(e),n=Qv(t,e),a=Qv(t.reverse(),e);return[n,a]}function hb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qv(e,t){for(const n of e)if(!KE(n,{upTo:t}))return n}function KE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HE(e){return e instanceof HTMLInputElement&&"select"in e}function vs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HE(e)&&t&&e.select()}}var Kv=GE();function GE(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Hv(e,t),e.unshift(t)},remove(t){e=Hv(e,t),e[0]?.resume()}}}function Hv(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function ZE(e){return e.filter(t=>t.tagName!=="A")}var vf=0;function Fm(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gv()),document.body.insertAdjacentElement("beforeend",e[1]??Gv()),vf++,()=>{vf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vf--}},[])}function Gv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yn=function(){return yn=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},yn.apply(this,arguments)};function gb(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n}function YE(e,t,n){if(n||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}var cc="right-scroll-bar-position",uc="width-before-scroll-bar",XE="with-scroll-bars-hidden",JE="--removed-body-scroll-bar-size";function xf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eT(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var l=n.value;l!==a&&(n.value=a,n.callback(a,l))}}}})[0];return n.callback=t,n.facade}var tT=typeof window<"u"?g.useLayoutEffect:g.useEffect,Zv=new WeakMap;function rT(e,t){var n=eT(null,function(a){return e.forEach(function(l){return xf(l,a)})});return tT(function(){var a=Zv.get(n);if(a){var l=new Set(a),c=new Set(e),d=n.current;l.forEach(function(f){c.has(f)||xf(f,null)}),c.forEach(function(f){l.has(f)||xf(f,d)})}Zv.set(n,e)},[e]),n}function nT(e){return e}function sT(e,t){t===void 0&&(t=nT);var n=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var d=t(c,a);return n.push(d),function(){n=n.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(a=!0;n.length;){var d=n;n=[],d.forEach(c)}n={push:function(f){return c(f)},filter:function(){return n}}},assignMedium:function(c){a=!0;var d=[];if(n.length){var f=n;n=[],f.forEach(c),d=n}var p=function(){var x=d;d=[],x.forEach(c)},h=function(){return Promise.resolve().then(p)};h(),n={push:function(x){d.push(x),h()},filter:function(x){return d=d.filter(x),n}}}};return l}function iT(e){e===void 0&&(e={});var t=sT(null);return t.options=yn({async:!0,ssr:!1},e),t}var vb=function(e){var t=e.sideCar,n=gb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return g.createElement(a,yn({},n))};vb.isSideCarExport=!0;function aT(e,t){return e.useMedium(t),vb}var xb=iT(),yf=function(){},Qc=g.forwardRef(function(e,t){var n=g.useRef(null),a=g.useState({onScrollCapture:yf,onWheelCapture:yf,onTouchMoveCapture:yf}),l=a[0],c=a[1],d=e.forwardProps,f=e.children,p=e.className,h=e.removeScrollBar,x=e.enabled,y=e.shards,w=e.sideCar,S=e.noRelative,_=e.noIsolation,N=e.inert,b=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,P=e.gapMode,M=gb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,H=rT([n,t]),U=yn(yn({},M),l);return g.createElement(g.Fragment,null,x&&g.createElement($,{sideCar:xb,removeScrollBar:h,shards:y,noRelative:S,noIsolation:_,inert:N,setCallbacks:c,allowPinchZoom:!!b,lockRef:n,gapMode:P}),d?g.cloneElement(g.Children.only(f),yn(yn({},U),{ref:H})):g.createElement(C,yn({},U,{className:p,ref:H}),f))});Qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qc.classNames={fullWidth:uc,zeroRight:cc};var oT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oT();return t&&e.setAttribute("nonce",t),e}function cT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lT())&&(cT(t,n),uT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fT=function(){var e=dT();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yb=function(){var e=fT(),t=function(n){var a=n.styles,l=n.dynamic;return e(a,l),null};return t},mT={left:0,top:0,right:0,gap:0},bf=function(e){return parseInt(e||"",10)||0},pT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[bf(n),bf(a),bf(l)]},hT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mT;var t=pT(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},gT=yb(),Xi="data-scroll-locked",vT=function(e,t,n,a){var l=e.left,c=e.top,d=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(XE,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Xi,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Xi,`] {
    `).concat(JE,": ").concat(f,`px;
  }
`)},Yv=function(){var e=parseInt(document.body.getAttribute(Xi)||"0",10);return isFinite(e)?e:0},xT=function(){g.useEffect(function(){return document.body.setAttribute(Xi,(Yv()+1).toString()),function(){var e=Yv()-1;e<=0?document.body.removeAttribute(Xi):document.body.setAttribute(Xi,e.toString())}},[])},yT=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;xT();var c=g.useMemo(function(){return hT(l)},[l]);return g.createElement(gT,{styles:vT(c,!t,l,n?"":"!important")})},Hf=!1;if(typeof window<"u")try{var rc=Object.defineProperty({},"passive",{get:function(){return Hf=!0,!0}});window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{Hf=!1}var zi=Hf?{passive:!1}:!1,bT=function(e){return e.tagName==="TEXTAREA"},bb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!bT(e)&&n[t]==="visible")},wT=function(e){return bb(e,"overflowY")},jT=function(e){return bb(e,"overflowX")},Xv=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=wb(e,a);if(l){var c=jb(e,a),d=c[1],f=c[2];if(d>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},NT=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},ST=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},wb=function(e,t){return e==="v"?wT(t):jT(t)},jb=function(e,t){return e==="v"?NT(t):ST(t)},CT=function(e,t){return e==="h"&&t==="rtl"?-1:1},kT=function(e,t,n,a,l){var c=CT(e,window.getComputedStyle(t).direction),d=c*a,f=n.target,p=t.contains(f),h=!1,x=d>0,y=0,w=0;do{if(!f)break;var S=jb(e,f),_=S[0],N=S[1],b=S[2],E=N-b-c*_;(_||E)&&wb(e,f)&&(y+=E,w+=_);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(x&&Math.abs(y)<1||!x&&Math.abs(w)<1)&&(h=!0),h},nc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jv=function(e){return[e.deltaX,e.deltaY]},ex=function(e){return e&&"current"in e?e.current:e},_T=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ET=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TT=0,Ui=[];function PT(e){var t=g.useRef([]),n=g.useRef([0,0]),a=g.useRef(),l=g.useState(TT++)[0],c=g.useState(yb)[0],d=g.useRef(e);g.useEffect(function(){d.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=YE([e.lockRef.current],(e.shards||[]).map(ex),!0).filter(Boolean);return N.forEach(function(b){return b.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=g.useCallback(function(N,b){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var E=nc(N),C=n.current,P="deltaX"in N?N.deltaX:C[0]-E[0],M="deltaY"in N?N.deltaY:C[1]-E[1],$,H=N.target,U=Math.abs(P)>Math.abs(M)?"h":"v";if("touches"in N&&U==="h"&&H.type==="range")return!1;var re=Xv(U,H);if(!re)return!0;if(re?$=U:($=U==="v"?"h":"v",re=Xv(U,H)),!re)return!1;if(!a.current&&"changedTouches"in N&&(P||M)&&(a.current=$),!$)return!0;var ge=a.current||$;return kT(ge,b,N,ge==="h"?P:M)},[]),p=g.useCallback(function(N){var b=N;if(!(!Ui.length||Ui[Ui.length-1]!==c)){var E="deltaY"in b?Jv(b):nc(b),C=t.current.filter(function($){return $.name===b.type&&($.target===b.target||b.target===$.shadowParent)&&_T($.delta,E)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var P=(d.current.shards||[]).map(ex).filter(Boolean).filter(function($){return $.contains(b.target)}),M=P.length>0?f(b,P[0]):!d.current.noIsolation;M&&b.cancelable&&b.preventDefault()}}},[]),h=g.useCallback(function(N,b,E,C){var P={name:N,delta:b,target:E,should:C,shadowParent:RT(E)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(M){return M!==P})},1)},[]),x=g.useCallback(function(N){n.current=nc(N),a.current=void 0},[]),y=g.useCallback(function(N){h(N.type,Jv(N),N.target,f(N,e.lockRef.current))},[]),w=g.useCallback(function(N){h(N.type,nc(N),N.target,f(N,e.lockRef.current))},[]);g.useEffect(function(){return Ui.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",p,zi),document.addEventListener("touchmove",p,zi),document.addEventListener("touchstart",x,zi),function(){Ui=Ui.filter(function(N){return N!==c}),document.removeEventListener("wheel",p,zi),document.removeEventListener("touchmove",p,zi),document.removeEventListener("touchstart",x,zi)}},[]);var S=e.removeScrollBar,_=e.inert;return g.createElement(g.Fragment,null,_?g.createElement(c,{styles:ET(l)}):null,S?g.createElement(yT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AT=aT(xb,PT);var Kc=g.forwardRef(function(e,t){return g.createElement(Qc,yn({},e,{ref:t,sideCar:AT}))});Kc.classNames=Qc.classNames;var IT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qi=new WeakMap,sc=new WeakMap,ic={},wf=0,Nb=function(e){return e&&(e.host||Nb(e.parentNode))},OT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=Nb(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},DT=function(e,t,n,a){var l=OT(t,Array.isArray(e)?e:[e]);ic[n]||(ic[n]=new WeakMap);var c=ic[n],d=[],f=new Set,p=new Set(l),h=function(y){!y||f.has(y)||(f.add(y),h(y.parentNode))};l.forEach(h);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(w){if(f.has(w))x(w);else try{var S=w.getAttribute(a),_=S!==null&&S!=="false",N=(qi.get(w)||0)+1,b=(c.get(w)||0)+1;qi.set(w,N),c.set(w,b),d.push(w),N===1&&_&&sc.set(w,!0),b===1&&w.setAttribute(n,"true"),_||w.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return x(t),f.clear(),wf++,function(){d.forEach(function(y){var w=qi.get(y)-1,S=c.get(y)-1;qi.set(y,w),c.set(y,S),w||(sc.has(y)||y.removeAttribute(a),sc.delete(y)),S||y.removeAttribute(n)}),wf--,wf||(qi=new WeakMap,qi=new WeakMap,sc=new WeakMap,ic={})}},Lm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=IT(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),DT(a,l,n,"aria-hidden")):function(){return null}},Hc="Dialog",[Sb,Cb]=Or(Hc),[MT,dn]=Sb(Hc),kb=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=g.useRef(null),p=g.useRef(null),[h,x]=Un({prop:a,defaultProp:l??!1,onChange:c,caller:Hc});return i.jsx(MT,{scope:t,triggerRef:f,contentRef:p,contentId:pr(),titleId:pr(),descriptionId:pr(),open:h,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(y=>!y),[x]),modal:d,children:n})};kb.displayName=Hc;var _b="DialogTrigger",Eb=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=dn(_b,n),c=He(t,l.triggerRef);return i.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Vm(l.open),...a,ref:c,onClick:Ee(e.onClick,l.onOpenToggle)})});Eb.displayName=_b;var Bm="DialogPortal",[FT,Tb]=Sb(Bm,{forceMount:void 0}),Pb=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:l}=e,c=dn(Bm,t);return i.jsx(FT,{scope:t,forceMount:n,children:g.Children.map(a,d=>i.jsx(un,{present:n||c.open,children:i.jsx(Io,{asChild:!0,container:l,children:d})}))})};Pb.displayName=Bm;var xc="DialogOverlay",Rb=g.forwardRef((e,t)=>{const n=Tb(xc,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,c=dn(xc,e.__scopeDialog);return c.modal?i.jsx(un,{present:a||c.open,children:i.jsx(BT,{...l,ref:t})}):null});Rb.displayName=xc;var LT=ei("DialogOverlay.RemoveScroll"),BT=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=dn(xc,n);return i.jsx(Kc,{as:LT,allowPinchZoom:!0,shards:[l.contentRef],children:i.jsx(Oe.div,{"data-state":Vm(l.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ri="DialogContent",Ab=g.forwardRef((e,t)=>{const n=Tb(ri,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,c=dn(ri,e.__scopeDialog);return i.jsx(un,{present:a||c.open,children:c.modal?i.jsx($T,{...l,ref:t}):i.jsx(VT,{...l,ref:t})})});Ab.displayName=ri;var $T=g.forwardRef((e,t)=>{const n=dn(ri,e.__scopeDialog),a=g.useRef(null),l=He(t,n.contentRef,a);return g.useEffect(()=>{const c=a.current;if(c)return Lm(c)},[]),i.jsx(Ib,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,c=>{c.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,c=>c.preventDefault())})}),VT=g.forwardRef((e,t)=>{const n=dn(ri,e.__scopeDialog),a=g.useRef(!1),l=g.useRef(!1);return i.jsx(Ib,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||n.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=c.target;n.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),Ib=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,...d}=e,f=dn(ri,n),p=g.useRef(null),h=He(t,p);return Fm(),i.jsxs(i.Fragment,{children:[i.jsx(Wc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:c,children:i.jsx(da,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Vm(f.open),...d,ref:h,onDismiss:()=>f.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(UT,{titleId:f.titleId}),i.jsx(WT,{contentRef:p,descriptionId:f.descriptionId})]})]})}),$m="DialogTitle",Ob=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=dn($m,n);return i.jsx(Oe.h2,{id:l.titleId,...a,ref:t})});Ob.displayName=$m;var Db="DialogDescription",Mb=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=dn(Db,n);return i.jsx(Oe.p,{id:l.descriptionId,...a,ref:t})});Mb.displayName=Db;var Fb="DialogClose",Lb=g.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=dn(Fb,n);return i.jsx(Oe.button,{type:"button",...a,ref:t,onClick:Ee(e.onClick,()=>l.onOpenChange(!1))})});Lb.displayName=Fb;function Vm(e){return e?"open":"closed"}var Bb="DialogTitleWarning",[zT,$b]=pk(Bb,{contentName:ri,titleName:$m,docsSlug:"dialog"}),UT=({titleId:e})=>{const t=$b(Bb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qT="DialogDescriptionWarning",WT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$b(qT).contentName}}.`;return g.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},zm=kb,Vb=Eb,Um=Pb,Gc=Rb,Zc=Ab,qm=Ob,Wm=Mb,Qm=Lb;const ar=zm,QT=Vb,KT=Um,zb=g.forwardRef(({className:e,...t},n)=>i.jsx(Gc,{ref:n,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zb.displayName=Gc.displayName;const Zt=g.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(KT,{children:[i.jsx(zb,{}),i.jsxs(Zc,{ref:a,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(Qm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ey,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zt.displayName=Zc.displayName;const Yt=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yt.displayName="DialogHeader";const Xt=g.forwardRef(({className:e,...t},n)=>i.jsx(qm,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));Xt.displayName=qm.displayName;const ho=g.forwardRef(({className:e,...t},n)=>i.jsx(Wm,{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));ho.displayName=Wm.displayName;function Km(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Yc="Checkbox",[HT,qD]=Or(Yc),[GT,Hm]=HT(Yc);function ZT(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:l,disabled:c,form:d,name:f,onCheckedChange:p,required:h,value:x="on",internal_do_not_use_render:y}=e,[w,S]=Un({prop:n,defaultProp:l??!1,onChange:p,caller:Yc}),[_,N]=g.useState(null),[b,E]=g.useState(null),C=g.useRef(!1),P=_?!!d||!!_.closest("form"):!0,M={checked:w,disabled:c,setChecked:S,control:_,setControl:N,name:f,form:d,value:x,hasConsumerStoppedPropagationRef:C,required:h,defaultChecked:bs(l)?!1:l,isFormControl:P,bubbleInput:b,setBubbleInput:E};return i.jsx(GT,{scope:t,...M,children:YT(y)?y(M):a})}var Ub="CheckboxTrigger",qb=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...a},l)=>{const{control:c,value:d,disabled:f,checked:p,required:h,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:_}=Hm(Ub,e),N=He(l,x),b=g.useRef(p);return g.useEffect(()=>{const E=c?.form;if(E){const C=()=>y(b.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[c,y]),i.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":bs(p)?"mixed":p,"aria-required":h,"data-state":Gb(p),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:N,onKeyDown:Ee(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Ee(n,E=>{y(C=>bs(C)?!0:!C),_&&S&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})})});qb.displayName=Ub;var Gm=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:p,onCheckedChange:h,form:x,...y}=e;return i.jsx(ZT,{__scopeCheckbox:n,checked:l,defaultChecked:c,disabled:f,required:d,onCheckedChange:h,name:a,form:x,value:p,internal_do_not_use_render:({isFormControl:w})=>i.jsxs(i.Fragment,{children:[i.jsx(qb,{...y,ref:t,__scopeCheckbox:n}),w&&i.jsx(Hb,{__scopeCheckbox:n})]})})});Gm.displayName=Yc;var Wb="CheckboxIndicator",Qb=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...l}=e,c=Hm(Wb,n);return i.jsx(un,{present:a||bs(c.checked)||c.checked===!0,children:i.jsx(Oe.span,{"data-state":Gb(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});Qb.displayName=Wb;var Kb="CheckboxBubbleInput",Hb=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:d,required:f,disabled:p,name:h,value:x,form:y,bubbleInput:w,setBubbleInput:S}=Hm(Kb,e),_=He(n,S),N=Km(c),b=Pm(a);g.useEffect(()=>{const C=w;if(!C)return;const P=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(P,"checked").set,H=!l.current;if(N!==c&&$){const U=new Event("click",{bubbles:H});C.indeterminate=bs(c),$.call(C,bs(c)?!1:c),C.dispatchEvent(U)}},[w,N,c,l]);const E=g.useRef(bs(c)?!1:c);return i.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??E.current,required:f,disabled:p,name:h,value:x,form:y,...t,tabIndex:-1,ref:_,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Hb.displayName=Kb;function YT(e){return typeof e=="function"}function bs(e){return e==="indeterminate"}function Gb(e){return bs(e)?"indeterminate":e?"checked":"unchecked"}const zr=g.forwardRef(({className:e,...t},n)=>i.jsx(Gm,{ref:n,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(Qb,{className:Se("flex items-center justify-center text-current"),children:i.jsx(_y,{className:"h-4 w-4"})})}));zr.displayName=Gm.displayName;var XT="Label",Zb=g.forwardRef((e,t)=>i.jsx(Oe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Zb.displayName=XT;var Yb=Zb;const JT=Do("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=g.forwardRef(({className:e,...t},n)=>i.jsx(Yb,{ref:n,className:Se(JT(),e),...t}));De.displayName=Yb.displayName;function Xb(){const e=cn(),{toast:t}=Cr(),n=g.useRef(null),a=g.useRef(null);return g.useEffect(()=>{const l=()=>{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,p=new WebSocket(f);n.current=p,p.onopen=()=>{console.log("WebSocket connected")},p.onmessage=h=>{try{const x=JSON.parse(h.data);c(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},p.onclose=()=>{console.log("WebSocket disconnected"),a.current=setTimeout(l,3e3)},p.onerror=h=>{console.error("WebSocket error:",h)}},c=d=>{switch(d.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":t({title:"Bot Error",description:d.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":t({title:"Bot Connected",description:`${d.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",d.type)}};return l(),()=>{a.current&&clearTimeout(a.current),n.current&&n.current.close()}},[e,t]),n.current}const Jb=g.createContext(void 0);function eP({children:e}){const[t,n]=g.useState(null),[a,l]=g.useState(null);g.useEffect(()=>{const p=localStorage.getItem("auth_token"),h=localStorage.getItem("user");if(p&&h)try{const x=JSON.parse(h);l(p),n(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:t,token:a,login:(p,h)=>{l(p),n(h),localStorage.setItem("auth_token",p),localStorage.setItem("user",JSON.stringify(h))},logout:()=>{l(null),n(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!a,isAdmin:!!t?.isAdmin};return i.jsx(Jb.Provider,{value:f,children:e})}function Xc(){const e=g.useContext(Jb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const ir=g.forwardRef(({className:e,type:t,...n},a)=>i.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));ir.displayName="Input";function tx(e,[t,n]){return Math.min(n,Math.max(t,e))}var tP=g.createContext(void 0);function Jc(e){const t=g.useContext(tP);return e||t||"ltr"}var rP=[" ","Enter","ArrowUp","ArrowDown"],nP=[" ","Enter"],ni="Select",[eu,tu,sP]=xm(ni),[ga,WD]=Or(ni,[sP,ha]),ru=ha(),[iP,Ps]=ga(ni),[aP,oP]=ga(ni),e0=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:l,onOpenChange:c,value:d,defaultValue:f,onValueChange:p,dir:h,name:x,autoComplete:y,disabled:w,required:S,form:_}=e,N=ru(t),[b,E]=g.useState(null),[C,P]=g.useState(null),[M,$]=g.useState(!1),H=Jc(h),[U,re]=Un({prop:a,defaultProp:l??!1,onChange:c,caller:ni}),[ge,fe]=Un({prop:d,defaultProp:f,onChange:p,caller:ni}),me=g.useRef(null),ee=b?_||!!b.closest("form"):!0,[ue,G]=g.useState(new Set),he=Array.from(ue).map(K=>K.props.value).join(";");return i.jsx(ab,{...N,children:i.jsxs(iP,{required:S,scope:t,trigger:b,onTriggerChange:E,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:M,onValueNodeHasChildrenChange:$,contentId:pr(),value:ge,onValueChange:fe,open:U,onOpenChange:re,dir:H,triggerPointerDownPosRef:me,disabled:w,children:[i.jsx(eu.Provider,{scope:t,children:i.jsx(aP,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(K=>{G(k=>new Set(k).add(K))},[]),onNativeOptionRemove:g.useCallback(K=>{G(k=>{const I=new Set(k);return I.delete(K),I})},[]),children:n})}),ee?i.jsxs(S0,{"aria-hidden":!0,required:S,tabIndex:-1,name:x,autoComplete:y,value:ge,onChange:K=>fe(K.target.value),disabled:w,form:_,children:[ge===void 0?i.jsx("option",{value:""}):null,Array.from(ue)]},he):null]})})};e0.displayName=ni;var t0="SelectTrigger",r0=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...l}=e,c=ru(n),d=Ps(t0,n),f=d.disabled||a,p=He(t,d.onTriggerChange),h=tu(n),x=g.useRef("touch"),[y,w,S]=k0(N=>{const b=h().filter(P=>!P.disabled),E=b.find(P=>P.value===d.value),C=_0(b,N,E);C!==void 0&&d.onValueChange(C.value)}),_=N=>{f||(d.onOpenChange(!0),S()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return i.jsx(zc,{asChild:!0,...c,children:i.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":C0(d.value)?"":void 0,...l,ref:p,onClick:Ee(l.onClick,N=>{N.currentTarget.focus(),x.current!=="mouse"&&_(N)}),onPointerDown:Ee(l.onPointerDown,N=>{x.current=N.pointerType;const b=N.target;b.hasPointerCapture(N.pointerId)&&b.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(_(N),N.preventDefault())}),onKeyDown:Ee(l.onKeyDown,N=>{const b=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&w(N.key),!(b&&N.key===" ")&&rP.includes(N.key)&&(_(),N.preventDefault())})})})});r0.displayName=t0;var n0="SelectValue",s0=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:l,children:c,placeholder:d="",...f}=e,p=Ps(n0,n),{onValueNodeHasChildrenChange:h}=p,x=c!==void 0,y=He(t,p.onValueNodeChange);return Jt(()=>{h(x)},[h,x]),i.jsx(Oe.span,{...f,ref:y,style:{pointerEvents:"none"},children:C0(p.value)?i.jsx(i.Fragment,{children:d}):c})});s0.displayName=n0;var lP="SelectIcon",i0=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...l}=e;return i.jsx(Oe.span,{"aria-hidden":!0,...l,ref:t,children:a||"▼"})});i0.displayName=lP;var cP="SelectPortal",a0=e=>i.jsx(Io,{asChild:!0,...e});a0.displayName=cP;var si="SelectContent",o0=g.forwardRef((e,t)=>{const n=Ps(si,e.__scopeSelect),[a,l]=g.useState();if(Jt(()=>{l(new DocumentFragment)},[]),!n.open){const c=a;return c?ua.createPortal(i.jsx(l0,{scope:e.__scopeSelect,children:i.jsx(eu.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),c):null}return i.jsx(c0,{...e,ref:t})});o0.displayName=si;var Yr=10,[l0,Rs]=ga(si),uP="SelectContentImpl",dP=ei("SelectContent.RemoveScroll"),c0=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:p,align:h,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:_,hideWhenDetached:N,avoidCollisions:b,...E}=e,C=Ps(si,n),[P,M]=g.useState(null),[$,H]=g.useState(null),U=He(t,X=>M(X)),[re,ge]=g.useState(null),[fe,me]=g.useState(null),ee=tu(n),[ue,G]=g.useState(!1),he=g.useRef(!1);g.useEffect(()=>{if(P)return Lm(P)},[P]),Fm();const K=g.useCallback(X=>{const[ce,...we]=ee().map(ot=>ot.ref.current),[$e]=we.slice(-1),nt=document.activeElement;for(const ot of X)if(ot===nt||(ot?.scrollIntoView({block:"nearest"}),ot===ce&&$&&($.scrollTop=0),ot===$e&&$&&($.scrollTop=$.scrollHeight),ot?.focus(),document.activeElement!==nt))return},[ee,$]),k=g.useCallback(()=>K([re,P]),[K,re,P]);g.useEffect(()=>{ue&&k()},[ue,k]);const{onOpenChange:I,triggerPointerDownPosRef:Z}=C;g.useEffect(()=>{if(P){let X={x:0,y:0};const ce=$e=>{X={x:Math.abs(Math.round($e.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round($e.pageY)-(Z.current?.y??0))}},we=$e=>{X.x<=10&&X.y<=10?$e.preventDefault():P.contains($e.target)||I(!1),document.removeEventListener("pointermove",ce),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",we,{capture:!0})}}},[P,I,Z]),g.useEffect(()=>{const X=()=>I(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[I]);const[J,R]=k0(X=>{const ce=ee().filter(nt=>!nt.disabled),we=ce.find(nt=>nt.ref.current===document.activeElement),$e=_0(ce,X,we);$e&&setTimeout(()=>$e.ref.current.focus())}),O=g.useCallback((X,ce,we)=>{const $e=!he.current&&!we;(C.value!==void 0&&C.value===ce||$e)&&(ge(X),$e&&(he.current=!0))},[C.value]),B=g.useCallback(()=>P?.focus(),[P]),F=g.useCallback((X,ce,we)=>{const $e=!he.current&&!we;(C.value!==void 0&&C.value===ce||$e)&&me(X)},[C.value]),V=a==="popper"?Gf:u0,ie=V===Gf?{side:f,sideOffset:p,align:h,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:_,hideWhenDetached:N,avoidCollisions:b}:{};return i.jsx(l0,{scope:n,content:P,viewport:$,onViewportChange:H,itemRefCallback:O,selectedItem:re,onItemLeave:B,itemTextRefCallback:F,focusSelectedItem:k,selectedItemText:fe,position:a,isPositioned:ue,searchRef:J,children:i.jsx(Kc,{as:dP,allowPinchZoom:!0,children:i.jsx(Wc,{asChild:!0,trapped:C.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ee(l,X=>{C.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:i.jsx(da,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:i.jsx(V,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:X=>X.preventDefault(),...E,...ie,onPlaced:()=>G(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ee(E.onKeyDown,X=>{const ce=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ce&&X.key.length===1&&R(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let $e=ee().filter(nt=>!nt.disabled).map(nt=>nt.ref.current);if(["ArrowUp","End"].includes(X.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const nt=X.target,ot=$e.indexOf(nt);$e=$e.slice(ot+1)}setTimeout(()=>K($e)),X.preventDefault()}})})})})})})});c0.displayName=uP;var fP="SelectItemAlignedPosition",u0=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...l}=e,c=Ps(si,n),d=Rs(si,n),[f,p]=g.useState(null),[h,x]=g.useState(null),y=He(t,U=>x(U)),w=tu(n),S=g.useRef(!1),_=g.useRef(!0),{viewport:N,selectedItem:b,selectedItemText:E,focusSelectedItem:C}=d,P=g.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&h&&N&&b&&E){const U=c.trigger.getBoundingClientRect(),re=h.getBoundingClientRect(),ge=c.valueNode.getBoundingClientRect(),fe=E.getBoundingClientRect();if(c.dir!=="rtl"){const nt=fe.left-re.left,ot=ge.left-nt,Dt=U.left-ot,gr=U.width+Dt,En=Math.max(gr,re.width),Gn=window.innerWidth-Yr,Tn=tx(ot,[Yr,Math.max(Yr,Gn-En)]);f.style.minWidth=gr+"px",f.style.left=Tn+"px"}else{const nt=re.right-fe.right,ot=window.innerWidth-ge.right-nt,Dt=window.innerWidth-U.right-ot,gr=U.width+Dt,En=Math.max(gr,re.width),Gn=window.innerWidth-Yr,Tn=tx(ot,[Yr,Math.max(Yr,Gn-En)]);f.style.minWidth=gr+"px",f.style.right=Tn+"px"}const me=w(),ee=window.innerHeight-Yr*2,ue=N.scrollHeight,G=window.getComputedStyle(h),he=parseInt(G.borderTopWidth,10),K=parseInt(G.paddingTop,10),k=parseInt(G.borderBottomWidth,10),I=parseInt(G.paddingBottom,10),Z=he+K+ue+I+k,J=Math.min(b.offsetHeight*5,Z),R=window.getComputedStyle(N),O=parseInt(R.paddingTop,10),B=parseInt(R.paddingBottom,10),F=U.top+U.height/2-Yr,V=ee-F,ie=b.offsetHeight/2,X=b.offsetTop+ie,ce=he+K+X,we=Z-ce;if(ce<=F){const nt=me.length>0&&b===me[me.length-1].ref.current;f.style.bottom="0px";const ot=h.clientHeight-N.offsetTop-N.offsetHeight,Dt=Math.max(V,ie+(nt?B:0)+ot+k),gr=ce+Dt;f.style.height=gr+"px"}else{const nt=me.length>0&&b===me[0].ref.current;f.style.top="0px";const Dt=Math.max(F,he+N.offsetTop+(nt?O:0)+ie)+we;f.style.height=Dt+"px",N.scrollTop=ce-F+N.offsetTop}f.style.margin=`${Yr}px 0`,f.style.minHeight=J+"px",f.style.maxHeight=ee+"px",a?.(),requestAnimationFrame(()=>S.current=!0)}},[w,c.trigger,c.valueNode,f,h,N,b,E,c.dir,a]);Jt(()=>P(),[P]);const[M,$]=g.useState();Jt(()=>{h&&$(window.getComputedStyle(h).zIndex)},[h]);const H=g.useCallback(U=>{U&&_.current===!0&&(P(),C?.(),_.current=!1)},[P,C]);return i.jsx(pP,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:H,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:i.jsx(Oe.div,{...l,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});u0.displayName=fP;var mP="SelectPopperPosition",Gf=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:l=Yr,...c}=e,d=ru(n);return i.jsx(Im,{...d,...c,ref:t,align:a,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gf.displayName=mP;var[pP,Zm]=ga(si,{}),Zf="SelectViewport",d0=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...l}=e,c=Rs(Zf,n),d=Zm(Zf,n),f=He(t,c.onViewportChange),p=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(eu.Slot,{scope:n,children:i.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ee(l.onScroll,h=>{const x=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=d;if(w?.current&&y){const S=Math.abs(p.current-x.scrollTop);if(S>0){const _=window.innerHeight-Yr*2,N=parseFloat(y.style.minHeight),b=parseFloat(y.style.height),E=Math.max(N,b);if(E<_){const C=E+S,P=Math.min(_,C),M=C-P;y.style.height=P+"px",y.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});d0.displayName=Zf;var f0="SelectGroup",[hP,gP]=ga(f0),vP=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,l=pr();return i.jsx(hP,{scope:n,id:l,children:i.jsx(Oe.div,{role:"group","aria-labelledby":l,...a,ref:t})})});vP.displayName=f0;var m0="SelectLabel",p0=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,l=gP(m0,n);return i.jsx(Oe.div,{id:l.id,...a,ref:t})});p0.displayName=m0;var yc="SelectItem",[xP,h0]=ga(yc),g0=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:l=!1,textValue:c,...d}=e,f=Ps(yc,n),p=Rs(yc,n),h=f.value===a,[x,y]=g.useState(c??""),[w,S]=g.useState(!1),_=He(t,C=>p.itemRefCallback?.(C,a,l)),N=pr(),b=g.useRef("touch"),E=()=>{l||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(xP,{scope:n,value:a,disabled:l,textId:N,isSelected:h,onItemTextChange:g.useCallback(C=>{y(P=>P||(C?.textContent??"").trim())},[]),children:i.jsx(eu.ItemSlot,{scope:n,value:a,disabled:l,textValue:x,children:i.jsx(Oe.div,{role:"option","aria-labelledby":N,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:_,onFocus:Ee(d.onFocus,()=>S(!0)),onBlur:Ee(d.onBlur,()=>S(!1)),onClick:Ee(d.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:Ee(d.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:Ee(d.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:Ee(d.onPointerMove,C=>{b.current=C.pointerType,l?p.onItemLeave?.():b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(d.onPointerLeave,C=>{C.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ee(d.onKeyDown,C=>{p.searchRef?.current!==""&&C.key===" "||(nP.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});g0.displayName=yc;var oo="SelectItemText",v0=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:l,...c}=e,d=Ps(oo,n),f=Rs(oo,n),p=h0(oo,n),h=oP(oo,n),[x,y]=g.useState(null),w=He(t,E=>y(E),p.onItemTextChange,E=>f.itemTextRefCallback?.(E,p.value,p.disabled)),S=x?.textContent,_=g.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:S},p.value),[p.disabled,p.value,S]),{onNativeOptionAdd:N,onNativeOptionRemove:b}=h;return Jt(()=>(N(_),()=>b(_)),[N,b,_]),i.jsxs(i.Fragment,{children:[i.jsx(Oe.span,{id:p.textId,...c,ref:w}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ua.createPortal(c.children,d.valueNode):null]})});v0.displayName=oo;var x0="SelectItemIndicator",y0=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return h0(x0,n).isSelected?i.jsx(Oe.span,{"aria-hidden":!0,...a,ref:t}):null});y0.displayName=x0;var Yf="SelectScrollUpButton",b0=g.forwardRef((e,t)=>{const n=Rs(Yf,e.__scopeSelect),a=Zm(Yf,e.__scopeSelect),[l,c]=g.useState(!1),d=He(t,a.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=p.scrollTop>0;c(h)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),l?i.jsx(j0,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});b0.displayName=Yf;var Xf="SelectScrollDownButton",w0=g.forwardRef((e,t)=>{const n=Rs(Xf,e.__scopeSelect),a=Zm(Xf,e.__scopeSelect),[l,c]=g.useState(!1),d=He(t,a.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<h;c(x)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),l?i.jsx(j0,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});w0.displayName=Xf;var j0=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...l}=e,c=Rs("SelectScrollButton",n),d=g.useRef(null),f=tu(n),p=g.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return g.useEffect(()=>()=>p(),[p]),Jt(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),i.jsx(Oe.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:Ee(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Ee(l.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Ee(l.onPointerLeave,()=>{p()})})}),yP="SelectSeparator",N0=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return i.jsx(Oe.div,{"aria-hidden":!0,...a,ref:t})});N0.displayName=yP;var Jf="SelectArrow",bP=g.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,l=ru(n),c=Ps(Jf,n),d=Rs(Jf,n);return c.open&&d.position==="popper"?i.jsx(Om,{...l,...a,ref:t}):null});bP.displayName=Jf;var wP="SelectBubbleInput",S0=g.forwardRef(({__scopeSelect:e,value:t,...n},a)=>{const l=g.useRef(null),c=He(a,l),d=Km(t);return g.useEffect(()=>{const f=l.current;if(!f)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==t&&x){const y=new Event("change",{bubbles:!0});x.call(f,t),f.dispatchEvent(y)}},[d,t]),i.jsx(Oe.select,{...n,style:{...sy,...n.style},ref:c,defaultValue:t})});S0.displayName=wP;function C0(e){return e===""||e===void 0}function k0(e){const t=Ur(e),n=g.useRef(""),a=g.useRef(0),l=g.useCallback(d=>{const f=n.current+d;t(f),(function p(h){n.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>p(""),1e3))})(f)},[t]),c=g.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,l,c]}function _0(e,t,n){const l=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let d=jP(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==n));const p=d.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return p!==n?p:void 0}function jP(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var NP=e0,E0=r0,SP=s0,CP=i0,kP=a0,T0=o0,_P=d0,P0=p0,R0=g0,EP=v0,TP=y0,A0=b0,I0=w0,O0=N0;const ii=NP,ai=SP,Ns=g.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(E0,{ref:a,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(CP,{asChild:!0,children:i.jsx(jm,{className:"h-4 w-4 opacity-50"})})]}));Ns.displayName=E0.displayName;const D0=g.forwardRef(({className:e,...t},n)=>i.jsx(A0,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(u1,{className:"h-4 w-4"})}));D0.displayName=A0.displayName;const M0=g.forwardRef(({className:e,...t},n)=>i.jsx(I0,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(jm,{className:"h-4 w-4"})}));M0.displayName=I0.displayName;const Ss=g.forwardRef(({className:e,children:t,position:n="popper",...a},l)=>i.jsx(kP,{children:i.jsxs(T0,{ref:l,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[i.jsx(D0,{}),i.jsx(_P,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(M0,{})]})}));Ss.displayName=T0.displayName;const PP=g.forwardRef(({className:e,...t},n)=>i.jsx(P0,{ref:n,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PP.displayName=P0.displayName;const yt=g.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(R0,{ref:a,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(TP,{children:i.jsx(_y,{className:"h-4 w-4"})})}),i.jsx(EP,{children:t})]}));yt.displayName=R0.displayName;const RP=g.forwardRef(({className:e,...t},n)=>i.jsx(O0,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));RP.displayName=O0.displayName;var Fo=e=>e.type==="checkbox",Ks=e=>e instanceof Date,fr=e=>e==null;const F0=e=>typeof e=="object";var Tt=e=>!fr(e)&&!Array.isArray(e)&&F0(e)&&!Ks(e),AP=e=>Tt(e)&&e.target?Fo(e.target)?e.target.checked:e.target.value:e,IP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OP=(e,t)=>e.has(IP(t)),DP=e=>{const t=e.constructor&&e.constructor.prototype;return Tt(t)&&t.hasOwnProperty("isPrototypeOf")},Ym=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(e){let t;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ym&&(e instanceof Blob||a))&&(n||Tt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!DP(e))t=e;else for(const l in e)e.hasOwnProperty(l)&&(t[l]=zt(e[l]));else return e;return t}var nu=e=>/^\w*$/.test(e),At=e=>e===void 0,Xm=e=>Array.isArray(e)?e.filter(Boolean):[],Jm=e=>Xm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,n)=>{if(!t||!Tt(e))return n;const a=(nu(t)?[t]:Jm(t)).reduce((l,c)=>fr(l)?l:l[c],e);return At(a)||a===e?At(e[t])?n:e[t]:a},xn=e=>typeof e=="boolean",at=(e,t,n)=>{let a=-1;const l=nu(t)?[t]:Jm(t),c=l.length,d=c-1;for(;++a<c;){const f=l[a];let p=n;if(a!==d){const h=e[f];p=Tt(h)||Array.isArray(h)?h:isNaN(+l[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=p,e=e[f]}};const rx={BLUR:"blur",FOCUS_OUT:"focusout"},Jr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MP=kt.createContext(null);MP.displayName="HookFormContext";var FP=(e,t,n,a=!0)=>{const l={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(l,c,{get:()=>{const d=c;return t._proxyFormState[d]!==Jr.all&&(t._proxyFormState[d]=!a||Jr.all),e[d]}});return l};const LP=typeof window<"u"?kt.useLayoutEffect:kt.useEffect;var wn=e=>typeof e=="string",BP=(e,t,n,a,l)=>wn(e)?(a&&t.watch.add(e),ke(n,e,l)):Array.isArray(e)?e.map(c=>(a&&t.watch.add(c),ke(n,c))):(a&&(t.watchAll=!0),n),em=e=>fr(e)||!F0(e);function xs(e,t,n=new WeakSet){if(em(e)||em(t))return e===t;if(Ks(e)&&Ks(t))return e.getTime()===t.getTime();const a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const c of a){const d=e[c];if(!l.includes(c))return!1;if(c!=="ref"){const f=t[c];if(Ks(d)&&Ks(f)||Tt(d)&&Tt(f)||Array.isArray(d)&&Array.isArray(f)?!xs(d,f,n):d!==f)return!1}}return!0}var L0=(e,t,n,a,l)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:l||!0}}:{},co=e=>Array.isArray(e)?e:[e],nx=()=>{let e=[];return{get observers(){return e},next:l=>{for(const c of e)c.next&&c.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(c=>c!==l)}}),unsubscribe:()=>{e=[]}}},Sr=e=>Tt(e)&&!Object.keys(e).length,ep=e=>e.type==="file",en=e=>typeof e=="function",bc=e=>{if(!Ym)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},B0=e=>e.type==="select-multiple",tp=e=>e.type==="radio",$P=e=>tp(e)||Fo(e),jf=e=>bc(e)&&e.isConnected;function VP(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=At(e)?a++:e[t[a++]];return e}function zP(e){for(const t in e)if(e.hasOwnProperty(t)&&!At(e[t]))return!1;return!0}function Rt(e,t){const n=Array.isArray(t)?t:nu(t)?[t]:Jm(t),a=n.length===1?e:VP(e,n),l=n.length-1,c=n[l];return a&&delete a[c],l!==0&&(Tt(a)&&Sr(a)||Array.isArray(a)&&zP(a))&&Rt(e,n.slice(0,-1)),e}var $0=e=>{for(const t in e)if(en(e[t]))return!0;return!1};function wc(e,t={}){const n=Array.isArray(e);if(Tt(e)||n)for(const a in e)Array.isArray(e[a])||Tt(e[a])&&!$0(e[a])?(t[a]=Array.isArray(e[a])?[]:{},wc(e[a],t[a])):fr(e[a])||(t[a]=!0);return t}function V0(e,t,n){const a=Array.isArray(e);if(Tt(e)||a)for(const l in e)Array.isArray(e[l])||Tt(e[l])&&!$0(e[l])?At(t)||em(n[l])?n[l]=Array.isArray(e[l])?wc(e[l],[]):{...wc(e[l])}:V0(e[l],fr(t)?{}:t[l],n[l]):n[l]=!xs(e[l],t[l]);return n}var so=(e,t)=>V0(e,t,wc(t));const sx={value:!1,isValid:!1},ix={value:!0,isValid:!0};var z0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!At(e[0].attributes.value)?At(e[0].value)||e[0].value===""?ix:{value:e[0].value,isValid:!0}:ix:sx}return sx},U0=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>At(e)?e:t?e===""?NaN:e&&+e:n&&wn(e)?new Date(e):a?a(e):e;const ax={isValid:!1,value:null};var q0=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ax):ax;function ox(e){const t=e.ref;return ep(t)?t.files:tp(t)?q0(e.refs).value:B0(t)?[...t.selectedOptions].map(({value:n})=>n):Fo(t)?z0(e.refs).value:U0(At(t.value)?e.ref.value:t.value,e)}var UP=(e,t,n,a)=>{const l={};for(const c of e){const d=ke(t,c);d&&at(l,c,d._f)}return{criteriaMode:n,names:[...e],fields:l,shouldUseNativeValidation:a}},jc=e=>e instanceof RegExp,io=e=>At(e)?e:jc(e)?e.source:Tt(e)?jc(e.value)?e.value.source:e.value:e,lx=e=>({isOnSubmit:!e||e===Jr.onSubmit,isOnBlur:e===Jr.onBlur,isOnChange:e===Jr.onChange,isOnAll:e===Jr.all,isOnTouch:e===Jr.onTouched});const cx="AsyncFunction";var qP=e=>!!e&&!!e.validate&&!!(en(e.validate)&&e.validate.constructor.name===cx||Tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===cx)),WP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ux=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const uo=(e,t,n,a)=>{for(const l of n||Object.keys(e)){const c=ke(e,l);if(c){const{_f:d,...f}=c;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],l)&&!a)return!0;if(d.ref&&t(d.ref,d.name)&&!a)return!0;if(uo(f,t))break}else if(Tt(f)&&uo(f,t))break}}};function dx(e,t,n){const a=ke(e,n);if(a||nu(n))return{error:a,name:n};const l=n.split(".");for(;l.length;){const c=l.join("."),d=ke(t,c),f=ke(e,c);if(d&&!Array.isArray(d)&&n!==c)return{name:n};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};l.pop()}return{name:n}}var QP=(e,t,n,a)=>{n(e);const{name:l,...c}=e;return Sr(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(d=>t[d]===(!a||Jr.all))},KP=(e,t,n)=>!e||!t||e===t||co(e).some(a=>a&&(n?a===t:a.startsWith(t)||t.startsWith(a))),HP=(e,t,n,a,l)=>l.isOnAll?!1:!n&&l.isOnTouch?!(t||e):(n?a.isOnBlur:l.isOnBlur)?!e:(n?a.isOnChange:l.isOnChange)?e:!0,GP=(e,t)=>!Xm(ke(e,t)).length&&Rt(e,t),ZP=(e,t,n)=>{const a=co(ke(e,n));return at(a,"root",t[n]),at(e,n,a),e},dc=e=>wn(e);function fx(e,t,n="validate"){if(dc(e)||Array.isArray(e)&&e.every(dc)||xn(e)&&!e)return{type:n,message:dc(e)?e:"",ref:t}}var Wi=e=>Tt(e)&&!jc(e)?e:{value:e,message:""},mx=async(e,t,n,a,l,c)=>{const{ref:d,refs:f,required:p,maxLength:h,minLength:x,min:y,max:w,pattern:S,validate:_,name:N,valueAsNumber:b,mount:E}=e._f,C=ke(n,N);if(!E||t.has(N))return{};const P=f?f[0]:d,M=ee=>{l&&P.reportValidity&&(P.setCustomValidity(xn(ee)?"":ee||""),P.reportValidity())},$={},H=tp(d),U=Fo(d),re=H||U,ge=(b||ep(d))&&At(d.value)&&At(C)||bc(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,fe=L0.bind(null,N,a,$),me=(ee,ue,G,he=Bn.maxLength,K=Bn.minLength)=>{const k=ee?ue:G;$[N]={type:ee?he:K,message:k,ref:d,...fe(ee?he:K,k)}};if(c?!Array.isArray(C)||!C.length:p&&(!re&&(ge||fr(C))||xn(C)&&!C||U&&!z0(f).isValid||H&&!q0(f).isValid)){const{value:ee,message:ue}=dc(p)?{value:!!p,message:p}:Wi(p);if(ee&&($[N]={type:Bn.required,message:ue,ref:P,...fe(Bn.required,ue)},!a))return M(ue),$}if(!ge&&(!fr(y)||!fr(w))){let ee,ue;const G=Wi(w),he=Wi(y);if(!fr(C)&&!isNaN(C)){const K=d.valueAsNumber||C&&+C;fr(G.value)||(ee=K>G.value),fr(he.value)||(ue=K<he.value)}else{const K=d.valueAsDate||new Date(C),k=J=>new Date(new Date().toDateString()+" "+J),I=d.type=="time",Z=d.type=="week";wn(G.value)&&C&&(ee=I?k(C)>k(G.value):Z?C>G.value:K>new Date(G.value)),wn(he.value)&&C&&(ue=I?k(C)<k(he.value):Z?C<he.value:K<new Date(he.value))}if((ee||ue)&&(me(!!ee,G.message,he.message,Bn.max,Bn.min),!a))return M($[N].message),$}if((h||x)&&!ge&&(wn(C)||c&&Array.isArray(C))){const ee=Wi(h),ue=Wi(x),G=!fr(ee.value)&&C.length>+ee.value,he=!fr(ue.value)&&C.length<+ue.value;if((G||he)&&(me(G,ee.message,ue.message),!a))return M($[N].message),$}if(S&&!ge&&wn(C)){const{value:ee,message:ue}=Wi(S);if(jc(ee)&&!C.match(ee)&&($[N]={type:Bn.pattern,message:ue,ref:d,...fe(Bn.pattern,ue)},!a))return M(ue),$}if(_){if(en(_)){const ee=await _(C,n),ue=fx(ee,P);if(ue&&($[N]={...ue,...fe(Bn.validate,ue.message)},!a))return M(ue.message),$}else if(Tt(_)){let ee={};for(const ue in _){if(!Sr(ee)&&!a)break;const G=fx(await _[ue](C,n),P,ue);G&&(ee={...G,...fe(ue,G.message)},M(G.message),a&&($[N]=ee))}if(!Sr(ee)&&($[N]={ref:P,...ee},!a))return $}}return M(!0),$};const YP={mode:Jr.onSubmit,reValidateMode:Jr.onChange,shouldFocusError:!0};function XP(e={}){let t={...YP,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:en(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},l=Tt(t.defaultValues)||Tt(t.values)?zt(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:zt(l),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,h=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const w={array:nx(),state:nx()},S=t.criteriaMode===Jr.all,_=A=>q=>{clearTimeout(h),h=setTimeout(A,q)},N=async A=>{if(!t.disabled&&(x.isValid||y.isValid||A)){const q=t.resolver?Sr((await U()).errors):await ge(a,!0);q!==n.isValid&&w.state.next({isValid:q})}},b=(A,q)=>{!t.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((A||Array.from(f.mount)).forEach(Y=>{Y&&(q?at(n.validatingFields,Y,q):Rt(n.validatingFields,Y))}),w.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},E=(A,q=[],Y,ye,ve=!0,pe=!0)=>{if(ye&&Y&&!t.disabled){if(d.action=!0,pe&&Array.isArray(ke(a,A))){const Re=Y(ke(a,A),ye.argA,ye.argB);ve&&at(a,A,Re)}if(pe&&Array.isArray(ke(n.errors,A))){const Re=Y(ke(n.errors,A),ye.argA,ye.argB);ve&&at(n.errors,A,Re),GP(n.errors,A)}if((x.touchedFields||y.touchedFields)&&pe&&Array.isArray(ke(n.touchedFields,A))){const Re=Y(ke(n.touchedFields,A),ye.argA,ye.argB);ve&&at(n.touchedFields,A,Re)}(x.dirtyFields||y.dirtyFields)&&(n.dirtyFields=so(l,c)),w.state.next({name:A,isDirty:me(A,q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else at(c,A,q)},C=(A,q)=>{at(n.errors,A,q),w.state.next({errors:n.errors})},P=A=>{n.errors=A,w.state.next({errors:n.errors,isValid:!1})},M=(A,q,Y,ye)=>{const ve=ke(a,A);if(ve){const pe=ke(c,A,At(Y)?ke(l,A):Y);At(pe)||ye&&ye.defaultChecked||q?at(c,A,q?pe:ox(ve._f)):G(A,pe),d.mount&&N()}},$=(A,q,Y,ye,ve)=>{let pe=!1,Re=!1;const Xe={name:A};if(!t.disabled){if(!Y||ye){(x.isDirty||y.isDirty)&&(Re=n.isDirty,n.isDirty=Xe.isDirty=me(),pe=Re!==Xe.isDirty);const st=xs(ke(l,A),q);Re=!!ke(n.dirtyFields,A),st?Rt(n.dirtyFields,A):at(n.dirtyFields,A,!0),Xe.dirtyFields=n.dirtyFields,pe=pe||(x.dirtyFields||y.dirtyFields)&&Re!==!st}if(Y){const st=ke(n.touchedFields,A);st||(at(n.touchedFields,A,Y),Xe.touchedFields=n.touchedFields,pe=pe||(x.touchedFields||y.touchedFields)&&st!==Y)}pe&&ve&&w.state.next(Xe)}return pe?Xe:{}},H=(A,q,Y,ye)=>{const ve=ke(n.errors,A),pe=(x.isValid||y.isValid)&&xn(q)&&n.isValid!==q;if(t.delayError&&Y?(p=_(()=>C(A,Y)),p(t.delayError)):(clearTimeout(h),p=null,Y?at(n.errors,A,Y):Rt(n.errors,A)),(Y?!xs(ve,Y):ve)||!Sr(ye)||pe){const Re={...ye,...pe&&xn(q)?{isValid:q}:{},errors:n.errors,name:A};n={...n,...Re},w.state.next(Re)}},U=async A=>{b(A,!0);const q=await t.resolver(c,t.context,UP(A||f.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return b(A),q},re=async A=>{const{errors:q}=await U(A);if(A)for(const Y of A){const ye=ke(q,Y);ye?at(n.errors,Y,ye):Rt(n.errors,Y)}else n.errors=q;return q},ge=async(A,q,Y={valid:!0})=>{for(const ye in A){const ve=A[ye];if(ve){const{_f:pe,...Re}=ve;if(pe){const Xe=f.array.has(pe.name),st=ve._f&&qP(ve._f);st&&x.validatingFields&&b([ye],!0);const lr=await mx(ve,f.disabled,c,S,t.shouldUseNativeValidation&&!q,Xe);if(st&&x.validatingFields&&b([ye]),lr[pe.name]&&(Y.valid=!1,q))break;!q&&(ke(lr,pe.name)?Xe?ZP(n.errors,lr,pe.name):at(n.errors,pe.name,lr[pe.name]):Rt(n.errors,pe.name))}!Sr(Re)&&await ge(Re,q,Y)}}return Y.valid},fe=()=>{for(const A of f.unMount){const q=ke(a,A);q&&(q._f.refs?q._f.refs.every(Y=>!jf(Y)):!jf(q._f.ref))&&X(A)}f.unMount=new Set},me=(A,q)=>!t.disabled&&(A&&q&&at(c,A,q),!xs(J(),l)),ee=(A,q,Y)=>BP(A,f,{...d.mount?c:At(q)?l:wn(A)?{[A]:q}:q},Y,q),ue=A=>Xm(ke(d.mount?c:l,A,t.shouldUnregister?ke(l,A,[]):[])),G=(A,q,Y={})=>{const ye=ke(a,A);let ve=q;if(ye){const pe=ye._f;pe&&(!pe.disabled&&at(c,A,U0(q,pe)),ve=bc(pe.ref)&&fr(q)?"":q,B0(pe.ref)?[...pe.ref.options].forEach(Re=>Re.selected=ve.includes(Re.value)):pe.refs?Fo(pe.ref)?pe.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(ve)?Re.checked=!!ve.find(Xe=>Xe===Re.value):Re.checked=ve===Re.value||!!ve)}):pe.refs.forEach(Re=>Re.checked=Re.value===ve):ep(pe.ref)?pe.ref.value="":(pe.ref.value=ve,pe.ref.type||w.state.next({name:A,values:zt(c)})))}(Y.shouldDirty||Y.shouldTouch)&&$(A,ve,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&Z(A)},he=(A,q,Y)=>{for(const ye in q){if(!q.hasOwnProperty(ye))return;const ve=q[ye],pe=A+"."+ye,Re=ke(a,pe);(f.array.has(A)||Tt(ve)||Re&&!Re._f)&&!Ks(ve)?he(pe,ve,Y):G(pe,ve,Y)}},K=(A,q,Y={})=>{const ye=ke(a,A),ve=f.array.has(A),pe=zt(q);at(c,A,pe),ve?(w.array.next({name:A,values:zt(c)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&Y.shouldDirty&&w.state.next({name:A,dirtyFields:so(l,c),isDirty:me(A,pe)})):ye&&!ye._f&&!fr(pe)?he(A,pe,Y):G(A,pe,Y),ux(A,f)&&w.state.next({...n,name:A}),w.state.next({name:d.mount?A:void 0,values:zt(c)})},k=async A=>{d.mount=!0;const q=A.target;let Y=q.name,ye=!0;const ve=ke(a,Y),pe=st=>{ye=Number.isNaN(st)||Ks(st)&&isNaN(st.getTime())||xs(st,ke(c,Y,st))},Re=lx(t.mode),Xe=lx(t.reValidateMode);if(ve){let st,lr;const fn=q.type?ox(ve._f):AP(A),vr=A.type===rx.BLUR||A.type===rx.FOCUS_OUT,pu=!WP(ve._f)&&!t.resolver&&!ke(n.errors,Y)&&!ve._f.deps||HP(vr,ke(n.touchedFields,Y),n.isSubmitted,Xe,Re),pi=ux(Y,f,vr);at(c,Y,fn),vr?(!q||!q.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(A),p&&p(0)):ve._f.onChange&&ve._f.onChange(A);const hi=$(Y,fn,vr),hu=!Sr(hi)||pi;if(!vr&&w.state.next({name:Y,type:A.type,values:zt(c)}),pu)return(x.isValid||y.isValid)&&(t.mode==="onBlur"?vr&&N():vr||N()),hu&&w.state.next({name:Y,...pi?{}:hi});if(!vr&&pi&&w.state.next({...n}),t.resolver){const{errors:gi}=await U([Y]);if(pe(fn),ye){const va=dx(n.errors,a,Y),vi=dx(gi,a,va.name||Y);st=vi.error,Y=vi.name,lr=Sr(gi)}}else b([Y],!0),st=(await mx(ve,f.disabled,c,S,t.shouldUseNativeValidation))[Y],b([Y]),pe(fn),ye&&(st?lr=!1:(x.isValid||y.isValid)&&(lr=await ge(a,!0)));ye&&(ve._f.deps&&Z(ve._f.deps),H(Y,lr,st,hi))}},I=(A,q)=>{if(ke(n.errors,q)&&A.focus)return A.focus(),1},Z=async(A,q={})=>{let Y,ye;const ve=co(A);if(t.resolver){const pe=await re(At(A)?A:ve);Y=Sr(pe),ye=A?!ve.some(Re=>ke(pe,Re)):Y}else A?(ye=(await Promise.all(ve.map(async pe=>{const Re=ke(a,pe);return await ge(Re&&Re._f?{[pe]:Re}:Re)}))).every(Boolean),!(!ye&&!n.isValid)&&N()):ye=Y=await ge(a);return w.state.next({...!wn(A)||(x.isValid||y.isValid)&&Y!==n.isValid?{}:{name:A},...t.resolver||!A?{isValid:Y}:{},errors:n.errors}),q.shouldFocus&&!ye&&uo(a,I,A?ve:f.mount),ye},J=A=>{const q={...d.mount?c:l};return At(A)?q:wn(A)?ke(q,A):A.map(Y=>ke(q,Y))},R=(A,q)=>({invalid:!!ke((q||n).errors,A),isDirty:!!ke((q||n).dirtyFields,A),error:ke((q||n).errors,A),isValidating:!!ke(n.validatingFields,A),isTouched:!!ke((q||n).touchedFields,A)}),O=A=>{A&&co(A).forEach(q=>Rt(n.errors,q)),w.state.next({errors:A?n.errors:{}})},B=(A,q,Y)=>{const ye=(ke(a,A,{_f:{}})._f||{}).ref,ve=ke(n.errors,A)||{},{ref:pe,message:Re,type:Xe,...st}=ve;at(n.errors,A,{...st,...q,ref:ye}),w.state.next({name:A,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&ye&&ye.focus&&ye.focus()},F=(A,q)=>en(A)?w.state.subscribe({next:Y=>"values"in Y&&A(ee(void 0,q),Y)}):ee(A,q,!0),V=A=>w.state.subscribe({next:q=>{KP(A.name,q.name,A.exact)&&QP(q,A.formState||x,Tn,A.reRenderRoot)&&A.callback({values:{...c},...n,...q,defaultValues:l})}}).unsubscribe,ie=A=>(d.mount=!0,y={...y,...A.formState},V({...A,formState:y})),X=(A,q={})=>{for(const Y of A?co(A):f.mount)f.mount.delete(Y),f.array.delete(Y),q.keepValue||(Rt(a,Y),Rt(c,Y)),!q.keepError&&Rt(n.errors,Y),!q.keepDirty&&Rt(n.dirtyFields,Y),!q.keepTouched&&Rt(n.touchedFields,Y),!q.keepIsValidating&&Rt(n.validatingFields,Y),!t.shouldUnregister&&!q.keepDefaultValue&&Rt(l,Y);w.state.next({values:zt(c)}),w.state.next({...n,...q.keepDirty?{isDirty:me()}:{}}),!q.keepIsValid&&N()},ce=({disabled:A,name:q})=>{(xn(A)&&d.mount||A||f.disabled.has(q))&&(A?f.disabled.add(q):f.disabled.delete(q))},we=(A,q={})=>{let Y=ke(a,A);const ye=xn(q.disabled)||xn(t.disabled);return at(a,A,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:A}},name:A,mount:!0,...q}}),f.mount.add(A),Y?ce({disabled:xn(q.disabled)?q.disabled:t.disabled,name:A}):M(A,!0,q.value),{...ye?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:io(q.min),max:io(q.max),minLength:io(q.minLength),maxLength:io(q.maxLength),pattern:io(q.pattern)}:{},name:A,onChange:k,onBlur:k,ref:ve=>{if(ve){we(A,q),Y=ke(a,A);const pe=At(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Re=$P(pe),Xe=Y._f.refs||[];if(Re?Xe.find(st=>st===pe):pe===Y._f.ref)return;at(a,A,{_f:{...Y._f,...Re?{refs:[...Xe.filter(jf),pe,...Array.isArray(ke(l,A))?[{}]:[]],ref:{type:pe.type,name:A}}:{ref:pe}}}),M(A,!1,void 0,pe)}else Y=ke(a,A,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(OP(f.array,A)&&d.action)&&f.unMount.add(A)}}},$e=()=>t.shouldFocusError&&uo(a,I,f.mount),nt=A=>{xn(A)&&(w.state.next({disabled:A}),uo(a,(q,Y)=>{const ye=ke(a,Y);ye&&(q.disabled=ye._f.disabled||A,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(ve=>{ve.disabled=ye._f.disabled||A}))},0,!1))},ot=(A,q)=>async Y=>{let ye;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ve=zt(c);if(w.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Re}=await U();n.errors=pe,ve=zt(Re)}else await ge(a);if(f.disabled.size)for(const pe of f.disabled)Rt(ve,pe);if(Rt(n.errors,"root"),Sr(n.errors)){w.state.next({errors:{}});try{await A(ve,Y)}catch(pe){ye=pe}}else q&&await q({...n.errors},Y),$e(),setTimeout($e);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},Dt=(A,q={})=>{ke(a,A)&&(At(q.defaultValue)?K(A,zt(ke(l,A))):(K(A,q.defaultValue),at(l,A,zt(q.defaultValue))),q.keepTouched||Rt(n.touchedFields,A),q.keepDirty||(Rt(n.dirtyFields,A),n.isDirty=q.defaultValue?me(A,zt(ke(l,A))):me()),q.keepError||(Rt(n.errors,A),x.isValid&&N()),w.state.next({...n}))},gr=(A,q={})=>{const Y=A?zt(A):l,ye=zt(Y),ve=Sr(A),pe=ve?l:ye;if(q.keepDefaultValues||(l=Y),!q.keepValues){if(q.keepDirtyValues){const Re=new Set([...f.mount,...Object.keys(so(l,c))]);for(const Xe of Array.from(Re))ke(n.dirtyFields,Xe)?at(pe,Xe,ke(c,Xe)):K(Xe,ke(pe,Xe))}else{if(Ym&&At(A))for(const Re of f.mount){const Xe=ke(a,Re);if(Xe&&Xe._f){const st=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(bc(st)){const lr=st.closest("form");if(lr){lr.reset();break}}}}if(q.keepFieldsRef)for(const Re of f.mount)K(Re,ke(pe,Re));else a={}}c=t.shouldUnregister?q.keepDefaultValues?zt(l):{}:zt(pe),w.array.next({values:{...pe}}),w.state.next({values:{...pe}})}f={mount:q.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!q.keepIsValid||!!q.keepDirtyValues,d.watch=!!t.shouldUnregister,w.state.next({submitCount:q.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:q.keepDirty?n.isDirty:!!(q.keepDefaultValues&&!xs(A,l)),isSubmitted:q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:q.keepDirtyValues?q.keepDefaultValues&&c?so(l,c):n.dirtyFields:q.keepDefaultValues&&A?so(l,A):q.keepDirty?n.dirtyFields:{},touchedFields:q.keepTouched?n.touchedFields:{},errors:q.keepErrors?n.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},En=(A,q)=>gr(en(A)?A(c):A,q),Gn=(A,q={})=>{const Y=ke(a,A),ye=Y&&Y._f;if(ye){const ve=ye.refs?ye.refs[0]:ye.ref;ve.focus&&(ve.focus(),q.shouldSelect&&en(ve.select)&&ve.select())}},Tn=A=>{n={...n,...A}},mi={control:{register:we,unregister:X,getFieldState:R,handleSubmit:ot,setError:B,_subscribe:V,_runSchema:U,_focusError:$e,_getWatch:ee,_getDirty:me,_setValid:N,_setFieldArray:E,_setDisabledField:ce,_setErrors:P,_getFieldArray:ue,_reset:gr,_resetDefaultValues:()=>en(t.defaultValues)&&t.defaultValues().then(A=>{En(A,t.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:fe,_disableForm:nt,_subjects:w,_proxyFormState:x,get _fields(){return a},get _formValues(){return c},get _state(){return d},set _state(A){d=A},get _defaultValues(){return l},get _names(){return f},set _names(A){f=A},get _formState(){return n},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:ie,trigger:Z,register:we,handleSubmit:ot,watch:F,setValue:K,getValues:J,reset:En,resetField:Dt,clearErrors:O,unregister:X,setError:B,setFocus:Gn,getFieldState:R};return{...mi,formControl:mi}}function W0(e={}){const t=kt.useRef(void 0),n=kt.useRef(void 0),[a,l]=kt.useState({isDirty:!1,isValidating:!1,isLoading:en(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:en(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!en(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...f}=XP(e);t.current={...f,formState:a}}const c=t.current.control;return c._options=e,LP(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>l({...c._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),c._formState.isReady=!0,d},[c]),kt.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),kt.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),kt.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),kt.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),kt.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==a.isDirty&&c._subjects.state.next({isDirty:d})}},[c,a.isDirty]),kt.useEffect(()=>{e.values&&!xs(e.values,n.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=e.values,l(d=>({...d}))):c._resetDefaultValues()},[c,e.values]),kt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=FP(a,c),t.current}const px=(e,t,n)=>{if(e&&"reportValidity"in e){const a=ke(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Q0=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?px(a.ref,n,e):a.refs&&a.refs.forEach(l=>px(l,n,e))}},JP=(e,t)=>{t.shouldUseNativeValidation&&Q0(e,t);const n={};for(const a in e){const l=ke(t.fields,a),c=Object.assign(e[a]||{},{ref:l&&l.ref});if(eR(t.names||Object.keys(e),a)){const d=Object.assign({},ke(n,a));at(d,"root",c),at(n,a,d)}else at(n,a,c)}return n},eR=(e,t)=>e.some(n=>n.startsWith(t+"."));var tR=function(e,t){for(var n={};e.length;){var a=e[0],l=a.code,c=a.message,d=a.path.join(".");if(!n[d])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[d]={message:f.message,type:f.code}}else n[d]={message:c,type:l};if("unionErrors"in a&&a.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),t){var p=n[d].types,h=p&&p[a.code];n[d]=L0(d,t,n,l,h?[].concat(h,a.message):a.message)}e.shift()}return n},K0=function(e,t,n){return n===void 0&&(n={}),function(a,l,c){try{return Promise.resolve((function(d,f){try{var p=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(h){return c.shouldUseNativeValidation&&Q0({},c),{errors:{},values:n.raw?a:h}})}catch(h){return f(h)}return p&&p.then?p.then(void 0,f):p})(0,function(d){if((function(f){return Array.isArray(f?.errors)})(d))return{values:{},errors:JP(tR(d.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw d}))}catch(d){return Promise.reject(d)}}};const te=Symbol.for("drizzle:entityKind");function Ut(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,te))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(te in n&&n[te]===t[te])return!0;n=Object.getPrototypeOf(n)}return!1}class go{constructor(t,n){this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[te]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class rR{static[te]="ColumnBuilder";config;constructor(t,n,a){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:a,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const Ji=Symbol.for("drizzle:Name");class nR{static[te]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,n){this.reference=()=>{const{name:a,columns:l,foreignColumns:c}=t();return{name:a,columns:l,foreignTable:c[0].table,foreignColumns:c}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new sR(t,this)}}class sR{constructor(t,n){this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[te]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:n,foreignColumns:a}=this.reference(),l=n.map(f=>f.name),c=a.map(f=>f.name),d=[this.table[Ji],...l,a[0].table[Ji],...c];return t??`${d.join("_")}_fk`}}function iR(e,...t){return e(...t)}function aR(e,t){return`${e[Ji]}_${t.join("_")}_unique`}function hx(e,t,n){for(let a=t;a<e.length;a++){const l=e[a];if(l==="\\"){a++;continue}if(l==='"')return[e.slice(t,a).replace(/\\/g,""),a+1];if(!n&&(l===","||l==="}"))return[e.slice(t,a).replace(/\\/g,""),a]}return[e.slice(t).replace(/\\/g,""),e.length]}function H0(e,t=0){const n=[];let a=t,l=!1;for(;a<e.length;){const c=e[a];if(c===","){(l||a===t)&&n.push(""),l=!0,a++;continue}if(l=!1,c==="\\"){a+=2;continue}if(c==='"'){const[p,h]=hx(e,a+1,!0);n.push(p),a=h;continue}if(c==="}")return[n,a+1];if(c==="{"){const[p,h]=H0(e,a+1);n.push(p),a=h;continue}const[d,f]=hx(e,a,!1);n.push(d),a=f}return[n,a]}function oR(e){const[t]=H0(e,1);return t}function G0(e){return`{${e.map(t=>Array.isArray(t)?G0(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class Ge extends rR{foreignKeyConfigs=[];static[te]="PgColumnBuilder";array(t){return new cR(this.config.name,this,t)}references(t,n={}){return this.foreignKeyConfigs.push({ref:t,actions:n}),this}unique(t,n){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,n){return this.foreignKeyConfigs.map(({ref:a,actions:l})=>iR((c,d)=>{const f=new nR(()=>{const p=c();return{columns:[t],foreignColumns:[p]}});return d.onUpdate&&f.onUpdate(d.onUpdate),d.onDelete&&f.onDelete(d.onDelete),f.build(n)},a,l))}buildExtraConfigColumn(t){return new lR(t,this.config)}}class ze extends go{constructor(t,n){n.uniqueName||(n.uniqueName=aR(t,[n.name])),super(t,n),this.table=t}static[te]="PgColumn"}class lR extends ze{static[te]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class cR extends Ge{static[te]="PgArrayBuilder";constructor(t,n,a){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=a}build(t){const n=this.config.baseBuilder.build(t);return new rp(t,this.config,n)}}class rp extends ze{constructor(t,n,a,l){super(t,n),this.baseColumn=a,this.range=l,this.size=n.size}size;static[te]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=oR(t)),t.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(t,n=!1){const a=t.map(l=>l===null?null:Ut(this.baseColumn,rp)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return n?a:G0(a)}}const gx=Symbol.for("drizzle:isPgEnum");function uR(e){return!!e&&typeof e=="function"&&gx in e&&e[gx]===!0}class Z0{static[te]="Subquery";constructor(t,n,a,l=!1,c=[]){this._={brand:"Subquery",sql:t,selectedFields:n,alias:a,isWith:l,usedTables:c}}}const dR={startActiveSpan(e,t){return t()}},ea=Symbol.for("drizzle:ViewBaseConfig"),Nf=Symbol.for("drizzle:Schema"),vx=Symbol.for("drizzle:Columns"),xx=Symbol.for("drizzle:ExtraConfigColumns"),Sf=Symbol.for("drizzle:OriginalName"),Cf=Symbol.for("drizzle:BaseName"),Nc=Symbol.for("drizzle:IsAlias"),yx=Symbol.for("drizzle:ExtraConfigBuilder"),Y0=Symbol.for("drizzle:IsDrizzleTable");let qt=class{static[te]="Table";static Symbol={Name:Ji,Schema:Nf,OriginalName:Sf,Columns:vx,ExtraConfigColumns:xx,BaseName:Cf,IsAlias:Nc,ExtraConfigBuilder:yx};[Ji];[Sf];[Nf];[vx];[xx];[Cf];[Nc]=!1;[Y0]=!0;[yx]=void 0;constructor(t,n,a){this[Ji]=this[Sf]=t,this[Nf]=n,this[Cf]=a}};function X0(e){return typeof e=="object"&&e!==null&&Y0 in e}function fR(e){return e!=null&&typeof e.getSQL=="function"}function mR(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}class Xr{static[te]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Nt([this])}}class Nt{constructor(t){this.queryChunks=t;for(const n of t)if(Ut(n,qt)){const a=n[qt.Symbol.Schema];this.usedTables.push(a===void 0?n[qt.Symbol.Name]:a+"."+n[qt.Symbol.Name])}}static[te]="SQL";decoder=J0;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return dR.startActiveSpan("drizzle.buildSQL",n=>{const a=this.buildQueryFromSourceParams(this.queryChunks,t);return n?.setAttributes({"drizzle.query.text":a.sql,"drizzle.query.params":JSON.stringify(a.params)}),a})}buildQueryFromSourceParams(t,n){const a=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:l,escapeName:c,escapeParam:d,prepareTyping:f,inlineParams:p,paramStartIndex:h}=a;return mR(t.map(x=>{if(Ut(x,Xr))return{sql:x.value.join(""),params:[]};if(Ut(x,tm))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new Xr("(")];for(const[w,S]of x.entries())y.push(S),w<x.length-1&&y.push(new Xr(", "));return y.push(new Xr(")")),this.buildQueryFromSourceParams(y,a)}if(Ut(x,Nt))return this.buildQueryFromSourceParams(x.queryChunks,{...a,inlineParams:p||x.shouldInlineParams});if(Ut(x,qt)){const y=x[qt.Symbol.Schema],w=x[qt.Symbol.Name];return{sql:y===void 0||x[Nc]?c(w):c(y)+"."+c(w),params:[]}}if(Ut(x,go)){const y=l.getColumnCasing(x);if(n.invokeSource==="indexes")return{sql:c(y),params:[]};const w=x.table[qt.Symbol.Schema];return{sql:x.table[Nc]||w===void 0?c(x.table[qt.Symbol.Name])+"."+c(y):c(w)+"."+c(x.table[qt.Symbol.Name])+"."+c(y),params:[]}}if(Ut(x,pR)){const y=x[ea].schema,w=x[ea].name;return{sql:y===void 0||x[ea].isAlias?c(w):c(y)+"."+c(w),params:[]}}if(Ut(x,tw)){if(Ut(x.value,rm))return{sql:d(h.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(Ut(y,Nt))return this.buildQueryFromSourceParams([y],a);if(p)return{sql:this.mapInlineParam(y,a),params:[]};let w=["none"];return f&&(w=[f(x.encoder)]),{sql:d(h.value++,y),params:[y],typings:w}}return Ut(x,rm)?{sql:d(h.value++,x),params:[x],typings:["none"]}:Ut(x,Nt.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:Ut(x,Z0)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new Xr("("),x._.sql,new Xr(") "),new tm(x._.alias)],a):uR(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:fR(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],a):this.buildQueryFromSourceParams([new Xr("("),x.getSQL(),new Xr(")")],a):p?{sql:this.mapInlineParam(x,a),params:[]}:{sql:d(h.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const a=t.toString();return n(a==="[object Object]"?JSON.stringify(t):a)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Nt.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class tm{constructor(t){this.value=t}static[te]="Name";brand;getSQL(){return new Nt([this])}}const J0={mapFromDriverValue:e=>e},ew={mapToDriverValue:e=>e};({...J0,...ew});class tw{constructor(t,n=ew){this.value=t,this.encoder=n}static[te]="Param";brand;getSQL(){return new Nt([this])}}function It(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Xr(e[0]));for(const[a,l]of t.entries())n.push(l,new Xr(e[a+1]));return new Nt(n)}(e=>{function t(){return new Nt([])}e.empty=t;function n(p){return new Nt(p)}e.fromList=n;function a(p){return new Nt([new Xr(p)])}e.raw=a;function l(p,h){const x=[];for(const[y,w]of p.entries())y>0&&h!==void 0&&x.push(h),x.push(w);return new Nt(x)}e.join=l;function c(p){return new tm(p)}e.identifier=c;function d(p){return new rm(p)}e.placeholder=d;function f(p,h){return new tw(p,h)}e.param=f})(It||(It={}));(e=>{class t{constructor(a,l){this.sql=a,this.fieldAlias=l}static[te]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Nt||(Nt={}));class rm{constructor(t){this.name=t}static[te]="Placeholder";getSQL(){return new Nt([this])}}const rw=Symbol.for("drizzle:IsDrizzleView");class pR{static[te]="View";[ea];[rw]=!0;constructor({name:t,schema:n,selectedFields:a,query:l}){this[ea]={name:t,originalName:t,schema:n,selectedFields:a,query:l,isExisting:!l,isAlias:!1}}getSQL(){return new Nt([this])}}function hR(e){return typeof e=="object"&&e!==null&&rw in e}go.prototype.getSQL=function(){return new Nt([this])};qt.prototype.getSQL=function(){return new Nt([this])};Z0.prototype.getSQL=function(){return new Nt([this])};function gR(e){return e[qt.Symbol.Columns]}function vR(e){return e[ea].selectedFields}function Wt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;class su extends Ge{static[te]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:n,...a}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:a}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...a}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:a}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class xR extends su{static[te]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new yR(t,this.config)}}class yR extends ze{static[te]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class bR extends su{static[te]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new wR(t,this.config)}}class wR extends ze{static[te]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function jR(e,t){const{name:n,config:a}=Wt(e,t);return a.mode==="number"?new xR(n):new bR(n)}class NR extends Ge{static[te]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new SR(t,this.config)}}class SR extends ze{static[te]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class CR extends Ge{static[te]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new kR(t,this.config)}}class kR extends ze{static[te]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function _R(e,t){const{name:n,config:a}=Wt(e,t);return a.mode==="number"?new NR(n):new CR(n)}class ER extends Ge{static[te]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new TR(t,this.config)}}class TR extends ze{static[te]="PgBoolean";getSQLType(){return"boolean"}}function zn(e){return new ER(e??"")}class PR extends Ge{static[te]="PgCharBuilder";constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new RR(t,this.config)}}class RR extends ze{static[te]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function AR(e,t={}){const{name:n,config:a}=Wt(e,t);return new PR(n,a)}class IR extends Ge{static[te]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new OR(t,this.config)}}class OR extends ze{static[te]="PgCidr";getSQLType(){return"cidr"}}function DR(e){return new IR(e??"")}class MR extends Ge{static[te]="PgCustomColumnBuilder";constructor(t,n,a){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=a}build(t){return new FR(t,this.config)}}class FR extends ze{static[te]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,n){super(t,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function LR(e){return(t,n)=>{const{name:a,config:l}=Wt(t,n);return new MR(a,l,e)}}class Lo extends Ge{static[te]="PgDateColumnBaseBuilder";defaultNow(){return this.default(It`now()`)}}class BR extends Lo{static[te]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new $R(t,this.config)}}class $R extends ze{static[te]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class VR extends Lo{static[te]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new zR(t,this.config)}}class zR extends ze{static[te]="PgDateString";getSQLType(){return"date"}}function UR(e,t){const{name:n,config:a}=Wt(e,t);return a?.mode==="date"?new BR(n):new VR(n)}class qR extends Ge{static[te]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new WR(t,this.config)}}class WR extends ze{static[te]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function QR(e){return new qR(e??"")}class KR extends Ge{static[te]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new HR(t,this.config)}}class HR extends ze{static[te]="PgInet";getSQLType(){return"inet"}}function GR(e){return new KR(e??"")}class ZR extends su{static[te]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new YR(t,this.config)}}class YR extends ze{static[te]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function Gs(e){return new ZR(e??"")}class XR extends Ge{static[te]="PgIntervalBuilder";constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new JR(t,this.config)}}class JR extends ze{static[te]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${t}${n}`}}function eA(e,t={}){const{name:n,config:a}=Wt(e,t);return new XR(n,a)}class tA extends Ge{static[te]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new rA(t,this.config)}}class rA extends ze{static[te]="PgJson";constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function nA(e){return new tA(e??"")}class sA extends Ge{static[te]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new iA(t,this.config)}}class iA extends ze{static[te]="PgJsonb";constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function Sc(e){return new sA(e??"")}class aA extends Ge{static[te]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new oA(t,this.config)}}class oA extends ze{static[te]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[n,a,l]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(a),Number.parseFloat(l)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class lA extends Ge{static[te]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new cA(t,this.config)}}class cA extends ze{static[te]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[n,a,l]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(a),c:Number.parseFloat(l)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function uA(e,t){const{name:n,config:a}=Wt(e,t);return!a?.mode||a.mode==="tuple"?new aA(n):new lA(n)}class dA extends Ge{static[te]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new fA(t,this.config)}}class fA extends ze{static[te]="PgMacaddr";getSQLType(){return"macaddr"}}function mA(e){return new dA(e??"")}class pA extends Ge{static[te]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new hA(t,this.config)}}class hA extends ze{static[te]="PgMacaddr8";getSQLType(){return"macaddr8"}}function gA(e){return new pA(e??"")}class vA extends Ge{static[te]="PgNumericBuilder";constructor(t,n,a){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=a}build(t){return new xA(t,this.config)}}class xA extends ze{static[te]="PgNumeric";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class yA extends Ge{static[te]="PgNumericNumberBuilder";constructor(t,n,a){super(t,"number","PgNumericNumber"),this.config.precision=n,this.config.scale=a}build(t){return new bA(t,this.config)}}class bA extends ze{static[te]="PgNumericNumber";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class wA extends Ge{static[te]="PgNumericBigIntBuilder";constructor(t,n,a){super(t,"bigint","PgNumericBigInt"),this.config.precision=n,this.config.scale=a}build(t){return new jA(t,this.config)}}class jA extends ze{static[te]="PgNumericBigInt";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function NA(e,t){const{name:n,config:a}=Wt(e,t),l=a?.mode;return l==="number"?new yA(n,a?.precision,a?.scale):l==="bigint"?new wA(n,a?.precision,a?.scale):new vA(n,a?.precision,a?.scale)}class SA extends Ge{static[te]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new CA(t,this.config)}}class CA extends ze{static[te]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(a)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class kA extends Ge{static[te]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new _A(t,this.config)}}class _A extends ze{static[te]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,a]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(a)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function EA(e,t){const{name:n,config:a}=Wt(e,t);return!a?.mode||a.mode==="tuple"?new SA(n):new kA(n)}function TA(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function bx(e,t){const n=new ArrayBuffer(8),a=new DataView(n);for(let l=0;l<8;l++)a.setUint8(l,e[t+l]);return a.getFloat64(0,!0)}function nw(e){const t=TA(e);let n=0;const a=t[n];n+=1;const l=new DataView(t.buffer),c=l.getUint32(n,a===1);if(n+=4,c&536870912&&(l.getUint32(n,a===1),n+=4),(c&65535)===1){const d=bx(t,n);n+=8;const f=bx(t,n);return n+=8,[d,f]}throw new Error("Unsupported geometry type")}class PA extends Ge{static[te]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new RA(t,this.config)}}class RA extends ze{static[te]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return nw(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class AA extends Ge{static[te]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new IA(t,this.config)}}class IA extends ze{static[te]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=nw(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function OA(e,t){const{name:n,config:a}=Wt(e,t);return!a?.mode||a.mode==="tuple"?new PA(n):new AA(n)}class DA extends Ge{static[te]="PgRealBuilder";constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new MA(t,this.config)}}class MA extends ze{static[te]="PgReal";constructor(t,n){super(t,n)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function FA(e){return new DA(e??"")}class LA extends Ge{static[te]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new BA(t,this.config)}}class BA extends ze{static[te]="PgSerial";getSQLType(){return"serial"}}function $A(e){return new LA(e??"")}class VA extends su{static[te]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new zA(t,this.config)}}class zA extends ze{static[te]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function UA(e){return new VA(e??"")}class qA extends Ge{static[te]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new WA(t,this.config)}}class WA extends ze{static[te]="PgSmallSerial";getSQLType(){return"smallserial"}}function QA(e){return new qA(e??"")}class KA extends Ge{static[te]="PgTextBuilder";constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new HA(t,this.config)}}class HA extends ze{static[te]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function rt(e,t={}){const{name:n,config:a}=Wt(e,t);return new KA(n,a)}class GA extends Lo{constructor(t,n,a){super(t,"string","PgTime"),this.withTimezone=n,this.precision=a,this.config.withTimezone=n,this.config.precision=a}static[te]="PgTimeBuilder";build(t){return new ZA(t,this.config)}}class ZA extends ze{static[te]="PgTime";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function YA(e,t={}){const{name:n,config:a}=Wt(e,t);return new GA(n,a.withTimezone??!1,a.precision)}class XA extends Lo{static[te]="PgTimestampBuilder";constructor(t,n,a){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=a}build(t){return new JA(t,this.config)}}class JA extends ze{static[te]="PgTimestamp";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class e2 extends Lo{static[te]="PgTimestampStringBuilder";constructor(t,n,a){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=a}build(t){return new t2(t,this.config)}}class t2 extends ze{static[te]="PgTimestampString";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function rn(e,t={}){const{name:n,config:a}=Wt(e,t);return a?.mode==="string"?new e2(n,a.withTimezone??!1,a.precision):new XA(n,a?.withTimezone??!1,a?.precision)}class r2 extends Ge{static[te]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(It`gen_random_uuid()`)}build(t){return new n2(t,this.config)}}class n2 extends ze{static[te]="PgUUID";getSQLType(){return"uuid"}}function s2(e){return new r2(e??"")}class i2 extends Ge{static[te]="PgVarcharBuilder";constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new a2(t,this.config)}}class a2 extends ze{static[te]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function on(e,t={}){const{name:n,config:a}=Wt(e,t);return new i2(n,a)}class o2 extends Ge{static[te]="PgBinaryVectorBuilder";constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new l2(t,this.config)}}class l2 extends ze{static[te]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function c2(e,t){const{name:n,config:a}=Wt(e,t);return new o2(n,a)}class u2 extends Ge{static[te]="PgHalfVectorBuilder";constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new d2(t,this.config)}}class d2 extends ze{static[te]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function f2(e,t){const{name:n,config:a}=Wt(e,t);return new u2(n,a)}class m2 extends Ge{static[te]="PgSparseVectorBuilder";constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new p2(t,this.config)}}class p2 extends ze{static[te]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function h2(e,t){const{name:n,config:a}=Wt(e,t);return new m2(n,a)}class g2 extends Ge{static[te]="PgVectorBuilder";constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new v2(t,this.config)}}class v2 extends ze{static[te]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function x2(e,t){const{name:n,config:a}=Wt(e,t);return new g2(n,a)}function y2(){return{bigint:jR,bigserial:_R,boolean:zn,char:AR,cidr:DR,customType:LR,date:UR,doublePrecision:QR,inet:GR,integer:Gs,interval:eA,json:nA,jsonb:Sc,line:uA,macaddr:mA,macaddr8:gA,numeric:NA,point:EA,geometry:OA,real:FA,serial:$A,smallint:UA,smallserial:QA,text:rt,time:YA,timestamp:rn,uuid:s2,varchar:on,bit:c2,halfvec:f2,sparsevec:h2,vector:x2}}const nm=Symbol.for("drizzle:PgInlineForeignKeys"),wx=Symbol.for("drizzle:EnableRLS");class jx extends qt{static[te]="PgTable";static Symbol=Object.assign({},qt.Symbol,{InlineForeignKeys:nm,EnableRLS:wx});[nm]=[];[wx]=!1;[qt.Symbol.ExtraConfigBuilder]=void 0;[qt.Symbol.ExtraConfigColumns]={}}function b2(e,t,n,a,l=e){const c=new jx(e,a,l),d=typeof t=="function"?t(y2()):t,f=Object.fromEntries(Object.entries(d).map(([x,y])=>{const w=y;w.setName(x);const S=w.build(c);return c[nm].push(...w.buildForeignKeys(S,c)),[x,S]})),p=Object.fromEntries(Object.entries(d).map(([x,y])=>{const w=y;w.setName(x);const S=w.buildExtraConfigColumn(c);return[x,S]})),h=Object.assign(c,f);return h[qt.Symbol.Columns]=f,h[qt.Symbol.ExtraConfigColumns]=p,Object.assign(h,{enableRLS:()=>(h[jx.Symbol.EnableRLS]=!0,h)})}const di=(e,t,n)=>b2(e,t,n,void 0);var Ye;(function(e){e.assertEqual=l=>{};function t(l){}e.assertIs=t;function n(l){throw new Error}e.assertNever=n,e.arrayToEnum=l=>{const c={};for(const d of l)c[d]=d;return c},e.getValidEnumValues=l=>{const c=e.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),d={};for(const f of c)d[f]=l[f];return e.objectValues(d)},e.objectValues=l=>e.objectKeys(l).map(function(c){return l[c]}),e.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&c.push(d);return c},e.find=(l,c)=>{for(const d of l)if(c(d))return d},e.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function a(l,c=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(c)}e.joinValues=a,e.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(Ye||(Ye={}));var sm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(sm||(sm={}));const je=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vn=e=>{switch(typeof e){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(e)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(e)?je.array:e===null?je.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?je.promise:typeof Map<"u"&&e instanceof Map?je.map:typeof Set<"u"&&e instanceof Set?je.set:typeof Date<"u"&&e instanceof Date?je.date:je.object;default:return je.unknown}},le=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),w2=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ir extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(c){return c.message},a={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)a._errors.push(n(d));else{let f=a,p=0;for(;p<d.path.length;){const h=d.path[p];p===d.path.length-1?(f[h]=f[h]||{_errors:[]},f[h]._errors.push(n(d))):f[h]=f[h]||{_errors:[]},f=f[h],p++}}};return l(this),a}static assert(t){if(!(t instanceof Ir))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},a=[];for(const l of this.issues)if(l.path.length>0){const c=l.path[0];n[c]=n[c]||[],n[c].push(t(l))}else a.push(t(l));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Ir.create=e=>new Ir(e);const ia=(e,t)=>{let n;switch(e.code){case le.invalid_type:e.received===je.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case le.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case le.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ye.assertNever(e)}return{message:n}};let sw=ia;function j2(e){sw=e}function Cc(){return sw}const kc=e=>{const{data:t,path:n,errorMaps:a,issueData:l}=e,c=[...n,...l.path||[]],d={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let f="";const p=a.filter(h=>!!h).slice().reverse();for(const h of p)f=h(d,{data:t,defaultError:f}).message;return{...l,path:c,message:f}},N2=[];function xe(e,t){const n=Cc(),a=kc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ia?void 0:ia].filter(l=>!!l)});e.common.issues.push(a)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const a=[];for(const l of n){if(l.status==="aborted")return Le;l.status==="dirty"&&t.dirty(),a.push(l.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,n){const a=[];for(const l of n){const c=await l.key,d=await l.value;a.push({key:c,value:d})}return or.mergeObjectSync(t,a)}static mergeObjectSync(t,n){const a={};for(const l of n){const{key:c,value:d}=l;if(c.status==="aborted"||d.status==="aborted")return Le;c.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(a[c.value]=d.value)}return{status:t.value,value:a}}}const Le=Object.freeze({status:"aborted"}),Gi=e=>({status:"dirty",value:e}),hr=e=>({status:"valid",value:e}),im=e=>e.status==="aborted",am=e=>e.status==="dirty",oi=e=>e.status==="valid",vo=e=>typeof Promise<"u"&&e instanceof Promise;var Pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Pe||(Pe={}));class Cn{constructor(t,n,a,l){this._cachedPath=[],this.parent=t,this.data=n,this._path=a,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nx=(e,t)=>{if(oi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ir(e.common.issues);return this._error=n,this._error}}};function Ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:l}=e;if(t&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(d,f)=>{const{message:p}=e;return d.code==="invalid_enum_value"?{message:p??f.defaultError}:typeof f.data>"u"?{message:p??a??f.defaultError}:d.code!=="invalid_type"?{message:f.defaultError}:{message:p??n??f.defaultError}},description:l}}class We{get description(){return this._def.description}_getType(t){return Vn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Vn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new or,ctx:{common:t.parent.common,data:t.data,parsedType:Vn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(vo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const a=this.safeParse(t,n);if(a.success)return a.data;throw a.error}safeParse(t,n){const a={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vn(t)},l=this._parseSync({data:t,path:a.path,parent:a});return Nx(a,l)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vn(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return oi(a)?{value:a.value}:{issues:n.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>oi(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const a=await this.safeParseAsync(t,n);if(a.success)return a.data;throw a.error}async safeParseAsync(t,n){const a={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vn(t)},l=this._parse({data:t,path:a.path,parent:a}),c=await(vo(l)?l:Promise.resolve(l));return Nx(a,c)}refine(t,n){const a=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,c)=>{const d=t(l),f=()=>c.addIssue({code:le.custom,...a(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(p=>p?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(t,n){return this._refinement((a,l)=>t(a)?!0:(l.addIssue(typeof n=="function"?n(a,l):n),!1))}_refinement(t){return new ln({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Nn.create(this,this._def)}nullable(){return Es.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nn.create(this)}promise(){return oa.create(this,this._def)}or(t){return wo.create([this,t],this._def)}and(t){return jo.create(this,t,this._def)}transform(t){return new ln({...Ue(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new _o({...Ue(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new np({typeName:Be.ZodBranded,type:this,...Ue(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Eo({...Ue(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bo.create(this,t)}readonly(){return To.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const S2=/^c[^\s-]{8,}$/i,C2=/^[0-9a-z]+$/,k2=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,E2=/^[a-z0-9_-]{21}$/i,T2=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kf;const I2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,O2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,D2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B2=new RegExp(`^${iw}$`);function aw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function $2(e){return new RegExp(`^${aw(e)}$`)}function ow(e){let t=`${iw}T${aw(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function V2(e,t){return!!((t==="v4"||!t)&&I2.test(e)||(t==="v6"||!t)&&D2.test(e))}function z2(e,t){if(!T2.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(a));return!(typeof l!="object"||l===null||"typ"in l&&l?.typ!=="JWT"||!l.alg||t&&l.alg!==t)}catch{return!1}}function U2(e,t){return!!((t==="v4"||!t)&&O2.test(e)||(t==="v6"||!t)&&M2.test(e))}class tn extends We{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==je.string){const c=this._getOrReturnCtx(t);return xe(c,{code:le.invalid_type,expected:je.string,received:c.parsedType}),Le}const a=new or;let l;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:le.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="max")t.data.length>c.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:le.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="length"){const d=t.data.length>c.value,f=t.data.length<c.value;(d||f)&&(l=this._getOrReturnCtx(t,l),d?xe(l,{code:le.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&xe(l,{code:le.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if(c.kind==="email")R2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"email",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="emoji")kf||(kf=new RegExp(A2,"u")),kf.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"emoji",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="uuid")_2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"uuid",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="nanoid")E2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"nanoid",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid")S2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cuid",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid2")C2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cuid2",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="ulid")k2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"ulid",code:le.invalid_string,message:c.message}),a.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),xe(l,{validation:"url",code:le.invalid_string,message:c.message}),a.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"regex",code:le.invalid_string,message:c.message}),a.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):c.kind==="datetime"?ow(c).test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:"datetime",message:c.message}),a.dirty()):c.kind==="date"?B2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:"date",message:c.message}),a.dirty()):c.kind==="time"?$2(c).test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:le.invalid_string,validation:"time",message:c.message}),a.dirty()):c.kind==="duration"?P2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"duration",code:le.invalid_string,message:c.message}),a.dirty()):c.kind==="ip"?V2(t.data,c.version)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"ip",code:le.invalid_string,message:c.message}),a.dirty()):c.kind==="jwt"?z2(t.data,c.alg)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"jwt",code:le.invalid_string,message:c.message}),a.dirty()):c.kind==="cidr"?U2(t.data,c.version)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cidr",code:le.invalid_string,message:c.message}),a.dirty()):c.kind==="base64"?F2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"base64",code:le.invalid_string,message:c.message}),a.dirty()):c.kind==="base64url"?L2.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"base64url",code:le.invalid_string,message:c.message}),a.dirty()):Ye.assertNever(c);return{status:a.value,value:t.data}}_regex(t,n,a){return this.refinement(l=>t.test(l),{validation:n,code:le.invalid_string,...Pe.errToObj(a)})}_addCheck(t){return new tn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Pe.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Pe.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Pe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Pe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Pe.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Pe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Pe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Pe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Pe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Pe.errToObj(n)})}nonempty(t){return this.min(1,Pe.errToObj(t))}trim(){return new tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tn.create=e=>new tn({checks:[],typeName:Be.ZodString,coerce:e?.coerce??!1,...Ue(e)});function q2(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,l=n>a?n:a,c=Number.parseInt(e.toFixed(l).replace(".","")),d=Number.parseInt(t.toFixed(l).replace(".",""));return c%d/10**l}class Cs extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==je.number){const c=this._getOrReturnCtx(t);return xe(c,{code:le.invalid_type,expected:je.number,received:c.parsedType}),Le}let a;const l=new or;for(const c of this._def.checks)c.kind==="int"?Ye.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?q2(t.data,c.value)!==0&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.not_finite,message:c.message}),l.dirty()):Ye.assertNever(c);return{status:l.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pe.toString(n))}setLimit(t,n,a,l){return new Cs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:Pe.toString(l)}]})}_addCheck(t){return new Cs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ye.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Cs.create=e=>new Cs({checks:[],typeName:Be.ZodNumber,coerce:e?.coerce||!1,...Ue(e)});class ks extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==je.bigint)return this._getInvalidInput(t);let a;const l=new or;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):Ye.assertNever(c);return{status:l.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.bigint,received:n.parsedType}),Le}gte(t,n){return this.setLimit("min",t,!0,Pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pe.toString(n))}setLimit(t,n,a,l){return new ks({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:Pe.toString(l)}]})}_addCheck(t){return new ks({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ks.create=e=>new ks({checks:[],typeName:Be.ZodBigInt,coerce:e?.coerce??!1,...Ue(e)});class xo extends We{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==je.boolean){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.boolean,received:a.parsedType}),Le}return hr(t.data)}}xo.create=e=>new xo({typeName:Be.ZodBoolean,coerce:e?.coerce||!1,...Ue(e)});class li extends We{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==je.date){const c=this._getOrReturnCtx(t);return xe(c,{code:le.invalid_type,expected:je.date,received:c.parsedType}),Le}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return xe(c,{code:le.invalid_date}),Le}const a=new or;let l;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:le.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:le.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):Ye.assertNever(c);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new li({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Pe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Pe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}li.create=e=>new li({checks:[],coerce:e?.coerce||!1,typeName:Be.ZodDate,...Ue(e)});class _c extends We{_parse(t){if(this._getType(t)!==je.symbol){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.symbol,received:a.parsedType}),Le}return hr(t.data)}}_c.create=e=>new _c({typeName:Be.ZodSymbol,...Ue(e)});class yo extends We{_parse(t){if(this._getType(t)!==je.undefined){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.undefined,received:a.parsedType}),Le}return hr(t.data)}}yo.create=e=>new yo({typeName:Be.ZodUndefined,...Ue(e)});class bo extends We{_parse(t){if(this._getType(t)!==je.null){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.null,received:a.parsedType}),Le}return hr(t.data)}}bo.create=e=>new bo({typeName:Be.ZodNull,...Ue(e)});class aa extends We{constructor(){super(...arguments),this._any=!0}_parse(t){return hr(t.data)}}aa.create=e=>new aa({typeName:Be.ZodAny,...Ue(e)});class Zs extends We{constructor(){super(...arguments),this._unknown=!0}_parse(t){return hr(t.data)}}Zs.create=e=>new Zs({typeName:Be.ZodUnknown,...Ue(e)});class Qn extends We{_parse(t){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.never,received:n.parsedType}),Le}}Qn.create=e=>new Qn({typeName:Be.ZodNever,...Ue(e)});class Ec extends We{_parse(t){if(this._getType(t)!==je.undefined){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.void,received:a.parsedType}),Le}return hr(t.data)}}Ec.create=e=>new Ec({typeName:Be.ZodVoid,...Ue(e)});class nn extends We{_parse(t){const{ctx:n,status:a}=this._processInputParams(t),l=this._def;if(n.parsedType!==je.array)return xe(n,{code:le.invalid_type,expected:je.array,received:n.parsedType}),Le;if(l.exactLength!==null){const d=n.data.length>l.exactLength.value,f=n.data.length<l.exactLength.value;(d||f)&&(xe(n,{code:d?le.too_big:le.too_small,minimum:f?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),a.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(xe(n,{code:le.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),a.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(xe(n,{code:le.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((d,f)=>l.type._parseAsync(new Cn(n,d,n.path,f)))).then(d=>or.mergeArray(a,d));const c=[...n.data].map((d,f)=>l.type._parseSync(new Cn(n,d,n.path,f)));return or.mergeArray(a,c)}get element(){return this._def.type}min(t,n){return new nn({...this._def,minLength:{value:t,message:Pe.toString(n)}})}max(t,n){return new nn({...this._def,maxLength:{value:t,message:Pe.toString(n)}})}length(t,n){return new nn({...this._def,exactLength:{value:t,message:Pe.toString(n)}})}nonempty(t){return this.min(1,t)}}nn.create=(e,t)=>new nn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ue(t)});function Qi(e){if(e instanceof gt){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=Nn.create(Qi(a))}return new gt({...e._def,shape:()=>t})}else return e instanceof nn?new nn({...e._def,type:Qi(e.element)}):e instanceof Nn?Nn.create(Qi(e.unwrap())):e instanceof Es?Es.create(Qi(e.unwrap())):e instanceof kn?kn.create(e.items.map(t=>Qi(t))):e}class gt extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ye.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==je.object){const h=this._getOrReturnCtx(t);return xe(h,{code:le.invalid_type,expected:je.object,received:h.parsedType}),Le}const{status:a,ctx:l}=this._processInputParams(t),{shape:c,keys:d}=this._getCached(),f=[];if(!(this._def.catchall instanceof Qn&&this._def.unknownKeys==="strip"))for(const h in l.data)d.includes(h)||f.push(h);const p=[];for(const h of d){const x=c[h],y=l.data[h];p.push({key:{status:"valid",value:h},value:x._parse(new Cn(l,y,l.path,h)),alwaysSet:h in l.data})}if(this._def.catchall instanceof Qn){const h=this._def.unknownKeys;if(h==="passthrough")for(const x of f)p.push({key:{status:"valid",value:x},value:{status:"valid",value:l.data[x]}});else if(h==="strict")f.length>0&&(xe(l,{code:le.unrecognized_keys,keys:f}),a.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const x of f){const y=l.data[x];p.push({key:{status:"valid",value:x},value:h._parse(new Cn(l,y,l.path,x)),alwaysSet:x in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const h=[];for(const x of p){const y=await x.key,w=await x.value;h.push({key:y,value:w,alwaysSet:x.alwaysSet})}return h}).then(h=>or.mergeObjectSync(a,h)):or.mergeObjectSync(a,p)}get shape(){return this._def.shape()}strict(t){return Pe.errToObj,new gt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,a)=>{const l=this._def.errorMap?.(n,a).message??a.defaultError;return n.code==="unrecognized_keys"?{message:Pe.errToObj(t).message??l}:{message:l}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(t){return new gt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new gt({...this._def,catchall:t})}pick(t){const n={};for(const a of Ye.objectKeys(t))t[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new gt({...this._def,shape:()=>n})}omit(t){const n={};for(const a of Ye.objectKeys(this.shape))t[a]||(n[a]=this.shape[a]);return new gt({...this._def,shape:()=>n})}deepPartial(){return Qi(this)}partial(t){const n={};for(const a of Ye.objectKeys(this.shape)){const l=this.shape[a];t&&!t[a]?n[a]=l:n[a]=l.optional()}return new gt({...this._def,shape:()=>n})}required(t){const n={};for(const a of Ye.objectKeys(this.shape))if(t&&!t[a])n[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof Nn;)c=c._def.innerType;n[a]=c}return new gt({...this._def,shape:()=>n})}keyof(){return lw(Ye.objectKeys(this.shape))}}gt.create=(e,t)=>new gt({shape:()=>e,unknownKeys:"strip",catchall:Qn.create(),typeName:Be.ZodObject,...Ue(t)});gt.strictCreate=(e,t)=>new gt({shape:()=>e,unknownKeys:"strict",catchall:Qn.create(),typeName:Be.ZodObject,...Ue(t)});gt.lazycreate=(e,t)=>new gt({shape:e,unknownKeys:"strip",catchall:Qn.create(),typeName:Be.ZodObject,...Ue(t)});class wo extends We{_parse(t){const{ctx:n}=this._processInputParams(t),a=this._def.options;function l(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return n.common.issues.push(...f.ctx.common.issues),f.result;const d=c.map(f=>new Ir(f.ctx.common.issues));return xe(n,{code:le.invalid_union,unionErrors:d}),Le}if(n.common.async)return Promise.all(a.map(async c=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(l);{let c;const d=[];for(const p of a){const h={...n,common:{...n.common,issues:[]},parent:null},x=p._parseSync({data:n.data,path:n.path,parent:h});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:h}),h.common.issues.length&&d.push(h.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const f=d.map(p=>new Ir(p));return xe(n,{code:le.invalid_union,unionErrors:f}),Le}}get options(){return this._def.options}}wo.create=(e,t)=>new wo({options:e,typeName:Be.ZodUnion,...Ue(t)});const $n=e=>e instanceof So?$n(e.schema):e instanceof ln?$n(e.innerType()):e instanceof Co?[e.value]:e instanceof _s?e.options:e instanceof ko?Ye.objectValues(e.enum):e instanceof _o?$n(e._def.innerType):e instanceof yo?[void 0]:e instanceof bo?[null]:e instanceof Nn?[void 0,...$n(e.unwrap())]:e instanceof Es?[null,...$n(e.unwrap())]:e instanceof np||e instanceof To?$n(e.unwrap()):e instanceof Eo?$n(e._def.innerType):[];class iu extends We{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.object)return xe(n,{code:le.invalid_type,expected:je.object,received:n.parsedType}),Le;const a=this.discriminator,l=n.data[a],c=this.optionsMap.get(l);return c?n.common.async?c._parseAsync({data:n.data,path:n.path,parent:n}):c._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,a){const l=new Map;for(const c of n){const d=$n(c.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of d){if(l.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);l.set(f,c)}}return new iu({typeName:Be.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:l,...Ue(a)})}}function om(e,t){const n=Vn(e),a=Vn(t);if(e===t)return{valid:!0,data:e};if(n===je.object&&a===je.object){const l=Ye.objectKeys(t),c=Ye.objectKeys(e).filter(f=>l.indexOf(f)!==-1),d={...e,...t};for(const f of c){const p=om(e[f],t[f]);if(!p.valid)return{valid:!1};d[f]=p.data}return{valid:!0,data:d}}else if(n===je.array&&a===je.array){if(e.length!==t.length)return{valid:!1};const l=[];for(let c=0;c<e.length;c++){const d=e[c],f=t[c],p=om(d,f);if(!p.valid)return{valid:!1};l.push(p.data)}return{valid:!0,data:l}}else return n===je.date&&a===je.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class jo extends We{_parse(t){const{status:n,ctx:a}=this._processInputParams(t),l=(c,d)=>{if(im(c)||im(d))return Le;const f=om(c.value,d.value);return f.valid?((am(c)||am(d))&&n.dirty(),{status:n.value,value:f.data}):(xe(a,{code:le.invalid_intersection_types}),Le)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,d])=>l(c,d)):l(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}jo.create=(e,t,n)=>new jo({left:e,right:t,typeName:Be.ZodIntersection,...Ue(n)});class kn extends We{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==je.array)return xe(a,{code:le.invalid_type,expected:je.array,received:a.parsedType}),Le;if(a.data.length<this._def.items.length)return xe(a,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&a.data.length>this._def.items.length&&(xe(a,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const c=[...a.data].map((d,f)=>{const p=this._def.items[f]||this._def.rest;return p?p._parse(new Cn(a,d,a.path,f)):null}).filter(d=>!!d);return a.common.async?Promise.all(c).then(d=>or.mergeArray(n,d)):or.mergeArray(n,c)}get items(){return this._def.items}rest(t){return new kn({...this._def,rest:t})}}kn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kn({items:e,typeName:Be.ZodTuple,rest:null,...Ue(t)})};class No extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==je.object)return xe(a,{code:le.invalid_type,expected:je.object,received:a.parsedType}),Le;const l=[],c=this._def.keyType,d=this._def.valueType;for(const f in a.data)l.push({key:c._parse(new Cn(a,f,a.path,f)),value:d._parse(new Cn(a,a.data[f],a.path,f)),alwaysSet:f in a.data});return a.common.async?or.mergeObjectAsync(n,l):or.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(t,n,a){return n instanceof We?new No({keyType:t,valueType:n,typeName:Be.ZodRecord,...Ue(a)}):new No({keyType:tn.create(),valueType:t,typeName:Be.ZodRecord,...Ue(n)})}}class Tc extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==je.map)return xe(a,{code:le.invalid_type,expected:je.map,received:a.parsedType}),Le;const l=this._def.keyType,c=this._def.valueType,d=[...a.data.entries()].map(([f,p],h)=>({key:l._parse(new Cn(a,f,a.path,[h,"key"])),value:c._parse(new Cn(a,p,a.path,[h,"value"]))}));if(a.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const p of d){const h=await p.key,x=await p.value;if(h.status==="aborted"||x.status==="aborted")return Le;(h.status==="dirty"||x.status==="dirty")&&n.dirty(),f.set(h.value,x.value)}return{status:n.value,value:f}})}else{const f=new Map;for(const p of d){const h=p.key,x=p.value;if(h.status==="aborted"||x.status==="aborted")return Le;(h.status==="dirty"||x.status==="dirty")&&n.dirty(),f.set(h.value,x.value)}return{status:n.value,value:f}}}}Tc.create=(e,t,n)=>new Tc({valueType:t,keyType:e,typeName:Be.ZodMap,...Ue(n)});class ci extends We{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==je.set)return xe(a,{code:le.invalid_type,expected:je.set,received:a.parsedType}),Le;const l=this._def;l.minSize!==null&&a.data.size<l.minSize.value&&(xe(a,{code:le.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&a.data.size>l.maxSize.value&&(xe(a,{code:le.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const c=this._def.valueType;function d(p){const h=new Set;for(const x of p){if(x.status==="aborted")return Le;x.status==="dirty"&&n.dirty(),h.add(x.value)}return{status:n.value,value:h}}const f=[...a.data.values()].map((p,h)=>c._parse(new Cn(a,p,a.path,h)));return a.common.async?Promise.all(f).then(p=>d(p)):d(f)}min(t,n){return new ci({...this._def,minSize:{value:t,message:Pe.toString(n)}})}max(t,n){return new ci({...this._def,maxSize:{value:t,message:Pe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ci.create=(e,t)=>new ci({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ue(t)});class ta extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.function)return xe(n,{code:le.invalid_type,expected:je.function,received:n.parsedType}),Le;function a(f,p){return kc({data:f,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cc(),ia].filter(h=>!!h),issueData:{code:le.invalid_arguments,argumentsError:p}})}function l(f,p){return kc({data:f,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cc(),ia].filter(h=>!!h),issueData:{code:le.invalid_return_type,returnTypeError:p}})}const c={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof oa){const f=this;return hr(async function(...p){const h=new Ir([]),x=await f._def.args.parseAsync(p,c).catch(S=>{throw h.addIssue(a(p,S)),h}),y=await Reflect.apply(d,this,x);return await f._def.returns._def.type.parseAsync(y,c).catch(S=>{throw h.addIssue(l(y,S)),h})})}else{const f=this;return hr(function(...p){const h=f._def.args.safeParse(p,c);if(!h.success)throw new Ir([a(p,h.error)]);const x=Reflect.apply(d,this,h.data),y=f._def.returns.safeParse(x,c);if(!y.success)throw new Ir([l(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ta({...this._def,args:kn.create(t).rest(Zs.create())})}returns(t){return new ta({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,a){return new ta({args:t||kn.create([]).rest(Zs.create()),returns:n||Zs.create(),typeName:Be.ZodFunction,...Ue(a)})}}class So extends We{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}So.create=(e,t)=>new So({getter:e,typeName:Be.ZodLazy,...Ue(t)});class Co extends We{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return xe(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:t.data}}get value(){return this._def.value}}Co.create=(e,t)=>new Co({value:e,typeName:Be.ZodLiteral,...Ue(t)});function lw(e,t){return new _s({values:e,typeName:Be.ZodEnum,...Ue(t)})}class _s extends We{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),a=this._def.values;return xe(n,{expected:Ye.joinValues(a),received:n.parsedType,code:le.invalid_type}),Le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),a=this._def.values;return xe(n,{received:n.data,code:le.invalid_enum_value,options:a}),Le}return hr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return _s.create(t,{...this._def,...n})}exclude(t,n=this._def){return _s.create(this.options.filter(a=>!t.includes(a)),{...this._def,...n})}}_s.create=lw;class ko extends We{_parse(t){const n=Ye.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==je.string&&a.parsedType!==je.number){const l=Ye.objectValues(n);return xe(a,{expected:Ye.joinValues(l),received:a.parsedType,code:le.invalid_type}),Le}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const l=Ye.objectValues(n);return xe(a,{received:a.data,code:le.invalid_enum_value,options:l}),Le}return hr(t.data)}get enum(){return this._def.values}}ko.create=(e,t)=>new ko({values:e,typeName:Be.ZodNativeEnum,...Ue(t)});class oa extends We{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.promise&&n.common.async===!1)return xe(n,{code:le.invalid_type,expected:je.promise,received:n.parsedType}),Le;const a=n.parsedType===je.promise?n.data:Promise.resolve(n.data);return hr(a.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}oa.create=(e,t)=>new oa({type:e,typeName:Be.ZodPromise,...Ue(t)});class ln extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:a}=this._processInputParams(t),l=this._def.effect||null,c={addIssue:d=>{xe(a,d),d.fatal?n.abort():n.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const d=l.transform(a.data,c);if(a.common.async)return Promise.resolve(d).then(async f=>{if(n.value==="aborted")return Le;const p=await this._def.schema._parseAsync({data:f,path:a.path,parent:a});return p.status==="aborted"?Le:p.status==="dirty"||n.value==="dirty"?Gi(p.value):p});{if(n.value==="aborted")return Le;const f=this._def.schema._parseSync({data:d,path:a.path,parent:a});return f.status==="aborted"?Le:f.status==="dirty"||n.value==="dirty"?Gi(f.value):f}}if(l.type==="refinement"){const d=f=>{const p=l.refinement(f,c);if(a.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(a.common.async===!1){const f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?Le:(f.status==="dirty"&&n.dirty(),d(f.value),{status:n.value,value:f.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(f=>f.status==="aborted"?Le:(f.status==="dirty"&&n.dirty(),d(f.value).then(()=>({status:n.value,value:f.value}))))}if(l.type==="transform")if(a.common.async===!1){const d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!oi(d))return Le;const f=l.transform(d.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:f}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(d=>oi(d)?Promise.resolve(l.transform(d.value,c)).then(f=>({status:n.value,value:f})):Le);Ye.assertNever(l)}}ln.create=(e,t,n)=>new ln({schema:e,typeName:Be.ZodEffects,effect:t,...Ue(n)});ln.createWithPreprocess=(e,t,n)=>new ln({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...Ue(n)});class Nn extends We{_parse(t){return this._getType(t)===je.undefined?hr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Nn.create=(e,t)=>new Nn({innerType:e,typeName:Be.ZodOptional,...Ue(t)});class Es extends We{_parse(t){return this._getType(t)===je.null?hr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Es.create=(e,t)=>new Es({innerType:e,typeName:Be.ZodNullable,...Ue(t)});class _o extends We{_parse(t){const{ctx:n}=this._processInputParams(t);let a=n.data;return n.parsedType===je.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}_o.create=(e,t)=>new _o({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ue(t)});class Eo extends We{_parse(t){const{ctx:n}=this._processInputParams(t),a={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return vo(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Ir(a.common.issues)},input:a.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ir(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ue(t)});class Pc extends We{_parse(t){if(this._getType(t)!==je.nan){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.nan,received:a.parsedType}),Le}return{status:"valid",value:t.data}}}Pc.create=e=>new Pc({typeName:Be.ZodNaN,...Ue(e)});const W2=Symbol("zod_brand");class np extends We{_parse(t){const{ctx:n}=this._processInputParams(t),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bo extends We{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Le:c.status==="dirty"?(n.dirty(),Gi(c.value)):this._def.out._parseAsync({data:c.value,path:a.path,parent:a})})();{const l=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Le:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:a.path,parent:a})}}static create(t,n){return new Bo({in:t,out:n,typeName:Be.ZodPipeline})}}class To extends We{_parse(t){const n=this._def.innerType._parse(t),a=l=>(oi(l)&&(l.value=Object.freeze(l.value)),l);return vo(n)?n.then(l=>a(l)):a(n)}unwrap(){return this._def.innerType}}To.create=(e,t)=>new To({innerType:e,typeName:Be.ZodReadonly,...Ue(t)});function Sx(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function sp(e,t={},n){return e?aa.create().superRefine((a,l)=>{const c=e(a);if(c instanceof Promise)return c.then(d=>{if(!d){const f=Sx(t,a),p=f.fatal??n??!0;l.addIssue({code:"custom",...f,fatal:p})}});if(!c){const d=Sx(t,a),f=d.fatal??n??!0;l.addIssue({code:"custom",...d,fatal:f})}}):aa.create()}const Q2={object:gt.lazycreate};var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const K2=(e,t={message:`Input not instance of ${e.name}`})=>sp(n=>n instanceof e,t),au=tn.create,ip=Cs.create,H2=Pc.create,G2=ks.create,ap=xo.create,Z2=li.create,Y2=_c.create,X2=yo.create,cw=bo.create,Po=aa.create,J2=Zs.create,eI=Qn.create,tI=Ec.create,uw=nn.create,dw=gt.create,rI=gt.strictCreate,op=wo.create,nI=iu.create,sI=jo.create,iI=kn.create,fw=No.create,aI=Tc.create,oI=ci.create,lI=ta.create,cI=So.create,uI=Co.create,dI=_s.create,fI=ko.create,mI=oa.create,Cx=ln.create,pI=Nn.create,hI=Es.create,gI=ln.createWithPreprocess,vI=Bo.create,xI=()=>au().optional(),yI=()=>ip().optional(),bI=()=>ap().optional(),wI={string:(e=>tn.create({...e,coerce:!0})),number:(e=>Cs.create({...e,coerce:!0})),boolean:(e=>xo.create({...e,coerce:!0})),bigint:(e=>ks.create({...e,coerce:!0})),date:(e=>li.create({...e,coerce:!0}))},jI=Le,NI=Object.freeze(Object.defineProperty({__proto__:null,BRAND:W2,DIRTY:Gi,EMPTY_PATH:N2,INVALID:Le,NEVER:jI,OK:hr,ParseStatus:or,Schema:We,ZodAny:aa,ZodArray:nn,ZodBigInt:ks,ZodBoolean:xo,ZodBranded:np,ZodCatch:Eo,ZodDate:li,ZodDefault:_o,ZodDiscriminatedUnion:iu,ZodEffects:ln,ZodEnum:_s,ZodError:Ir,get ZodFirstPartyTypeKind(){return Be},ZodFunction:ta,ZodIntersection:jo,ZodIssueCode:le,ZodLazy:So,ZodLiteral:Co,ZodMap:Tc,ZodNaN:Pc,ZodNativeEnum:ko,ZodNever:Qn,ZodNull:bo,ZodNullable:Es,ZodNumber:Cs,ZodObject:gt,ZodOptional:Nn,ZodParsedType:je,ZodPipeline:Bo,ZodPromise:oa,ZodReadonly:To,ZodRecord:No,ZodSchema:We,ZodSet:ci,ZodString:tn,ZodSymbol:_c,ZodTransformer:ln,ZodTuple:kn,ZodType:We,ZodUndefined:yo,ZodUnion:wo,ZodUnknown:Zs,ZodVoid:Ec,addIssueToContext:xe,any:Po,array:uw,bigint:G2,boolean:ap,coerce:wI,custom:sp,date:Z2,datetimeRegex:ow,defaultErrorMap:ia,discriminatedUnion:nI,effect:Cx,enum:dI,function:lI,getErrorMap:Cc,getParsedType:Vn,instanceof:K2,intersection:sI,isAborted:im,isAsync:vo,isDirty:am,isValid:oi,late:Q2,lazy:cI,literal:uI,makeIssue:kc,map:aI,nan:H2,nativeEnum:fI,never:eI,null:cw,nullable:hI,number:ip,object:dw,get objectUtil(){return sm},oboolean:bI,onumber:yI,optional:pI,ostring:xI,pipeline:vI,preprocess:gI,promise:mI,quotelessJson:w2,record:fw,set:oI,setErrorMap:j2,strictObject:rI,string:au,symbol:Y2,transformer:Cx,tuple:iI,undefined:X2,union:op,unknown:J2,get util(){return Ye},void:tI},Symbol.toStringTag,{value:"Module"})),ht={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function _t(e,t){return t.includes(e.columnType)}function SI(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const CI=op([au(),ip(),ap(),cw()]),kI=op([CI,fw(Po()),uw(Po())]),_I=sp(e=>e instanceof Buffer);function mw(e,t){const n=t?.zodInstance??NI,a=t?.coerce??{};let l;return SI(e)&&(l=e.enumValues.length?n.enum(e.enumValues):n.string()),l||(_t(e,["PgGeometry","PgPointTuple"])?l=n.tuple([n.number(),n.number()]):_t(e,["PgGeometryObject","PgPointObject"])?l=n.object({x:n.number(),y:n.number()}):_t(e,["PgHalfVector","PgVector"])?(l=n.array(n.number()),l=e.dimensions?l.length(e.dimensions):l):_t(e,["PgLine"])?l=n.tuple([n.number(),n.number(),n.number()]):_t(e,["PgLineABC"])?l=n.object({a:n.number(),b:n.number(),c:n.number()}):_t(e,["PgArray"])?(l=n.array(mw(e.baseColumn,n)),l=e.size?l.length(e.size):l):e.dataType==="array"?l=n.array(n.any()):e.dataType==="number"?l=EI(e,n,a):e.dataType==="bigint"?l=TI(e,n,a):e.dataType==="boolean"?l=a===!0||a.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?l=a===!0||a.date?n.coerce.date():n.date():e.dataType==="string"?l=PI(e,n,a):e.dataType==="json"?l=kI:e.dataType==="custom"?l=n.any():e.dataType==="buffer"&&(l=_I)),l||(l=n.any()),l}function EI(e,t,n){let a=e.getSQLType().includes("unsigned"),l,c,d=!1;_t(e,["MySqlTinyInt","SingleStoreTinyInt"])?(l=a?0:ht.INT8_MIN,c=a?ht.INT8_UNSIGNED_MAX:ht.INT8_MAX,d=!0):_t(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(l=a?0:ht.INT16_MIN,c=a?ht.INT16_UNSIGNED_MAX:ht.INT16_MAX,d=!0):_t(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(l=a?0:ht.INT24_MIN,c=a?ht.INT24_UNSIGNED_MAX:ht.INT24_MAX,d=_t(e,["MySqlMediumInt","SingleStoreMediumInt"])):_t(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(l=a?0:ht.INT32_MIN,c=a?ht.INT32_UNSIGNED_MAX:ht.INT32_MAX,d=!0):_t(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(l=a?0:ht.INT48_MIN,c=a?ht.INT48_UNSIGNED_MAX:ht.INT48_MAX):_t(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(a=a||_t(e,["MySqlSerial","SingleStoreSerial"]),l=a?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,d=!0):_t(e,["MySqlYear","SingleStoreYear"])?(l=1901,c=2155,d=!0):(l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=n===!0||n?.number?t.coerce.number():t.number();return f=f.min(l).max(c),d?f.int():f}function TI(e,t,n){const a=e.getSQLType().includes("unsigned"),l=a?0n:ht.INT64_MIN,c=a?ht.INT64_UNSIGNED_MAX:ht.INT64_MAX;return(n===!0||n?.bigint?t.coerce.bigint():t.bigint()).min(l).max(c)}function PI(e,t,n){if(_t(e,["PgUUID"]))return t.string().uuid();let a,l,c=!1;_t(e,["PgVarchar","SQLiteText"])?a=e.length:_t(e,["MySqlVarChar","SingleStoreVarChar"])?a=e.length??ht.INT16_UNSIGNED_MAX:_t(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?a=ht.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?a=ht.INT24_UNSIGNED_MAX:e.textType==="text"?a=ht.INT16_UNSIGNED_MAX:a=ht.INT8_UNSIGNED_MAX),_t(e,["PgChar","MySqlChar","SingleStoreChar"])&&(a=e.length,c=!0),_t(e,["PgBinaryVector"])&&(l=/^[01]+$/,a=e.dimensions);let d=n===!0||n?.string?t.coerce.string():t.string();return d=l?d.regex(l):d,a&&c?d.length(a):a?d.max(a):d}function pw(e){return X0(e)?gR(e):vR(e)}function hw(e,t,n,a){const l={};for(const[c,d]of Object.entries(e)){if(!Ut(d,go)&&!Ut(d,Nt)&&!Ut(d,Nt.Aliased)&&typeof d=="object"){const y=X0(d)||hR(d)?pw(d):d;l[c]=hw(y,t[c]??{},n,a);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){l[c]=f;continue}const p=Ut(d,go)?d:void 0,h=p?mw(p,a):Po(),x=typeof f=="function"?f(h):h;n.never(p)||(l[c]=x,p&&(n.nullable(p)&&(l[c]=l[c].nullable()),n.optional(p)&&(l[c]=l[c].optional())))}return dw(l)}const RI={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},fi=(e,t)=>{const n=pw(e);return hw(n,{},RI)},AI=di("god_register",{id:on("id").primaryKey().default(It`gen_random_uuid()`),phoneNumber:rt("phone_number").notNull().unique(),tenancyName:rt("tenancy_name").notNull(),registeredAt:rn("registered_at").default(It`CURRENT_TIMESTAMP`)}),II=di("server_registry",{id:on("id").primaryKey().default(It`gen_random_uuid()`),serverName:rt("server_name").notNull().unique(),maxBotCount:Gs("max_bot_count").notNull(),currentBotCount:Gs("current_bot_count").default(0),serverStatus:rt("server_status").default("active"),serverUrl:rt("server_url"),description:rt("description"),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`),updatedAt:rn("updated_at").default(It`CURRENT_TIMESTAMP`)}),OI=di("users",{id:on("id").primaryKey().default(It`gen_random_uuid()`),username:rt("username").notNull().unique(),password:rt("password").notNull(),role:rt("role").notNull().default("user"),serverName:rt("server_name").notNull(),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`)}),DI=di("bot_instances",{id:on("id").primaryKey().default(It`gen_random_uuid()`),name:rt("name").notNull(),phoneNumber:rt("phone_number"),status:rt("status").notNull().default("offline"),credentials:Sc("credentials"),settings:Sc("settings").default({}),autoLike:zn("auto_like").default(!0),autoViewStatus:zn("auto_view_status").default(!0),autoReact:zn("auto_react").default(!0),typingMode:rt("typing_mode").default("recording"),chatgptEnabled:zn("chatgpt_enabled").default(!1),lastActivity:rn("last_activity"),messagesCount:Gs("messages_count").default(0),commandsCount:Gs("commands_count").default(0),approvalStatus:rt("approval_status").default("pending"),isGuest:zn("is_guest").default(!1),approvalDate:rt("approval_date"),expirationMonths:Gs("expiration_months"),serverName:rt("server_name").notNull(),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`),updatedAt:rn("updated_at").default(It`CURRENT_TIMESTAMP`)}),MI=di("commands",{id:on("id").primaryKey().default(It`gen_random_uuid()`),name:rt("name").notNull(),description:rt("description").notNull(),response:rt("response"),isActive:zn("is_active").default(!0),useChatGPT:zn("use_chatgpt").default(!1),botInstanceId:on("bot_instance_id"),serverName:rt("server_name").notNull(),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`)}),FI=di("activities",{id:on("id").primaryKey().default(It`gen_random_uuid()`),botInstanceId:on("bot_instance_id"),type:rt("type").notNull(),description:rt("description").notNull(),metadata:Sc("metadata").default({}),serverName:rt("server_name").notNull(),remoteTenancy:rt("remote_tenancy"),remoteBotId:rt("remote_bot_id"),phoneNumber:rt("phone_number"),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`)}),LI=di("groups",{id:on("id").primaryKey().default(It`gen_random_uuid()`),whatsappId:rt("whatsapp_id").notNull().unique(),name:rt("name").notNull(),description:rt("description"),participantCount:Gs("participant_count").default(0),botInstanceId:on("bot_instance_id").notNull(),isActive:zn("is_active").default(!0),serverName:rt("server_name").notNull(),createdAt:rn("created_at").default(It`CURRENT_TIMESTAMP`)});fi(OI).pick({username:!0,password:!0,role:!0});const BI=fi(DI).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),$I=fi(MI).omit({id:!0,createdAt:!0});fi(FI).omit({id:!0,createdAt:!0});fi(LI).omit({id:!0,createdAt:!0});fi(AI).omit({id:!0,registeredAt:!0});fi(II).omit({id:!0,createdAt:!0,updatedAt:!0});const Kn=g.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Kn.displayName="Textarea";var _f="rovingFocusGroup.onEntryFocus",VI={bubbles:!1,cancelable:!0},$o="RovingFocusGroup",[lm,gw,zI]=xm($o),[UI,ou]=Or($o,[zI]),[qI,WI]=UI($o),vw=g.forwardRef((e,t)=>i.jsx(lm.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lm.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(QI,{...e,ref:t})})}));vw.displayName=$o;var QI=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...y}=e,w=g.useRef(null),S=He(t,w),_=Jc(c),[N,b]=Un({prop:d,defaultProp:f??null,onChange:p,caller:$o}),[E,C]=g.useState(!1),P=Ur(h),M=gw(n),$=g.useRef(!1),[H,U]=g.useState(0);return g.useEffect(()=>{const re=w.current;if(re)return re.addEventListener(_f,P),()=>re.removeEventListener(_f,P)},[P]),i.jsx(qI,{scope:n,orientation:a,dir:_,loop:l,currentTabStopId:N,onItemFocus:g.useCallback(re=>b(re),[b]),onItemShiftTab:g.useCallback(()=>C(!0),[]),onFocusableItemAdd:g.useCallback(()=>U(re=>re+1),[]),onFocusableItemRemove:g.useCallback(()=>U(re=>re-1),[]),children:i.jsx(Oe.div,{tabIndex:E||H===0?-1:0,"data-orientation":a,...y,ref:S,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{$.current=!0}),onFocus:Ee(e.onFocus,re=>{const ge=!$.current;if(re.target===re.currentTarget&&ge&&!E){const fe=new CustomEvent(_f,VI);if(re.currentTarget.dispatchEvent(fe),!fe.defaultPrevented){const me=M().filter(K=>K.focusable),ee=me.find(K=>K.active),ue=me.find(K=>K.id===N),he=[ee,ue,...me].filter(Boolean).map(K=>K.ref.current);bw(he,x)}}$.current=!1}),onBlur:Ee(e.onBlur,()=>C(!1))})})}),xw="RovingFocusGroupItem",yw=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:l=!1,tabStopId:c,children:d,...f}=e,p=pr(),h=c||p,x=WI(xw,n),y=x.currentTabStopId===h,w=gw(n),{onFocusableItemAdd:S,onFocusableItemRemove:_,currentTabStopId:N}=x;return g.useEffect(()=>{if(a)return S(),()=>_()},[a,S,_]),i.jsx(lm.ItemSlot,{scope:n,id:h,focusable:a,active:l,children:i.jsx(Oe.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:t,onMouseDown:Ee(e.onMouseDown,b=>{a?x.onItemFocus(h):b.preventDefault()}),onFocus:Ee(e.onFocus,()=>x.onItemFocus(h)),onKeyDown:Ee(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){x.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const E=GI(b,x.orientation,x.dir);if(E!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let P=w().filter(M=>M.focusable).map(M=>M.ref.current);if(E==="last")P.reverse();else if(E==="prev"||E==="next"){E==="prev"&&P.reverse();const M=P.indexOf(b.currentTarget);P=x.loop?ZI(P,M+1):P.slice(M+1)}setTimeout(()=>bw(P))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:N!=null}):d})})});yw.displayName=xw;var KI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GI(e,t,n){const a=HI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return KI[a]}function bw(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function ZI(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var ww=vw,jw=yw,lu="Tabs",[YI,KD]=Or(lu,[ou]),Nw=ou(),[XI,lp]=YI(lu),Sw=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:p="automatic",...h}=e,x=Jc(f),[y,w]=Un({prop:a,onChange:l,defaultProp:c??"",caller:lu});return i.jsx(XI,{scope:n,baseId:pr(),value:y,onValueChange:w,orientation:d,dir:x,activationMode:p,children:i.jsx(Oe.div,{dir:x,"data-orientation":d,...h,ref:t})})});Sw.displayName=lu;var Cw="TabsList",kw=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...l}=e,c=lp(Cw,n),d=Nw(n);return i.jsx(ww,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:a,children:i.jsx(Oe.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:t})})});kw.displayName=Cw;var _w="TabsTrigger",Ew=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:l=!1,...c}=e,d=lp(_w,n),f=Nw(n),p=Rw(d.baseId,a),h=Aw(d.baseId,a),x=a===d.value;return i.jsx(jw,{asChild:!0,...f,focusable:!l,active:x,children:i.jsx(Oe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p,...c,ref:t,onMouseDown:Ee(e.onMouseDown,y=>{!l&&y.button===0&&y.ctrlKey===!1?d.onValueChange(a):y.preventDefault()}),onKeyDown:Ee(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(a)}),onFocus:Ee(e.onFocus,()=>{const y=d.activationMode!=="manual";!x&&!l&&y&&d.onValueChange(a)})})})});Ew.displayName=_w;var Tw="TabsContent",Pw=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:l,children:c,...d}=e,f=lp(Tw,n),p=Rw(f.baseId,a),h=Aw(f.baseId,a),x=a===f.value,y=g.useRef(x);return g.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),i.jsx(un,{present:l||x,children:({present:w})=>i.jsx(Oe.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:h,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&c})})});Pw.displayName=Tw;function Rw(e,t){return`${e}-trigger-${t}`}function Aw(e,t){return`${e}-content-${t}`}var JI=Sw,Iw=kw,Ow=Ew,Dw=Pw;const cu=JI,Vo=g.forwardRef(({className:e,...t},n)=>i.jsx(Iw,{ref:n,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vo.displayName=Iw.displayName;const mr=g.forwardRef(({className:e,...t},n)=>i.jsx(Ow,{ref:n,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mr.displayName=Ow.displayName;const Gt=g.forwardRef(({className:e,...t},n)=>i.jsx(Dw,{ref:n,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gt.displayName=Dw.displayName;const eO=BI.extend({credentialsFile:Po().optional(),credentialsBase64:au().optional()});function Mw({open:e,onClose:t}){const{toast:n}=Cr(),a=cn(),l=g.useRef(null),[c,d]=g.useState(null),[f,p]=g.useState(""),[h,x]=g.useState("file"),y=W0({resolver:K0(eO),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),w=et({mutationFn:async b=>{const E=new FormData;Object.entries(b).forEach(([P,M])=>{P!=="credentialsFile"&&P!=="credentialsBase64"&&E.append(P,String(M))}),h==="file"&&c&&E.append("credentials",c),h==="base64"&&f.trim()&&E.append("credentialsBase64",f.trim());const C=await fetch("/api/bot-instances",{method:"POST",body:E});if(!C.ok){const P=await C.json();throw new Error(P.message||"Failed to create bot instance")}return C.json()},onSuccess:()=>{n({title:"Bot instance created successfully"}),a.invalidateQueries({queryKey:["/api/bot-instances"]}),a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),d(null),p(""),t()},onError:b=>{n({title:"Failed to create bot instance",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),S=b=>{const E=b.target.files?.[0];if(E){if(!E.name.endsWith(".json")){n({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(E.size<10){n({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(E.size>5*1024*1024){n({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const C=new FileReader;C.onload=P=>{try{const M=P.target?.result,$=JSON.parse(M);if(typeof $!="object"||!$||Array.isArray($))throw new Error("Invalid credentials format");if(Object.keys($).length===0)throw new Error("Credentials file is empty");d(E),n({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{n({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),d(null)}},C.readAsText(E)}},_=b=>{if(p(b),b.trim())try{const E=atob(b.trim()),C=JSON.parse(E);if(typeof C!="object"||!C||Array.isArray(C))throw new Error("Invalid credentials format");if(Object.keys(C).length===0)throw new Error("Credentials file is empty");n({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{n({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},N=b=>{w.mutate(b)};return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),i.jsxs("form",{onSubmit:y.handleSubmit(N),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),i.jsx(ir,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),i.jsxs("div",{children:[i.jsx(De,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),i.jsxs(cu,{value:h,onValueChange:b=>x(b),className:"w-full",children:[i.jsxs(Vo,{className:"grid w-full grid-cols-2",children:[i.jsx(mr,{value:"file",children:"Upload File"}),i.jsx(mr,{value:"base64",children:"Paste Base64"})]}),i.jsxs(Gt,{value:"file",className:"mt-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>l.current?.click(),"data-testid":"dropzone-credentials",children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:i.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),i.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),i.jsx("input",{ref:l,type:"file",accept:".json",onChange:S,className:"hidden","data-testid":"input-credentials-file"})]}),i.jsx(Gt,{value:"base64",className:"mt-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Kn,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:b=>_(b.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"autoLike",checked:y.watch("autoLike")||!1,onCheckedChange:b=>y.setValue("autoLike",b),"data-testid":"checkbox-auto-like"}),i.jsx(De,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:b=>y.setValue("autoViewStatus",b),"data-testid":"checkbox-auto-view-status"}),i.jsx(De,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"autoReact",checked:y.watch("autoReact")||!1,onCheckedChange:b=>y.setValue("autoReact",b),"data-testid":"checkbox-auto-react"}),i.jsx(De,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),i.jsxs("div",{children:[i.jsx(De,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),i.jsxs(ii,{value:y.watch("typingMode")||"none",onValueChange:b=>y.setValue("typingMode",b),children:[i.jsx(Ns,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:i.jsx(ai,{})}),i.jsxs(Ss,{className:"bg-popover border-border",children:[i.jsx(yt,{value:"none",children:"None"}),i.jsx(yt,{value:"typing",children:"Always Typing"}),i.jsx(yt,{value:"recording",children:"Recording Audio"}),i.jsx(yt,{value:"both",children:"Both (Switch)"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:b=>y.setValue("chatgptEnabled",b),"data-testid":"checkbox-chatgpt-enabled"}),i.jsx(De,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(ae,{type:"button",variant:"ghost",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:w.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:w.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const tO=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],Ef=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond('❌ Please provide a search query!');
  return;
}

await respond(\`🔍 Searching for: *\${query}*\`);
// Your custom logic here
await respond(\`✅ Results for: *\${query}*\`);`;function rO({open:e,onClose:t}){const{toast:n}=Cr(),a=cn(),[l,c]=g.useState({name:"",description:"",category:"CUSTOM",code:Ef}),{data:d=[],isLoading:f}=xt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),p=et({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to create command")}return y.json()},onSuccess:()=>{n({title:"Custom command created successfully"}),a.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:Ef})},onError:x=>{n({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),h=x=>{if(x.preventDefault(),!l.name||!l.description||!l.code){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}p.mutate(l)};return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-xl font-bold",children:"🔧 TREKKER-MD Command Management"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"Create Custom Command"}),i.jsx(vt,{children:"Add custom JavaScript code that will execute when users call your command"})]}),i.jsx(Ie,{children:i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"name",children:"Command Name *"}),i.jsx(ir,{id:"name",placeholder:"mycommand",value:l.name,onChange:x=>c(y=>({...y,name:x.target.value})),className:"font-mono"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"description",children:"Description *"}),i.jsx(ir,{id:"description",placeholder:"What does this command do?",value:l.description,onChange:x=>c(y=>({...y,description:x.target.value}))})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"category",children:"Category"}),i.jsxs(ii,{value:l.category,onValueChange:x=>c(y=>({...y,category:x})),children:[i.jsx(Ns,{children:i.jsx(ai,{})}),i.jsx(Ss,{children:tO.map(x=>i.jsx(yt,{value:x,children:x},x))})]})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"code",children:"Command Code *"}),i.jsx(Kn,{id:"code",placeholder:"Your JavaScript code here...",value:l.code,onChange:x=>c(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),i.jsx(ae,{type:"submit",disabled:p.isPending,className:"w-full",children:p.isPending?"Creating...":"Create Command"})]})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsxs(Ze,{children:["Existing Commands (",d.length,")"]}),i.jsx(vt,{children:"All commands available in your TREKKER-MD bot"})]}),i.jsx(Ie,{children:f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:d.map(x=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),i.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),i.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),i.jsxs(Ae,{children:[i.jsx(Ke,{children:i.jsx(Ze,{children:"💡 Command Example"})}),i.jsx(Ie,{children:i.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:Ef})})]})]})]})]})})}var cp="Radio",[nO,Fw]=Or(cp),[sO,iO]=nO(cp),Lw=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:l=!1,required:c,disabled:d,value:f="on",onCheck:p,form:h,...x}=e,[y,w]=g.useState(null),S=He(t,b=>w(b)),_=g.useRef(!1),N=y?h||!!y.closest("form"):!0;return i.jsxs(sO,{scope:n,checked:l,disabled:d,children:[i.jsx(Oe.button,{type:"button",role:"radio","aria-checked":l,"data-state":zw(l),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:S,onClick:Ee(e.onClick,b=>{l||p?.(),N&&(_.current=b.isPropagationStopped(),_.current||b.stopPropagation())})}),N&&i.jsx(Vw,{control:y,bubbles:!_.current,name:a,value:f,checked:l,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});Lw.displayName=cp;var Bw="RadioIndicator",$w=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...l}=e,c=iO(Bw,n);return i.jsx(un,{present:a||c.checked,children:i.jsx(Oe.span,{"data-state":zw(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:t})})});$w.displayName=Bw;var aO="RadioBubbleInput",Vw=g.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:a=!0,...l},c)=>{const d=g.useRef(null),f=He(d,c),p=Km(n),h=Pm(t);return g.useEffect(()=>{const x=d.current;if(!x)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set;if(p!==n&&S){const _=new Event("click",{bubbles:a});S.call(x,n),x.dispatchEvent(_)}},[p,n,a]),i.jsx(Oe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...l,tabIndex:-1,ref:f,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vw.displayName=aO;function zw(e){return e?"checked":"unchecked"}var oO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uu="RadioGroup",[lO,HD]=Or(uu,[ou,Fw]),Uw=ou(),qw=Fw(),[cO,uO]=lO(uu),Ww=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:l,value:c,required:d=!1,disabled:f=!1,orientation:p,dir:h,loop:x=!0,onValueChange:y,...w}=e,S=Uw(n),_=Jc(h),[N,b]=Un({prop:c,defaultProp:l??null,onChange:y,caller:uu});return i.jsx(cO,{scope:n,name:a,required:d,disabled:f,value:N,onValueChange:b,children:i.jsx(ww,{asChild:!0,...S,orientation:p,dir:_,loop:x,children:i.jsx(Oe.div,{role:"radiogroup","aria-required":d,"aria-orientation":p,"data-disabled":f?"":void 0,dir:_,...w,ref:t})})})});Ww.displayName=uu;var Qw="RadioGroupItem",Kw=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...l}=e,c=uO(Qw,n),d=c.disabled||a,f=Uw(n),p=qw(n),h=g.useRef(null),x=He(t,h),y=c.value===l.value,w=g.useRef(!1);return g.useEffect(()=>{const S=N=>{oO.includes(N.key)&&(w.current=!0)},_=()=>w.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",_)}},[]),i.jsx(jw,{asChild:!0,...f,focusable:!d,active:y,children:i.jsx(Lw,{disabled:d,required:c.required,checked:y,...p,...l,name:c.name,ref:x,onCheck:()=>c.onValueChange(l.value),onKeyDown:Ee(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:Ee(l.onFocus,()=>{w.current&&h.current?.click()})})})});Kw.displayName=Qw;var dO="RadioGroupIndicator",Hw=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,l=qw(n);return i.jsx($w,{...l,...a,ref:t})});Hw.displayName=dO;var Gw=Ww,Zw=Kw,fO=Hw;const up=g.forwardRef(({className:e,...t},n)=>i.jsx(Gw,{className:Se("grid gap-2",e),...t,ref:n}));up.displayName=Gw.displayName;const Ro=g.forwardRef(({className:e,...t},n)=>i.jsx(Zw,{ref:n,className:Se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(fO,{className:"flex items-center justify-center",children:i.jsx(f1,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ro.displayName=Zw.displayName;function mO({open:e,onClose:t,botId:n,phoneNumber:a,onSuccess:l,crossTenancyMode:c=!1,targetServer:d}){const{toast:f}=Cr(),p=g.useRef(null),[h,x]=g.useState("base64"),[y,w]=g.useState(""),[S,_]=g.useState(null),[N,b]=g.useState(!1),[E,C]=g.useState(null),P=H=>{const U=H.target.files?.[0];if(U){if(!U.name.endsWith(".json")){f({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}_(U)}},M=async H=>{if(H.preventDefault(),h==="base64"&&!y.trim()){f({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if(h==="file"&&!S){f({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}b(!0);try{const U=new FormData;U.append("phoneNumber",a),U.append("action","update_credentials"),U.append("credentialType",h),c||U.append("botId",n),c&&d&&U.append("targetServer",d),h==="base64"?U.append("sessionId",y):S&&U.append("credsFile",S);const ge=await fetch(c?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",{method:"POST",body:U}),fe=await ge.json();ge.ok?fe.crossTenancy&&fe.nextSteps?(C(fe),f({title:"Cross-Tenancy Update Initiated!",description:fe.message})):(f({title:"Success!",description:fe.message}),w(""),_(null),p.current&&(p.current.value=""),l?.(),t()):f({title:"Update Failed",description:fe.message||"Failed to update credentials",variant:"destructive"})}catch(U){console.error("Error updating credentials:",U),f({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{b(!1)}},$=()=>{N||(w(""),_(null),C(null),p.current&&(p.current.value=""),t())};return i.jsx(ar,{open:e,onOpenChange:$,children:i.jsxs(Zt,{className:"max-w-md",children:[i.jsxs(Yt,{children:[i.jsxs(Xt,{children:["🔑 ",c?"Cross-Tenancy":""," Update Bot Credentials"]}),i.jsx(ho,{children:c?`Update credentials across servers (Target: ${d})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),E?i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ae,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:"✅"}),i.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),i.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:E.message}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Source:"}),i.jsx("div",{className:"text-muted-foreground",children:E.sourceServer})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Target:"}),i.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:E.targetServer})]})]})]})}),i.jsx(Ae,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:i.jsxs(Ie,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),i.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:E.nextSteps?.map((H,U)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),H]},U))})]})}),i.jsx(ae,{onClick:$,className:"w-full",children:"✨ Awesome! Got It"})]}):i.jsxs("form",{onSubmit:M,className:"space-y-4",children:[i.jsx(Ae,{className:`${c?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:i.jsxs(Ie,{className:"p-3",children:[i.jsxs("p",{className:`text-sm ${c?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[i.jsx("strong",{children:"📱 Phone:"})," ",a,c&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"🌐 Target Server:"})," ",d]})]}),i.jsx("p",{className:`text-xs mt-1 ${c?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:c?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),i.jsxs("div",{children:[i.jsx(De,{className:"text-base font-medium",children:"Choose Credential Type *"}),i.jsxs(up,{value:h,onValueChange:H=>x(H),className:"mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ro,{value:"base64",id:"base64"}),i.jsx(De,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ro,{value:"file",id:"file"}),i.jsx(De,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),h==="base64"?i.jsxs("div",{children:[i.jsx(De,{htmlFor:"sessionId",children:"Base64 Session ID *"}),i.jsx(Kn,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:y,onChange:H=>w(H.target.value),className:"min-h-[100px] text-xs",required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup"})]}):i.jsxs("div",{children:[i.jsx(De,{htmlFor:"credsFile",children:"Upload creds.json File *"}),i.jsx(ir,{id:"credsFile",type:"file",accept:".json",onChange:P,ref:p,required:!0}),S&&i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["✅ Selected: ",S.name]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ae,{type:"button",variant:"outline",onClick:$,disabled:N,className:"flex-1",children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:N,className:`flex-1 ${c?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:N?"Updating...":c?"🔄 Update Cross-Tenancy":"Update Credentials"})]})]})]})})}function Yw({open:e,onClose:t}){const{toast:n}=Cr(),[a,l]=g.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),[c,d]=g.useState(1),[f,p]=g.useState(null),[h,x]=g.useState(null),[y,w]=g.useState(null),[S,_]=g.useState(null),[N,b]=g.useState(!1),[E,C]=g.useState(!1),[P,M]=g.useState(null),[$,H]=g.useState(null),[U,re]=g.useState(""),[ge,fe]=g.useState([]),me=async()=>{try{const F=await fetch("/api/servers/available");if(F.ok){const V=await F.json();fe(V.servers||[])}else console.error("Failed to fetch available servers"),fe([])}catch(F){console.error("Error fetching servers:",F),fe([])}},ee=et({mutationFn:async F=>{const V=F.replace(/[\s\-\(\)\+]/g,""),ie=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:V})});if(!ie.ok){let ce="Failed to check phone number";try{const we=await ie.json();if(we.registeredTo&&we.message)return{registered:!0,currentServer:!1,registeredTo:we.registeredTo,message:we.message,serverMismatch:!0};ce=we.message||ce}catch{ce=ie.statusText||ce}throw new Error(ce)}const X=ie.headers.get("content-type");if(!X||!X.includes("application/json"))throw new Error("Invalid response format from server");return ie.json()},onSuccess:F=>{H(F),F.registered||F.serverMismatch?F.serverMismatch||!F.currentServer&&F.registeredTo?(x({details:{registeredTo:F.registeredTo},message:F.message,registeredTo:F.registeredTo,botDetails:F.botDetails||null}),d(9)):F.currentServer&&(F.hasBot?(p(F.bot),d(8)):(me(),d(3))):(me(),d(3))},onError:F=>{n({title:"Phone Check Failed",description:F.message,variant:"destructive"}),d(1)}}),ue=et({mutationFn:async F=>{const V=new FormData;V.append("botName",F.botName),V.append("phoneNumber",F.phoneNumber),V.append("credentialType",F.credentialType),V.append("features",JSON.stringify(F.features)),F.selectedServer&&V.append("selectedServer",F.selectedServer),F.credentialType==="base64"?V.append("sessionId",F.sessionId):F.credsFile&&V.append("credsFile",F.credsFile);const ie=await fetch("/api/guest/register-bot",{method:"POST",body:V});if(!ie.ok){const X=await ie.json();throw new Error(X.message||"Failed to register bot")}return ie.json()},onSuccess:F=>{F.type==="existing_bot_found"?(p(F.botDetails),d(8),n({title:"Existing Bot Found",description:F.message||"Welcome back! You have a bot on this server."})):F.type==="cross_tenancy_registered"?(_(F),d(11),n({title:"Auto-Distributed to Available Server",description:F.message||"Your bot has been registered on an available server!"})):(d(7),n({title:"Bot registration submitted",description:F.message||"Your bot is being validated..."}))},onError:F=>{const V=F.message;if(V?.includes("server")&&V?.includes("registered to")){x({message:V}),d(9);return}d(c===6?5:4),n({title:"Registration failed",description:F instanceof Error?F.message:"Unknown error",variant:"destructive"})}}),G=F=>{if(F.preventDefault(),!a.phoneNumber){n({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}d(2),ee.mutate(a.phoneNumber)},he=F=>{re(F),d(4)},K=()=>{if(c===4){if(a.credentialType==="base64"&&!a.sessionId){n({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(a.credentialType==="file"&&!a.credsFile){n({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}d(5)}else c===5&&k()},k=()=>{if(!a.botName){n({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const F={...a,phoneNumber:a.phoneNumber.replace(/^\+/,""),selectedServer:U};d(6),ue.mutate(F)},I=F=>{const V=F.target.files?.[0];V&&l(ie=>({...ie,credsFile:V}))},Z=et({mutationFn:async({action:F,botId:V,phoneNumber:ie})=>{const X=new FormData;X.append("phoneNumber",ie),X.append("action",F),X.append("botId",V);const ce=await fetch("/api/guest/manage-bot",{method:"POST",body:X});if(!ce.ok){const we=await ce.json();throw new Error(we.message||`Failed to ${F} bot`)}return ce.json()},onSuccess:async(F,V)=>{if(n({title:"Success!",description:F.message}),M(null),V.action==="update_credentials")try{n({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(X=>setTimeout(X,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(n({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{B()},2e3))}catch(ie){console.error("Error switching back to default server:",ie),n({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else J()},onError:(F,V)=>{n({title:`${V.action.charAt(0).toUpperCase()+V.action.slice(1)} Failed`,description:F.message,variant:"destructive"}),M(null)}}),J=()=>{n({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},R=F=>{f&&(M(F),Z.mutate({action:F,botId:f.id,phoneNumber:f.phoneNumber}))},O=()=>{l({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),d(1)},B=async()=>{try{const F=await fetch("/api/server/info");F.ok&&(await F.json()).serverName!=="default-server"&&(n({title:"Returning to Default Server",description:"Switching back to default server..."}),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after bot management"})})).ok&&n({title:"Server Switched",description:"Successfully returned to default server"}))}catch(F){console.log("Could not switch to default server on close:",F)}O(),p(null),x(null),_(null),C(!1),M(null),t()};return i.jsxs(ar,{open:e,onOpenChange:B,children:[i.jsxs(Zt,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-2xl font-bold text-center",children:"🚀 Register Your TREKKER-MD Bot"})}),c===1&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:"📱"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),i.jsxs("form",{onSubmit:G,className:"space-y-6",children:[i.jsxs(Ae,{className:"border-l-4 border-l-blue-500",children:[i.jsxs(Ke,{className:"pb-3",children:[i.jsx(Ze,{className:"text-lg",children:"Phone Number Verification"}),i.jsx(vt,{children:"Enter your WhatsApp phone number to begin registration"})]}),i.jsx(Ie,{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(De,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),i.jsx(ir,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:a.phoneNumber,onChange:F=>{const V=F.target.value.replace(/[\s\-\(\)]/g,"");l(ie=>({...ie,phoneNumber:V}))},onPaste:F=>{F.preventDefault();const ie=F.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");l(X=>({...X,phoneNumber:ie}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),i.jsx(ae,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:ee.isPending,children:ee.isPending?"🔍 Checking...":"🔍 Check Phone Number"})]})]}),c===2&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),i.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🔍"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),c===3&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"🌍"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),i.jsxs(Ae,{className:"border-l-4 border-l-green-500",children:[i.jsxs(Ke,{className:"pb-3",children:[i.jsx(Ze,{className:"text-lg",children:"Available Servers"}),i.jsx(vt,{children:"Select a server with available bot slots"})]}),i.jsx(Ie,{className:"space-y-4",children:i.jsx("div",{className:"grid gap-3",children:ge.map(F=>i.jsx("div",{onClick:()=>he(F.id),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${F.id}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:F.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:F.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-green-600",children:[F.availableSlots," slots available"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.currentBots,"/",F.maxBots," bots"]})]})]})},F.id))})})]})]}),c===4&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔐"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{className:"border-l-4 border-l-purple-500",children:[i.jsxs(Ke,{className:"pb-3",children:[i.jsx(Ze,{className:"text-lg",children:"Bot Information"}),i.jsx(vt,{children:"Enter your bot name and choose credential type"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),i.jsx(ir,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:a.botName,onChange:F=>l(V=>({...V,botName:F.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-sm font-medium",children:"Choose Credential Type *"}),i.jsxs(up,{value:a.credentialType,onValueChange:F=>l(V=>({...V,credentialType:F})),className:"mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[i.jsx(Ro,{value:"base64",id:"base64"}),i.jsx(De,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),i.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[i.jsx(Ro,{value:"file",id:"file"}),i.jsx(De,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),a.credentialType==="base64"?i.jsxs("div",{children:[i.jsx(De,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),i.jsx(Kn,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:a.sessionId,onChange:F=>l(V=>({...V,sessionId:F.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):i.jsxs("div",{children:[i.jsx(De,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),i.jsx(ir,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:I,required:!0,className:"mt-1"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),i.jsx(ae,{onClick:K,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features →"})]})]}),c===5&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"})]})}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"⚡"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),i.jsxs(Ae,{className:"border-l-4 border-l-green-500",children:[i.jsxs(Ke,{className:"pb-3",children:[i.jsx(Ze,{className:"text-lg",children:"Bot Features (Optional)"}),i.jsx(vt,{children:"Select the automation features you want for your bot"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[i.jsx(zr,{id:"autoLike","data-testid":"checkbox-auto-like",checked:a.features.autoLike,onCheckedChange:F=>l(V=>({...V,features:{...V.features,autoLike:!!F}})),className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[i.jsx(zr,{id:"autoReact","data-testid":"checkbox-auto-react",checked:a.features.autoReact,onCheckedChange:F=>l(V=>({...V,features:{...V.features,autoReact:!!F}})),className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[i.jsx(zr,{id:"autoView","data-testid":"checkbox-auto-view",checked:a.features.autoView,onCheckedChange:F=>l(V=>({...V,features:{...V.features,autoView:!!F}})),className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),i.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(De,{className:"text-sm font-medium",children:"Presence Configuration"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),i.jsxs(ii,{value:a.features.presenceMode,onValueChange:F=>l(V=>({...V,features:{...V.features,presenceMode:F}})),children:[i.jsx(Ns,{"data-testid":"select-presence-mode",children:i.jsx(ai,{placeholder:"Select presence mode"})}),i.jsxs(Ss,{children:[i.jsx(yt,{value:"none",children:"None - Appear as normal"}),i.jsx(yt,{value:"always_online",children:"Always Online"}),i.jsx(yt,{value:"always_typing",children:"Always Typing"}),i.jsx(yt,{value:"always_recording",children:"Always Recording"}),i.jsx(yt,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),a.features.presenceMode==="auto_switch"&&i.jsxs("div",{className:"mt-3",children:[i.jsx(De,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),i.jsx(ir,{type:"number",min:"5",max:"120",value:a.features.intervalSeconds,onChange:F=>l(V=>({...V,features:{...V.features,intervalSeconds:parseInt(F.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[i.jsx(zr,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:a.features.chatGPT,onCheckedChange:F=>l(V=>({...V,features:{...V.features,chatGPT:!!F}})),className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),i.jsx(ae,{onClick:K,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"🚀 Register Bot Now"})]}),c===6&&i.jsx("div",{className:"space-y-6 pb-4",children:i.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🚀"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),c===7&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:"✅"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),i.jsxs(Ae,{className:"border-l-4 border-l-green-500",children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-lg",children:"🎉 Next Steps"}),i.jsx(vt,{children:"Your bot is now awaiting admin approval"})]}),i.jsx(Ie,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is now dormant and awaiting admin approval"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 to activate your bot"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 mt-0.5",children:"⏰"}),"You'll receive hourly status updates until activation"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-orange-500 mt-0.5",children:"🚀"}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),i.jsx(ae,{onClick:B,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),c===8&&f&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Welcome Back!"}),i.jsx("p",{className:"text-muted-foreground",children:"You have an existing bot on this server. Here's what you can do:"})]}),i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx("span",{children:"🤖"}),f.name]}),i.jsxs(vt,{children:["Phone: ",f.phoneNumber]})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Status:"}),i.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Approval:"}),i.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.approvalStatus})]})]}),f.isApproved&&f.timeRemaining&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-sm text-green-800",children:["⏰ ",i.jsxs("strong",{children:[f.timeRemaining," days"]})," remaining until expiry"]})}),f.isExpired&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Your bot has expired. Please contact admin for renewal."})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Available Actions:"}),f.isApproved&&!f.isExpired&&i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>R("start"),disabled:P==="start"||f.status==="online",children:[P==="start"?"🔄":"▶️"," ",f.status==="online"?"Online":"Start"]}),i.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>R("stop"),disabled:P==="stop"||f.status==="offline",children:[P==="stop"?"🔄":"⏸️"," ",f.status==="offline"?"Offline":"Stop"]}),i.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>R("restart"),disabled:P==="restart",children:["🔄"," Restart"]})]}),!f.isApproved&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Your bot is not approved yet. You can only update credentials until it's approved."})}),i.jsx(ae,{variant:"outline",size:"sm",className:"w-full",onClick:()=>C(!0),children:"🔑 Update Credentials"}),!f.isApproved&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsx("p",{className:"text-sm text-blue-800",children:"📞 Contact +254704897825 to get your bot approved and access all features"})})]})]})]}),i.jsx(ae,{onClick:B,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),c===9&&h&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔄"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),i.jsxs(Ae,{className:"border-l-4 border-l-amber-500",children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-lg",children:"Server Information"}),i.jsx(vt,{children:"Current vs. Registered Server"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[i.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),i.jsx("p",{className:"text-lg font-bold",children:"default-server"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[i.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:h.registeredTo}),i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx(ae,{onClick:async F=>{F.preventDefault(),F.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",h);try{n({title:"Switching Server",description:`Switching to ${h.registeredTo}...`}),console.log("Making server configure call...");const V=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:h.registeredTo,description:`Switched to ${h.registeredTo} for bot management`})});if(console.log("Server configure response:",V.status),!V.ok){const ce=await V.json();throw console.error("Server configure error:",ce),new Error(ce.message||"Failed to switch server")}const ie=await V.json();console.log("Server configure result:",ie),n({title:"Server Switched",description:`Successfully switched to ${h.registeredTo}`}),await new Promise(ce=>setTimeout(ce,1e3)),console.log("Checking registration on new server...");const X=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:a.phoneNumber})});if(console.log("Check registration response:",X.status),X.ok){const ce=await X.json();console.log("Check registration data:",ce),ce.hasBot&&ce.bot?(p(ce.bot),re(h.registeredTo),d(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),n({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const ce=await X.text();console.error("Check registration failed:",ce),n({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(V){console.error("Server switch error:",V),n({title:"Server Switch Failed",description:V instanceof Error?V.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔄 Switch to Registered Server"}),i.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",h.registeredTo]})]})}),i.jsx(ae,{variant:"outline",onClick:()=>{d(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"📱 Use Different Phone Number"}),i.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]})]}),c===11&&S&&i.jsxs("div",{className:"space-y-6 pb-4",children:[i.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:"🌍"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),i.jsxs(Ae,{className:"border-l-4 border-l-purple-500",children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-lg",children:"🎯 Server Assignment"}),i.jsx(vt,{children:"Your bot has been optimally placed"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[i.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),i.jsx("p",{className:"text-lg font-bold text-purple-600",children:S.assignedServer}),i.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"✅ What happens next:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is registered on ",S.assignedServer]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 for activation"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 mt-0.5",children:"🔄"}),"Switch to ",S.assignedServer," to manage your bot"]})]})]})]})]}),i.jsxs(ae,{onClick:()=>{re(S.assignedServer),B()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:["🔄 Switch to ",S.assignedServer]})]}),c===7&&S&&i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl text-white",children:"🔄"})}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),i.jsx("p",{className:"text-muted-foreground",children:S.message})]}),i.jsxs(Ae,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[i.jsxs(Ke,{children:[i.jsxs(Ze,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[i.jsx("span",{children:"🤖"}),S.botDetails?.name]}),i.jsxs(vt,{children:["Phone: ",S.botDetails?.phoneNumber]})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Original Server:"}),i.jsx("div",{className:"text-muted-foreground",children:S.originalServer})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Assigned To:"}),i.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:S.assignedServer})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Available Slots:"}),i.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[S.botDetails?.availableSlots," remaining"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Registration Type:"}),i.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),S.serverUrl&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🌐 ",i.jsx("strong",{children:"Server URL:"})," ",S.serverUrl]})})]})]}),i.jsx(Ae,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:i.jsxs(Ie,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),i.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:S.nextSteps?.map((F,V)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),F]},V))})]})}),i.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[i.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:"✨ Cross-Tenancy Benefits"}),i.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),i.jsx(ae,{onClick:B,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:"🚀 Awesome! Let's Go"})]})]}),f&&i.jsx(mO,{open:E,onClose:()=>C(!1),botId:f.id,phoneNumber:f.phoneNumber,crossTenancyMode:!!h,targetServer:h?.details?.registeredTo,onSuccess:()=>{J()}})]})}const pO=Do("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ht({className:e,variant:t,...n}){return i.jsx("div",{className:Se(pO({variant:t}),e),...n})}function hO({open:e,onClose:t}){const[n,a]=g.useState("pending"),[l,c]=g.useState(!1),[d,f]=g.useState(!1),[p,h]=g.useState(null),[x,y]=g.useState("3"),[w,S]=g.useState(""),[_,N]=g.useState(""),b=cn(),{data:E=[],isLoading:C}=xt({queryKey:["/api/bots/pending"],enabled:e&&n==="pending"}),{data:P=[],isLoading:M}=xt({queryKey:["/api/bots/approved"],enabled:e&&n==="approved"}),$=et({mutationFn:async({botId:K,duration:k})=>(await Et("POST",`/api/bots/${K}/approve`,{expirationMonths:k})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),b.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),h(null)}}),H=et({mutationFn:async({botId:K,reason:k})=>(await Et("POST",`/api/bots/${K}/reject`,{reason:k})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),N("")}}),U=et({mutationFn:async({botId:K,message:k})=>(await Et("POST",`/api/admin/send-message/${K}`,{message:k})).json(),onSuccess:()=>{f(!1),S(""),h(null)}}),re=K=>{h(K),c(!0)},ge=()=>{p&&x&&$.mutate({botId:p.id,duration:parseInt(x)})},fe=(K,k)=>{H.mutate({botId:K.id,reason:k})},me=K=>{h(K),f(!0)},ee=()=>{p&&w.trim()&&U.mutate({botId:p.id,message:w})},ue=K=>new Date(K).toLocaleDateString(),G=(K,k)=>{const I=new Date(K);return I.setMonth(I.getMonth()+k),I.toLocaleDateString()},he=(K,k)=>{const I=new Date(K);return I.setMonth(I.getMonth()+k),(I.getTime()-Date.now())/(1e3*60*60*24)<=7};return i.jsxs(i.Fragment,{children:[i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-xl font-bold",children:"🔧 Admin Bot Management"})}),i.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[i.jsxs("button",{onClick:()=>a("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["🔄 Pending Bots (",E.length,")"]}),i.jsxs("button",{onClick:()=>a("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["✅ Approved Bots (",P.length,")"]})]}),n==="pending"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),C?i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):E.length===0?i.jsx(Ae,{children:i.jsx(Ie,{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):i.jsx("div",{className:"grid gap-4",children:E.map(K=>i.jsx(Ae,{className:"border-orange-200",children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-clock text-orange-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:K.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",K.phoneNumber||"No phone number"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",ue(K.createdAt)]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(ae,{size:"sm",onClick:()=>re(K),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{const k=prompt("Rejection reason:");k&&fe(K,k)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[i.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},K.id))})]}),n==="approved"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),M?i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):P.length===0?i.jsx(Ae,{children:i.jsx(Ie,{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):i.jsx("div",{className:"grid gap-4",children:P.map(K=>i.jsx(Ae,{className:"border-green-200",children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-check-circle text-green-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:K.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",K.phoneNumber||"No phone number"]}),i.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[i.jsxs("span",{children:["✅ Approved: ",ue(K.approvalDate)]}),i.jsxs("span",{children:["⏰ Expires: ",G(K.approvalDate,K.expirationMonths)]}),i.jsxs("span",{children:["📅 Duration: ",K.expirationMonths," months"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{variant:K.status==="online"?"default":"secondary",className:K.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:K.status==="online"?"🟢 Online":"⚪ Offline"}),he(K.approvalDate,K.expirationMonths)&&i.jsx(Ht,{variant:"destructive",className:"text-red-600 bg-red-100",children:"⚠️ Expiring Soon"}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>me(K),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[i.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},K.id))})]})]})}),i.jsx(ar,{open:l,onOpenChange:c,children:i.jsxs(Zt,{children:[i.jsx(Yt,{children:i.jsx(Xt,{children:"✅ Approve Bot Registration"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Bot Name"}),i.jsx("p",{className:"font-medium",children:p?.name})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Phone Number"}),i.jsx("p",{className:"font-medium",children:p?.phoneNumber})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"duration",children:"Approval Duration *"}),i.jsxs(ii,{value:x,onValueChange:y,children:[i.jsx(Ns,{children:i.jsx(ai,{})}),i.jsxs(Ss,{children:[i.jsx(yt,{value:"1",children:"1 Month"}),i.jsx(yt,{value:"2",children:"2 Months"}),i.jsx(yt,{value:"3",children:"3 Months"}),i.jsx(yt,{value:"6",children:"6 Months"}),i.jsx(yt,{value:"12",children:"12 Months"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ae,{onClick:ge,disabled:$.isPending,className:"bg-green-600 hover:bg-green-700",children:$.isPending?"Approving...":"Approve Bot"}),i.jsx(ae,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),i.jsx(ar,{open:d,onOpenChange:f,children:i.jsxs(Zt,{children:[i.jsx(Yt,{children:i.jsx(Xt,{children:"📱 Send Message to Bot User"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Bot"}),i.jsxs("p",{className:"font-medium",children:[p?.name," (",p?.phoneNumber,")"]})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"message",children:"Message *"}),i.jsx(Kn,{id:"message",value:w,onChange:K=>S(K.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ae,{onClick:ee,disabled:U.isPending||!w.trim(),className:"bg-blue-600 hover:bg-blue-700",children:U.isPending?"Sending...":"Send Message"}),i.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}function gO(){const{isAdmin:e}=Xc(),{toast:t}=Cr(),[n,a]=g.useState(!1),[l,c]=g.useState(!1),[d,f]=g.useState(!1),[p,h]=g.useState(!1),[x,y]=g.useState(!1),[w,S]=g.useState(null),[_,N]=g.useState(null),{data:b={},isLoading:E}=xt({queryKey:["/api/dashboard/stats"]}),{data:C={},isLoading:P}=xt({queryKey:["/api/server/info"]}),{data:M=[],isLoading:$}=xt({queryKey:["/api/bot-instances"]}),{data:H=[],isLoading:U}=xt({queryKey:["/api/bots/pending"],enabled:e}),{data:re=[],isLoading:ge}=xt({queryKey:["/api/bots/approved"],enabled:e}),{data:fe=[],isLoading:me}=xt({queryKey:["/api/activities"]}),{data:ee=[],isLoading:ue}=xt({queryKey:["/api/commands"]}),{data:G=[],isLoading:he}=xt({queryKey:["/api/admin/god-registry"],enabled:e});Xb();const K=et({mutationFn:({id:B,expirationMonths:F})=>Et("POST",`/api/bots/${B}/approve`,{expirationMonths:F}),onSuccess:()=>{t({title:"Bot approved successfully!"}),sr.invalidateQueries({queryKey:["/api/bots/pending"]}),sr.invalidateQueries({queryKey:["/api/bots/approved"]}),sr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to approve bot",variant:"destructive"})}}),k=et({mutationFn:B=>Et("POST",`/api/bots/${B}/reject`),onSuccess:()=>{t({title:"Bot rejected and removed"}),sr.invalidateQueries({queryKey:["/api/bots/pending"]}),sr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to reject bot",variant:"destructive"})}}),I=et({mutationFn:({botId:B,feature:F,enabled:V})=>Et("POST",`/api/bot-instances/${B}/toggle-feature`,{feature:F,enabled:V}),onSuccess:()=>{t({title:"Feature updated successfully!"}),sr.invalidateQueries({queryKey:["/api/bots/approved"]}),sr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{t({title:"Failed to update feature",variant:"destructive"})}}),Z=et({mutationFn:B=>Et("POST",`/api/bot-instances/${B}/revoke`),onSuccess:()=>{t({title:"Bot approval revoked",description:"Bot returned to pending status"}),sr.invalidateQueries({queryKey:["/api/bots/approved"]}),sr.invalidateQueries({queryKey:["/api/bots/pending"]}),sr.invalidateQueries({queryKey:["/api/bot-instances"]}),sr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to revoke approval",variant:"destructive"})}}),J=et({mutationFn:B=>Et("POST",`/api/bot-instances/${B}/restart`),onSuccess:()=>{t({title:"Bot restarted successfully"}),sr.invalidateQueries({queryKey:["/api/bots/approved"]}),sr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{t({title:"Failed to restart bot",variant:"destructive"})}}),R=et({mutationFn:({phoneNumber:B,tenancyName:F})=>Et("PUT",`/api/admin/god-registry/${encodeURIComponent(B)}`,{tenancyName:F}),onSuccess:()=>{t({title:"Registration updated successfully!"}),sr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),N(null)},onError:()=>{t({title:"Failed to update registration",variant:"destructive"})}}),O=et({mutationFn:B=>Et("DELETE",`/api/admin/god-registry/${encodeURIComponent(B)}`),onSuccess:()=>{t({title:"Registration deleted successfully!"}),sr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{t({title:"Failed to delete registration",variant:"destructive"})}});return g.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),i.jsxs("div",{children:[i.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["🤖 ",C.serverName||"TREKKER-MD"," Dashboard"]})}),i.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",C.serverName&&i.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[C.currentBots,"/",C.maxBots," slots used"]}),!C.hasSecretConfig&&C.serverName==="default-server"&&i.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"⚠️ Default server name - Configure recommended"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[e&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ae,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"🔧 Manage Commands"}),i.jsx(ae,{onClick:()=>h(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"👥 Manage Bots"}),i.jsx(ae,{onClick:()=>y(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📱 God Registry"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:i.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),i.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(Ae,{className:"bg-card border-border",children:i.jsxs(Ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Total Bots":"Your Bots"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-total-bots",children:E||$?"...":e?b?.totalBots||0:M.length})]}),i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-robot text-primary text-xl"})})]}),i.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-green-400 text-sm",children:["+",b?.activeBots||0]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"instances"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-green-400 text-sm",children:Math.max(0,10-M.length)}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"slots remaining"})]})})]})}),i.jsx(Ae,{className:"bg-card border-border",children:i.jsxs(Ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Active Bots":"Online Bots"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-active-bots",children:E||$?"...":e?b?.activeBots||0:M.filter(B=>B.status==="online").length})]}),i.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-check-circle text-green-400 text-xl"})})]}),i.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-green-400 text-sm",children:[b?.totalBots?Math.round(b.activeBots/b.totalBots*100):0,"%"]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"uptime"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-green-400 text-sm",children:[M.length>0?Math.round(M.filter(B=>B.status==="online").length/M.length*100):0,"%"]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"online rate"})]})})]})}),i.jsx(Ae,{className:"bg-card border-border",children:i.jsxs(Ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Messages Today"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-messages",children:E?"...":b?.messagesCount||0})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-comment text-blue-400 text-xl"})})]}),i.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[i.jsx("span",{className:"text-green-400 text-sm",children:"+12.5%"}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"vs yesterday"})]})]})}),i.jsx(Ae,{className:"bg-card border-border",children:i.jsxs(Ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Commands Executed"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-commands",children:E?"...":b?.commandsCount||0})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-terminal text-purple-400 text-xl"})})]}),i.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[i.jsx("span",{className:"text-green-400 text-sm",children:"+8.2%"}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"from last hour"})]})]})})]}),i.jsx(Ae,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mb-8 text-white",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🚀 TREKKER-MD LIFETIME BOT"}),i.jsx("p",{className:"text-blue-100 mb-4",children:"Ultra fast WhatsApp automation - No expiry, Lifetime access"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-sm",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("i",{className:"fab fa-telegram text-xl"})}),i.jsx("p",{className:"font-medium",children:"Telegram"}),i.jsx("p",{className:"text-xs text-blue-100",children:"@trekkermd_"})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("i",{className:"fab fa-whatsapp text-xl"})}),i.jsx("p",{className:"font-medium",children:"WhatsApp"}),i.jsx("p",{className:"text-xs text-blue-100",children:"+254704897825"})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("i",{className:"fab fa-instagram text-xl"})}),i.jsx("p",{className:"font-medium",children:"Instagram"}),i.jsx("p",{className:"text-xs text-blue-100",children:"@nicholaso_tesla"})]})]}),i.jsx("p",{className:"text-xs text-blue-200 mt-4",children:e?"Admin access - Full system control":"Upload base64 credentials to deploy your bot instantly"})]})})}),e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{className:"bg-card border-border",children:[i.jsxs(Ke,{className:"border-b border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ze,{className:"text-lg font-semibold text-foreground",children:"⏳ Pending Bot Registrations"}),i.jsx(ae,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"🔧 Manage Commands"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:U?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):H.length===0?i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):H.map(B=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${B.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-clock text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:B.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B.phoneNumber||"No phone number"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(B.createdAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ae,{size:"sm",onClick:()=>K.mutate({id:B.id,expirationMonths:12}),disabled:K.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${B.id}`,children:"✅ Approve"}),i.jsx(ae,{size:"sm",onClick:()=>k.mutate(B.id),disabled:k.isPending,variant:"destructive","data-testid":`button-reject-${B.id}`,children:"❌ Reject"})]})]},B.id))})})]}),i.jsxs(Ae,{className:"bg-card border-border",children:[i.jsxs(Ke,{className:"border-b border-border",children:[i.jsx(Ze,{className:"text-lg font-semibold text-foreground",children:"✅ Approved Bot Instances"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:ge?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):re.length===0?i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):re.map(B=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${B.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-robot text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:B.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B.phoneNumber||"No phone number"}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded ${B.status==="online"?"text-green-400 bg-green-500/10":B.status==="offline"?"text-gray-400 bg-gray-500/10":B.status==="loading"?"text-blue-400 bg-blue-500/10":"text-red-400 bg-red-500/10"}`,children:B.status.replace("_"," ").toUpperCase()}),B.expirationMonths&&i.jsxs("span",{className:"text-xs text-orange-400 bg-orange-500/10 px-2 py-1 rounded",children:["Expires: ",B.expirationMonths,"mo"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[B.status==="error"&&i.jsx(ae,{size:"sm",onClick:()=>J.mutate(B.id),disabled:J.isPending,className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":`button-restart-${B.id}`,children:J.isPending?"Restarting...":"🔄 Restart"}),i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>S(B),"data-testid":`button-features-${B.id}`,children:"⚙️ Features"}),i.jsx(ae,{size:"sm",onClick:()=>Z.mutate(B.id),disabled:Z.isPending,className:"bg-orange-600 hover:bg-orange-700 text-white","data-testid":`button-revoke-${B.id}`,children:Z.isPending?"Revoking...":"↓ Normal"})]})]},B.id))})})]})]}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ae,{className:"bg-card border-border",children:[i.jsxs(Ke,{className:"border-b border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ze,{className:"text-lg font-semibold text-foreground",children:"🚀 Register Your Bot"}),i.jsxs(ae,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-register-bot",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Upload credentials or paste session ID to register your TREKKER-MD bot"})]}),i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"TREKKER-MD Lifetime Bot"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Register your WhatsApp bot with credentials or session ID"}),i.jsxs(ae,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs","data-testid":"button-start-registration",children:[i.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Your Bot"]})]})})]}),i.jsxs(Ae,{className:"bg-card border-border",children:[i.jsxs(Ke,{className:"border-b border-border",children:[i.jsx(Ze,{className:"text-lg font-semibold text-foreground",children:"Your Bot Instances"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"View and monitor your installed bot instances"})]}),i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:$?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):M.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"No bot instances yet"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload credentials to create your first bot"})]}):i.jsxs("div",{className:"space-y-3",children:[M.slice(0,5).map(B=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md","data-testid":`bot-instance-${B.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fas fa-robot text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:B.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B.phoneNumber||"No phone number"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:`text-xs px-2 py-1 rounded ${B.status==="online"?"text-green-400 bg-green-500/10":B.status==="offline"?"text-gray-400 bg-gray-500/10":B.status==="loading"?"text-blue-400 bg-blue-500/10":B.status==="qr_code"?"text-yellow-400 bg-yellow-500/10":"text-red-400 bg-red-500/10"}`,children:B.status.replace("_"," ").toUpperCase()})})]},B.id)),M.length>5&&i.jsx("div",{className:"text-center pt-3",children:i.jsx(Af,{href:"/bot-instances",children:i.jsxs("a",{className:"text-primary hover:text-primary/80 text-sm font-medium","data-testid":"link-view-all-bots",children:["View All ",M.length," Bots"]})})})]})})})]})]})]}),i.jsx(Mw,{open:n,onClose:()=>a(!1)}),i.jsx(rO,{open:l,onClose:()=>c(!1)}),i.jsx(Yw,{open:d,onClose:()=>f(!1)}),e&&i.jsx(hO,{open:p,onClose:()=>h(!1)}),w&&i.jsx(ar,{open:!!w,onOpenChange:()=>S(null),children:i.jsxs(Zt,{className:"max-w-md",children:[i.jsx(Yt,{children:i.jsxs(Xt,{className:"text-lg font-semibold",children:["Manage Bot Features - ",w.name]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),i.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(B=>{const F=w.settings?.features?.[B.key]||!1;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{className:"text-sm font-medium",children:B.label}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B.description})]}),i.jsx(zr,{checked:F,onCheckedChange:V=>{I.mutate({botId:w.id,feature:B.key,enabled:!!V}),S(ie=>ie?{...ie,settings:{...ie.settings,features:{...ie.settings?.features,[B.key]:!!V}}}:null)},disabled:I.isPending})]},B.key)})}),i.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:i.jsx(ae,{variant:"outline",onClick:()=>S(null),children:"Close"})})]})]})}),x&&i.jsx(ar,{open:x,onOpenChange:()=>y(!1),children:i.jsxs(Zt,{className:"max-w-4xl",children:[i.jsxs(Yt,{children:[i.jsx(Xt,{children:"📱 God Registry Management"}),i.jsx(ho,{children:"Manage global phone number registrations across all tenants"})]}),i.jsx("div",{className:"space-y-4",children:he?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):G.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):i.jsx("div",{className:"space-y-2",children:G.map(B=>i.jsx("div",{className:"border border-border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-foreground",children:["📱 ",B.phoneNumber]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",B.tenancyName]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(B.registeredAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ae,{variant:"outline",size:"sm",onClick:()=>N(B),"data-testid":`button-edit-${B.phoneNumber}`,children:"✏️ Edit"}),i.jsx(ae,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${B.phoneNumber}?`)&&O.mutate(B.phoneNumber)},disabled:O.isPending,"data-testid":`button-delete-${B.phoneNumber}`,children:O.isPending?"...":"🗑️ Delete"})]})]})},B.phoneNumber))})}),i.jsx("div",{className:"flex justify-end",children:i.jsx(ae,{onClick:()=>y(!1),children:"Close"})})]})}),_&&i.jsx(ar,{open:!!_,onOpenChange:()=>N(null),children:i.jsxs(Zt,{children:[i.jsxs(Yt,{children:[i.jsx(Xt,{children:"✏️ Edit Registration"}),i.jsxs(ho,{children:["Update the tenant assignment for ",_.phoneNumber]})]}),i.jsxs("form",{onSubmit:B=>{B.preventDefault();const V=new FormData(B.currentTarget).get("tenancyName");V.trim()&&R.mutate({phoneNumber:_.phoneNumber,tenancyName:V.trim()})},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),i.jsx("input",{type:"text",value:_.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),i.jsx("input",{type:"text",name:"tenancyName",defaultValue:_.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(ae,{type:"button",variant:"outline",onClick:()=>N(null),children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:R.isPending,"data-testid":"button-update-registration",children:R.isPending?"Updating...":"Update"})]})]})]})})]})}function vO(e){if(!e||e.length<8)return e;const t=e.slice(0,7),n=e.slice(-2),a="*".repeat(Math.max(0,e.length-9));return`${t}${a}${n}`}function xO({bot:e}){const{toast:t}=Cr(),n=cn(),{isAdmin:a,token:l}=Xc(),c=et({mutationFn:({feature:S,enabled:_})=>Et("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:S,enabled:_}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Feature updated successfully"})},onError:S=>{t({title:"Failed to update feature",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),d=et({mutationFn:()=>Et("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:S=>{t({title:"Failed to approve bot",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),f=et({mutationFn:()=>Et("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/bot-instances"]}),n.invalidateQueries({queryKey:["/api/bots/approved"]}),t({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:S=>{t({title:"Failed to revoke approval",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),p=et({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to start bot");return S.json()})},onSuccess:()=>{t({title:"Bot started successfully"}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to start bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),h=et({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to stop bot");return S.json()})},onSuccess:()=>{t({title:"Bot stopped successfully"}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to stop bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),x=et({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to restart bot");return S.json()})},onSuccess:()=>{t({title:"Bot restarted successfully"}),n.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to restart bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=S=>{switch(S){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},w=()=>a?e.status==="online"?i.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:h.isPending?"Stopping...":"Stop"}):e.status==="error"?i.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:x.isPending?"Restarting...":"Restart"}):i.jsx("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:p.isPending?"Starting...":"Start"}):i.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:"🔒 Admin Only"});return i.jsx(Ae,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:i.jsxs(Ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:i.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?a?e.phoneNumber:vO(e.phoneNumber):"Not connected"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${y(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),i.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:i.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"⏳ Awaiting Approval"}),i.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),i.jsx("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:d.isPending?"⏳":"✅ Approve"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),i.jsx("button",{onClick:()=>c.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),i.jsx("button",{onClick:()=>c.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),i.jsx("button",{onClick:()=>c.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),i.jsx("button",{onClick:()=>c.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Typing"}),i.jsx("button",{onClick:()=>c.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&i.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:i.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[w(),a&&i.jsxs(i.Fragment,{children:[e.approvalStatus==="pending"&&i.jsx("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:d.isPending?"Approving...":"✓ Approve"}),e.approvalStatus==="approved"&&i.jsx("button",{onClick:()=>f.mutate(),disabled:f.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:f.isPending?"Revoking...":"↓ Normal"})]}),i.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:i.jsx("i",{className:"fas fa-chart-line"})}),i.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:i.jsx("i",{className:"fas fa-cog"})})]})]})})}function yO(){const[e,t]=g.useState(!1),{data:n=[],isLoading:a}=xt({queryKey:["/api/bot-instances"],queryFn:()=>fetch("/api/bot-instances?pending=true").then(l=>l.json())});return Xb(),i.jsxs("div",{children:[i.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Pending Bot Approvals"}),i.jsx("p",{className:"text-muted-foreground",children:"Review and approve bot registration requests"})]}),i.jsxs(ae,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),i.jsx("div",{className:"p-6",children:a?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((l,c)=>i.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-24"}),i.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-3 bg-muted rounded"}),i.jsx("div",{className:"h-3 bg-muted rounded"}),i.jsx("div",{className:"h-3 bg-muted rounded"})]})]},c))}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"fas fa-robot text-muted-foreground text-2xl"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Bot Instances"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Get started by creating your first WhatsApp bot instance"}),i.jsx(ae,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-bot",children:"Create Your First Bot"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(l=>i.jsx(xO,{bot:l},l.id))})}),i.jsx(Mw,{open:e,onClose:()=>t(!1)})]})}const bO=$I;function wO(){const{toast:e}=Cr(),t=cn(),[n,a]=g.useState(!1),[l,c]=g.useState("all"),{data:d=[],isLoading:f}=xt({queryKey:["/api/commands"]}),{data:p=[]}=xt({queryKey:["/api/bot-instances"]}),h=W0({resolver:K0(bO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=et({mutationFn:b=>Et("POST","/api/commands",b),onSuccess:()=>{e({title:"Command created successfully"}),t.invalidateQueries({queryKey:["/api/commands"]}),h.reset(),a(!1)},onError:b=>{e({title:"Failed to create command",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),y=et({mutationFn:({id:b,isActive:E})=>Et("PATCH",`/api/commands/${b}`,{isActive:E}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/commands"]})}}),w=et({mutationFn:()=>Et("POST","/api/commands/sync"),onSuccess:b=>{e({title:"Commands synced successfully",description:`${b.addedCount} new commands added`}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:b=>{e({title:"Failed to sync commands",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),S=et({mutationFn:b=>Et("DELETE",`/api/commands/${b}`),onSuccess:()=>{e({title:"Command deleted successfully"}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),_=b=>{x.mutate(b)},N=d.filter(b=>l==="all"?!0:l==="global"?!b.botInstanceId:b.botInstanceId===l);return i.jsxs("div",{children:[i.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(ii,{value:l,onValueChange:c,children:[i.jsx(Ns,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:i.jsx(ai,{})}),i.jsxs(Ss,{className:"bg-popover border-border",children:[i.jsx(yt,{value:"all",children:"All Commands"}),i.jsx(yt,{value:"global",children:"Global Commands"}),p.map(b=>i.jsx(yt,{value:b.id,children:b.name},b.id))]})]}),i.jsxs(ae,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[i.jsx("i",{className:"fas fa-sync mr-2"}),w.isPending?"Syncing...":"Sync Commands"]}),i.jsxs(ar,{open:n,onOpenChange:a,children:[i.jsx(QT,{asChild:!0,children:i.jsxs(ae,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),i.jsxs(Zt,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),i.jsxs("form",{onSubmit:h.handleSubmit(_),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"command-name",children:"Command Name"}),i.jsx(ir,{id:"command-name",placeholder:"help, status, info...",...h.register("name"),"data-testid":"input-command-name"}),h.formState.errors.name&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:h.formState.errors.name.message})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"bot-instance",children:"Bot Instance"}),i.jsxs(ii,{value:h.watch("botInstanceId")||"",onValueChange:b=>h.setValue("botInstanceId",b||null),children:[i.jsx(Ns,{"data-testid":"select-command-bot",children:i.jsx(ai,{placeholder:"Global command"})}),i.jsxs(Ss,{children:[i.jsx(yt,{value:"",children:"Global command"}),p.map(b=>i.jsx(yt,{value:b.id,children:b.name},b.id))]})]})]})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"description",children:"Description"}),i.jsx(ir,{id:"description",placeholder:"What does this command do?",...h.register("description"),"data-testid":"input-command-description"}),h.formState.errors.description&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:h.formState.errors.description.message})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"response",children:"Response"}),i.jsx(Kn,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...h.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"use-chatgpt",checked:h.watch("useChatGPT")||!1,onCheckedChange:b=>h.setValue("useChatGPT",b),"data-testid":"checkbox-use-chatgpt"}),i.jsx(De,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{id:"is-active",checked:h.watch("isActive")||!1,onCheckedChange:b=>h.setValue("isActive",b),"data-testid":"checkbox-command-active"}),i.jsx(De,{htmlFor:"is-active",children:"Active"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(ae,{type:"button",variant:"ghost",onClick:()=>a(!1),"data-testid":"button-cancel-command",children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),i.jsx("div",{className:"p-6",children:f?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):N.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),i.jsx(ae,{onClick:()=>a(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(b=>i.jsxs(Ae,{className:"bg-card border-border","data-testid":`command-card-${b.id}`,children:[i.jsx(Ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",b.name]}),b.useChatGPT&&i.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[i.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>y.mutate({id:b.id,isActive:!b.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${b.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${b.id}`,children:i.jsx("div",{className:`w-2 h-2 rounded-full ${b.isActive?"bg-white":"bg-muted-foreground"}`})}),i.jsx("button",{onClick:()=>S.mutate(b.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${b.id}`,children:i.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${b.id}`,children:b.description}),b.response&&i.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),i.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${b.id}`,children:b.response.length>100?`${b.response.substring(0,100)}...`:b.response})]}),b.botInstanceId&&i.jsx("div",{className:"mt-3",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",p.find(E=>E.id===b.botInstanceId)?.name||"Unknown"]})})]})]},b.id))})})]})}const Rc=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:Se("w-full caption-bottom text-sm",e),...t})}));Rc.displayName="Table";const Ac=g.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:Se("[&_tr]:border-b",e),...t}));Ac.displayName="TableHeader";const Ic=g.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:Se("[&_tr:last-child]:border-0",e),...t}));Ic.displayName="TableBody";const jO=g.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));jO.displayName="TableFooter";const Hs=g.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Hs.displayName="TableRow";const wt=g.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));wt.displayName="TableHead";const jt=g.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableCell";const NO=g.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:Se("mt-4 text-sm text-muted-foreground",e),...t}));NO.displayName="TableCaption";var Xw="AlertDialog",[SO,GD]=Or(Xw,[Cb]),Hn=Cb(),Jw=e=>{const{__scopeAlertDialog:t,...n}=e,a=Hn(t);return i.jsx(zm,{...a,...n,modal:!0})};Jw.displayName=Xw;var CO="AlertDialogTrigger",ej=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,l=Hn(n);return i.jsx(Vb,{...l,...a,ref:t})});ej.displayName=CO;var kO="AlertDialogPortal",tj=e=>{const{__scopeAlertDialog:t,...n}=e,a=Hn(t);return i.jsx(Um,{...a,...n})};tj.displayName=kO;var _O="AlertDialogOverlay",rj=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,l=Hn(n);return i.jsx(Gc,{...l,...a,ref:t})});rj.displayName=_O;var ra="AlertDialogContent",[EO,TO]=SO(ra),PO=Jx("AlertDialogContent"),nj=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...l}=e,c=Hn(n),d=g.useRef(null),f=He(t,d),p=g.useRef(null);return i.jsx(zT,{contentName:ra,titleName:sj,docsSlug:"alert-dialog",children:i.jsx(EO,{scope:n,cancelRef:p,children:i.jsxs(Zc,{role:"alertdialog",...c,...l,ref:f,onOpenAutoFocus:Ee(l.onOpenAutoFocus,h=>{h.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[i.jsx(PO,{children:a}),i.jsx(AO,{contentRef:d})]})})})});nj.displayName=ra;var sj="AlertDialogTitle",ij=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,l=Hn(n);return i.jsx(qm,{...l,...a,ref:t})});ij.displayName=sj;var aj="AlertDialogDescription",oj=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,l=Hn(n);return i.jsx(Wm,{...l,...a,ref:t})});oj.displayName=aj;var RO="AlertDialogAction",lj=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,l=Hn(n);return i.jsx(Qm,{...l,...a,ref:t})});lj.displayName=RO;var cj="AlertDialogCancel",uj=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:l}=TO(cj,n),c=Hn(n),d=He(t,l);return i.jsx(Qm,{...c,...a,ref:d})});uj.displayName=cj;var AO=({contentRef:e})=>{const t=`\`${ra}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ra}\` by passing a \`${aj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ra}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},IO=Jw,OO=ej,DO=tj,dj=rj,fj=nj,mj=lj,pj=uj,hj=ij,gj=oj;const MO=IO,FO=OO,LO=DO,vj=g.forwardRef(({className:e,...t},n)=>i.jsx(dj,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));vj.displayName=dj.displayName;const xj=g.forwardRef(({className:e,...t},n)=>i.jsxs(LO,{children:[i.jsx(vj,{}),i.jsx(fj,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));xj.displayName=fj.displayName;const yj=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});yj.displayName="AlertDialogHeader";const bj=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bj.displayName="AlertDialogFooter";const wj=g.forwardRef(({className:e,...t},n)=>i.jsx(hj,{ref:n,className:Se("text-lg font-semibold",e),...t}));wj.displayName=hj.displayName;const jj=g.forwardRef(({className:e,...t},n)=>i.jsx(gj,{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));jj.displayName=gj.displayName;const Nj=g.forwardRef(({className:e,...t},n)=>i.jsx(mj,{ref:n,className:Se(Mm(),e),...t}));Nj.displayName=mj.displayName;const Sj=g.forwardRef(({className:e,...t},n)=>i.jsx(pj,{ref:n,className:Se(Mm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Sj.displayName=pj.displayName;function BO({open:e,onClose:t}){const{toast:n}=Cr(),a=cn(),[l,c]=g.useState(""),[d,f]=g.useState({serverUrl:"",adminToken:""}),[p,h]=g.useState(null),[x,y]=g.useState(!1),[w,S]=g.useState(""),[_,N]=g.useState("base64"),[b,E]=g.useState([]),{data:C=[],isLoading:P}=xt({queryKey:["/api/master/tenancies"],enabled:e}),{data:M=[],isLoading:$,refetch:H}=xt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:U=[],isLoading:re}=xt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:ge=[],isLoading:fe}=xt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4});et({mutationFn:async k=>(console.log(`Attempting to connect to ${k.tenancy} via God Registry`),{success:!0,message:`Connected to ${k.tenancy} via God Registry`}),onSuccess:()=>{n({title:"Success",description:"Successfully connected to tenancy server"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{n({title:"Connection Failed",description:k.message,variant:"destructive"})}});const me=et({mutationFn:async({action:k,botId:I,tenancy:Z,data:J})=>(await Et("POST","/api/master/bot-action",{action:k,botId:I,tenancy:Z,data:J})).json(),onSuccess:(k,I)=>{n({title:"Success",description:`Successfully ${I.action}d bot`}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{n({title:"Action Failed",description:k.message,variant:"destructive"})}}),ee=et({mutationFn:async({action:k,botId:I,tenancy:Z,feature:J,enabled:R})=>(await Et("POST","/api/master/feature-management",{action:k,botId:I,tenancy:Z,feature:J,enabled:R})).json(),onSuccess:()=>{n({title:"Feature Updated",description:"Bot feature settings updated successfully"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{n({title:"Feature Update Failed",description:k.message,variant:"destructive"})}}),ue=et({mutationFn:async({sourceServer:k,targetServers:I,commandIds:Z})=>(await Et("POST","/api/master/sync-commands",{sourceServer:k,targetServers:I,commandIds:Z})).json(),onSuccess:()=>{n({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:k=>{n({title:"Command Sync Failed",description:k.message,variant:"destructive"})}}),G=(k,I,Z,J)=>{me.mutate({action:k,botId:I,tenancy:Z,data:J})},he=(k,I,Z,J)=>{ee.mutate({action:"toggle_feature",botId:k,tenancy:I,feature:Z,enabled:J})},K=k=>{const I={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return i.jsx(Ht,{className:`${I[k]||"bg-gray-500"} text-white`,children:k})};return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Yt,{children:i.jsx(Xt,{className:"text-2xl font-bold text-center",children:"🎛️ Master Control Panel"})}),i.jsxs(cu,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Vo,{className:"grid w-full grid-cols-6",children:[i.jsx(mr,{value:"overview",children:"Overview"}),i.jsx(mr,{value:"servers",children:"Servers"}),i.jsx(mr,{value:"bots",children:"Bot Management"}),i.jsx(mr,{value:"features",children:"Features"}),i.jsx(mr,{value:"credentials",children:"Credentials"}),i.jsx(mr,{value:"bulk",children:"Bulk Actions"})]}),i.jsxs(Gt,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[i.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"🎛️ Master Control Dashboard"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:M.filter(k=>k.approvalStatus==="pending").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:M.filter(k=>k.status==="online").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),i.jsxs(Ae,{children:[i.jsx(Ke,{children:i.jsxs(Ze,{className:"flex items-center gap-2",children:["📊 Real-time System Status",i.jsx(Ht,{variant:"outline",className:"ml-auto",children:"Live"})]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),i.jsx("div",{className:"space-y-2",children:C.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"font-medium",children:k.name})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.botCount," bots"]})]},k.name))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),i.jsx("div",{className:"space-y-2",children:[{status:"online",count:M.filter(k=>k.status==="online").length,color:"bg-green-500"},{status:"offline",count:M.filter(k=>k.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:M.filter(k=>k.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:M.filter(k=>k.status==="error").length,color:"bg-red-500"}].map(k=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 ${k.color} rounded-full`}),i.jsx("span",{className:"capitalize",children:k.status})]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:k.count})]},k.status))})]})]})})]})]}),i.jsx(Gt,{value:"servers",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-blue-600",children:"🖥️ Server Tenancy Management"}),i.jsx(vt,{children:"Monitor and control all server instances and their bot containers"})]}),i.jsx(Ie,{children:re?i.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):i.jsx("div",{className:"space-y-4",children:U.slice(0,20).map(k=>i.jsx(Ae,{className:"border-l-4 border-l-blue-500",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:["🏢 ",k.name,k.status==="active"?i.jsx(Ht,{className:"bg-green-500 text-white",children:"Active"}):i.jsx(Ht,{className:"bg-gray-500 text-white",children:"Available"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:k.description||"Server instance ready for bot deployment"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.currentBots}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.remainingBots}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-lg font-medium",children:[Math.round(k.currentBots/k.totalBots*100),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(k.currentBots/k.totalBots*100)}%`}})})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:k.name,description:`Switched to ${k.name} for administration`})}).then(()=>{n({title:"Server Switched",description:`Successfully switched to ${k.name}`}),H()})},"data-testid":`button-switch-to-${k.name}`,children:"🔄 Switch To"}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{const I=M.filter(Z=>Z.tenancy===k.name);n({title:"Server Bots",description:`${k.name} has ${I.length} bots registered`})},children:["👁️ View Bots (",M.filter(I=>I.tenancy===k.name).length,")"]})]})]})},k.name))})})]})}),i.jsx(Gt,{value:"tenancies",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:C.map(k=>i.jsxs(Ae,{children:[i.jsx(Ke,{children:i.jsxs(Ze,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k.name,K(k.status||"unknown")]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>G("sync","",k.name),disabled:me.isPending,children:"Sync"}),i.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>G("disconnect","",k.name),disabled:me.isPending,children:"Disconnect"})]})]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Server URL"}),i.jsx(ir,{value:k.url,readOnly:!0})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Bot Count"}),i.jsx(ir,{value:k.botCount.toString(),readOnly:!0})]})]})})]},k.name))})}),i.jsxs(Gt,{value:"bots",className:"space-y-4",children:[i.jsx(Ae,{className:"border-l-4 border-l-purple-500",children:i.jsx(Ie,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(ae,{variant:"outline",onClick:()=>H(),disabled:$,className:"flex items-center gap-2",children:"🔄 Refresh Data"}),i.jsxs(ae,{variant:"outline",onClick:()=>{const k=M.filter(I=>I.approvalStatus==="pending").length;n({title:"Pending Approvals",description:`${k} bots awaiting approval`})},children:["⏳ Pending (",M.filter(k=>k.approvalStatus==="pending").length,")"]}),i.jsxs(ae,{variant:"outline",onClick:()=>{const k=M.filter(I=>I.status==="online").length;n({title:"Online Bots",description:`${k} bots currently online`})},children:["🟢 Online (",M.filter(k=>k.status==="online").length,")"]})]})})}),i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-purple-600",children:"🤖 Complete Bot Registry"}),i.jsx(vt,{children:"All bots across all server tenancies with individual container controls"})]}),i.jsx(Ie,{children:$?i.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):i.jsxs(Rc,{children:[i.jsx(Ac,{children:i.jsxs(Hs,{children:[i.jsx(wt,{children:"Bot Details"}),i.jsx(wt,{children:"Server"}),i.jsx(wt,{children:"Status"}),i.jsx(wt,{children:"Approval"}),i.jsx(wt,{children:"Features"}),i.jsx(wt,{children:"Stats"}),i.jsx(wt,{children:"Container Actions"})]})}),i.jsx(Ic,{children:M.map(k=>i.jsxs(Hs,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx(jt,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:k.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:k.phoneNumber})]})}),i.jsx(jt,{children:i.jsx(Ht,{variant:k.tenancy==="default-server"?"default":"outline",children:k.tenancy})}),i.jsx(jt,{children:i.jsxs("div",{className:"space-y-1",children:[K(k.status),k.approvalStatus&&i.jsx("div",{children:K(k.approvalStatus)})]})}),i.jsx(jt,{children:k.approvalStatus==="pending"?i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ae,{size:"sm",variant:"default",onClick:()=>G("approve",k.id,k.tenancy,{duration:6}),disabled:me.isPending,"data-testid":`button-approve-${k.id}`,children:"✅"}),i.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>G("reject",k.id,k.tenancy),disabled:me.isPending,"data-testid":`button-reject-${k.id}`,children:"❌"})]}):k.approvalStatus==="approved"?i.jsxs("div",{className:"text-xs text-green-600",children:["✅ Approved",k.expirationMonths&&i.jsxs("div",{children:["(",k.expirationMonths,"mo)"]})]}):i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>G("approve",k.id,k.tenancy,{duration:6}),disabled:me.isPending,children:"🔄 Return to Normal"})}),i.jsx(jt,{children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsxs(Ht,{variant:k.autoLike?"default":"outline",className:"text-xs",children:["👍 ",k.autoLike?"ON":"OFF"]}),i.jsxs(Ht,{variant:k.chatgptEnabled?"default":"outline",className:"text-xs",children:["🤖 ",k.chatgptEnabled?"ON":"OFF"]})]})}),i.jsx(jt,{children:i.jsxs("div",{className:"text-xs space-y-1",children:[i.jsxs("div",{children:["Msgs: ",k.messagesCount||0]}),i.jsxs("div",{children:["Cmds: ",k.commandsCount||0]})]})}),i.jsx(jt,{children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>G(k.status==="online"?"stop":"start",k.id,k.serverName||k.tenancy||"default-server"),disabled:me.isPending,"data-testid":`button-${k.status==="online"?"stop":"start"}-${k.id}`,children:k.status==="online"?"⏹️":"▶️"}),i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{h(k),y(!0)},"data-testid":`button-creds-${k.id}`,children:"🔐"}),i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>he(k.id,k.tenancy,"autoLike",!k.autoLike),disabled:ee.isPending,children:"🎛️"}),i.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>G("delete",k.id,k.tenancy),disabled:me.isPending,"data-testid":`button-delete-${k.id}`,children:"🗑️"})]})})]},`${k.tenancy}-${k.id}`))})]})})]}),i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-green-600",children:"✅ Approved & Active Bots"}),i.jsx(vt,{children:"Currently approved and active bots across all tenancies"})]}),i.jsx(Ie,{children:fe?i.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):i.jsxs(Rc,{children:[i.jsx(Ac,{children:i.jsxs(Hs,{children:[i.jsx(wt,{children:"Bot Name"}),i.jsx(wt,{children:"Phone Number"}),i.jsx(wt,{children:"Tenancy"}),i.jsx(wt,{children:"Status"}),i.jsx(wt,{children:"Approval Date"}),i.jsx(wt,{children:"Last Activity"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Ic,{children:ge.map(k=>i.jsxs(Hs,{children:[i.jsx(jt,{className:"font-medium",children:k.name}),i.jsx(jt,{children:k.phoneNumber}),i.jsx(jt,{children:i.jsx(Ht,{variant:"outline",children:k.serverName})}),i.jsx(jt,{children:K(k.status)}),i.jsx(jt,{className:"text-sm text-muted-foreground",children:k.approvalDate?new Date(k.approvalDate).toLocaleDateString():"N/A"}),i.jsx(jt,{className:"text-sm text-muted-foreground",children:new Date(k.updatedAt||k.createdAt).toLocaleDateString()}),i.jsx(jt,{children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>G(k.status==="online"?"stop":"start",k.id,k.serverName||k.tenancy||"default-server"),disabled:me.isPending,"data-testid":`button-${k.status==="online"?"stop":"start"}-${k.id}`,children:k.status==="online"?"⏹️ Stop":"▶️ Start"}),i.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>G("delete",k.id,k.tenancy),disabled:me.isPending,"data-testid":`button-delete-approved-${k.id}`,children:"🗑️ Delete"})]})})]},`approved-${k.serverName}-${k.id}`))})]})})]})]}),i.jsx(Gt,{value:"features",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-purple-600",children:"🎛️ Cross-Tenancy Feature Control"}),i.jsx(vt,{children:"Manage bot features across all tenancies from this central panel"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[i.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:"🌐 Global Feature Management"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"👍",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"😄",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"👁️",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"🤖",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"⌨️",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"✓✓",description:"Send read receipts"}].map(k=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:k.icon}),i.jsx("span",{className:"font-medium text-sm",children:k.label})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:k.description}),i.jsx("div",{className:"space-y-2",children:C.map(I=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs",children:I.name}),i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>he("",I.name,k.key,!0),className:"h-6 px-2 text-xs",disabled:ee.isPending,children:"Toggle"})]},I.name))})]},k.key))})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[i.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🤖 Individual Bot Feature Control"}),i.jsx("div",{className:"space-y-4",children:M.filter(k=>k.approvalStatus==="approved").map(k=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium",children:k.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.phoneNumber," • ",k.tenancy]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[K(k.status),i.jsx(Ht,{variant:"outline",children:k.tenancy})]})]}),i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:"👍"},{key:"autoReact",label:"React",icon:"😄"},{key:"autoView",label:"View",icon:"👁️"},{key:"chatGPT",label:"AI",icon:"🤖"},{key:"typing",label:"Type",icon:"⌨️"},{key:"receipts",label:"Read",icon:"✓✓"}].map(I=>i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>he(k.id,k.tenancy,I.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:ee.isPending,children:[i.jsx("span",{className:"text-sm",children:I.icon}),i.jsx("span",{className:"text-xs",children:I.label})]},I.key))})]},`${k.tenancy}-${k.id}`))})]}),i.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[i.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:"📡 Command Sync Across Tenancies"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),i.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[i.jsx("option",{value:"",children:"Select source server..."}),C.map(k=>i.jsx("option",{value:k.name,children:k.name},k.name))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),i.jsx("div",{className:"space-y-2",children:C.map(k=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:`target-${k.name}`,className:"rounded"}),i.jsx("label",{htmlFor:`target-${k.name}`,className:"text-sm",children:k.name})]},k.name))})]})]}),i.jsx(ae,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:ue.isPending,children:"🔄 Sync Selected Commands"})]})]})]})}),i.jsx(Gt,{value:"credentials",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-green-600",children:"🔐 Bot Credential Management"}),i.jsx(vt,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),i.jsxs(Ie,{children:[i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[i.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"⚠️ Credential Update Safety"}),i.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.filter(k=>k.approvalStatus==="approved").map(k=>i.jsx(Ae,{className:"border-l-4 border-l-green-500",children:i.jsx(Ie,{className:"pt-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:k.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:k.phoneNumber}),i.jsx(Ht,{variant:"outline",className:"mt-1",children:k.tenancy})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Container Status:"}),K(k.status)]}),i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{h(k),y(!0)},className:"w-full","data-testid":`button-update-creds-${k.id}`,children:"🔐 Update Credentials"})]})})},`cred-${k.tenancy}-${k.id}`))})]})]})}),i.jsx(Gt,{value:"bulk",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{className:"text-red-600",children:"⚡ Bulk Operations"}),i.jsx(vt,{children:"Perform actions on multiple bots across all server tenancies"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[i.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:"📋 Bulk Bot Selection"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{const k=M.map(I=>`${I.tenancy}-${I.id}`);E(k)},children:["✅ Select All (",M.length,")"]}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{const k=M.filter(I=>I.approvalStatus==="pending").map(I=>`${I.tenancy}-${I.id}`);E(k)},children:["⏳ Select Pending (",M.filter(k=>k.approvalStatus==="pending").length,")"]}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{const k=M.filter(I=>I.status==="online").map(I=>`${I.tenancy}-${I.id}`);E(k)},children:["🟢 Select Online (",M.filter(k=>k.status==="online").length,")"]}),i.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>E([]),children:"❌ Clear Selection"})]}),i.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",b.length," bots"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ae,{className:"border-l-4 border-l-green-500",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsx("h4",{className:"font-medium text-green-600 mb-3",children:"✅ Bulk Approve"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),i.jsx(ae,{size:"sm",variant:"default",className:"w-full",disabled:b.length===0,onClick:()=>{b.forEach(k=>{const[I,Z]=k.split("-"),J=M.find(R=>R.tenancy===I&&R.id===Z);J&&J.approvalStatus==="pending"&&G("approve",Z,I,{duration:6})}),n({title:"Bulk Approval",description:`Processing approval for ${b.length} bots`})},children:"Approve Selected"})]})}),i.jsx(Ae,{className:"border-l-4 border-l-blue-500",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:"▶️ Bulk Start"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),i.jsx(ae,{size:"sm",variant:"outline",className:"w-full",disabled:b.length===0,onClick:()=>{b.forEach(k=>{const[I,Z]=k.split("-"),J=M.find(R=>R.tenancy===I&&R.id===Z);J&&J.status==="offline"&&G("start",Z,I)}),n({title:"Bulk Start",description:`Starting ${b.length} bots`})},children:"Start Selected"})]})}),i.jsx(Ae,{className:"border-l-4 border-l-orange-500",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:"⏹️ Bulk Stop"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),i.jsx(ae,{size:"sm",variant:"outline",className:"w-full",disabled:b.length===0,onClick:()=>{b.forEach(k=>{const[I,Z]=k.split("-"),J=M.find(R=>R.tenancy===I&&R.id===Z);J&&J.status==="online"&&G("stop",Z,I)}),n({title:"Bulk Stop",description:`Stopping ${b.length} bots`})},children:"Stop Selected"})]})}),i.jsx(Ae,{className:"border-l-4 border-l-purple-500",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:"🎛️ Bulk Features"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),i.jsx(ae,{size:"sm",variant:"outline",className:"w-full",disabled:b.length===0,onClick:()=>{b.forEach(k=>{const[I,Z]=k.split("-");he(Z,I,"autoLike",!0)}),n({title:"Bulk Feature Update",description:`Enabling features for ${b.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),i.jsx(Gt,{value:"connect",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"God Registry Information"}),i.jsx(vt,{children:"Cross-tenancy management is powered by the God Registry table"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🔄 How Cross-Tenancy Works:"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:"• All bot registrations are stored in the God Registry table"}),i.jsx("li",{children:"• Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),i.jsx("li",{children:"• Master control can see and manage bots across all tenancies"}),i.jsx("li",{children:"• Local tenancy bots show full details, remote ones show registry info"}),i.jsx("li",{children:"• Actions on local tenancy bots are executed directly"}),i.jsx("li",{children:"• Actions on remote tenancy bots are logged for coordination"})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 Current Setup:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsxs("li",{children:["• Current Server: ","SERVER1"]}),i.jsx("li",{children:"• God Registry: Active and monitoring all tenancies"}),i.jsx("li",{children:"• Cross-tenancy actions: Logged and tracked"}),i.jsx("li",{children:"• Data isolation: Each tenancy maintains its own bot data"})]})]}),i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),p&&i.jsx(ar,{open:x,onOpenChange:y,children:i.jsxs(Zt,{className:"max-w-2xl",children:[i.jsx(Yt,{children:i.jsx(Xt,{children:"🔐 Update Bot Credentials"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[i.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Name:"})," ",p.name]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Phone:"})," ",p.phoneNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Server:"})," ",p.tenancy]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"})," ",p.status]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"credential-type",children:"Credential Type"}),i.jsxs(ii,{value:_,onValueChange:k=>N(k),children:[i.jsx(Ns,{children:i.jsx(ai,{placeholder:"Select credential type"})}),i.jsxs(Ss,{children:[i.jsx(yt,{value:"base64",children:"Base64 String"}),i.jsx(yt,{value:"file",children:"File Upload"})]})]})]}),_==="base64"?i.jsxs("div",{children:[i.jsx(De,{htmlFor:"credentials",children:"New Credentials (Base64)"}),i.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:w,onChange:k=>S(k.target.value)})]}):i.jsxs("div",{children:[i.jsx(De,{htmlFor:"credential-file",children:"Upload Credentials File"}),i.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:k=>{const I=k.target.files?.[0];if(I){const Z=new FileReader;Z.onload=J=>{S(J.target?.result||"")},Z.readAsText(I)}}})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ae,{onClick:()=>{if(!w.trim()){n({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:p.id,tenancy:p.tenancy,data:{credentials:_==="base64"?w:JSON.parse(w),type:_}})}).then(async k=>{if(k.ok)n({title:"Credentials Updated",description:`Credentials updated for ${p.name} in ${p.tenancy} container`}),y(!1),h(null),S(""),H();else{const I=await k.json();n({title:"Update Failed",description:I.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:"💾 Update Credentials"}),i.jsx(ae,{variant:"outline",onClick:()=>{y(!1),h(null),S("")},children:"Cancel"})]})]})]})]})})]})})}const $O=Do("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Cj=g.forwardRef(({className:e,variant:t,...n},a)=>i.jsx("div",{ref:a,role:"alert",className:Se($O({variant:t}),e),...n}));Cj.displayName="Alert";const VO=g.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:Se("mb-1 font-medium leading-none tracking-tight",e),...t}));VO.displayName="AlertTitle";const kj=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));kj.displayName="AlertDescription";var kx=1,zO=.9,UO=.8,qO=.17,Tf=.1,Pf=.999,WO=.9999,QO=.99,KO=/[\\\/_+.#"@\[\(\{&]/,HO=/[\\\/_+.#"@\[\(\{&]/g,GO=/[\s-]/,_j=/[\s-]/g;function cm(e,t,n,a,l,c,d){if(c===t.length)return l===e.length?kx:QO;var f=`${l},${c}`;if(d[f]!==void 0)return d[f];for(var p=a.charAt(c),h=n.indexOf(p,l),x=0,y,w,S,_;h>=0;)y=cm(e,t,n,a,h+1,c+1,d),y>x&&(h===l?y*=kx:KO.test(e.charAt(h-1))?(y*=UO,S=e.slice(l,h-1).match(HO),S&&l>0&&(y*=Math.pow(Pf,S.length))):GO.test(e.charAt(h-1))?(y*=zO,_=e.slice(l,h-1).match(_j),_&&l>0&&(y*=Math.pow(Pf,_.length))):(y*=qO,l>0&&(y*=Math.pow(Pf,h-l))),e.charAt(h)!==t.charAt(c)&&(y*=WO)),(y<Tf&&n.charAt(h-1)===a.charAt(c+1)||a.charAt(c+1)===a.charAt(c)&&n.charAt(h-1)!==a.charAt(c))&&(w=cm(e,t,n,a,h+1,c+2,d),w*Tf>y&&(y=w*Tf)),y>x&&(x=y),h=n.indexOf(p,h+1);return d[f]=x,x}function _x(e){return e.toLowerCase().replace(_j," ")}function ZO(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,cm(e,t,_x(e),_x(t),0,0,{})}var ao='[cmdk-group=""]',Rf='[cmdk-group-items=""]',YO='[cmdk-group-heading=""]',Ej='[cmdk-item=""]',Ex=`${Ej}:not([aria-disabled="true"])`,um="cmdk-item-select",Ki="data-value",XO=(e,t,n)=>ZO(e,t,n),Tj=g.createContext(void 0),zo=()=>g.useContext(Tj),Pj=g.createContext(void 0),dp=()=>g.useContext(Pj),Rj=g.createContext(void 0),Aj=g.forwardRef((e,t)=>{let n=Hi(()=>{var O,B;return{search:"",value:(B=(O=e.value)!=null?O:e.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Hi(()=>new Set),l=Hi(()=>new Map),c=Hi(()=>new Map),d=Hi(()=>new Set),f=Ij(e),{label:p,children:h,value:x,onValueChange:y,filter:w,shouldFilter:S,loop:_,disablePointerSelection:N=!1,vimBindings:b=!0,...E}=e,C=pr(),P=pr(),M=pr(),$=g.useRef(null),H=cD();ui(()=>{if(x!==void 0){let O=x.trim();n.current.value=O,U.emit()}},[x]),ui(()=>{H(6,ue)},[]);let U=g.useMemo(()=>({subscribe:O=>(d.current.add(O),()=>d.current.delete(O)),snapshot:()=>n.current,setState:(O,B,F)=>{var V,ie,X,ce;if(!Object.is(n.current[O],B)){if(n.current[O]=B,O==="search")ee(),fe(),H(1,me);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let we=document.getElementById(M);we?we.focus():(V=document.getElementById(C))==null||V.focus()}if(H(7,()=>{var we;n.current.selectedItemId=(we=G())==null?void 0:we.id,U.emit()}),F||H(5,ue),((ie=f.current)==null?void 0:ie.value)!==void 0){let we=B??"";(ce=(X=f.current).onValueChange)==null||ce.call(X,we);return}}U.emit()}},emit:()=>{d.current.forEach(O=>O())}}),[]),re=g.useMemo(()=>({value:(O,B,F)=>{var V;B!==((V=c.current.get(O))==null?void 0:V.value)&&(c.current.set(O,{value:B,keywords:F}),n.current.filtered.items.set(O,ge(B,F)),H(2,()=>{fe(),U.emit()}))},item:(O,B)=>(a.current.add(O),B&&(l.current.has(B)?l.current.get(B).add(O):l.current.set(B,new Set([O]))),H(3,()=>{ee(),fe(),n.current.value||me(),U.emit()}),()=>{c.current.delete(O),a.current.delete(O),n.current.filtered.items.delete(O);let F=G();H(4,()=>{ee(),F?.getAttribute("id")===O&&me(),U.emit()})}),group:O=>(l.current.has(O)||l.current.set(O,new Set),()=>{c.current.delete(O),l.current.delete(O)}),filter:()=>f.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:C,inputId:M,labelId:P,listInnerRef:$}),[]);function ge(O,B){var F,V;let ie=(V=(F=f.current)==null?void 0:F.filter)!=null?V:XO;return O?ie(O,n.current.search,B):0}function fe(){if(!n.current.search||f.current.shouldFilter===!1)return;let O=n.current.filtered.items,B=[];n.current.filtered.groups.forEach(V=>{let ie=l.current.get(V),X=0;ie.forEach(ce=>{let we=O.get(ce);X=Math.max(we,X)}),B.push([V,X])});let F=$.current;he().sort((V,ie)=>{var X,ce;let we=V.getAttribute("id"),$e=ie.getAttribute("id");return((X=O.get($e))!=null?X:0)-((ce=O.get(we))!=null?ce:0)}).forEach(V=>{let ie=V.closest(Rf);ie?ie.appendChild(V.parentElement===ie?V:V.closest(`${Rf} > *`)):F.appendChild(V.parentElement===F?V:V.closest(`${Rf} > *`))}),B.sort((V,ie)=>ie[1]-V[1]).forEach(V=>{var ie;let X=(ie=$.current)==null?void 0:ie.querySelector(`${ao}[${Ki}="${encodeURIComponent(V[0])}"]`);X?.parentElement.appendChild(X)})}function me(){let O=he().find(F=>F.getAttribute("aria-disabled")!=="true"),B=O?.getAttribute(Ki);U.setState("value",B||void 0)}function ee(){var O,B,F,V;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ie=0;for(let X of a.current){let ce=(B=(O=c.current.get(X))==null?void 0:O.value)!=null?B:"",we=(V=(F=c.current.get(X))==null?void 0:F.keywords)!=null?V:[],$e=ge(ce,we);n.current.filtered.items.set(X,$e),$e>0&&ie++}for(let[X,ce]of l.current)for(let we of ce)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add(X);break}n.current.filtered.count=ie}function ue(){var O,B,F;let V=G();V&&(((O=V.parentElement)==null?void 0:O.firstChild)===V&&((F=(B=V.closest(ao))==null?void 0:B.querySelector(YO))==null||F.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function G(){var O;return(O=$.current)==null?void 0:O.querySelector(`${Ej}[aria-selected="true"]`)}function he(){var O;return Array.from(((O=$.current)==null?void 0:O.querySelectorAll(Ex))||[])}function K(O){let B=he()[O];B&&U.setState("value",B.getAttribute(Ki))}function k(O){var B;let F=G(),V=he(),ie=V.findIndex(ce=>ce===F),X=V[ie+O];(B=f.current)!=null&&B.loop&&(X=ie+O<0?V[V.length-1]:ie+O===V.length?V[0]:V[ie+O]),X&&U.setState("value",X.getAttribute(Ki))}function I(O){let B=G(),F=B?.closest(ao),V;for(;F&&!V;)F=O>0?oD(F,ao):lD(F,ao),V=F?.querySelector(Ex);V?U.setState("value",V.getAttribute(Ki)):k(O)}let Z=()=>K(he().length-1),J=O=>{O.preventDefault(),O.metaKey?Z():O.altKey?I(1):k(1)},R=O=>{O.preventDefault(),O.metaKey?K(0):O.altKey?I(-1):k(-1)};return g.createElement(Oe.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:O=>{var B;(B=E.onKeyDown)==null||B.call(E,O);let F=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||F))switch(O.key){case"n":case"j":{b&&O.ctrlKey&&J(O);break}case"ArrowDown":{J(O);break}case"p":case"k":{b&&O.ctrlKey&&R(O);break}case"ArrowUp":{R(O);break}case"Home":{O.preventDefault(),K(0);break}case"End":{O.preventDefault(),Z();break}case"Enter":{O.preventDefault();let V=G();if(V){let ie=new Event(um);V.dispatchEvent(ie)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:re.inputId,id:re.labelId,style:dD},p),du(e,O=>g.createElement(Pj.Provider,{value:U},g.createElement(Tj.Provider,{value:re},O))))}),JO=g.forwardRef((e,t)=>{var n,a;let l=pr(),c=g.useRef(null),d=g.useContext(Rj),f=zo(),p=Ij(e),h=(a=(n=p.current)==null?void 0:n.forceMount)!=null?a:d?.forceMount;ui(()=>{if(!h)return f.item(l,d?.id)},[h]);let x=Oj(l,c,[e.value,e.children,c],e.keywords),y=dp(),w=Ts(H=>H.value&&H.value===x.current),S=Ts(H=>h||f.filter()===!1?!0:H.search?H.filtered.items.get(l)>0:!0);g.useEffect(()=>{let H=c.current;if(!(!H||e.disabled))return H.addEventListener(um,_),()=>H.removeEventListener(um,_)},[S,e.onSelect,e.disabled]);function _(){var H,U;N(),(U=(H=p.current).onSelect)==null||U.call(H,x.current)}function N(){y.setState("value",x.current,!0)}if(!S)return null;let{disabled:b,value:E,onSelect:C,forceMount:P,keywords:M,...$}=e;return g.createElement(Oe.div,{ref:Js(c,t),...$,id:l,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!w,"data-disabled":!!b,"data-selected":!!w,onPointerMove:b||f.getDisablePointerSelection()?void 0:N,onClick:b?void 0:_},e.children)}),eD=g.forwardRef((e,t)=>{let{heading:n,children:a,forceMount:l,...c}=e,d=pr(),f=g.useRef(null),p=g.useRef(null),h=pr(),x=zo(),y=Ts(S=>l||x.filter()===!1?!0:S.search?S.filtered.groups.has(d):!0);ui(()=>x.group(d),[]),Oj(d,f,[e.value,e.heading,p]);let w=g.useMemo(()=>({id:d,forceMount:l}),[l]);return g.createElement(Oe.div,{ref:Js(f,t),...c,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},n&&g.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),du(e,S=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},g.createElement(Rj.Provider,{value:w},S))))}),tD=g.forwardRef((e,t)=>{let{alwaysRender:n,...a}=e,l=g.useRef(null),c=Ts(d=>!d.search);return!n&&!c?null:g.createElement(Oe.div,{ref:Js(l,t),...a,"cmdk-separator":"",role:"separator"})}),rD=g.forwardRef((e,t)=>{let{onValueChange:n,...a}=e,l=e.value!=null,c=dp(),d=Ts(h=>h.search),f=Ts(h=>h.selectedItemId),p=zo();return g.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),g.createElement(Oe.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":f,id:p.inputId,type:"text",value:l?e.value:d,onChange:h=>{l||c.setState("search",h.target.value),n?.(h.target.value)}})}),nD=g.forwardRef((e,t)=>{let{children:n,label:a="Suggestions",...l}=e,c=g.useRef(null),d=g.useRef(null),f=Ts(h=>h.selectedItemId),p=zo();return g.useEffect(()=>{if(d.current&&c.current){let h=d.current,x=c.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let S=h.offsetHeight;x.style.setProperty("--cmdk-list-height",S.toFixed(1)+"px")})});return w.observe(h),()=>{cancelAnimationFrame(y),w.unobserve(h)}}},[]),g.createElement(Oe.div,{ref:Js(c,t),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":a,id:p.listId},du(e,h=>g.createElement("div",{ref:Js(d,p.listInnerRef),"cmdk-list-sizer":""},h)))}),sD=g.forwardRef((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:l,contentClassName:c,container:d,...f}=e;return g.createElement(zm,{open:n,onOpenChange:a},g.createElement(Um,{container:d},g.createElement(Gc,{"cmdk-overlay":"",className:l}),g.createElement(Zc,{"aria-label":e.label,"cmdk-dialog":"",className:c},g.createElement(Aj,{ref:t,...f}))))}),iD=g.forwardRef((e,t)=>Ts(n=>n.filtered.count===0)?g.createElement(Oe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),aD=g.forwardRef((e,t)=>{let{progress:n,children:a,label:l="Loading...",...c}=e;return g.createElement(Oe.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},du(e,d=>g.createElement("div",{"aria-hidden":!0},d)))}),kr=Object.assign(Aj,{List:nD,Item:JO,Input:rD,Group:eD,Separator:tD,Dialog:sD,Empty:iD,Loading:aD});function oD(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function lD(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Ij(e){let t=g.useRef(e);return ui(()=>{t.current=e}),t}var ui=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Hi(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Ts(e){let t=dp(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function Oj(e,t,n,a=[]){let l=g.useRef(),c=zo();return ui(()=>{var d;let f=(()=>{var h;for(let x of n){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(h=x.current.textContent)==null?void 0:h.trim():l.current}})(),p=a.map(h=>h.trim());c.value(e,f,p),(d=t.current)==null||d.setAttribute(Ki,f),l.current=f}),l}var cD=()=>{let[e,t]=g.useState(),n=Hi(()=>new Map);return ui(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,l)=>{n.current.set(a,l),t({})}};function uD(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function du({asChild:e,children:t},n){return e&&g.isValidElement(t)?g.cloneElement(uD(t),{ref:t.ref},n(t.props.children)):n(t)}var dD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Dj=g.forwardRef(({className:e,...t},n)=>i.jsx(kr,{ref:n,className:Se("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Dj.displayName=kr.displayName;const Mj=g.forwardRef(({className:e,...t},n)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(h1,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(kr.Input,{ref:n,className:Se("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Mj.displayName=kr.Input.displayName;const Fj=g.forwardRef(({className:e,...t},n)=>i.jsx(kr.List,{ref:n,className:Se("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Fj.displayName=kr.List.displayName;const Lj=g.forwardRef((e,t)=>i.jsx(kr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Lj.displayName=kr.Empty.displayName;const Bj=g.forwardRef(({className:e,...t},n)=>i.jsx(kr.Group,{ref:n,className:Se("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Bj.displayName=kr.Group.displayName;const fD=g.forwardRef(({className:e,...t},n)=>i.jsx(kr.Separator,{ref:n,className:Se("-mx-1 h-px bg-border",e),...t}));fD.displayName=kr.Separator.displayName;const $j=g.forwardRef(({className:e,...t},n)=>i.jsx(kr.Item,{ref:n,className:Se("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));$j.displayName=kr.Item.displayName;var fu="Popover",[Vj,ZD]=Or(fu,[ha]),Uo=ha(),[mD,As]=Vj(fu),zj=e=>{const{__scopePopover:t,children:n,open:a,defaultOpen:l,onOpenChange:c,modal:d=!1}=e,f=Uo(t),p=g.useRef(null),[h,x]=g.useState(!1),[y,w]=Un({prop:a,defaultProp:l??!1,onChange:c,caller:fu});return i.jsx(ab,{...f,children:i.jsx(mD,{scope:t,contentId:pr(),triggerRef:p,open:y,onOpenChange:w,onOpenToggle:g.useCallback(()=>w(S=>!S),[w]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>x(!0),[]),onCustomAnchorRemove:g.useCallback(()=>x(!1),[]),modal:d,children:n})})};zj.displayName=fu;var Uj="PopoverAnchor",pD=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,l=As(Uj,n),c=Uo(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=l;return g.useEffect(()=>(d(),()=>f()),[d,f]),i.jsx(zc,{...c,...a,ref:t})});pD.displayName=Uj;var qj="PopoverTrigger",Wj=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,l=As(qj,n),c=Uo(n),d=He(t,l.triggerRef),f=i.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Zj(l.open),...a,ref:d,onClick:Ee(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?f:i.jsx(zc,{asChild:!0,...c,children:f})});Wj.displayName=qj;var fp="PopoverPortal",[hD,gD]=Vj(fp,{forceMount:void 0}),Qj=e=>{const{__scopePopover:t,forceMount:n,children:a,container:l}=e,c=As(fp,t);return i.jsx(hD,{scope:t,forceMount:n,children:i.jsx(un,{present:n||c.open,children:i.jsx(Io,{asChild:!0,container:l,children:a})})})};Qj.displayName=fp;var la="PopoverContent",Kj=g.forwardRef((e,t)=>{const n=gD(la,e.__scopePopover),{forceMount:a=n.forceMount,...l}=e,c=As(la,e.__scopePopover);return i.jsx(un,{present:a||c.open,children:c.modal?i.jsx(xD,{...l,ref:t}):i.jsx(yD,{...l,ref:t})})});Kj.displayName=la;var vD=ei("PopoverContent.RemoveScroll"),xD=g.forwardRef((e,t)=>{const n=As(la,e.__scopePopover),a=g.useRef(null),l=He(t,a),c=g.useRef(!1);return g.useEffect(()=>{const d=a.current;if(d)return Lm(d)},[]),i.jsx(Kc,{as:vD,allowPinchZoom:!0,children:i.jsx(Hj,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,d=>{d.preventDefault(),c.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,h=f.button===2||p;c.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),yD=g.forwardRef((e,t)=>{const n=As(la,e.__scopePopover),a=g.useRef(!1),l=g.useRef(!1);return i.jsx(Hj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||n.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=c.target;n.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),Hj=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:x,...y}=e,w=As(la,n),S=Uo(n);return Fm(),i.jsx(Wc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:c,children:i.jsx(da,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:i.jsx(Im,{"data-state":Zj(w.open),role:"dialog",id:w.contentId,...S,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gj="PopoverClose",bD=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,l=As(Gj,n);return i.jsx(Oe.button,{type:"button",...a,ref:t,onClick:Ee(e.onClick,()=>l.onOpenChange(!1))})});bD.displayName=Gj;var wD="PopoverArrow",jD=g.forwardRef((e,t)=>{const{__scopePopover:n,...a}=e,l=Uo(n);return i.jsx(Om,{...l,...a,ref:t})});jD.displayName=wD;function Zj(e){return e?"open":"closed"}var ND=zj,SD=Wj,CD=Qj,Yj=Kj;const kD=ND,_D=SD,Xj=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...a},l)=>i.jsx(CD,{children:i.jsx(Yj,{ref:l,align:t,sideOffset:n,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));Xj.displayName=Yj.displayName;function ED({open:e,onOpenChange:t,currentServerName:n,hasSecretConfig:a}){const{toast:l}=Cr(),c=cn(),[d,f]=g.useState(n||""),[p,h]=g.useState(""),[x,y]=g.useState(!1),{data:w=[],isLoading:S}=xt({queryKey:["/api/servers/list"],enabled:e&&!a}),_=et({mutationFn:async E=>await(await Et("POST","/api/server/configure",E)).json(),onSuccess:E=>{l({title:"Server configured successfully",description:"Your server name has been saved."}),E&&E.requiresRefresh?(l({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),t(!1)},onError:E=>{l({title:"Configuration failed",description:E.message||"Failed to configure server",variant:"destructive"})}}),N=E=>{if(E.preventDefault(),!d.trim()){l({title:"Server required",description:"Please select a server",variant:"destructive"});return}_.mutate({serverName:d.trim(),description:p.trim()||void 0})},b=w.find(E=>E.name===d);return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[i.jsxs(Yt,{children:[i.jsxs(Xt,{className:"flex items-center gap-2",children:[i.jsx(g1,{className:"h-5 w-5"}),"Server Configuration"]}),i.jsx(ho,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),a&&i.jsxs(Cj,{"data-testid":"alert-secret-configured",children:[i.jsx(b1,{className:"h-4 w-4"}),i.jsx(kj,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!a&&i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{"data-testid":"label-server-name",children:"Select Server *"}),S?i.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[i.jsx(Pv,{className:"h-4 w-4 animate-spin mr-2"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):i.jsxs(kD,{open:x,onOpenChange:y,children:[i.jsx(_D,{asChild:!0,children:i.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:_.isPending,"data-testid":"button-server-select",children:[d?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tv,{className:"h-4 w-4"}),i.jsx("span",{children:d}),b&&i.jsxs(Ht,{variant:"secondary",className:"ml-auto",children:[b.currentBots,"/",b.totalBots]})]}):i.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),i.jsx(jm,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Xj,{className:"w-full p-0",align:"start",children:i.jsxs(Dj,{children:[i.jsx(Mj,{placeholder:"Search servers...",className:"h-9"}),i.jsx(Lj,{children:"No servers found."}),i.jsx(Fj,{className:"max-h-[200px]",children:i.jsx(Bj,{children:w.map(E=>i.jsxs($j,{value:E.name,onSelect:()=>{f(E.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${E.name}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tv,{className:"h-4 w-4"}),i.jsx("span",{children:E.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ht,{variant:E.currentBots===0?"secondary":E.remainingBots===0?"destructive":"default",className:"text-xs",children:[E.currentBots,"/",E.totalBots]}),E.remainingBots>0&&i.jsxs("span",{className:"text-xs text-green-600",children:[E.remainingBots," free"]})]})]},E.name))})})]})})]}),b&&i.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:["Bot Usage: ",b.currentBots,"/",b.totalBots]}),i.jsxs("span",{className:b.remainingBots>0?"text-green-600":"text-red-600",children:[b.remainingBots," slots available"]})]})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),i.jsx(Kn,{id:"description","data-testid":"textarea-description",value:p,onChange:E=>h(E.target.value),placeholder:"Describe the purpose of this server...",disabled:_.isPending,rows:3})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:_.isPending,"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(ae,{type:"submit",disabled:_.isPending||!d.trim(),"data-testid":"button-save-config",children:[_.isPending&&i.jsx(Pv,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",d]})]})]}),a&&i.jsx("div",{className:"flex justify-end",children:i.jsx(ae,{onClick:()=>t(!1),"data-testid":"button-close",children:"Close"})})]})})}function TD(){const{toast:e}=Cr(),t=cn(),{logout:n}=Xc(),[a,l]=g.useState(!1),[c,d]=g.useState(!1),{data:f=[],isLoading:p}=xt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const C=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch bot instances");return await C.json()}}),{data:h=[],isLoading:x}=xt({queryKey:["/api/admin/activities"],queryFn:async()=>{const C=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch activities");return await C.json()}}),{data:y}=xt({queryKey:["/api/admin/stats"],queryFn:async()=>{const C=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch stats");return C.json()}}),{data:w={}}=xt({queryKey:["/api/server/info"]}),S=et({mutationFn:async C=>{const P=await fetch(`/api/admin/bot-instances/${C}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok)throw new Error("Failed to start bot");return P.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),_=et({mutationFn:async C=>{const P=await fetch(`/api/admin/bot-instances/${C}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok)throw new Error("Failed to stop bot");return P.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),N=et({mutationFn:async C=>{const P=await fetch(`/api/admin/bot-instances/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!P.ok){const M=await P.text();throw new Error(M||"Failed to delete bot")}return P.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),b=C=>{const P={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return i.jsx(Ht,{variant:P[C]||"secondary","data-testid":`status-${C}`,children:C.replace("_"," ").toUpperCase()})},E=C=>new Date(C).toLocaleString();return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v1,{className:"h-6 w-6 text-red-600"}),i.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),i.jsxs(ae,{variant:"outline",onClick:()=>{n(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[i.jsx(m1,{className:"h-4 w-4"}),"Logout"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs(Ae,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ze,{className:"text-sm font-medium",children:"Total Bots"}),i.jsx(l1,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:y?.totalBots||f.length})})]}),i.jsxs(Ae,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ze,{className:"text-sm font-medium",children:"Online Bots"}),i.jsx(o1,{className:"h-4 w-4 text-green-600"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:f.filter(C=>C.status==="online").length})})]}),i.jsxs(Ae,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ze,{className:"text-sm font-medium",children:"Total Messages"}),i.jsx(c1,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:f.reduce((C,P)=>C+(P.messagesCount||0),0)})})]}),i.jsxs(Ae,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ze,{className:"text-sm font-medium",children:"Commands Used"}),i.jsx(w1,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:f.reduce((C,P)=>C+(P.commandsCount||0),0)})})]})]}),i.jsxs(cu,{defaultValue:"bots",className:"space-y-4",children:[i.jsxs(Vo,{children:[i.jsx(mr,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),i.jsx(mr,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),i.jsx(mr,{value:"server","data-testid":"tab-server",children:"Server Config"}),i.jsx(mr,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),i.jsx(Gt,{value:"bots",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"Bot Instance Management"}),i.jsx(vt,{children:"Manage all WhatsApp bot instances across the system"})]}),i.jsx(Ie,{children:p?i.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):i.jsxs(Rc,{children:[i.jsx(Ac,{children:i.jsxs(Hs,{children:[i.jsx(wt,{children:"Name"}),i.jsx(wt,{children:"Phone Number"}),i.jsx(wt,{children:"Status"}),i.jsx(wt,{children:"Messages"}),i.jsx(wt,{children:"Commands"}),i.jsx(wt,{children:"Last Activity"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Ic,{children:f.map(C=>i.jsxs(Hs,{children:[i.jsx(jt,{className:"font-medium","data-testid":`bot-name-${C.id}`,children:C.name}),i.jsx(jt,{"data-testid":`bot-phone-${C.id}`,children:C.phoneNumber||"Not set"}),i.jsx(jt,{children:b(C.status)}),i.jsx(jt,{"data-testid":`bot-messages-${C.id}`,children:C.messagesCount||0}),i.jsx(jt,{"data-testid":`bot-commands-${C.id}`,children:C.commandsCount||0}),i.jsx(jt,{"data-testid":`bot-activity-${C.id}`,children:C.lastActivity?E(C.lastActivity):"Never"}),i.jsx(jt,{children:i.jsxs("div",{className:"flex gap-2",children:[C.status==="offline"||C.status==="error"?i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>S.mutate(C.id),disabled:S.isPending,"data-testid":`button-start-${C.id}`,children:i.jsx(p1,{className:"h-4 w-4"})}):i.jsx(ae,{size:"sm",variant:"outline",onClick:()=>_.mutate(C.id),disabled:_.isPending,"data-testid":`button-stop-${C.id}`,children:i.jsx(x1,{className:"h-4 w-4"})}),i.jsxs(MO,{children:[i.jsx(FO,{asChild:!0,children:i.jsx(ae,{size:"sm",variant:"destructive","data-testid":`button-delete-${C.id}`,children:i.jsx(y1,{className:"h-4 w-4"})})}),i.jsxs(xj,{children:[i.jsxs(yj,{children:[i.jsx(wj,{children:"Delete Bot Instance"}),i.jsxs(jj,{children:['Are you sure you want to delete "',C.name,'"? This action cannot be undone.']})]}),i.jsxs(bj,{children:[i.jsx(Sj,{children:"Cancel"}),i.jsx(Nj,{onClick:()=>N.mutate(C.id),"data-testid":`confirm-delete-${C.id}`,children:"Delete"})]})]})]})]})})]},C.id))})]})})]})}),i.jsx(Gt,{value:"activities",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"System Activity Monitor"}),i.jsx(vt,{children:"Recent activities across all bot instances"})]}),i.jsx(Ie,{children:x?i.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:h.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):h.map(C=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ht,{variant:"outline","data-testid":`activity-type-${C.type}`,children:C.type.replace("_"," ").toUpperCase()}),i.jsx("span",{className:"text-sm text-muted-foreground",children:E(C.createdAt)})]}),i.jsx("p",{className:"text-sm","data-testid":`activity-description-${C.id}`,children:C.description}),C.metadata&&typeof C.metadata=="object"&&Object.keys(C.metadata).length>0?i.jsxs("details",{className:"text-xs",children:[i.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),i.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(C.metadata,null,2)})]}):null]},C.id))})})]})}),i.jsx(Gt,{value:"server",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"Server Configuration"}),i.jsx(vt,{children:"Configure server settings and tenancy management"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),i.jsx("p",{className:"text-2xl font-bold text-primary",children:w?.serverName||"default-server"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",w?.currentBots||0,"/",w?.maxBots||0]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),i.jsx("p",{className:"text-sm",children:w?.hasSecretConfig?i.jsx("span",{className:"text-green-600",children:"✅ Environment Configured"}):i.jsx("span",{className:"text-yellow-600",children:"⚠️ Manual Configuration"})})]})]}),i.jsx(ae,{onClick:()=>d(!0),className:"w-full","data-testid":"button-configure-server-admin",children:"⚙️ Configure Server Settings"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),i.jsx(Gt,{value:"master",className:"space-y-4",children:i.jsxs(Ae,{children:[i.jsxs(Ke,{children:[i.jsx(Ze,{children:"Master Control Panel"}),i.jsx(vt,{children:"Cross-tenancy bot management using God Registry"})]}),i.jsxs(Ie,{children:[i.jsx(ae,{onClick:()=>l(!0),className:"w-full","data-testid":"button-open-master-control",children:"🎛️ Open Master Control Panel"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),i.jsx(BO,{open:a,onClose:()=>l(!1)}),i.jsx(ED,{open:c,onOpenChange:d,currentServerName:w?.serverName||"",hasSecretConfig:w?.hasSecretConfig||!1})]})}function PD(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(Ae,{className:"w-full max-w-md mx-4",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(d1,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function RD({isOpen:e,onClose:t,onLogin:n}){const[a,l]=g.useState(""),[c,d]=g.useState(""),[f,p]=g.useState(!1),{toast:h}=Cr(),x=async y=>{y.preventDefault(),p(!0);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:c})});if(w.ok){const S=await w.json();localStorage.setItem("auth_token",S.token),localStorage.setItem("user",JSON.stringify(S.user)),n(S.token,S.user),t(),h({title:"Login successful",description:S.message}),S.user?.isAdmin&&window.location.reload()}else{const S=await w.json();h({title:"Login failed",description:S.message,variant:"destructive"})}}catch{h({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{p(!1)}};return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"sm:max-w-[425px]",children:[i.jsx(Yt,{children:i.jsx(Xt,{children:"🔐 Admin Login"})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"username",children:"Username"}),i.jsx(ir,{id:"username",type:"text",value:a,onChange:y=>l(y.target.value),placeholder:"Enter admin username",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"password",children:"Password"}),i.jsx(ir,{id:"password",type:"password",value:c,onChange:y=>d(y.target.value),placeholder:"Enter admin password",required:!0})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ae,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function AD({isOpen:e,onClose:t}){const[n,a]=g.useState(null),[l,c]=g.useState(""),[d,f]=g.useState("file"),[p,h]=g.useState(!1),{toast:x}=Cr(),y=S=>{const _=S.target.files?.[0];_&&(_.name.endsWith(".json")?a(_):x({title:"Invalid file type",description:"Please select a .json file",variant:"destructive"}))},w=async S=>{if(S.preventDefault(),d==="file"&&!n){x({title:"No file selected",description:"Please select a credentials.json file",variant:"destructive"});return}if(d==="base64"&&!l.trim()){x({title:"No session ID provided",description:"Please paste your base64 session ID",variant:"destructive"});return}h(!0);try{let _;if(d==="file"){const b=new FormData;b.append("credentials",n),_=await fetch("/api/validate-credentials",{method:"POST",body:b})}else _=await fetch("/api/validate-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:l.trim()})});const N=await _.json();_.ok&&N.valid?x({title:"✅ Credentials Valid!",description:N.message}):x({title:"❌ Invalid Credentials",description:N.message,variant:"destructive"})}catch{x({title:"Validation error",description:"Failed to validate credentials",variant:"destructive"})}finally{h(!1),a(null),c(""),t()}};return i.jsx(ar,{open:e,onOpenChange:t,children:i.jsxs(Zt,{className:"sm:max-w-[500px]",children:[i.jsx(Yt,{children:i.jsx(Xt,{children:"🔍 Validate Session ID"})}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs(cu,{value:d,onValueChange:f,className:"w-full",children:[i.jsxs(Vo,{className:"grid w-full grid-cols-2",children:[i.jsx(mr,{value:"file",children:"Upload File"}),i.jsx(mr,{value:"base64",children:"Paste Session ID"})]}),i.jsxs(Gt,{value:"file",className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"credentials",children:"Upload credentials.json"}),i.jsx(ir,{id:"credentials",type:"file",accept:".json",onChange:y}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your WhatsApp session credentials.json file to test if it's valid"})]}),n&&i.jsxs("div",{className:"text-sm text-green-600",children:["✓ Selected: ",n.name]})]}),i.jsxs(Gt,{value:"base64",className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"sessionData",children:"Paste Base64 Session ID"}),i.jsx(Kn,{id:"sessionData",placeholder:"Paste your base64 encoded session data here...",value:l,onChange:S=>c(S.target.value),className:"min-h-[120px] font-mono text-xs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your base64 encoded credentials.json data (session ID)"})]}),l.trim()&&i.jsxs("div",{className:"text-sm text-green-600",children:["✓ Session data pasted (",l.length," characters)"]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ae,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),i.jsx(ae,{type:"submit",disabled:p||d==="file"&&!n||d==="base64"&&!l.trim(),className:"flex-1",children:p?"Validating...":"Validate"})]})]})]})})}const ID=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"}],OD=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/bot-instances",label:"Bot Instances",icon:"fas fa-robot"},{href:"/commands",label:"Commands",icon:"fas fa-terminal"},{href:"/chatgpt",label:"ChatGPT Integration",icon:"fas fa-brain"},{href:"/groups",label:"Group Management",icon:"fas fa-users"},{href:"/analytics",label:"Analytics",icon:"fas fa-chart-line"},{href:"/settings",label:"Settings",icon:"fas fa-cog"}],DD=[{href:"/admin",label:"Admin Console",icon:"fas fa-shield-alt"}];function MD(){const[e]=jC(),{user:t,isAuthenticated:n,isAdmin:a,logout:l}=Xc(),[c,d]=g.useState(!1),[f,p]=g.useState(!1),[h,x]=g.useState(!1);return i.jsxs("aside",{className:"w-64 bg-card border-r border-border flex flex-col","data-testid":"sidebar",children:[i.jsx("div",{className:"p-6 border-b border-border",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"fab fa-whatsapp text-primary-foreground text-xl"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Bot Manager"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Automation"})]})]})}),i.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(a?OD:ID).map(y=>i.jsx(Af,{href:y.href,children:i.jsxs("div",{className:Se("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===y.href?"bg-primary/10 text-primary border border-primary/20":"hover:bg-muted text-muted-foreground hover:text-foreground"),"data-testid":`nav-${y.label.toLowerCase().replace(" ","-")}`,children:[i.jsx("i",{className:`${y.icon} w-5`}),i.jsx("span",{children:y.label})]})},y.href)),!a&&!n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-t border-border my-4"}),i.jsxs(ae,{onClick:()=>window.open("https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/","_blank"),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-generate-session",children:[i.jsx("i",{className:"fas fa-key mr-2"}),"Generate Session ID"]}),i.jsxs(ae,{onClick:()=>p(!0),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-validate-session",children:[i.jsx("i",{className:"fas fa-check-circle mr-2"}),"Validate Session ID"]}),i.jsxs(ae,{onClick:()=>x(!0),className:"w-full mx-3 bg-green-600 hover:bg-green-700 text-white","data-testid":"sidebar-register-bot",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-t border-border my-4"}),i.jsx("div",{className:"px-3 py-2",children:i.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),DD.map(y=>i.jsx(Af,{href:y.href,children:i.jsxs("div",{className:Se("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===y.href?"bg-red-500/10 text-red-600 border border-red-500/20":"hover:bg-red-500/5 text-muted-foreground hover:text-red-600"),"data-testid":`nav-${y.label.toLowerCase().replace(" ","-")}`,children:[i.jsx("i",{className:`${y.icon} w-5`}),i.jsx("span",{children:y.label})]})},y.href))]})]}),i.jsx("div",{className:"p-4 border-t border-border",children:n?i.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:i.jsx("i",{className:"fas fa-user text-primary-foreground text-sm"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:t?.username||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Administrator":"User"})]}),i.jsx("button",{onClick:l,className:"text-muted-foreground hover:text-foreground","data-testid":"button-logout",title:"Logout",children:i.jsx("i",{className:"fas fa-sign-out-alt"})})]}):i.jsxs(ae,{onClick:()=>d(!0),className:"w-full",children:[i.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Admin Login"]})}),i.jsx(RD,{isOpen:c,onClose:()=>d(!1),onLogin:(y,w)=>{d(!1)}}),i.jsx(AD,{isOpen:f,onClose:()=>p(!1)}),i.jsx(Yw,{open:h,onClose:()=>x(!1)})]})}function FD(){return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[i.jsx(MD,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsxs(CC,{children:[i.jsx(to,{path:"/",component:gO}),i.jsx(to,{path:"/bot-instances",component:yO}),i.jsx(to,{path:"/commands",component:wO}),i.jsx(to,{path:"/admin",component:TD}),i.jsx(to,{component:PD})]})})]})}function LD(){return i.jsx(GC,{client:sr,children:i.jsx(eP,{children:i.jsx(VE,{children:i.jsxs("div",{className:"dark",children:[i.jsx(n_,{}),i.jsx(FD,{})]})})})})}tC.createRoot(document.getElementById("root")).render(i.jsx(LD,{}));
