function EC(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mf={exports:{}},go={},hf={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function PC(){if(jx)return nt;jx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,w={};function y(O,E,R){this.props=O,this.context=E,this.refs=w,this.updater=R||S}y.prototype.isReactComponent={},y.prototype.setState=function(O,E){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,E,"setState")},y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=y.prototype;function C(O,E,R){this.props=O,this.context=E,this.refs=w,this.updater=R||S}var A=C.prototype=new k;A.constructor=C,P(A,y.prototype),A.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,G={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function J(O,E,R){var X,Z={},de=null,te=null;if(E!=null)for(X in E.ref!==void 0&&(te=E.ref),E.key!==void 0&&(de=""+E.key),E)$.call(E,X)&&!W.hasOwnProperty(X)&&(Z[X]=E[X]);var Ne=arguments.length-2;if(Ne===1)Z.children=R;else if(1<Ne){for(var Te=Array(Ne),$e=0;$e<Ne;$e++)Te[$e]=arguments[$e+2];Z.children=Te}if(O&&O.defaultProps)for(X in Ne=O.defaultProps,Ne)Z[X]===void 0&&(Z[X]=Ne[X]);return{$$typeof:e,type:O,key:de,ref:te,props:Z,_owner:G.current}}function ye(O,E){return{$$typeof:e,type:O.type,key:E,ref:O.ref,props:O.props,_owner:O._owner}}function ge(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function xe(O){var E={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(R){return E[R]})}var Y=/\/+/g;function ne(O,E){return typeof O=="object"&&O!==null&&O.key!=null?xe(""+O.key):E.toString(36)}function L(O,E,R,X,Z){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var te=!1;if(O===null)te=!0;else switch(de){case"string":case"number":te=!0;break;case"object":switch(O.$$typeof){case e:case t:te=!0}}if(te)return te=O,Z=Z(te),O=X===""?"."+ne(te,0):X,M(Z)?(R="",O!=null&&(R=O.replace(Y,"$&/")+"/"),L(Z,E,R,"",function($e){return $e})):Z!=null&&(ge(Z)&&(Z=ye(Z,R+(!Z.key||te&&te.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+O)),E.push(Z)),1;if(te=0,X=X===""?".":X+":",M(O))for(var Ne=0;Ne<O.length;Ne++){de=O[Ne];var Te=X+ne(de,Ne);te+=L(de,E,R,Te,Z)}else if(Te=j(O),typeof Te=="function")for(O=Te.call(O),Ne=0;!(de=O.next()).done;)de=de.value,Te=X+ne(de,Ne++),te+=L(de,E,R,Te,Z);else if(de==="object")throw E=String(O),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return te}function se(O,E,R){if(O==null)return O;var X=[],Z=0;return L(O,X,"","",function(de){return E.call(R,de,Z++)}),X}function z(O){if(O._status===-1){var E=O._result;E=E(),E.then(function(R){(O._status===0||O._status===-1)&&(O._status=1,O._result=R)},function(R){(O._status===0||O._status===-1)&&(O._status=2,O._result=R)}),O._status===-1&&(O._status=0,O._result=E)}if(O._status===1)return O._result.default;throw O._result}var ee={current:null},B={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:B,ReactCurrentOwner:G};function oe(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:se,forEach:function(O,E,R){se(O,function(){E.apply(this,arguments)},R)},count:function(O){var E=0;return se(O,function(){E++}),E},toArray:function(O){return se(O,function(E){return E})||[]},only:function(O){if(!ge(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},nt.Component=y,nt.Fragment=s,nt.Profiler=o,nt.PureComponent=C,nt.StrictMode=a,nt.Suspense=h,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,nt.act=oe,nt.cloneElement=function(O,E,R){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var X=P({},O.props),Z=O.key,de=O.ref,te=O._owner;if(E!=null){if(E.ref!==void 0&&(de=E.ref,te=G.current),E.key!==void 0&&(Z=""+E.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Te in E)$.call(E,Te)&&!W.hasOwnProperty(Te)&&(X[Te]=E[Te]===void 0&&Ne!==void 0?Ne[Te]:E[Te])}var Te=arguments.length-2;if(Te===1)X.children=R;else if(1<Te){Ne=Array(Te);for(var $e=0;$e<Te;$e++)Ne[$e]=arguments[$e+2];X.children=Ne}return{$$typeof:e,type:O.type,key:Z,ref:de,props:X,_owner:te}},nt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},nt.createElement=J,nt.createFactory=function(O){var E=J.bind(null,O);return E.type=O,E},nt.createRef=function(){return{current:null}},nt.forwardRef=function(O){return{$$typeof:f,render:O}},nt.isValidElement=ge,nt.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:z}},nt.memo=function(O,E){return{$$typeof:g,type:O,compare:E===void 0?null:E}},nt.startTransition=function(O){var E=B.transition;B.transition={};try{O()}finally{B.transition=E}},nt.unstable_act=oe,nt.useCallback=function(O,E){return ee.current.useCallback(O,E)},nt.useContext=function(O){return ee.current.useContext(O)},nt.useDebugValue=function(){},nt.useDeferredValue=function(O){return ee.current.useDeferredValue(O)},nt.useEffect=function(O,E){return ee.current.useEffect(O,E)},nt.useId=function(){return ee.current.useId()},nt.useImperativeHandle=function(O,E,R){return ee.current.useImperativeHandle(O,E,R)},nt.useInsertionEffect=function(O,E){return ee.current.useInsertionEffect(O,E)},nt.useLayoutEffect=function(O,E){return ee.current.useLayoutEffect(O,E)},nt.useMemo=function(O,E){return ee.current.useMemo(O,E)},nt.useReducer=function(O,E,R){return ee.current.useReducer(O,E,R)},nt.useRef=function(O){return ee.current.useRef(O)},nt.useState=function(O){return ee.current.useState(O)},nt.useSyncExternalStore=function(O,E,R){return ee.current.useSyncExternalStore(O,E,R)},nt.useTransition=function(){return ee.current.useTransition()},nt.version="18.3.1",nt}var Nx;function Gc(){return Nx||(Nx=1,hf.exports=PC()),hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function _C(){if(Sx)return go;Sx=1;var e=Gc(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var x,b={},j=null,S=null;g!==void 0&&(j=""+g),h.key!==void 0&&(j=""+h.key),h.ref!==void 0&&(S=h.ref);for(x in h)a.call(h,x)&&!c.hasOwnProperty(x)&&(b[x]=h[x]);if(f&&f.defaultProps)for(x in h=f.defaultProps,h)b[x]===void 0&&(b[x]=h[x]);return{$$typeof:t,type:f,key:j,ref:S,props:b,_owner:o.current}}return go.Fragment=s,go.jsx=u,go.jsxs=u,go}var Cx;function TC(){return Cx||(Cx=1,mf.exports=_C()),mf.exports}var r=TC(),uc={},pf={exports:{}},Rr={},gf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function RC(){return kx||(kx=1,(function(e){function t(B,re){var oe=B.length;B.push(re);e:for(;0<oe;){var O=oe-1>>>1,E=B[O];if(0<o(E,re))B[O]=re,B[oe]=E,oe=O;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var re=B[0],oe=B.pop();if(oe!==re){B[0]=oe;e:for(var O=0,E=B.length,R=E>>>1;O<R;){var X=2*(O+1)-1,Z=B[X],de=X+1,te=B[de];if(0>o(Z,oe))de<E&&0>o(te,Z)?(B[O]=te,B[de]=oe,O=de):(B[O]=Z,B[X]=oe,O=X);else if(de<E&&0>o(te,oe))B[O]=te,B[de]=oe,O=de;else break e}}return re}function o(B,re){var oe=B.sortIndex-re.sortIndex;return oe!==0?oe:B.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],g=[],x=1,b=null,j=3,S=!1,P=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var re=s(g);re!==null;){if(re.callback===null)a(g);else if(re.startTime<=B)a(g),re.sortIndex=re.expirationTime,t(h,re);else break;re=s(g)}}function M(B){if(w=!1,A(B),!P)if(s(h)!==null)P=!0,z($);else{var re=s(g);re!==null&&ee(M,re.startTime-B)}}function $(B,re){P=!1,w&&(w=!1,k(J),J=-1),S=!0;var oe=j;try{for(A(re),b=s(h);b!==null&&(!(b.expirationTime>re)||B&&!xe());){var O=b.callback;if(typeof O=="function"){b.callback=null,j=b.priorityLevel;var E=O(b.expirationTime<=re);re=e.unstable_now(),typeof E=="function"?b.callback=E:b===s(h)&&a(h),A(re)}else a(h);b=s(h)}if(b!==null)var R=!0;else{var X=s(g);X!==null&&ee(M,X.startTime-re),R=!1}return R}finally{b=null,j=oe,S=!1}}var G=!1,W=null,J=-1,ye=5,ge=-1;function xe(){return!(e.unstable_now()-ge<ye)}function Y(){if(W!==null){var B=e.unstable_now();ge=B;var re=!0;try{re=W(!0,B)}finally{re?ne():(G=!1,W=null)}}else G=!1}var ne;if(typeof C=="function")ne=function(){C(Y)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,se=L.port2;L.port1.onmessage=Y,ne=function(){se.postMessage(null)}}else ne=function(){y(Y,0)};function z(B){W=B,G||(G=!0,ne())}function ee(B,re){J=y(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){P||S||(P=!0,z($))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(B){switch(j){case 1:case 2:case 3:var re=3;break;default:re=j}var oe=j;j=re;try{return B()}finally{j=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=j;j=B;try{return re()}finally{j=oe}},e.unstable_scheduleCallback=function(B,re,oe){var O=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=oe+E,B={id:x++,callback:re,priorityLevel:B,startTime:oe,expirationTime:E,sortIndex:-1},oe>O?(B.sortIndex=oe,t(g,B),s(h)===null&&B===s(g)&&(w?(k(J),J=-1):w=!0,ee(M,oe-O))):(B.sortIndex=E,t(h,B),P||S||(P=!0,z($))),B},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(B){var re=j;return function(){var oe=j;j=re;try{return B.apply(this,arguments)}finally{j=oe}}}})(xf)),xf}var Ex;function AC(){return Ex||(Ex=1,gf.exports=RC()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function IC(){if(Px)return Rr;Px=1;var e=Gc(),t=AC();function s(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function j(n){return h.call(b,n)?!0:h.call(x,n)?!1:g.test(n)?b[n]=!0:(x[n]=!0,!1)}function S(n,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,l,d){if(i===null||typeof i>"u"||S(n,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function w(n,i,l,d,m,v,N){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=N}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){y[n]=new w(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];y[i]=new w(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){y[n]=new w(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){y[n]=new w(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){y[n]=new w(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){y[n]=new w(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){y[n]=new w(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){y[n]=new w(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){y[n]=new w(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(k,C);y[i]=new w(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(k,C);y[i]=new w(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(k,C);y[i]=new w(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){y[n]=new w(n,1,!1,n.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){y[n]=new w(n,1,!1,n.toLowerCase(),null,!0,!0)});function A(n,i,l,d){var m=y.hasOwnProperty(i)?y[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,l,m,d)&&(l=null),d||m===null?j(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,i,l):n.setAttribute(i,l))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),xe=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),B=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,O;function E(n){if(O===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var R=!1;function X(n,i){if(!n||R)return"";R=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var d=K}Reflect.construct(n,[],i)}else{try{i.call()}catch(K){d=K}n.call(i.prototype)}else{try{throw Error()}catch(K){d=K}n()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),N=m.length-1,T=v.length-1;1<=N&&0<=T&&m[N]!==v[T];)T--;for(;1<=N&&0<=T;N--,T--)if(m[N]!==v[T]){if(N!==1||T!==1)do if(N--,T--,0>T||m[N]!==v[T]){var D=`
`+m[N].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=N&&0<=T);break}}}finally{R=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?E(n):""}function Z(n){switch(n.tag){case 5:return E(n.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return n=X(n.type,!1),n;case 11:return n=X(n.type.render,!1),n;case 1:return n=X(n.type,!0),n;default:return""}}function de(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case G:return"Portal";case ye:return"Profiler";case J:return"StrictMode";case ne:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xe:return(n.displayName||"Context")+".Consumer";case ge:return(n._context.displayName||"Context")+".Provider";case Y:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return i=n.displayName||null,i!==null?i:de(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return de(n(i))}catch{}}return null}function te(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(i);case 8:return i===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $e(n){var i=Te(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(N){d=""+N,v.call(this,N)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function lt(n){n._valueTracker||(n._valueTracker=$e(n))}function ut(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=Te(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function Wt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xe(n,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Lr(n,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ne(i.value!=null?i.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Kr(n,i){i=i.checked,i!=null&&A(n,"checked",i,!1)}function sn(n,i){Kr(n,i);var l=Ne(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ds(n,i.type,l):i.hasOwnProperty("defaultValue")&&ds(n,i.type,Ne(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Aa(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ds(n,i,l){(i!=="number"||Wt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var I=Array.isArray;function V(n,i,l,d){if(n=n.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=i.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Ne(l),i=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function H(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function we(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(s(92));if(I(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:Ne(l)}}function be(n,i){var l=Ne(i.value),d=Ne(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function le(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ae(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ae(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ge,Kt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(i,l,d,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ge.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Qr(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(Dt).forEach(function(n){_.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Dt[i]=Dt[n]})});function ve(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Dt.hasOwnProperty(n)&&Dt[n]?(""+i).trim():i+"px"}function He(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ve(l,i[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var et=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(n,i){if(i){if(et[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function us(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function Ed(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pd=null,Ti=null,Ri=null;function Bh(n){if(n=eo(n)){if(typeof Pd!="function")throw Error(s(280));var i=n.stateNode;i&&(i=kl(i),Pd(n.stateNode,n.type,i))}}function $h(n){Ti?Ri?Ri.push(n):Ri=[n]:Ti=n}function Vh(){if(Ti){var n=Ti,i=Ri;if(Ri=Ti=null,Bh(n),i)for(n=0;n<i.length;n++)Bh(i[n])}}function zh(n,i){return n(i)}function Uh(){}var _d=!1;function qh(n,i,l){if(_d)return n(i,l);_d=!0;try{return zh(n,i,l)}finally{_d=!1,(Ti!==null||Ri!==null)&&(Uh(),Vh())}}function Ia(n,i){var l=n.stateNode;if(l===null)return null;var d=kl(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Td=!1;if(f)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Td=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Td=!1}function IN(n,i,l,d,m,v,N,T,D){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(ce){this.onError(ce)}}var Da=!1,sl=null,il=!1,Rd=null,ON={onError:function(n){Da=!0,sl=n}};function DN(n,i,l,d,m,v,N,T,D){Da=!1,sl=null,IN.apply(ON,arguments)}function MN(n,i,l,d,m,v,N,T,D){if(DN.apply(this,arguments),Da){if(Da){var K=sl;Da=!1,sl=null}else throw Error(s(198));il||(il=!0,Rd=K)}}function Zs(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function Wh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Kh(n){if(Zs(n)!==n)throw Error(s(188))}function FN(n){var i=n.alternate;if(!i){if(i=Zs(n),i===null)throw Error(s(188));return i!==n?null:n}for(var l=n,d=i;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Kh(m),n;if(v===d)return Kh(m),i;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=v;else{for(var N=!1,T=m.child;T;){if(T===l){N=!0,l=m,d=v;break}if(T===d){N=!0,d=m,l=v;break}T=T.sibling}if(!N){for(T=v.child;T;){if(T===l){N=!0,l=v,d=m;break}if(T===d){N=!0,d=v,l=m;break}T=T.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:i}function Qh(n){return n=FN(n),n!==null?Hh(n):null}function Hh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Hh(n);if(i!==null)return i;n=n.sibling}return null}var Gh=t.unstable_scheduleCallback,Zh=t.unstable_cancelCallback,LN=t.unstable_shouldYield,BN=t.unstable_requestPaint,Mt=t.unstable_now,$N=t.unstable_getCurrentPriorityLevel,Ad=t.unstable_ImmediatePriority,Yh=t.unstable_UserBlockingPriority,al=t.unstable_NormalPriority,VN=t.unstable_LowPriority,Xh=t.unstable_IdlePriority,ol=null,Pn=null;function zN(n){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(ol,n,void 0,(n.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:WN,UN=Math.log,qN=Math.LN2;function WN(n){return n>>>=0,n===0?32:31-(UN(n)/qN|0)|0}var ll=64,cl=4194304;function Ma(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dl(n,i){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,N=l&268435455;if(N!==0){var T=N&~m;T!==0?d=Ma(T):(v&=N,v!==0&&(d=Ma(v)))}else N=l&~m,N!==0?d=Ma(N):v!==0&&(d=Ma(v));if(d===0)return 0;if(i!==0&&i!==d&&(i&m)===0&&(m=d&-d,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=d;0<i;)l=31-an(i),m=1<<l,d|=n[l],i&=~m;return d}function KN(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QN(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var N=31-an(v),T=1<<N,D=m[N];D===-1?((T&l)===0||(T&d)!==0)&&(m[N]=KN(T,i)):D<=i&&(n.expiredLanes|=T),v&=~T}}function Id(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Jh(){var n=ll;return ll<<=1,(ll&4194240)===0&&(ll=64),n}function Od(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Fa(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-an(i),n[i]=l}function HN(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-an(l),v=1<<m;i[m]=0,d[m]=-1,n[m]=-1,l&=~v}}function Dd(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-an(l),m=1<<d;m&i|n[d]&i&&(n[d]|=i),l&=~m}}var gt=0;function ep(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var tp,Md,rp,np,sp,Fd=!1,ul=[],fs=null,ms=null,hs=null,La=new Map,Ba=new Map,ps=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ip(n,i){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":La.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(i.pointerId)}}function $a(n,i,l,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},i!==null&&(i=eo(i),i!==null&&Md(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function ZN(n,i,l,d,m){switch(i){case"focusin":return fs=$a(fs,n,i,l,d,m),!0;case"dragenter":return ms=$a(ms,n,i,l,d,m),!0;case"mouseover":return hs=$a(hs,n,i,l,d,m),!0;case"pointerover":var v=m.pointerId;return La.set(v,$a(La.get(v)||null,n,i,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Ba.set(v,$a(Ba.get(v)||null,n,i,l,d,m)),!0}return!1}function ap(n){var i=Ys(n.target);if(i!==null){var l=Zs(i);if(l!==null){if(i=l.tag,i===13){if(i=Wh(l),i!==null){n.blockedOn=i,sp(n.priority,function(){rp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Bd(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);En=d,l.target.dispatchEvent(d),En=null}else return i=eo(l),i!==null&&Md(i),n.blockedOn=l,!1;i.shift()}return!0}function op(n,i,l){fl(n)&&l.delete(i)}function YN(){Fd=!1,fs!==null&&fl(fs)&&(fs=null),ms!==null&&fl(ms)&&(ms=null),hs!==null&&fl(hs)&&(hs=null),La.forEach(op),Ba.forEach(op)}function Va(n,i){n.blockedOn===i&&(n.blockedOn=null,Fd||(Fd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YN)))}function za(n){function i(m){return Va(m,n)}if(0<ul.length){Va(ul[0],n);for(var l=1;l<ul.length;l++){var d=ul[l];d.blockedOn===n&&(d.blockedOn=null)}}for(fs!==null&&Va(fs,n),ms!==null&&Va(ms,n),hs!==null&&Va(hs,n),La.forEach(i),Ba.forEach(i),l=0;l<ps.length;l++)d=ps[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)ap(l),l.blockedOn===null&&ps.shift()}var Ai=M.ReactCurrentBatchConfig,ml=!0;function XN(n,i,l,d){var m=gt,v=Ai.transition;Ai.transition=null;try{gt=1,Ld(n,i,l,d)}finally{gt=m,Ai.transition=v}}function JN(n,i,l,d){var m=gt,v=Ai.transition;Ai.transition=null;try{gt=4,Ld(n,i,l,d)}finally{gt=m,Ai.transition=v}}function Ld(n,i,l,d){if(ml){var m=Bd(n,i,l,d);if(m===null)ru(n,i,d,hl,l),ip(n,d);else if(ZN(m,n,i,l,d))d.stopPropagation();else if(ip(n,d),i&4&&-1<GN.indexOf(n)){for(;m!==null;){var v=eo(m);if(v!==null&&tp(v),v=Bd(n,i,l,d),v===null&&ru(n,i,d,hl,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else ru(n,i,d,null,l)}}var hl=null;function Bd(n,i,l,d){if(hl=null,n=Ed(d),n=Ys(n),n!==null)if(i=Zs(n),i===null)n=null;else if(l=i.tag,l===13){if(n=Wh(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return hl=n,null}function lp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($N()){case Ad:return 1;case Yh:return 4;case al:case VN:return 16;case Xh:return 536870912;default:return 16}default:return 16}}var gs=null,$d=null,pl=null;function cp(){if(pl)return pl;var n,i=$d,l=i.length,d,m="value"in gs?gs.value:gs.textContent,v=m.length;for(n=0;n<l&&i[n]===m[n];n++);var N=l-n;for(d=1;d<=N&&i[l-d]===m[v-d];d++);return pl=m.slice(n,1<d?1-d:void 0)}function gl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function xl(){return!0}function dp(){return!1}function Br(n){function i(l,d,m,v,N){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?xl:dp,this.isPropagationStopped=dp,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),i}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Br(Ii),Ua=oe({},Ii,{view:0,detail:0}),eS=Br(Ua),zd,Ud,qa,vl=oe({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qa&&(qa&&n.type==="mousemove"?(zd=n.screenX-qa.screenX,Ud=n.screenY-qa.screenY):Ud=zd=0,qa=n),zd)},movementY:function(n){return"movementY"in n?n.movementY:Ud}}),up=Br(vl),tS=oe({},vl,{dataTransfer:0}),rS=Br(tS),nS=oe({},Ua,{relatedTarget:0}),qd=Br(nS),sS=oe({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=Br(sS),aS=oe({},Ii,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oS=Br(aS),lS=oe({},Ii,{data:0}),fp=Br(lS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=uS[n])?!!i[n]:!1}function Wd(){return fS}var mS=oe({},Ua,{key:function(n){if(n.key){var i=cS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wd,charCode:function(n){return n.type==="keypress"?gl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hS=Br(mS),pS=oe({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=Br(pS),gS=oe({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wd}),xS=Br(gS),vS=oe({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),yS=Br(vS),bS=oe({},vl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=Br(bS),jS=[9,13,27,32],Kd=f&&"CompositionEvent"in window,Wa=null;f&&"documentMode"in document&&(Wa=document.documentMode);var NS=f&&"TextEvent"in window&&!Wa,hp=f&&(!Kd||Wa&&8<Wa&&11>=Wa),pp=" ",gp=!1;function xp(n,i){switch(n){case"keyup":return jS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Oi=!1;function SS(n,i){switch(n){case"compositionend":return vp(i);case"keypress":return i.which!==32?null:(gp=!0,pp);case"textInput":return n=i.data,n===pp&&gp?null:n;default:return null}}function CS(n,i){if(Oi)return n==="compositionend"||!Kd&&xp(n,i)?(n=cp(),pl=$d=gs=null,Oi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hp&&i.locale!=="ko"?null:i.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!kS[n.type]:i==="textarea"}function bp(n,i,l,d){$h(d),i=Nl(i,"onChange"),0<i.length&&(l=new Vd("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var Ka=null,Qa=null;function ES(n){Lp(n,0)}function yl(n){var i=Bi(n);if(ut(i))return n}function PS(n,i){if(n==="change")return i}var wp=!1;if(f){var Qd;if(f){var Hd="oninput"in document;if(!Hd){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Hd=typeof jp.oninput=="function"}Qd=Hd}else Qd=!1;wp=Qd&&(!document.documentMode||9<document.documentMode)}function Np(){Ka&&(Ka.detachEvent("onpropertychange",Sp),Qa=Ka=null)}function Sp(n){if(n.propertyName==="value"&&yl(Qa)){var i=[];bp(i,Qa,n,Ed(n)),qh(ES,i)}}function _S(n,i,l){n==="focusin"?(Np(),Ka=i,Qa=l,Ka.attachEvent("onpropertychange",Sp)):n==="focusout"&&Np()}function TS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(Qa)}function RS(n,i){if(n==="click")return yl(i)}function AS(n,i){if(n==="input"||n==="change")return yl(i)}function IS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var on=typeof Object.is=="function"?Object.is:IS;function Ha(n,i){if(on(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(i,m)||!on(n[m],i[m]))return!1}return!0}function Cp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kp(n,i){var l=Cp(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Cp(l)}}function Ep(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ep(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Pp(){for(var n=window,i=Wt();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Wt(n.document)}return i}function Gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function OS(n){var i=Pp(),l=n.focusedElem,d=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ep(l.ownerDocument.documentElement,l)){if(d!==null&&Gd(l)){if(i=d.start,n=d.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=kp(l,v);var N=kp(l,d);m&&N&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==N.node||n.focusOffset!==N.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(i),n.extend(N.node,N.offset)):(i.setEnd(N.node,N.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var DS=f&&"documentMode"in document&&11>=document.documentMode,Di=null,Zd=null,Ga=null,Yd=!1;function _p(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yd||Di==null||Di!==Wt(d)||(d=Di,"selectionStart"in d&&Gd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ga&&Ha(Ga,d)||(Ga=d,d=Nl(Zd,"onSelect"),0<d.length&&(i=new Vd("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=Di)))}function bl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Mi={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},Xd={},Tp={};f&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function wl(n){if(Xd[n])return Xd[n];if(!Mi[n])return n;var i=Mi[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Tp)return Xd[n]=i[l];return n}var Rp=wl("animationend"),Ap=wl("animationiteration"),Ip=wl("animationstart"),Op=wl("transitionend"),Dp=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(n,i){Dp.set(n,i),c(i,[n])}for(var Jd=0;Jd<Mp.length;Jd++){var eu=Mp[Jd],MS=eu.toLowerCase(),FS=eu[0].toUpperCase()+eu.slice(1);xs(MS,"on"+FS)}xs(Rp,"onAnimationEnd"),xs(Ap,"onAnimationIteration"),xs(Ip,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Op,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Fp(n,i,l){var d=n.type||"unknown-event";n.currentTarget=l,MN(d,i,void 0,n),n.currentTarget=null}function Lp(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var N=d.length-1;0<=N;N--){var T=d[N],D=T.instance,K=T.currentTarget;if(T=T.listener,D!==v&&m.isPropagationStopped())break e;Fp(m,T,K),v=D}else for(N=0;N<d.length;N++){if(T=d[N],D=T.instance,K=T.currentTarget,T=T.listener,D!==v&&m.isPropagationStopped())break e;Fp(m,T,K),v=D}}}if(il)throw n=Rd,il=!1,Rd=null,n}function wt(n,i){var l=i[lu];l===void 0&&(l=i[lu]=new Set);var d=n+"__bubble";l.has(d)||(Bp(i,n,2,!1),l.add(d))}function tu(n,i,l){var d=0;i&&(d|=4),Bp(l,n,d,i)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ya(n){if(!n[jl]){n[jl]=!0,a.forEach(function(l){l!=="selectionchange"&&(LS.has(l)||tu(l,!1,n),tu(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[jl]||(i[jl]=!0,tu("selectionchange",!1,i))}}function Bp(n,i,l,d){switch(lp(i)){case 1:var m=XN;break;case 4:m=JN;break;default:m=Ld}l=m.bind(null,i,l,n),m=void 0,!Td||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(i,l,{capture:!0,passive:m}):n.addEventListener(i,l,!0):m!==void 0?n.addEventListener(i,l,{passive:m}):n.addEventListener(i,l,!1)}function ru(n,i,l,d,m){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var T=d.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(N===4)for(N=d.return;N!==null;){var D=N.tag;if((D===3||D===4)&&(D=N.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;N=N.return}for(;T!==null;){if(N=Ys(T),N===null)return;if(D=N.tag,D===5||D===6){d=v=N;continue e}T=T.parentNode}}d=d.return}qh(function(){var K=v,ce=Ed(l),ue=[];e:{var ae=Dp.get(n);if(ae!==void 0){var Se=Vd,Pe=n;switch(n){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":Se=hS;break;case"focusin":Pe="focus",Se=qd;break;case"focusout":Pe="blur",Se=qd;break;case"beforeblur":case"afterblur":Se=qd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=xS;break;case Rp:case Ap:case Ip:Se=iS;break;case Op:Se=yS;break;case"scroll":Se=eS;break;case"wheel":Se=wS;break;case"copy":case"cut":case"paste":Se=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=mp}var Ie=(i&4)!==0,Ft=!Ie&&n==="scroll",U=Ie?ae!==null?ae+"Capture":null:ae;Ie=[];for(var F=K,q;F!==null;){q=F;var pe=q.stateNode;if(q.tag===5&&pe!==null&&(q=pe,U!==null&&(pe=Ia(F,U),pe!=null&&Ie.push(Xa(F,pe,q)))),Ft)break;F=F.return}0<Ie.length&&(ae=new Se(ae,Pe,null,l,ce),ue.push({event:ae,listeners:Ie}))}}if((i&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",ae&&l!==En&&(Pe=l.relatedTarget||l.fromElement)&&(Ys(Pe)||Pe[qn]))break e;if((Se||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(Pe=l.relatedTarget||l.toElement,Se=K,Pe=Pe?Ys(Pe):null,Pe!==null&&(Ft=Zs(Pe),Pe!==Ft||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Se=null,Pe=K),Se!==Pe)){if(Ie=up,pe="onMouseLeave",U="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=mp,pe="onPointerLeave",U="onPointerEnter",F="pointer"),Ft=Se==null?ae:Bi(Se),q=Pe==null?ae:Bi(Pe),ae=new Ie(pe,F+"leave",Se,l,ce),ae.target=Ft,ae.relatedTarget=q,pe=null,Ys(ce)===K&&(Ie=new Ie(U,F+"enter",Pe,l,ce),Ie.target=q,Ie.relatedTarget=Ft,pe=Ie),Ft=pe,Se&&Pe)t:{for(Ie=Se,U=Pe,F=0,q=Ie;q;q=Fi(q))F++;for(q=0,pe=U;pe;pe=Fi(pe))q++;for(;0<F-q;)Ie=Fi(Ie),F--;for(;0<q-F;)U=Fi(U),q--;for(;F--;){if(Ie===U||U!==null&&Ie===U.alternate)break t;Ie=Fi(Ie),U=Fi(U)}Ie=null}else Ie=null;Se!==null&&$p(ue,ae,Se,Ie,!1),Pe!==null&&Ft!==null&&$p(ue,Ft,Pe,Ie,!0)}}e:{if(ae=K?Bi(K):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var De=PS;else if(yp(ae))if(wp)De=AS;else{De=TS;var Le=_S}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(De=RS);if(De&&(De=De(n,K))){bp(ue,De,l,ce);break e}Le&&Le(n,ae,K),n==="focusout"&&(Le=ae._wrapperState)&&Le.controlled&&ae.type==="number"&&ds(ae,"number",ae.value)}switch(Le=K?Bi(K):window,n){case"focusin":(yp(Le)||Le.contentEditable==="true")&&(Di=Le,Zd=K,Ga=null);break;case"focusout":Ga=Zd=Di=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,_p(ue,l,ce);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":_p(ue,l,ce)}var Be;if(Kd)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Oi?xp(n,l)&&(Ke="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(hp&&l.locale!=="ko"&&(Oi||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Oi&&(Be=cp()):(gs=ce,$d="value"in gs?gs.value:gs.textContent,Oi=!0)),Le=Nl(K,Ke),0<Le.length&&(Ke=new fp(Ke,n,null,l,ce),ue.push({event:Ke,listeners:Le}),Be?Ke.data=Be:(Be=vp(l),Be!==null&&(Ke.data=Be)))),(Be=NS?SS(n,l):CS(n,l))&&(K=Nl(K,"onBeforeInput"),0<K.length&&(ce=new fp("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ce,listeners:K}),ce.data=Be))}Lp(ue,i)})}function Xa(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Nl(n,i){for(var l=i+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ia(n,l),v!=null&&d.unshift(Xa(n,v,m)),v=Ia(n,i),v!=null&&d.push(Xa(n,v,m))),n=n.return}return d}function Fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $p(n,i,l,d,m){for(var v=i._reactName,N=[];l!==null&&l!==d;){var T=l,D=T.alternate,K=T.stateNode;if(D!==null&&D===d)break;T.tag===5&&K!==null&&(T=K,m?(D=Ia(l,v),D!=null&&N.unshift(Xa(l,D,T))):m||(D=Ia(l,v),D!=null&&N.push(Xa(l,D,T)))),l=l.return}N.length!==0&&n.push({event:i,listeners:N})}var BS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Vp(n){return(typeof n=="string"?n:""+n).replace(BS,`
`).replace($S,"")}function Sl(n,i,l){if(i=Vp(i),Vp(n)!==i&&l)throw Error(s(425))}function Cl(){}var nu=null,su=null;function iu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(n){return zp.resolve(null).then(n).catch(US)}:au;function US(n){setTimeout(function(){throw n})}function ou(n,i){var l=i,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),za(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);za(i)}function vs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Up(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var Li=Math.random().toString(36).slice(2),_n="__reactFiber$"+Li,Ja="__reactProps$"+Li,qn="__reactContainer$"+Li,lu="__reactEvents$"+Li,qS="__reactListeners$"+Li,WS="__reactHandles$"+Li;function Ys(n){var i=n[_n];if(i)return i;for(var l=n.parentNode;l;){if(i=l[qn]||l[_n]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Up(n);n!==null;){if(l=n[_n])return l;n=Up(n)}return i}n=l,l=n.parentNode}return null}function eo(n){return n=n[_n]||n[qn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Bi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function kl(n){return n[Ja]||null}var cu=[],$i=-1;function ys(n){return{current:n}}function jt(n){0>$i||(n.current=cu[$i],cu[$i]=null,$i--)}function bt(n,i){$i++,cu[$i]=n.current,n.current=i}var bs={},fr=ys(bs),kr=ys(!1),Xs=bs;function Vi(n,i){var l=n.type.contextTypes;if(!l)return bs;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=i[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function Er(n){return n=n.childContextTypes,n!=null}function El(){jt(kr),jt(fr)}function qp(n,i,l){if(fr.current!==bs)throw Error(s(168));bt(fr,i),bt(kr,l)}function Wp(n,i,l){var d=n.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(s(108,te(n)||"Unknown",m));return oe({},l,d)}function Pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bs,Xs=fr.current,bt(fr,n),bt(kr,kr.current),!0}function Kp(n,i,l){var d=n.stateNode;if(!d)throw Error(s(169));l?(n=Wp(n,i,Xs),d.__reactInternalMemoizedMergedChildContext=n,jt(kr),jt(fr),bt(fr,n)):jt(kr),bt(kr,l)}var Wn=null,_l=!1,du=!1;function Qp(n){Wn===null?Wn=[n]:Wn.push(n)}function KS(n){_l=!0,Qp(n)}function ws(){if(!du&&Wn!==null){du=!0;var n=0,i=gt;try{var l=Wn;for(gt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Wn=null,_l=!1}catch(m){throw Wn!==null&&(Wn=Wn.slice(n+1)),Gh(Ad,ws),m}finally{gt=i,du=!1}}return null}var zi=[],Ui=0,Tl=null,Rl=0,Hr=[],Gr=0,Js=null,Kn=1,Qn="";function ei(n,i){zi[Ui++]=Rl,zi[Ui++]=Tl,Tl=n,Rl=i}function Hp(n,i,l){Hr[Gr++]=Kn,Hr[Gr++]=Qn,Hr[Gr++]=Js,Js=n;var d=Kn;n=Qn;var m=32-an(d)-1;d&=~(1<<m),l+=1;var v=32-an(i)+m;if(30<v){var N=m-m%5;v=(d&(1<<N)-1).toString(32),d>>=N,m-=N,Kn=1<<32-an(i)+m|l<<m|d,Qn=v+n}else Kn=1<<v|l<<m|d,Qn=n}function uu(n){n.return!==null&&(ei(n,1),Hp(n,1,0))}function fu(n){for(;n===Tl;)Tl=zi[--Ui],zi[Ui]=null,Rl=zi[--Ui],zi[Ui]=null;for(;n===Js;)Js=Hr[--Gr],Hr[Gr]=null,Qn=Hr[--Gr],Hr[Gr]=null,Kn=Hr[--Gr],Hr[Gr]=null}var $r=null,Vr=null,Ct=!1,ln=null;function Gp(n,i){var l=Jr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function Zp(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,$r=n,Vr=vs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,$r=n,Vr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Js!==null?{id:Kn,overflow:Qn}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Jr(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,$r=n,Vr=null,!0):!1;default:return!1}}function mu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hu(n){if(Ct){var i=Vr;if(i){var l=i;if(!Zp(n,i)){if(mu(n))throw Error(s(418));i=vs(l.nextSibling);var d=$r;i&&Zp(n,i)?Gp(d,l):(n.flags=n.flags&-4097|2,Ct=!1,$r=n)}}else{if(mu(n))throw Error(s(418));n.flags=n.flags&-4097|2,Ct=!1,$r=n}}}function Yp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$r=n}function Al(n){if(n!==$r)return!1;if(!Ct)return Yp(n),Ct=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!iu(n.type,n.memoizedProps)),i&&(i=Vr)){if(mu(n))throw Xp(),Error(s(418));for(;i;)Gp(n,i),i=vs(i.nextSibling)}if(Yp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Vr=vs(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Vr=null}}else Vr=$r?vs(n.stateNode.nextSibling):null;return!0}function Xp(){for(var n=Vr;n;)n=vs(n.nextSibling)}function qi(){Vr=$r=null,Ct=!1}function pu(n){ln===null?ln=[n]:ln.push(n)}var QS=M.ReactCurrentBatchConfig;function to(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,n));var m=d,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(N){var T=m.refs;N===null?delete T[v]:T[v]=N},i._stringRef=v,i)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function Il(n,i){throw n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Jp(n){var i=n._init;return i(n._payload)}function eg(n){function i(U,F){if(n){var q=U.deletions;q===null?(U.deletions=[F],U.flags|=16):q.push(F)}}function l(U,F){if(!n)return null;for(;F!==null;)i(U,F),F=F.sibling;return null}function d(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(U,F){return U=_s(U,F),U.index=0,U.sibling=null,U}function v(U,F,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<F?(U.flags|=2,F):q):(U.flags|=2,F)):(U.flags|=1048576,F)}function N(U){return n&&U.alternate===null&&(U.flags|=2),U}function T(U,F,q,pe){return F===null||F.tag!==6?(F=of(q,U.mode,pe),F.return=U,F):(F=m(F,q),F.return=U,F)}function D(U,F,q,pe){var De=q.type;return De===W?ce(U,F,q.props.children,pe,q.key):F!==null&&(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Jp(De)===F.type)?(pe=m(F,q.props),pe.ref=to(U,F,q),pe.return=U,pe):(pe=nc(q.type,q.key,q.props,null,U.mode,pe),pe.ref=to(U,F,q),pe.return=U,pe)}function K(U,F,q,pe){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=lf(q,U.mode,pe),F.return=U,F):(F=m(F,q.children||[]),F.return=U,F)}function ce(U,F,q,pe,De){return F===null||F.tag!==7?(F=li(q,U.mode,pe,De),F.return=U,F):(F=m(F,q),F.return=U,F)}function ue(U,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=of(""+F,U.mode,q),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $:return q=nc(F.type,F.key,F.props,null,U.mode,q),q.ref=to(U,null,F),q.return=U,q;case G:return F=lf(F,U.mode,q),F.return=U,F;case z:var pe=F._init;return ue(U,pe(F._payload),q)}if(I(F)||re(F))return F=li(F,U.mode,q,null),F.return=U,F;Il(U,F)}return null}function ae(U,F,q,pe){var De=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return De!==null?null:T(U,F,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return q.key===De?D(U,F,q,pe):null;case G:return q.key===De?K(U,F,q,pe):null;case z:return De=q._init,ae(U,F,De(q._payload),pe)}if(I(q)||re(q))return De!==null?null:ce(U,F,q,pe,null);Il(U,q)}return null}function Se(U,F,q,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return U=U.get(q)||null,T(F,U,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return U=U.get(pe.key===null?q:pe.key)||null,D(F,U,pe,De);case G:return U=U.get(pe.key===null?q:pe.key)||null,K(F,U,pe,De);case z:var Le=pe._init;return Se(U,F,q,Le(pe._payload),De)}if(I(pe)||re(pe))return U=U.get(q)||null,ce(F,U,pe,De,null);Il(F,pe)}return null}function Pe(U,F,q,pe){for(var De=null,Le=null,Be=F,Ke=F=0,nr=null;Be!==null&&Ke<q.length;Ke++){Be.index>Ke?(nr=Be,Be=null):nr=Be.sibling;var mt=ae(U,Be,q[Ke],pe);if(mt===null){Be===null&&(Be=nr);break}n&&Be&&mt.alternate===null&&i(U,Be),F=v(mt,F,Ke),Le===null?De=mt:Le.sibling=mt,Le=mt,Be=nr}if(Ke===q.length)return l(U,Be),Ct&&ei(U,Ke),De;if(Be===null){for(;Ke<q.length;Ke++)Be=ue(U,q[Ke],pe),Be!==null&&(F=v(Be,F,Ke),Le===null?De=Be:Le.sibling=Be,Le=Be);return Ct&&ei(U,Ke),De}for(Be=d(U,Be);Ke<q.length;Ke++)nr=Se(Be,U,Ke,q[Ke],pe),nr!==null&&(n&&nr.alternate!==null&&Be.delete(nr.key===null?Ke:nr.key),F=v(nr,F,Ke),Le===null?De=nr:Le.sibling=nr,Le=nr);return n&&Be.forEach(function(Ts){return i(U,Ts)}),Ct&&ei(U,Ke),De}function Ie(U,F,q,pe){var De=re(q);if(typeof De!="function")throw Error(s(150));if(q=De.call(q),q==null)throw Error(s(151));for(var Le=De=null,Be=F,Ke=F=0,nr=null,mt=q.next();Be!==null&&!mt.done;Ke++,mt=q.next()){Be.index>Ke?(nr=Be,Be=null):nr=Be.sibling;var Ts=ae(U,Be,mt.value,pe);if(Ts===null){Be===null&&(Be=nr);break}n&&Be&&Ts.alternate===null&&i(U,Be),F=v(Ts,F,Ke),Le===null?De=Ts:Le.sibling=Ts,Le=Ts,Be=nr}if(mt.done)return l(U,Be),Ct&&ei(U,Ke),De;if(Be===null){for(;!mt.done;Ke++,mt=q.next())mt=ue(U,mt.value,pe),mt!==null&&(F=v(mt,F,Ke),Le===null?De=mt:Le.sibling=mt,Le=mt);return Ct&&ei(U,Ke),De}for(Be=d(U,Be);!mt.done;Ke++,mt=q.next())mt=Se(Be,U,Ke,mt.value,pe),mt!==null&&(n&&mt.alternate!==null&&Be.delete(mt.key===null?Ke:mt.key),F=v(mt,F,Ke),Le===null?De=mt:Le.sibling=mt,Le=mt);return n&&Be.forEach(function(kC){return i(U,kC)}),Ct&&ei(U,Ke),De}function Ft(U,F,q,pe){if(typeof q=="object"&&q!==null&&q.type===W&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case $:e:{for(var De=q.key,Le=F;Le!==null;){if(Le.key===De){if(De=q.type,De===W){if(Le.tag===7){l(U,Le.sibling),F=m(Le,q.props.children),F.return=U,U=F;break e}}else if(Le.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Jp(De)===Le.type){l(U,Le.sibling),F=m(Le,q.props),F.ref=to(U,Le,q),F.return=U,U=F;break e}l(U,Le);break}else i(U,Le);Le=Le.sibling}q.type===W?(F=li(q.props.children,U.mode,pe,q.key),F.return=U,U=F):(pe=nc(q.type,q.key,q.props,null,U.mode,pe),pe.ref=to(U,F,q),pe.return=U,U=pe)}return N(U);case G:e:{for(Le=q.key;F!==null;){if(F.key===Le)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(U,F.sibling),F=m(F,q.children||[]),F.return=U,U=F;break e}else{l(U,F);break}else i(U,F);F=F.sibling}F=lf(q,U.mode,pe),F.return=U,U=F}return N(U);case z:return Le=q._init,Ft(U,F,Le(q._payload),pe)}if(I(q))return Pe(U,F,q,pe);if(re(q))return Ie(U,F,q,pe);Il(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(U,F.sibling),F=m(F,q),F.return=U,U=F):(l(U,F),F=of(q,U.mode,pe),F.return=U,U=F),N(U)):l(U,F)}return Ft}var Wi=eg(!0),tg=eg(!1),Ol=ys(null),Dl=null,Ki=null,gu=null;function xu(){gu=Ki=Dl=null}function vu(n){var i=Ol.current;jt(Ol),n._currentValue=i}function yu(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function Qi(n,i){Dl=n,gu=Ki=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Pr=!0),n.firstContext=null)}function Zr(n){var i=n._currentValue;if(gu!==n)if(n={context:n,memoizedValue:i,next:null},Ki===null){if(Dl===null)throw Error(s(308));Ki=n,Dl.dependencies={lanes:0,firstContext:n}}else Ki=Ki.next=n;return i}var ti=null;function bu(n){ti===null?ti=[n]:ti.push(n)}function rg(n,i,l,d){var m=i.interleaved;return m===null?(l.next=l,bu(i)):(l.next=m.next,m.next=l),i.interleaved=l,Hn(n,d)}function Hn(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var js=!1;function wu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ns(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ft&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Hn(n,l)}return m=d.interleaved,m===null?(i.next=i,bu(d)):(i.next=m.next,m.next=i),d.interleaved=i,Hn(n,l)}function Ml(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Dd(n,l)}}function sg(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?m=v=i:v=v.next=i}else m=v=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Fl(n,i,l,d){var m=n.updateQueue;js=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var D=T,K=D.next;D.next=null,N===null?v=K:N.next=K,N=D;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,T=ce.lastBaseUpdate,T!==N&&(T===null?ce.firstBaseUpdate=K:T.next=K,ce.lastBaseUpdate=D))}if(v!==null){var ue=m.baseState;N=0,ce=K=D=null,T=v;do{var ae=T.lane,Se=T.eventTime;if((d&ae)===ae){ce!==null&&(ce=ce.next={eventTime:Se,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Pe=n,Ie=T;switch(ae=i,Se=l,Ie.tag){case 1:if(Pe=Ie.payload,typeof Pe=="function"){ue=Pe.call(Se,ue,ae);break e}ue=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ie.payload,ae=typeof Pe=="function"?Pe.call(Se,ue,ae):Pe,ae==null)break e;ue=oe({},ue,ae);break e;case 2:js=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,ae=m.effects,ae===null?m.effects=[T]:ae.push(T))}else Se={eventTime:Se,lane:ae,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ce===null?(K=ce=Se,D=ue):ce=ce.next=Se,N|=ae;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(ce===null&&(D=ue),m.baseState=D,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,i=m.shared.interleaved,i!==null){m=i;do N|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);si|=N,n.lanes=N,n.memoizedState=ue}}function ig(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var d=n[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var ro={},Tn=ys(ro),no=ys(ro),so=ys(ro);function ri(n){if(n===ro)throw Error(s(174));return n}function ju(n,i){switch(bt(so,i),bt(no,n),bt(Tn,ro),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:it(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=it(i,n)}jt(Tn),bt(Tn,i)}function Hi(){jt(Tn),jt(no),jt(so)}function ag(n){ri(so.current);var i=ri(Tn.current),l=it(i,n.type);i!==l&&(bt(no,n),bt(Tn,l))}function Nu(n){no.current===n&&(jt(Tn),jt(no))}var kt=ys(0);function Ll(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Su=[];function Cu(){for(var n=0;n<Su.length;n++)Su[n]._workInProgressVersionPrimary=null;Su.length=0}var Bl=M.ReactCurrentDispatcher,ku=M.ReactCurrentBatchConfig,ni=0,Et=null,Xt=null,tr=null,$l=!1,io=!1,ao=0,HS=0;function mr(){throw Error(s(321))}function Eu(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!on(n[l],i[l]))return!1;return!0}function Pu(n,i,l,d,m,v){if(ni=v,Et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Bl.current=n===null||n.memoizedState===null?XS:JS,n=l(d,m),io){v=0;do{if(io=!1,ao=0,25<=v)throw Error(s(301));v+=1,tr=Xt=null,i.updateQueue=null,Bl.current=eC,n=l(d,m)}while(io)}if(Bl.current=Ul,i=Xt!==null&&Xt.next!==null,ni=0,tr=Xt=Et=null,$l=!1,i)throw Error(s(300));return n}function _u(){var n=ao!==0;return ao=0,n}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Et.memoizedState=tr=n:tr=tr.next=n,tr}function Yr(){if(Xt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var i=tr===null?Et.memoizedState:tr.next;if(i!==null)tr=i,Xt=n;else{if(n===null)throw Error(s(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},tr===null?Et.memoizedState=tr=n:tr=tr.next=n}return tr}function oo(n,i){return typeof i=="function"?i(n):i}function Tu(n){var i=Yr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=Xt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var T=N=null,D=null,K=v;do{var ce=K.lane;if((ni&ce)===ce)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:n(d,K.action);else{var ue={lane:ce,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(T=D=ue,N=d):D=D.next=ue,Et.lanes|=ce,si|=ce}K=K.next}while(K!==null&&K!==v);D===null?N=d:D.next=T,on(d,i.memoizedState)||(Pr=!0),i.memoizedState=d,i.baseState=N,i.baseQueue=D,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do v=m.lane,Et.lanes|=v,si|=v,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ru(n){var i=Yr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,v=i.memoizedState;if(m!==null){l.pending=null;var N=m=m.next;do v=n(v,N.action),N=N.next;while(N!==m);on(v,i.memoizedState)||(Pr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function og(){}function lg(n,i){var l=Et,d=Yr(),m=i(),v=!on(d.memoizedState,m);if(v&&(d.memoizedState=m,Pr=!0),d=d.queue,Au(ug.bind(null,l,d,n),[n]),d.getSnapshot!==i||v||tr!==null&&tr.memoizedState.tag&1){if(l.flags|=2048,lo(9,dg.bind(null,l,d,m,i),void 0,null),rr===null)throw Error(s(349));(ni&30)!==0||cg(l,i,m)}return m}function cg(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function dg(n,i,l,d){i.value=l,i.getSnapshot=d,fg(i)&&mg(n)}function ug(n,i,l){return l(function(){fg(i)&&mg(n)})}function fg(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!on(n,l)}catch{return!0}}function mg(n){var i=Hn(n,1);i!==null&&fn(i,n,1,-1)}function hg(n){var i=Rn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:n},i.queue=n,n=n.dispatch=YS.bind(null,Et,n),[i.memoizedState,n]}function lo(n,i,l,d){return n={tag:n,create:i,destroy:l,deps:d,next:null},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n)),n}function pg(){return Yr().memoizedState}function Vl(n,i,l,d){var m=Rn();Et.flags|=n,m.memoizedState=lo(1|i,l,void 0,d===void 0?null:d)}function zl(n,i,l,d){var m=Yr();d=d===void 0?null:d;var v=void 0;if(Xt!==null){var N=Xt.memoizedState;if(v=N.destroy,d!==null&&Eu(d,N.deps)){m.memoizedState=lo(i,l,v,d);return}}Et.flags|=n,m.memoizedState=lo(1|i,l,v,d)}function gg(n,i){return Vl(8390656,8,n,i)}function Au(n,i){return zl(2048,8,n,i)}function xg(n,i){return zl(4,2,n,i)}function vg(n,i){return zl(4,4,n,i)}function yg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function bg(n,i,l){return l=l!=null?l.concat([n]):null,zl(4,4,yg.bind(null,i,n),l)}function Iu(){}function wg(n,i){var l=Yr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Eu(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function jg(n,i){var l=Yr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Eu(i,d[1])?d[0]:(n=n(),l.memoizedState=[n,i],n)}function Ng(n,i,l){return(ni&21)===0?(n.baseState&&(n.baseState=!1,Pr=!0),n.memoizedState=l):(on(l,i)||(l=Jh(),Et.lanes|=l,si|=l,n.baseState=!0),i)}function GS(n,i){var l=gt;gt=l!==0&&4>l?l:4,n(!0);var d=ku.transition;ku.transition={};try{n(!1),i()}finally{gt=l,ku.transition=d}}function Sg(){return Yr().memoizedState}function ZS(n,i,l){var d=Es(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Cg(n))kg(i,l);else if(l=rg(n,i,l,d),l!==null){var m=yr();fn(l,n,d,m),Eg(l,i,d)}}function YS(n,i,l){var d=Es(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cg(n))kg(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var N=i.lastRenderedState,T=v(N,l);if(m.hasEagerState=!0,m.eagerState=T,on(T,N)){var D=i.interleaved;D===null?(m.next=m,bu(i)):(m.next=D.next,D.next=m),i.interleaved=m;return}}catch{}finally{}l=rg(n,i,m,d),l!==null&&(m=yr(),fn(l,n,d,m),Eg(l,i,d))}}function Cg(n){var i=n.alternate;return n===Et||i!==null&&i===Et}function kg(n,i){io=$l=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Eg(n,i,l){if((l&4194240)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Dd(n,l)}}var Ul={readContext:Zr,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},XS={readContext:Zr,useCallback:function(n,i){return Rn().memoizedState=[n,i===void 0?null:i],n},useContext:Zr,useEffect:gg,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Vl(4194308,4,yg.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Vl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vl(4,2,n,i)},useMemo:function(n,i){var l=Rn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var d=Rn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},d.queue=n,n=n.dispatch=ZS.bind(null,Et,n),[d.memoizedState,n]},useRef:function(n){var i=Rn();return n={current:n},i.memoizedState=n},useState:hg,useDebugValue:Iu,useDeferredValue:function(n){return Rn().memoizedState=n},useTransition:function(){var n=hg(!1),i=n[0];return n=GS.bind(null,n[1]),Rn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var d=Et,m=Rn();if(Ct){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),rr===null)throw Error(s(349));(ni&30)!==0||cg(d,i,l)}m.memoizedState=l;var v={value:l,getSnapshot:i};return m.queue=v,gg(ug.bind(null,d,v,n),[n]),d.flags|=2048,lo(9,dg.bind(null,d,v,l,i),void 0,null),l},useId:function(){var n=Rn(),i=rr.identifierPrefix;if(Ct){var l=Qn,d=Kn;l=(d&~(1<<32-an(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=ao++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=HS++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},JS={readContext:Zr,useCallback:wg,useContext:Zr,useEffect:Au,useImperativeHandle:bg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:jg,useReducer:Tu,useRef:pg,useState:function(){return Tu(oo)},useDebugValue:Iu,useDeferredValue:function(n){var i=Yr();return Ng(i,Xt.memoizedState,n)},useTransition:function(){var n=Tu(oo)[0],i=Yr().memoizedState;return[n,i]},useMutableSource:og,useSyncExternalStore:lg,useId:Sg,unstable_isNewReconciler:!1},eC={readContext:Zr,useCallback:wg,useContext:Zr,useEffect:Au,useImperativeHandle:bg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:jg,useReducer:Ru,useRef:pg,useState:function(){return Ru(oo)},useDebugValue:Iu,useDeferredValue:function(n){var i=Yr();return Xt===null?i.memoizedState=n:Ng(i,Xt.memoizedState,n)},useTransition:function(){var n=Ru(oo)[0],i=Yr().memoizedState;return[n,i]},useMutableSource:og,useSyncExternalStore:lg,useId:Sg,unstable_isNewReconciler:!1};function cn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Ou(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:oe({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ql={isMounted:function(n){return(n=n._reactInternals)?Zs(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var d=yr(),m=Es(n),v=Gn(d,m);v.payload=i,l!=null&&(v.callback=l),i=Ns(n,v,m),i!==null&&(fn(i,n,m,d),Ml(i,n,m))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=yr(),m=Es(n),v=Gn(d,m);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Ns(n,v,m),i!==null&&(fn(i,n,m,d),Ml(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=yr(),d=Es(n),m=Gn(l,d);m.tag=2,i!=null&&(m.callback=i),i=Ns(n,m,d),i!==null&&(fn(i,n,d,l),Ml(i,n,d))}};function Pg(n,i,l,d,m,v,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,N):i.prototype&&i.prototype.isPureReactComponent?!Ha(l,d)||!Ha(m,v):!0}function _g(n,i,l){var d=!1,m=bs,v=i.contextType;return typeof v=="object"&&v!==null?v=Zr(v):(m=Er(i)?Xs:fr.current,d=i.contextTypes,v=(d=d!=null)?Vi(n,m):bs),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ql,n.stateNode=i,i._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),i}function Tg(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&ql.enqueueReplaceState(i,i.state,null)}function Du(n,i,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},wu(n);var v=i.contextType;typeof v=="object"&&v!==null?m.context=Zr(v):(v=Er(i)?Xs:fr.current,m.context=Vi(n,v)),m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Ou(n,i,v,l),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&ql.enqueueReplaceState(m,m.state,null),Fl(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Gi(n,i){try{var l="",d=i;do l+=Z(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:m,digest:null}}function Mu(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Fu(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function Rg(n,i,l){l=Gn(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Yl||(Yl=!0,Xu=d),Fu(n,i)},l}function Ag(n,i,l){l=Gn(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){Fu(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Fu(n,i),typeof d!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var N=i.stack;this.componentDidCatch(i.value,{componentStack:N!==null?N:""})}),l}function Ig(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new tC;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),n=pC.bind(null,n,i,l),i.then(n,n))}function Og(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Dg(n,i,l,d,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Gn(-1,1),i.tag=2,Ns(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var rC=M.ReactCurrentOwner,Pr=!1;function vr(n,i,l,d){i.child=n===null?tg(i,null,l,d):Wi(i,n.child,l,d)}function Mg(n,i,l,d,m){l=l.render;var v=i.ref;return Qi(i,m),d=Pu(n,i,l,d,v,m),l=_u(),n!==null&&!Pr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Zn(n,i,m)):(Ct&&l&&uu(i),i.flags|=1,vr(n,i,d,m),i.child)}function Fg(n,i,l,d,m){if(n===null){var v=l.type;return typeof v=="function"&&!af(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Lg(n,i,v,d,m)):(n=nc(l.type,null,d,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&m)===0){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(N,d)&&n.ref===i.ref)return Zn(n,i,m)}return i.flags|=1,n=_s(v,d),n.ref=i.ref,n.return=i,i.child=n}function Lg(n,i,l,d,m){if(n!==null){var v=n.memoizedProps;if(Ha(v,d)&&n.ref===i.ref)if(Pr=!1,i.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Pr=!0);else return i.lanes=n.lanes,Zn(n,i,m)}return Lu(n,i,l,d,m)}function Bg(n,i,l){var d=i.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Yi,zr),zr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,bt(Yi,zr),zr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,bt(Yi,zr),zr|=d}else v!==null?(d=v.baseLanes|l,i.memoizedState=null):d=l,bt(Yi,zr),zr|=d;return vr(n,i,m,l),i.child}function $g(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Lu(n,i,l,d,m){var v=Er(l)?Xs:fr.current;return v=Vi(i,v),Qi(i,m),l=Pu(n,i,l,d,v,m),d=_u(),n!==null&&!Pr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Zn(n,i,m)):(Ct&&d&&uu(i),i.flags|=1,vr(n,i,l,m),i.child)}function Vg(n,i,l,d,m){if(Er(l)){var v=!0;Pl(i)}else v=!1;if(Qi(i,m),i.stateNode===null)Kl(n,i),_g(i,l,d),Du(i,l,d,m),d=!0;else if(n===null){var N=i.stateNode,T=i.memoizedProps;N.props=T;var D=N.context,K=l.contextType;typeof K=="object"&&K!==null?K=Zr(K):(K=Er(l)?Xs:fr.current,K=Vi(i,K));var ce=l.getDerivedStateFromProps,ue=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";ue||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==d||D!==K)&&Tg(i,N,d,K),js=!1;var ae=i.memoizedState;N.state=ae,Fl(i,d,N,m),D=i.memoizedState,T!==d||ae!==D||kr.current||js?(typeof ce=="function"&&(Ou(i,l,ce,d),D=i.memoizedState),(T=js||Pg(i,l,T,d,ae,D,K))?(ue||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=D),N.props=d,N.state=D,N.context=K,d=T):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{N=i.stateNode,ng(n,i),T=i.memoizedProps,K=i.type===i.elementType?T:cn(i.type,T),N.props=K,ue=i.pendingProps,ae=N.context,D=l.contextType,typeof D=="object"&&D!==null?D=Zr(D):(D=Er(l)?Xs:fr.current,D=Vi(i,D));var Se=l.getDerivedStateFromProps;(ce=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==ue||ae!==D)&&Tg(i,N,d,D),js=!1,ae=i.memoizedState,N.state=ae,Fl(i,d,N,m);var Pe=i.memoizedState;T!==ue||ae!==Pe||kr.current||js?(typeof Se=="function"&&(Ou(i,l,Se,d),Pe=i.memoizedState),(K=js||Pg(i,l,K,d,ae,Pe,D)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(d,Pe,D),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(d,Pe,D)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Pe),N.props=d,N.state=Pe,N.context=D,d=K):(typeof N.componentDidUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),d=!1)}return Bu(n,i,l,d,v,m)}function Bu(n,i,l,d,m,v){$g(n,i);var N=(i.flags&128)!==0;if(!d&&!N)return m&&Kp(i,l,!1),Zn(n,i,v);d=i.stateNode,rC.current=i;var T=N&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,n!==null&&N?(i.child=Wi(i,n.child,null,v),i.child=Wi(i,null,T,v)):vr(n,i,T,v),i.memoizedState=d.state,m&&Kp(i,l,!0),i.child}function zg(n){var i=n.stateNode;i.pendingContext?qp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&qp(n,i.context,!1),ju(n,i.containerInfo)}function Ug(n,i,l,d,m){return qi(),pu(m),i.flags|=256,vr(n,i,l,d),i.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Vu(n){return{baseLanes:n,cachePool:null,transitions:null}}function qg(n,i,l){var d=i.pendingProps,m=kt.current,v=!1,N=(i.flags&128)!==0,T;if((T=N)||(T=n!==null&&n.memoizedState===null?!1:(m&2)!==0),T?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),bt(kt,m&1),n===null)return hu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(N=d.children,n=d.fallback,v?(d=i.mode,v=i.child,N={mode:"hidden",children:N},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=sc(N,d,0,null),n=li(n,d,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Vu(l),i.memoizedState=$u,n):zu(i,N));if(m=n.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return nC(n,i,N,d,T,m,l);if(v){v=d.fallback,N=i.mode,m=n.child,T=m.sibling;var D={mode:"hidden",children:d.children};return(N&1)===0&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=D,i.deletions=null):(d=_s(m,D),d.subtreeFlags=m.subtreeFlags&14680064),T!==null?v=_s(T,v):(v=li(v,N,l,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,N=n.child.memoizedState,N=N===null?Vu(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=n.childLanes&~l,i.memoizedState=$u,d}return v=n.child,n=v.sibling,d=_s(v,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=d,i.memoizedState=null,d}function zu(n,i){return i=sc({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Wl(n,i,l,d){return d!==null&&pu(d),Wi(i,n.child,null,l),n=zu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function nC(n,i,l,d,m,v,N){if(l)return i.flags&256?(i.flags&=-257,d=Mu(Error(s(422))),Wl(n,i,N,d)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=d.fallback,m=i.mode,d=sc({mode:"visible",children:d.children},m,0,null),v=li(v,m,N,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,(i.mode&1)!==0&&Wi(i,n.child,null,N),i.child.memoizedState=Vu(N),i.memoizedState=$u,v);if((i.mode&1)===0)return Wl(n,i,N,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var T=d.dgst;return d=T,v=Error(s(419)),d=Mu(v,d,void 0),Wl(n,i,N,d)}if(T=(N&n.childLanes)!==0,Pr||T){if(d=rr,d!==null){switch(N&-N){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|N))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Hn(n,m),fn(d,n,m,-1))}return sf(),d=Mu(Error(s(421))),Wl(n,i,N,d)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=gC.bind(null,n),m._reactRetry=i,null):(n=v.treeContext,Vr=vs(m.nextSibling),$r=i,Ct=!0,ln=null,n!==null&&(Hr[Gr++]=Kn,Hr[Gr++]=Qn,Hr[Gr++]=Js,Kn=n.id,Qn=n.overflow,Js=i),i=zu(i,d.children),i.flags|=4096,i)}function Wg(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),yu(n.return,i,l)}function Uu(n,i,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Kg(n,i,l){var d=i.pendingProps,m=d.revealOrder,v=d.tail;if(vr(n,i,d.children,l),d=kt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wg(n,l,i);else if(n.tag===19)Wg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(bt(kt,d),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)n=l.alternate,n!==null&&Ll(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),Uu(i,!1,m,l,v);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Ll(n)===null){i.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}Uu(i,!0,l,null,v);break;case"together":Uu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Kl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Zn(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),si|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,l=_s(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=_s(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function sC(n,i,l){switch(i.tag){case 3:zg(i),qi();break;case 5:ag(i);break;case 1:Er(i.type)&&Pl(i);break;case 4:ju(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;bt(Ol,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(bt(kt,kt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?qg(n,i,l):(bt(kt,kt.current&1),n=Zn(n,i,l),n!==null?n.sibling:null);bt(kt,kt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(n.flags&128)!==0){if(d)return Kg(n,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),bt(kt,kt.current),d)break;return null;case 22:case 23:return i.lanes=0,Bg(n,i,l)}return Zn(n,i,l)}var Qg,qu,Hg,Gg;Qg=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qu=function(){},Hg=function(n,i,l,d){var m=n.memoizedProps;if(m!==d){n=i.stateNode,ri(Tn.current);var v=null;switch(l){case"input":m=Xe(n,m),d=Xe(n,d),v=[];break;case"select":m=oe({},m,{value:void 0}),d=oe({},d,{value:void 0}),v=[];break;case"textarea":m=H(n,m),d=H(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Cl)}pt(l,d);var N;l=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var T=m[K];for(N in T)T.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var D=d[K];if(T=m?.[K],d.hasOwnProperty(K)&&D!==T&&(D!=null||T!=null))if(K==="style")if(T){for(N in T)!T.hasOwnProperty(N)||D&&D.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in D)D.hasOwnProperty(N)&&T[N]!==D[N]&&(l||(l={}),l[N]=D[N])}else l||(v||(v=[]),v.push(K,l)),l=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,T=T?T.__html:void 0,D!=null&&T!==D&&(v=v||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&wt("scroll",n),v||T===D||(v=[])):(v=v||[]).push(K,D))}l&&(v=v||[]).push("style",l);var K=v;(i.updateQueue=K)&&(i.flags|=4)}},Gg=function(n,i,l,d){l!==d&&(i.flags|=4)};function co(n,i){if(!Ct)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function hr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function iC(n,i,l){var d=i.pendingProps;switch(fu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(i),null;case 1:return Er(i.type)&&El(),hr(i),null;case 3:return d=i.stateNode,Hi(),jt(kr),jt(fr),Cu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Al(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(tf(ln),ln=null))),qu(n,i),hr(i),null;case 5:Nu(i);var m=ri(so.current);if(l=i.type,n!==null&&i.stateNode!=null)Hg(n,i,l,d,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(s(166));return hr(i),null}if(n=ri(Tn.current),Al(i)){d=i.stateNode,l=i.type;var v=i.memoizedProps;switch(d[_n]=i,d[Ja]=v,n=(i.mode&1)!==0,l){case"dialog":wt("cancel",d),wt("close",d);break;case"iframe":case"object":case"embed":wt("load",d);break;case"video":case"audio":for(m=0;m<Za.length;m++)wt(Za[m],d);break;case"source":wt("error",d);break;case"img":case"image":case"link":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"input":Lr(d,v),wt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},wt("invalid",d);break;case"textarea":we(d,v),wt("invalid",d)}pt(l,v),m=null;for(var N in v)if(v.hasOwnProperty(N)){var T=v[N];N==="children"?typeof T=="string"?d.textContent!==T&&(v.suppressHydrationWarning!==!0&&Sl(d.textContent,T,n),m=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&Sl(d.textContent,T,n),m=["children",""+T]):o.hasOwnProperty(N)&&T!=null&&N==="onScroll"&&wt("scroll",d)}switch(l){case"input":lt(d),Aa(d,v,!0);break;case"textarea":lt(d),le(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Cl)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{N=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ae(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=N.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=N.createElement(l,{is:d.is}):(n=N.createElement(l),l==="select"&&(N=n,d.multiple?N.multiple=!0:d.size&&(N.size=d.size))):n=N.createElementNS(n,l),n[_n]=i,n[Ja]=d,Qg(n,i,!1,!1),i.stateNode=n;e:{switch(N=us(l,d),l){case"dialog":wt("cancel",n),wt("close",n),m=d;break;case"iframe":case"object":case"embed":wt("load",n),m=d;break;case"video":case"audio":for(m=0;m<Za.length;m++)wt(Za[m],n);m=d;break;case"source":wt("error",n),m=d;break;case"img":case"image":case"link":wt("error",n),wt("load",n),m=d;break;case"details":wt("toggle",n),m=d;break;case"input":Lr(n,d),m=Xe(n,d),wt("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=oe({},d,{value:void 0}),wt("invalid",n);break;case"textarea":we(n,d),m=H(n,d),wt("invalid",n);break;default:m=d}pt(l,m),T=m;for(v in T)if(T.hasOwnProperty(v)){var D=T[v];v==="style"?He(n,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Kt(n,D)):v==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&Qr(n,D):typeof D=="number"&&Qr(n,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?D!=null&&v==="onScroll"&&wt("scroll",n):D!=null&&A(n,v,D,N))}switch(l){case"input":lt(n),Aa(n,d,!1);break;case"textarea":lt(n),le(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Ne(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?V(n,!!d.multiple,v,!1):d.defaultValue!=null&&V(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Cl)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return hr(i),null;case 6:if(n&&i.stateNode!=null)Gg(n,i,n.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(l=ri(so.current),ri(Tn.current),Al(i)){if(d=i.stateNode,l=i.memoizedProps,d[_n]=i,(v=d.nodeValue!==l)&&(n=$r,n!==null))switch(n.tag){case 3:Sl(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Sl(d.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[_n]=i,i.stateNode=d}return hr(i),null;case 13:if(jt(kt),d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ct&&Vr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Xp(),qi(),i.flags|=98560,v=!1;else if(v=Al(i),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[_n]=i}else qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;hr(i),v=!1}else ln!==null&&(tf(ln),ln=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(kt.current&1)!==0?Jt===0&&(Jt=3):sf())),i.updateQueue!==null&&(i.flags|=4),hr(i),null);case 4:return Hi(),qu(n,i),n===null&&Ya(i.stateNode.containerInfo),hr(i),null;case 10:return vu(i.type._context),hr(i),null;case 17:return Er(i.type)&&El(),hr(i),null;case 19:if(jt(kt),v=i.memoizedState,v===null)return hr(i),null;if(d=(i.flags&128)!==0,N=v.rendering,N===null)if(d)co(v,!1);else{if(Jt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(N=Ll(n),N!==null){for(i.flags|=128,co(v,!1),d=N.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)v=l,n=d,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,n=N.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return bt(kt,kt.current&1|2),i.child}n=n.sibling}v.tail!==null&&Mt()>Xi&&(i.flags|=128,d=!0,co(v,!1),i.lanes=4194304)}else{if(!d)if(n=Ll(N),n!==null){if(i.flags|=128,d=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),co(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Ct)return hr(i),null}else 2*Mt()-v.renderingStartTime>Xi&&l!==1073741824&&(i.flags|=128,d=!0,co(v,!1),i.lanes=4194304);v.isBackwards?(N.sibling=i.child,i.child=N):(l=v.last,l!==null?l.sibling=N:i.child=N,v.last=N)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Mt(),i.sibling=null,l=kt.current,bt(kt,d?l&1|2:l&1),i):(hr(i),null);case 22:case 23:return nf(),d=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(zr&1073741824)!==0&&(hr(i),i.subtreeFlags&6&&(i.flags|=8192)):hr(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function aC(n,i){switch(fu(i),i.tag){case 1:return Er(i.type)&&El(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Hi(),jt(kr),jt(fr),Cu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Nu(i),null;case 13:if(jt(kt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return jt(kt),null;case 4:return Hi(),null;case 10:return vu(i.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Ql=!1,pr=!1,oC=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Zi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){At(n,i,d)}else l.current=null}function Wu(n,i,l){try{l()}catch(d){At(n,i,d)}}var Zg=!1;function lC(n,i){if(nu=ml,n=Pp(),Gd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,T=-1,D=-1,K=0,ce=0,ue=n,ae=null;t:for(;;){for(var Se;ue!==l||m!==0&&ue.nodeType!==3||(T=N+m),ue!==v||d!==0&&ue.nodeType!==3||(D=N+d),ue.nodeType===3&&(N+=ue.nodeValue.length),(Se=ue.firstChild)!==null;)ae=ue,ue=Se;for(;;){if(ue===n)break t;if(ae===l&&++K===m&&(T=N),ae===v&&++ce===d&&(D=N),(Se=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Se}l=T===-1||D===-1?null:{start:T,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(su={focusedElem:n,selectionRange:l},ml=!1,Ee=i;Ee!==null;)if(i=Ee,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ee=n;else for(;Ee!==null;){i=Ee;try{var Pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ie=Pe.memoizedProps,Ft=Pe.memoizedState,U=i.stateNode,F=U.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:cn(i.type,Ie),Ft);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(pe){At(i,i.return,pe)}if(n=i.sibling,n!==null){n.return=i.return,Ee=n;break}Ee=i.return}return Pe=Zg,Zg=!1,Pe}function uo(n,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Wu(i,l,v)}m=m.next}while(m!==d)}}function Hl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Ku(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function Yg(n){var i=n.alternate;i!==null&&(n.alternate=null,Yg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[_n],delete i[Ja],delete i[lu],delete i[qS],delete i[WS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Xg(n){return n.tag===5||n.tag===3||n.tag===4}function Jg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qu(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Cl));else if(d!==4&&(n=n.child,n!==null))for(Qu(n,i,l),n=n.sibling;n!==null;)Qu(n,i,l),n=n.sibling}function Hu(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Hu(n,i,l),n=n.sibling;n!==null;)Hu(n,i,l),n=n.sibling}var cr=null,dn=!1;function Ss(n,i,l){for(l=l.child;l!==null;)ex(n,i,l),l=l.sibling}function ex(n,i,l){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(ol,l)}catch{}switch(l.tag){case 5:pr||Zi(l,i);case 6:var d=cr,m=dn;cr=null,Ss(n,i,l),cr=d,dn=m,cr!==null&&(dn?(n=cr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):cr.removeChild(l.stateNode));break;case 18:cr!==null&&(dn?(n=cr,l=l.stateNode,n.nodeType===8?ou(n.parentNode,l):n.nodeType===1&&ou(n,l),za(n)):ou(cr,l.stateNode));break;case 4:d=cr,m=dn,cr=l.stateNode.containerInfo,dn=!0,Ss(n,i,l),cr=d,dn=m;break;case 0:case 11:case 14:case 15:if(!pr&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&Wu(l,i,N),m=m.next}while(m!==d)}Ss(n,i,l);break;case 1:if(!pr&&(Zi(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(T){At(l,i,T)}Ss(n,i,l);break;case 21:Ss(n,i,l);break;case 22:l.mode&1?(pr=(d=pr)||l.memoizedState!==null,Ss(n,i,l),pr=d):Ss(n,i,l);break;default:Ss(n,i,l)}}function tx(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new oC),i.forEach(function(d){var m=xC.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function un(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=n,N=i,T=N;e:for(;T!==null;){switch(T.tag){case 5:cr=T.stateNode,dn=!1;break e;case 3:cr=T.stateNode.containerInfo,dn=!0;break e;case 4:cr=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(cr===null)throw Error(s(160));ex(v,N,m),cr=null,dn=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(K){At(m,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)rx(i,n),i=i.sibling}function rx(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(un(i,n),An(n),d&4){try{uo(3,n,n.return),Hl(3,n)}catch(Ie){At(n,n.return,Ie)}try{uo(5,n,n.return)}catch(Ie){At(n,n.return,Ie)}}break;case 1:un(i,n),An(n),d&512&&l!==null&&Zi(l,l.return);break;case 5:if(un(i,n),An(n),d&512&&l!==null&&Zi(l,l.return),n.flags&32){var m=n.stateNode;try{Qr(m,"")}catch(Ie){At(n,n.return,Ie)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,N=l!==null?l.memoizedProps:v,T=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&Kr(m,v),us(T,N);var K=us(T,v);for(N=0;N<D.length;N+=2){var ce=D[N],ue=D[N+1];ce==="style"?He(m,ue):ce==="dangerouslySetInnerHTML"?Kt(m,ue):ce==="children"?Qr(m,ue):A(m,ce,ue,K)}switch(T){case"input":sn(m,v);break;case"textarea":be(m,v);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Se=v.value;Se!=null?V(m,!!v.multiple,Se,!1):ae!==!!v.multiple&&(v.defaultValue!=null?V(m,!!v.multiple,v.defaultValue,!0):V(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ja]=v}catch(Ie){At(n,n.return,Ie)}}break;case 6:if(un(i,n),An(n),d&4){if(n.stateNode===null)throw Error(s(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(Ie){At(n,n.return,Ie)}}break;case 3:if(un(i,n),An(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{za(i.containerInfo)}catch(Ie){At(n,n.return,Ie)}break;case 4:un(i,n),An(n);break;case 13:un(i,n),An(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Yu=Mt())),d&4&&tx(n);break;case 22:if(ce=l!==null&&l.memoizedState!==null,n.mode&1?(pr=(K=pr)||ce,un(i,n),pr=K):un(i,n),An(n),d&8192){if(K=n.memoizedState!==null,(n.stateNode.isHidden=K)&&!ce&&(n.mode&1)!==0)for(Ee=n,ce=n.child;ce!==null;){for(ue=Ee=ce;Ee!==null;){switch(ae=Ee,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:uo(4,ae,ae.return);break;case 1:Zi(ae,ae.return);var Pe=ae.stateNode;if(typeof Pe.componentWillUnmount=="function"){d=ae,l=ae.return;try{i=d,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(Ie){At(d,l,Ie)}}break;case 5:Zi(ae,ae.return);break;case 22:if(ae.memoizedState!==null){ix(ue);continue}}Se!==null?(Se.return=ae,Ee=Se):ix(ue)}ce=ce.sibling}e:for(ce=null,ue=n;;){if(ue.tag===5){if(ce===null){ce=ue;try{m=ue.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=ue.stateNode,D=ue.memoizedProps.style,N=D!=null&&D.hasOwnProperty("display")?D.display:null,T.style.display=ve("display",N))}catch(Ie){At(n,n.return,Ie)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=K?"":ue.memoizedProps}catch(Ie){At(n,n.return,Ie)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===n)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===n)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===n)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:un(i,n),An(n),d&4&&tx(n);break;case 21:break;default:un(i,n),An(n)}}function An(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(Xg(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Qr(m,""),d.flags&=-33);var v=Jg(n);Hu(n,v,m);break;case 3:case 4:var N=d.stateNode.containerInfo,T=Jg(n);Qu(n,T,N);break;default:throw Error(s(161))}}catch(D){At(n,n.return,D)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function cC(n,i,l){Ee=n,nx(n)}function nx(n,i,l){for(var d=(n.mode&1)!==0;Ee!==null;){var m=Ee,v=m.child;if(m.tag===22&&d){var N=m.memoizedState!==null||Ql;if(!N){var T=m.alternate,D=T!==null&&T.memoizedState!==null||pr;T=Ql;var K=pr;if(Ql=N,(pr=D)&&!K)for(Ee=m;Ee!==null;)N=Ee,D=N.child,N.tag===22&&N.memoizedState!==null?ax(m):D!==null?(D.return=N,Ee=D):ax(m);for(;v!==null;)Ee=v,nx(v),v=v.sibling;Ee=m,Ql=T,pr=K}sx(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Ee=v):sx(n)}}function sx(n){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:pr||Hl(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!pr)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:cn(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&ig(i,v,d);break;case 3:var N=i.updateQueue;if(N!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ig(i,N,l)}break;case 5:var T=i.stateNode;if(l===null&&i.flags&4){l=T;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var ce=K.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&za(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}pr||i.flags&512&&Ku(i)}catch(ae){At(i,i.return,ae)}}if(i===n){Ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function ix(n){for(;Ee!==null;){var i=Ee;if(i===n){Ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function ax(n){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Hl(4,i)}catch(D){At(i,l,D)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(D){At(i,m,D)}}var v=i.return;try{Ku(i)}catch(D){At(i,v,D)}break;case 5:var N=i.return;try{Ku(i)}catch(D){At(i,N,D)}}}catch(D){At(i,i.return,D)}if(i===n){Ee=null;break}var T=i.sibling;if(T!==null){T.return=i.return,Ee=T;break}Ee=i.return}}var dC=Math.ceil,Gl=M.ReactCurrentDispatcher,Gu=M.ReactCurrentOwner,Xr=M.ReactCurrentBatchConfig,ft=0,rr=null,Qt=null,dr=0,zr=0,Yi=ys(0),Jt=0,fo=null,si=0,Zl=0,Zu=0,mo=null,_r=null,Yu=0,Xi=1/0,Yn=null,Yl=!1,Xu=null,Cs=null,Xl=!1,ks=null,Jl=0,ho=0,Ju=null,ec=-1,tc=0;function yr(){return(ft&6)!==0?Mt():ec!==-1?ec:ec=Mt()}function Es(n){return(n.mode&1)===0?1:(ft&2)!==0&&dr!==0?dr&-dr:QS.transition!==null?(tc===0&&(tc=Jh()),tc):(n=gt,n!==0||(n=window.event,n=n===void 0?16:lp(n.type)),n)}function fn(n,i,l,d){if(50<ho)throw ho=0,Ju=null,Error(s(185));Fa(n,l,d),((ft&2)===0||n!==rr)&&(n===rr&&((ft&2)===0&&(Zl|=l),Jt===4&&Ps(n,dr)),Tr(n,d),l===1&&ft===0&&(i.mode&1)===0&&(Xi=Mt()+500,_l&&ws()))}function Tr(n,i){var l=n.callbackNode;QN(n,i);var d=dl(n,n===rr?dr:0);if(d===0)l!==null&&Zh(l),n.callbackNode=null,n.callbackPriority=0;else if(i=d&-d,n.callbackPriority!==i){if(l!=null&&Zh(l),i===1)n.tag===0?KS(lx.bind(null,n)):Qp(lx.bind(null,n)),zS(function(){(ft&6)===0&&ws()}),l=null;else{switch(ep(d)){case 1:l=Ad;break;case 4:l=Yh;break;case 16:l=al;break;case 536870912:l=Xh;break;default:l=al}l=gx(l,ox.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function ox(n,i){if(ec=-1,tc=0,(ft&6)!==0)throw Error(s(327));var l=n.callbackNode;if(Ji()&&n.callbackNode!==l)return null;var d=dl(n,n===rr?dr:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||i)i=rc(n,d);else{i=d;var m=ft;ft|=2;var v=dx();(rr!==n||dr!==i)&&(Yn=null,Xi=Mt()+500,ai(n,i));do try{mC();break}catch(T){cx(n,T)}while(!0);xu(),Gl.current=v,ft=m,Qt!==null?i=0:(rr=null,dr=0,i=Jt)}if(i!==0){if(i===2&&(m=Id(n),m!==0&&(d=m,i=ef(n,m))),i===1)throw l=fo,ai(n,0),Ps(n,d),Tr(n,Mt()),l;if(i===6)Ps(n,d);else{if(m=n.current.alternate,(d&30)===0&&!uC(m)&&(i=rc(n,d),i===2&&(v=Id(n),v!==0&&(d=v,i=ef(n,v))),i===1))throw l=fo,ai(n,0),Ps(n,d),Tr(n,Mt()),l;switch(n.finishedWork=m,n.finishedLanes=d,i){case 0:case 1:throw Error(s(345));case 2:oi(n,_r,Yn);break;case 3:if(Ps(n,d),(d&130023424)===d&&(i=Yu+500-Mt(),10<i)){if(dl(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){yr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=au(oi.bind(null,n,_r,Yn),i);break}oi(n,_r,Yn);break;case 4:if(Ps(n,d),(d&4194240)===d)break;for(i=n.eventTimes,m=-1;0<d;){var N=31-an(d);v=1<<N,N=i[N],N>m&&(m=N),d&=~v}if(d=m,d=Mt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*dC(d/1960))-d,10<d){n.timeoutHandle=au(oi.bind(null,n,_r,Yn),d);break}oi(n,_r,Yn);break;case 5:oi(n,_r,Yn);break;default:throw Error(s(329))}}}return Tr(n,Mt()),n.callbackNode===l?ox.bind(null,n):null}function ef(n,i){var l=mo;return n.current.memoizedState.isDehydrated&&(ai(n,i).flags|=256),n=rc(n,i),n!==2&&(i=_r,_r=l,i!==null&&tf(i)),n}function tf(n){_r===null?_r=n:_r.push.apply(_r,n)}function uC(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!on(v(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ps(n,i){for(i&=~Zu,i&=~Zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-an(i),d=1<<l;n[l]=-1,i&=~d}}function lx(n){if((ft&6)!==0)throw Error(s(327));Ji();var i=dl(n,0);if((i&1)===0)return Tr(n,Mt()),null;var l=rc(n,i);if(n.tag!==0&&l===2){var d=Id(n);d!==0&&(i=d,l=ef(n,d))}if(l===1)throw l=fo,ai(n,0),Ps(n,i),Tr(n,Mt()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,oi(n,_r,Yn),Tr(n,Mt()),null}function rf(n,i){var l=ft;ft|=1;try{return n(i)}finally{ft=l,ft===0&&(Xi=Mt()+500,_l&&ws())}}function ii(n){ks!==null&&ks.tag===0&&(ft&6)===0&&Ji();var i=ft;ft|=1;var l=Xr.transition,d=gt;try{if(Xr.transition=null,gt=1,n)return n()}finally{gt=d,Xr.transition=l,ft=i,(ft&6)===0&&ws()}}function nf(){zr=Yi.current,jt(Yi)}function ai(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,VS(l)),Qt!==null)for(l=Qt.return;l!==null;){var d=l;switch(fu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&El();break;case 3:Hi(),jt(kr),jt(fr),Cu();break;case 5:Nu(d);break;case 4:Hi();break;case 13:jt(kt);break;case 19:jt(kt);break;case 10:vu(d.type._context);break;case 22:case 23:nf()}l=l.return}if(rr=n,Qt=n=_s(n.current,null),dr=zr=i,Jt=0,fo=null,Zu=Zl=si=0,_r=mo=null,ti!==null){for(i=0;i<ti.length;i++)if(l=ti[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var N=v.next;v.next=m,d.next=N}l.pending=d}ti=null}return n}function cx(n,i){do{var l=Qt;try{if(xu(),Bl.current=Ul,$l){for(var d=Et.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}$l=!1}if(ni=0,tr=Xt=Et=null,io=!1,ao=0,Gu.current=null,l===null||l.return===null){Jt=1,fo=i,Qt=null;break}e:{var v=n,N=l.return,T=l,D=i;if(i=dr,T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,ce=T,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Se=Og(N);if(Se!==null){Se.flags&=-257,Dg(Se,N,T,v,i),Se.mode&1&&Ig(v,K,i),i=Se,D=K;var Pe=i.updateQueue;if(Pe===null){var Ie=new Set;Ie.add(D),i.updateQueue=Ie}else Pe.add(D);break e}else{if((i&1)===0){Ig(v,K,i),sf();break e}D=Error(s(426))}}else if(Ct&&T.mode&1){var Ft=Og(N);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),Dg(Ft,N,T,v,i),pu(Gi(D,T));break e}}v=D=Gi(D,T),Jt!==4&&(Jt=2),mo===null?mo=[v]:mo.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var U=Rg(v,D,i);sg(v,U);break e;case 1:T=D;var F=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Cs===null||!Cs.has(q)))){v.flags|=65536,i&=-i,v.lanes|=i;var pe=Ag(v,T,i);sg(v,pe);break e}}v=v.return}while(v!==null)}fx(l)}catch(De){i=De,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function dx(){var n=Gl.current;return Gl.current=Ul,n===null?Ul:n}function sf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),rr===null||(si&268435455)===0&&(Zl&268435455)===0||Ps(rr,dr)}function rc(n,i){var l=ft;ft|=2;var d=dx();(rr!==n||dr!==i)&&(Yn=null,ai(n,i));do try{fC();break}catch(m){cx(n,m)}while(!0);if(xu(),ft=l,Gl.current=d,Qt!==null)throw Error(s(261));return rr=null,dr=0,Jt}function fC(){for(;Qt!==null;)ux(Qt)}function mC(){for(;Qt!==null&&!LN();)ux(Qt)}function ux(n){var i=px(n.alternate,n,zr);n.memoizedProps=n.pendingProps,i===null?fx(n):Qt=i,Gu.current=null}function fx(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=iC(l,i,zr),l!==null){Qt=l;return}}else{if(l=aC(l,i),l!==null){l.flags&=32767,Qt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jt=6,Qt=null;return}}if(i=i.sibling,i!==null){Qt=i;return}Qt=i=n}while(i!==null);Jt===0&&(Jt=5)}function oi(n,i,l){var d=gt,m=Xr.transition;try{Xr.transition=null,gt=1,hC(n,i,l,d)}finally{Xr.transition=m,gt=d}return null}function hC(n,i,l,d){do Ji();while(ks!==null);if((ft&6)!==0)throw Error(s(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(HN(n,v),n===rr&&(Qt=rr=null,dr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xl||(Xl=!0,gx(al,function(){return Ji(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Xr.transition,Xr.transition=null;var N=gt;gt=1;var T=ft;ft|=4,Gu.current=null,lC(n,l),rx(l,n),OS(su),ml=!!nu,su=nu=null,n.current=l,cC(l),BN(),ft=T,gt=N,Xr.transition=v}else n.current=l;if(Xl&&(Xl=!1,ks=n,Jl=m),v=n.pendingLanes,v===0&&(Cs=null),zN(l.stateNode),Tr(n,Mt()),i!==null)for(d=n.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Yl)throw Yl=!1,n=Xu,Xu=null,n;return(Jl&1)!==0&&n.tag!==0&&Ji(),v=n.pendingLanes,(v&1)!==0?n===Ju?ho++:(ho=0,Ju=n):ho=0,ws(),null}function Ji(){if(ks!==null){var n=ep(Jl),i=Xr.transition,l=gt;try{if(Xr.transition=null,gt=16>n?16:n,ks===null)var d=!1;else{if(n=ks,ks=null,Jl=0,(ft&6)!==0)throw Error(s(331));var m=ft;for(ft|=4,Ee=n.current;Ee!==null;){var v=Ee,N=v.child;if((Ee.flags&16)!==0){var T=v.deletions;if(T!==null){for(var D=0;D<T.length;D++){var K=T[D];for(Ee=K;Ee!==null;){var ce=Ee;switch(ce.tag){case 0:case 11:case 15:uo(8,ce,v)}var ue=ce.child;if(ue!==null)ue.return=ce,Ee=ue;else for(;Ee!==null;){ce=Ee;var ae=ce.sibling,Se=ce.return;if(Yg(ce),ce===K){Ee=null;break}if(ae!==null){ae.return=Se,Ee=ae;break}Ee=Se}}}var Pe=v.alternate;if(Pe!==null){var Ie=Pe.child;if(Ie!==null){Pe.child=null;do{var Ft=Ie.sibling;Ie.sibling=null,Ie=Ft}while(Ie!==null)}}Ee=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,Ee=N;else e:for(;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:uo(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,Ee=U;break e}Ee=v.return}}var F=n.current;for(Ee=F;Ee!==null;){N=Ee;var q=N.child;if((N.subtreeFlags&2064)!==0&&q!==null)q.return=N,Ee=q;else e:for(N=F;Ee!==null;){if(T=Ee,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Hl(9,T)}}catch(De){At(T,T.return,De)}if(T===N){Ee=null;break e}var pe=T.sibling;if(pe!==null){pe.return=T.return,Ee=pe;break e}Ee=T.return}}if(ft=m,ws(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(ol,n)}catch{}d=!0}return d}finally{gt=l,Xr.transition=i}}return!1}function mx(n,i,l){i=Gi(l,i),i=Rg(n,i,1),n=Ns(n,i,1),i=yr(),n!==null&&(Fa(n,1,i),Tr(n,i))}function At(n,i,l){if(n.tag===3)mx(n,n,l);else for(;i!==null;){if(i.tag===3){mx(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))){n=Gi(l,n),n=Ag(i,n,1),i=Ns(i,n,1),n=yr(),i!==null&&(Fa(i,1,n),Tr(i,n));break}}i=i.return}}function pC(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),i=yr(),n.pingedLanes|=n.suspendedLanes&l,rr===n&&(dr&l)===l&&(Jt===4||Jt===3&&(dr&130023424)===dr&&500>Mt()-Yu?ai(n,0):Zu|=l),Tr(n,i)}function hx(n,i){i===0&&((n.mode&1)===0?i=1:(i=cl,cl<<=1,(cl&130023424)===0&&(cl=4194304)));var l=yr();n=Hn(n,i),n!==null&&(Fa(n,i,l),Tr(n,l))}function gC(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),hx(n,l)}function xC(n,i){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(i),hx(n,l)}var px;px=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||kr.current)Pr=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Pr=!1,sC(n,i,l);Pr=(n.flags&131072)!==0}else Pr=!1,Ct&&(i.flags&1048576)!==0&&Hp(i,Rl,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Kl(n,i),n=i.pendingProps;var m=Vi(i,fr.current);Qi(i,l),m=Pu(null,i,d,n,m,l);var v=_u();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Er(d)?(v=!0,Pl(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,wu(i),m.updater=ql,i.stateNode=m,m._reactInternals=i,Du(i,d,n,l),i=Bu(null,i,d,!0,v,l)):(i.tag=0,Ct&&v&&uu(i),vr(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Kl(n,i),n=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=yC(d),n=cn(d,n),m){case 0:i=Lu(null,i,d,n,l);break e;case 1:i=Vg(null,i,d,n,l);break e;case 11:i=Mg(null,i,d,n,l);break e;case 14:i=Fg(null,i,d,cn(d.type,n),l);break e}throw Error(s(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:cn(d,m),Lu(n,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:cn(d,m),Vg(n,i,d,m,l);case 3:e:{if(zg(i),n===null)throw Error(s(387));d=i.pendingProps,v=i.memoizedState,m=v.element,ng(n,i),Fl(i,d,null,l);var N=i.memoizedState;if(d=N.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=Gi(Error(s(423)),i),i=Ug(n,i,d,l,m);break e}else if(d!==m){m=Gi(Error(s(424)),i),i=Ug(n,i,d,l,m);break e}else for(Vr=vs(i.stateNode.containerInfo.firstChild),$r=i,Ct=!0,ln=null,l=tg(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qi(),d===m){i=Zn(n,i,l);break e}vr(n,i,d,l)}i=i.child}return i;case 5:return ag(i),n===null&&hu(i),d=i.type,m=i.pendingProps,v=n!==null?n.memoizedProps:null,N=m.children,iu(d,m)?N=null:v!==null&&iu(d,v)&&(i.flags|=32),$g(n,i),vr(n,i,N,l),i.child;case 6:return n===null&&hu(i),null;case 13:return qg(n,i,l);case 4:return ju(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Wi(i,null,d,l):vr(n,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:cn(d,m),Mg(n,i,d,m,l);case 7:return vr(n,i,i.pendingProps,l),i.child;case 8:return vr(n,i,i.pendingProps.children,l),i.child;case 12:return vr(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,v=i.memoizedProps,N=m.value,bt(Ol,d._currentValue),d._currentValue=N,v!==null)if(on(v.value,N)){if(v.children===m.children&&!kr.current){i=Zn(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){N=v.child;for(var D=T.firstContext;D!==null;){if(D.context===d){if(v.tag===1){D=Gn(-1,l&-l),D.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ce=K.pending;ce===null?D.next=D:(D.next=ce.next,ce.next=D),K.pending=D}}v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),yu(v.return,l,i),T.lanes|=l;break}D=D.next}}else if(v.tag===10)N=v.type===i.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(s(341));N.lanes|=l,T=N.alternate,T!==null&&(T.lanes|=l),yu(N,l,i),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===i){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}vr(n,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,Qi(i,l),m=Zr(m),d=d(m),i.flags|=1,vr(n,i,d,l),i.child;case 14:return d=i.type,m=cn(d,i.pendingProps),m=cn(d.type,m),Fg(n,i,d,m,l);case 15:return Lg(n,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:cn(d,m),Kl(n,i),i.tag=1,Er(d)?(n=!0,Pl(i)):n=!1,Qi(i,l),_g(i,d,m),Du(i,d,m,l),Bu(null,i,d,!0,n,l);case 19:return Kg(n,i,l);case 22:return Bg(n,i,l)}throw Error(s(156,i.tag))};function gx(n,i){return Gh(n,i)}function vC(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(n,i,l,d){return new vC(n,i,l,d)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yC(n){if(typeof n=="function")return af(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y)return 11;if(n===se)return 14}return 2}function _s(n,i){var l=n.alternate;return l===null?(l=Jr(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function nc(n,i,l,d,m,v){var N=2;if(d=n,typeof n=="function")af(n)&&(N=1);else if(typeof n=="string")N=5;else e:switch(n){case W:return li(l.children,m,v,i);case J:N=8,m|=8;break;case ye:return n=Jr(12,l,i,m|2),n.elementType=ye,n.lanes=v,n;case ne:return n=Jr(13,l,i,m),n.elementType=ne,n.lanes=v,n;case L:return n=Jr(19,l,i,m),n.elementType=L,n.lanes=v,n;case ee:return sc(l,m,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ge:N=10;break e;case xe:N=9;break e;case Y:N=11;break e;case se:N=14;break e;case z:N=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return i=Jr(N,l,i,m),i.elementType=n,i.type=d,i.lanes=v,i}function li(n,i,l,d){return n=Jr(7,n,d,i),n.lanes=l,n}function sc(n,i,l,d){return n=Jr(22,n,d,i),n.elementType=ee,n.lanes=l,n.stateNode={isHidden:!1},n}function of(n,i,l){return n=Jr(6,n,null,i),n.lanes=l,n}function lf(n,i,l){return i=Jr(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function bC(n,i,l,d,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function cf(n,i,l,d,m,v,N,T,D){return n=new bC(n,i,l,T,D),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Jr(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(v),n}function wC(n,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:n,containerInfo:i,implementation:l}}function xx(n){if(!n)return bs;n=n._reactInternals;e:{if(Zs(n)!==n||n.tag!==1)throw Error(s(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Er(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(Er(l))return Wp(n,l,i)}return i}function vx(n,i,l,d,m,v,N,T,D){return n=cf(l,d,!0,n,m,v,N,T,D),n.context=xx(null),l=n.current,d=yr(),m=Es(l),v=Gn(d,m),v.callback=i??null,Ns(l,v,m),n.current.lanes=m,Fa(n,m,d),Tr(n,d),n}function ic(n,i,l,d){var m=i.current,v=yr(),N=Es(m);return l=xx(l),i.context===null?i.context=l:i.pendingContext=l,i=Gn(v,N),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=Ns(m,i,N),n!==null&&(fn(n,m,N,v),Ml(n,m,N)),N}function ac(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function yx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function df(n,i){yx(n,i),(n=n.alternate)&&yx(n,i)}function jC(){return null}var bx=typeof reportError=="function"?reportError:function(n){console.error(n)};function uf(n){this._internalRoot=n}oc.prototype.render=uf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));ic(n,i,null,null)},oc.prototype.unmount=uf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ii(function(){ic(null,n,null,null)}),i[qn]=null}};function oc(n){this._internalRoot=n}oc.prototype.unstable_scheduleHydration=function(n){if(n){var i=np();n={blockedOn:null,target:n,priority:i};for(var l=0;l<ps.length&&i!==0&&i<ps[l].priority;l++);ps.splice(l,0,n),l===0&&ap(n)}};function ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wx(){}function NC(n,i,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=ac(N);v.call(K)}}var N=vx(i,d,n,0,null,!1,!1,"",wx);return n._reactRootContainer=N,n[qn]=N.current,Ya(n.nodeType===8?n.parentNode:n),ii(),N}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var T=d;d=function(){var K=ac(D);T.call(K)}}var D=cf(n,0,!1,null,null,!1,!1,"",wx);return n._reactRootContainer=D,n[qn]=D.current,Ya(n.nodeType===8?n.parentNode:n),ii(function(){ic(i,D,l,d)}),D}function cc(n,i,l,d,m){var v=l._reactRootContainer;if(v){var N=v;if(typeof m=="function"){var T=m;m=function(){var D=ac(N);T.call(D)}}ic(i,N,n,m)}else N=NC(l,i,n,m,d);return ac(N)}tp=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ma(i.pendingLanes);l!==0&&(Dd(i,l|1),Tr(i,Mt()),(ft&6)===0&&(Xi=Mt()+500,ws()))}break;case 13:ii(function(){var d=Hn(n,1);if(d!==null){var m=yr();fn(d,n,1,m)}}),df(n,1)}},Md=function(n){if(n.tag===13){var i=Hn(n,134217728);if(i!==null){var l=yr();fn(i,n,134217728,l)}df(n,134217728)}},rp=function(n){if(n.tag===13){var i=Es(n),l=Hn(n,i);if(l!==null){var d=yr();fn(l,n,i,d)}df(n,i)}},np=function(){return gt},sp=function(n,i){var l=gt;try{return gt=n,i()}finally{gt=l}},Pd=function(n,i,l){switch(i){case"input":if(sn(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var m=kl(d);if(!m)throw Error(s(90));ut(d),sn(d,m)}}}break;case"textarea":be(n,l);break;case"select":i=l.value,i!=null&&V(n,!!l.multiple,i,!1)}},zh=rf,Uh=ii;var SC={usingClientEntryPoint:!1,Events:[eo,Bi,kl,$h,Vh,rf]},po={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CC={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qh(n),n===null?null:n.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||jC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{ol=dc.inject(CC),Pn=dc}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC,Rr.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(i))throw Error(s(200));return wC(n,i,null,l)},Rr.createRoot=function(n,i){if(!ff(n))throw Error(s(299));var l=!1,d="",m=bx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=cf(n,1,!1,null,null,l,!1,d,m),n[qn]=i.current,Ya(n.nodeType===8?n.parentNode:n),new uf(i)},Rr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Qh(i),n=n===null?null:n.stateNode,n},Rr.flushSync=function(n){return ii(n)},Rr.hydrate=function(n,i,l){if(!lc(i))throw Error(s(200));return cc(null,n,i,!0,l)},Rr.hydrateRoot=function(n,i,l){if(!ff(n))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",N=bx;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),i=vx(i,null,n,1,l??null,m,!1,v,N),n[qn]=i.current,Ya(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new oc(i)},Rr.render=function(n,i,l){if(!lc(i))throw Error(s(200));return cc(null,n,i,!1,l)},Rr.unmountComponentAtNode=function(n){if(!lc(n))throw Error(s(40));return n._reactRootContainer?(ii(function(){cc(null,null,n,!1,function(){n._reactRootContainer=null,n[qn]=null})}),!0):!1},Rr.unstable_batchedUpdates=rf,Rr.unstable_renderSubtreeIntoContainer=function(n,i,l,d){if(!lc(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return cc(n,i,l,!1,d)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var _x;function oy(){if(_x)return pf.exports;_x=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pf.exports=IC(),pf.exports}var Tx;function OC(){if(Tx)return uc;Tx=1;var e=oy();return uc.createRoot=e.createRoot,uc.hydrateRoot=e.hydrateRoot,uc}var DC=OC();function MC(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,a,o,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();o=h.shift();)s=o[0],s==="*"?(u.push(s),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(a=o.indexOf("?",1),c=o.indexOf(".",1),u.push(o.substring(1,~a?a:~c?c:o.length)),f+=~a&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~a?"?":"")+"\\"+o.substring(c))):f+="/"+o;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var p=Gc();const Lt=ay(p),km=EC({__proto__:null,default:Lt},[p]);var vf={exports:{}},yf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function FC(){if(Rx)return yf;Rx=1;var e=Gc();function t(b,j){return b===j&&(b!==0||1/b===1/j)||b!==b&&j!==j}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(b,j){var S=j(),P=a({inst:{value:S,getSnapshot:j}}),w=P[0].inst,y=P[1];return c(function(){w.value=S,w.getSnapshot=j,h(w)&&y({inst:w})},[b,S,j]),o(function(){return h(w)&&y({inst:w}),b(function(){h(w)&&y({inst:w})})},[b]),u(S),S}function h(b){var j=b.getSnapshot;b=b.value;try{var S=j();return!s(b,S)}catch{return!0}}function g(b,j){return j()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return yf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,yf}var Ax;function LC(){return Ax||(Ax=1,vf.exports=FC()),vf.exports}var BC=LC();const $C=km.useInsertionEffect,VC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zC=VC?p.useLayoutEffect:p.useEffect,UC=$C||zC,ly=e=>{const t=p.useRef([e,(...s)=>t[0](...s)]).current;return UC(()=>{t[0]=e}),t[1]},qC="popstate",Em="pushState",Pm="replaceState",WC="hashchange",Ix=[qC,Em,Pm,WC],KC=e=>{for(const t of Ix)addEventListener(t,e);return()=>{for(const t of Ix)removeEventListener(t,e)}},cy=(e,t)=>BC.useSyncExternalStore(KC,e,t),QC=()=>location.search,HC=({ssrSearch:e=""}={})=>cy(QC,()=>e),Ox=()=>location.pathname,GC=({ssrPath:e}={})=>cy(Ox,e?()=>e:Ox),ZC=(e,{replace:t=!1,state:s=null}={})=>history[t?Pm:Em](s,"",e),YC=(e={})=>[GC(e),ZC],Dx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Dx]>"u"){for(const e of[Em,Pm]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),s}}Object.defineProperty(window,Dx,{value:!0})}const XC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",dy=(e="")=>e==="/"?"":e,JC=(e,t)=>e[0]==="~"?e.slice(1):dy(t)+e,e1=(e="",t)=>XC(Mx(dy(e)),Mx(t)),Mx=e=>{try{return decodeURI(e)}catch{return e}},uy={hook:YC,searchHook:HC,parser:MC,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},fy=p.createContext(uy),Qo=()=>p.useContext(fy),my={},hy=p.createContext(my),t1=()=>p.useContext(hy),Zc=e=>{const[t,s]=e.hook(e);return[e1(e.base,t),ly((a,o)=>s(JC(a,e.base),o))]},r1=()=>Zc(Qo()),py=(e,t,s,a)=>{const{pattern:o,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),u=o.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((b,j)=>[b,h[j]])):u.groups;let x={...h};return g&&Object.assign(x,g),x})(),...a?[f]:[]]:[!1,null]},n1=({children:e,...t})=>{const s=Qo(),a=t.hook?uy:s;let o=a;const[c,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=p.useRef({}),h=f.current,g=h;for(let x in a){const b=x==="base"?a[x]+(t[x]||""):t[x]||a[x];h===g&&b!==g[x]&&(f.current=g={...g}),g[x]=b,(b!==a[x]||b!==o[x])&&(o=g)}return p.createElement(fy.Provider,{value:o,children:e})},Fx=({children:e,component:t},s)=>t?p.createElement(t,{params:s}):typeof e=="function"?e(s):e,s1=e=>{let t=p.useRef(my);const s=t.current;return t.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([a,o])=>o!==s[a])?e:s},Rs=({path:e,nest:t,match:s,...a})=>{const o=Qo(),[c]=Zc(o),[u,f,h]=s??py(o.parser,e,c,t),g=s1({...t1(),...f});if(!u)return null;const x=h?p.createElement(n1,{base:h},Fx(a,g)):Fx(a,g);return p.createElement(hy.Provider,{value:g,children:x})},Wf=p.forwardRef((e,t)=>{const s=Qo(),[a,o]=Zc(s),{to:c="",href:u=c,onClick:f,asChild:h,children:g,className:x,replace:b,state:j,...S}=e,P=ly(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(f?.(y),y.defaultPrevented||(y.preventDefault(),o(u,e)))}),w=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&p.isValidElement(g)?p.cloneElement(g,{onClick:P,href:w}):p.createElement("a",{...S,onClick:P,href:w,className:x?.call?x(a===u):x,children:g,ref:t})}),gy=e=>Array.isArray(e)?e.flatMap(t=>gy(t&&t.type===p.Fragment?t.props.children:t)):[e],i1=({children:e,location:t})=>{const s=Qo(),[a]=Zc(s);for(const o of gy(e)){let c=0;if(p.isValidElement(o)&&(c=py(s.parser,o.props.path,t||a,o.props.nest))[0])return p.cloneElement(o,{match:c})}return null};var Sa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},a1={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},o1=class{#e=a1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ci=new o1;function l1(e){setTimeout(e,0)}var pi=typeof window>"u"||"Deno"in globalThis;function br(){}function c1(e,t){return typeof e=="function"?e(t):e}function Kf(e){return typeof e=="number"&&e>=0&&e!==1/0}function xy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fs(e,t){return typeof e=="function"?e(t):e}function en(e,t){return typeof e=="function"?e(t):e}function Lx(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(a){if(t.queryHash!==_m(u,t.options))return!1}else if(!ko(t.queryKey,u))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function Bx(e,t){const{exact:s,status:a,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(gi(t.options.mutationKey)!==gi(c))return!1}else if(!ko(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function _m(e,t){return(t?.queryKeyHashFn||gi)(e)}function gi(e){return JSON.stringify(e,(t,s)=>Qf(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function ko(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ko(e[s],t[s])):!1}var d1=Object.prototype.hasOwnProperty;function vy(e,t){if(e===t)return e;const s=$x(e)&&$x(t);if(!s&&!(Qf(e)&&Qf(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),u=c.length,f=s?new Array(u):{};let h=0;for(let g=0;g<u;g++){const x=s?g:c[g],b=e[x],j=t[x];if(b===j){f[x]=b,(s?g<o:d1.call(e,x))&&h++;continue}if(b===null||j===null||typeof b!="object"||typeof j!="object"){f[x]=j;continue}const S=vy(b,j);f[x]=S,S===b&&h++}return o===u&&h===o?e:f}function kc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function $x(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qf(e){if(!Vx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Vx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vx(e){return Object.prototype.toString.call(e)==="[object Object]"}function u1(e){return new Promise(t=>{ci.setTimeout(t,e)})}function Hf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?vy(e,t):t}function f1(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function m1(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Tm=Symbol();function yy(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Tm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function by(e,t){return typeof e=="function"?e(...t):!!e}var h1=class extends Sa{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!pi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rm=new h1;function Gf(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}var p1=l1;function g1(){let e=[],t=0,s=f=>{f()},a=f=>{f()},o=p1;const c=f=>{t?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var er=g1(),x1=class extends Sa{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!pi&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ec=new x1;function v1(e){return Math.min(1e3*2**e,3e4)}function wy(e){return(e??"online")==="online"?Ec.isOnline():!0}var Zf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function jy(e){let t=!1,s=0,a;const o=Gf(),c=()=>o.status!=="pending",u=w=>{if(!c()){const y=new Zf(w);j(y),e.onCancel?.(y)}},f=()=>{t=!0},h=()=>{t=!1},g=()=>Rm.isFocused()&&(e.networkMode==="always"||Ec.isOnline())&&e.canRun(),x=()=>wy(e.networkMode)&&e.canRun(),b=w=>{c()||(a?.(),o.resolve(w))},j=w=>{c()||(a?.(),o.reject(w))},S=()=>new Promise(w=>{a=y=>{(c()||g())&&w(y)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),P=()=>{if(c())return;let w;const y=s===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(c())return;const C=e.retry??(pi?0:3),A=e.retryDelay??v1,M=typeof A=="function"?A(s,k):A,$=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,k);if(t||!$){j(k);return}s++,e.onFail?.(s,k),u1(M).then(()=>g()?void 0:S()).then(()=>{t?j(k):P()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:h,canStart:x,start:()=>(x()?P():S().then(P),o)}}var Ny=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=ci.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ci.clearTimeout(this.#e),this.#e=void 0)}},y1=class extends Ny{#e;#t;#r;#n;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=zx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=zx(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=Hf(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>en(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xy(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=yy(this.options,t),g=(()=>{const x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=jy({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof Zf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Zf){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Sy(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Sy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var b1=class extends Sa{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Gf(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#a;#o;#i;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ux(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof en(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!kc(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&qx(this.#t,s,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==s||en(this.options.enabled,this.#t)!==en(t.enabled,this.#t)||Fs(this.options.staleTime,this.#t)!==Fs(t.staleTime,this.#t))&&this.#g();const o=this.#x();a&&(this.#t!==s||en(this.options.enabled,this.#t)!==en(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return j1(this,s)&&(this.#n=s,this.#a=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,a)=>(this.trackProp(a),t?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(br)),t}#g(){this.#b();const e=Fs(this.options.staleTime,this.#t);if(pi||this.#n.isStale||!Kf(e))return;const s=xy(this.#n.dataUpdatedAt,e)+1;this.#c=ci.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(pi||en(this.options.enabled,this.#t)===!1||!Kf(this.#l)||this.#l===0)&&(this.#d=ci.setInterval(()=>{(this.options.refetchIntervalInBackground||Rm.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(ci.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(ci.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,a=this.options,o=this.#n,c=this.#s,u=this.#a,h=e!==s?e.state:this.#r,{state:g}=e;let x={...g},b=!1,j;if(t._optimisticResults){const J=this.hasListeners(),ye=!J&&Ux(e,t),ge=J&&qx(e,s,t,a);(ye||ge)&&(x={...x,...Sy(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:S,errorUpdatedAt:P,status:w}=x;j=x.data;let y=!1;if(t.placeholderData!==void 0&&j===void 0&&w==="pending"){let J;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(J=o.data,y=!0):J=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,J!==void 0&&(w="success",j=Hf(o?.data,J,t),b=!0)}if(t.select&&j!==void 0&&!y)if(o&&j===c?.data&&t.select===this.#p)j=this.#f;else try{this.#p=t.select,j=t.select(j),j=Hf(o?.data,j,t),this.#f=j,this.#i=null}catch(J){this.#i=J}this.#i&&(S=this.#i,j=this.#f,P=Date.now(),w="error");const k=x.fetchStatus==="fetching",C=w==="pending",A=w==="error",M=C&&k,$=j!==void 0,W={status:w,fetchStatus:x.fetchStatus,isPending:C,isSuccess:w==="success",isError:A,isInitialLoading:M,isLoading:M,data:j,dataUpdatedAt:x.dataUpdatedAt,error:S,errorUpdatedAt:P,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:A&&!$,isPaused:x.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:A&&$,isStale:Am(e,t),refetch:this.refetch,promise:this.#o,isEnabled:en(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=xe=>{W.status==="error"?xe.reject(W.error):W.data!==void 0&&xe.resolve(W.data)},ye=()=>{const xe=this.#o=W.promise=Gf();J(xe)},ge=this.#o;switch(ge.status){case"pending":e.queryHash===s.queryHash&&J(ge);break;case"fulfilled":(W.status==="error"||W.data!==ge.value)&&ye();break;case"rejected":(W.status!=="error"||W.error!==ge.reason)&&ye();break}}return W}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#m=this.#t),kc(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(u=>{const f=u;return this.#n[f]!==e[f]&&c.has(f)})};this.#N({listeners:s()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){er.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function w1(e,t){return en(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ux(e,t){return w1(e,t)||e.state.data!==void 0&&Yf(e,t,t.refetchOnMount)}function Yf(e,t,s){if(en(t.enabled,e)!==!1&&Fs(t.staleTime,e)!=="static"){const a=typeof s=="function"?s(e):s;return a==="always"||a!==!1&&Am(e,t)}return!1}function qx(e,t,s,a){return(e!==t||en(a.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Am(e,s)}function Am(e,t){return en(t.enabled,e)!==!1&&e.isStaleByTime(Fs(t.staleTime,e))}function j1(e,t){return!kc(e.getCurrentResult(),t)}function Wx(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const g=async()=>{let x=!1;const b=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},j=yy(t.options,t.fetchOptions),S=async(P,w,y)=>{if(x)return Promise.reject();if(w==null&&P.pages.length)return Promise.resolve(P);const C=(()=>{const G={client:t.client,queryKey:t.queryKey,pageParam:w,direction:y?"backward":"forward",meta:t.options.meta};return b(G),G})(),A=await j(C),{maxPages:M}=t.options,$=y?m1:f1;return{pages:$(P.pages,A,M),pageParams:$(P.pageParams,w,M)}};if(o&&c.length){const P=o==="backward",w=P?N1:Kx,y={pages:c,pageParams:u},k=w(a,y);f=await S(y,k,P)}else{const P=e??c.length;do{const w=h===0?u[0]??a.initialPageParam:Kx(a,f);if(h>0&&w==null)break;f=await S(f,w),h++}while(h<P)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function Kx(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function N1(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var S1=class extends Ny{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Cy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=jy({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#r.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:a})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),er.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Cy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C1=class extends Sa{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,s){const a=new S1({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=fc(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=fc(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=fc(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=fc(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Bx(t,s))}findAll(e={}){return this.getAll().filter(t=>Bx(e,t))}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return er.batch(()=>Promise.all(e.map(t=>t.continue().catch(br))))}};function fc(e){return e.options.scope?.id}var k1=class extends Sa{#e;#t=void 0;#r;#n;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),kc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&gi(s.mutationKey)!==gi(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(t,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??Cy();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){er.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,a=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,s,a),this.#n.onSettled?.(t.data,null,s,a)):t?.type==="error"&&(this.#n.onError?.(t.error,s,a),this.#n.onSettled?.(void 0,t.error,s,a))}this.listeners.forEach(s=>{s(this.#t)})})}},E1=class extends Sa{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??_m(a,t);let c=this.get(o);return c||(c=new y1({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Lx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Lx(e,s)):t}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},P1=class{#e;#t;#r;#n;#s;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new E1,this.#t=e.mutationCache||new C1,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ec.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Fs(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,u=c1(t,c);if(u!==void 0)return this.#e.build(this,a).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return er.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;er.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return er.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=er.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(br).catch(br)}invalidateQueries(e,t={}){return er.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=er.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(br)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(br)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Fs(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(br).catch(br)}fetchInfiniteQuery(e){return e.behavior=Wx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(br).catch(br)}ensureInfiniteQueryData(e){return e.behavior=Wx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ec.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(a=>{ko(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{ko(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_m(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Tm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ky=p.createContext(void 0),Dr=e=>{const t=p.useContext(ky);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_1=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(ky.Provider,{value:e,children:t})),Ey=p.createContext(!1),T1=()=>p.useContext(Ey);Ey.Provider;function R1(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var A1=p.createContext(R1()),I1=()=>p.useContext(A1),O1=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},D1=e=>{p.useEffect(()=>{e.clearReset()},[e])},M1=({result:e,errorResetBoundary:t,throwOnError:s,query:a,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(o&&e.data===void 0||by(s,[e.error,a])),F1=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...o)=>s(a(...o)):s(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},L1=(e,t)=>e.isLoading&&e.isFetching&&!t,B1=(e,t)=>e?.suspense&&t.isPending,Qx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function $1(e,t,s){const a=T1(),o=I1(),c=Dr(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=a?"isRestoring":"optimistic",F1(u),O1(u,o),D1(o);const f=!c.getQueryCache().get(u.queryHash),[h]=p.useState(()=>new t(c,u)),g=h.getOptimisticResult(u),x=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(b=>{const j=x?h.subscribe(er.batchCalls(b)):br;return h.updateResult(),j},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(u)},[u,h]),B1(u,g))throw Qx(u,h,o);if(M1({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!pi&&L1(g,a)&&(f?Qx(u,h,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(br).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function xt(e,t){return $1(e,b1)}function Ze(e,t){const s=Dr(),[a]=p.useState(()=>new k1(s,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const o=p.useSyncExternalStore(p.useCallback(u=>a.subscribe(er.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=p.useCallback((u,f)=>{a.mutate(u,f).catch(br)},[a]);if(o.error&&by(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Py(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Rt(e,t,s){const a={};s&&(a["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(a.Authorization=`Bearer ${o}`);const c=await fetch(t,{method:e,headers:a,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Py(c),c}const V1=({on401:e})=>async({queryKey:t})=>{const s={},a=localStorage.getItem("auth_token");a&&(s.Authorization=`Bearer ${a}`);const o=await fetch(t.join("/"),{headers:s,credentials:"include"});return await Py(o),await o.json()},gr=new P1({defaultOptions:{queries:{queryFn:V1({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),z1=1,U1=1e6;let bf=0;function q1(){return bf=(bf+1)%Number.MAX_SAFE_INTEGER,bf.toString()}const wf=new Map,Hx=e=>{if(wf.has(e))return;const t=setTimeout(()=>{wf.delete(e),No({type:"REMOVE_TOAST",toastId:e})},U1);wf.set(e,t)},W1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,z1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Hx(s):e.toasts.forEach(a=>{Hx(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},bc=[];let wc={toasts:[]};function No(e){wc=W1(wc,e),bc.forEach(t=>{t(wc)})}function K1({...e}){const t=q1(),s=o=>No({type:"UPDATE_TOAST",toast:{...o,id:t}}),a=()=>No({type:"DISMISS_TOAST",toastId:t});return No({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||a()}}}),{id:t,dismiss:a,update:s}}function or(){const[e,t]=p.useState(wc);return p.useEffect(()=>(bc.push(t),()=>{const s=bc.indexOf(t);s>-1&&bc.splice(s,1)}),[e]),{...e,toast:K1,dismiss:s=>No({type:"DISMISS_TOAST",toastId:s})}}var Ca=oy();const Q1=ay(Ca);function Oe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return t?.(o)}}function Gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xi(...e){return t=>{let s=!1;const a=e.map(o=>{const c=Gx(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Gx(e[o],null)}}}}function at(...e){return p.useCallback(xi(...e),e)}function H1(e,t){const s=p.createContext(t),a=c=>{const{children:u,...f}=c,h=p.useMemo(()=>f,Object.values(f));return r.jsx(s.Provider,{value:h,children:u})};a.displayName=e+"Provider";function o(c){const u=p.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,o]}function Mr(e,t=[]){let s=[];function a(c,u){const f=p.createContext(u),h=s.length;s=[...s,u];const g=b=>{const{scope:j,children:S,...P}=b,w=j?.[e]?.[h]||f,y=p.useMemo(()=>P,Object.values(P));return r.jsx(w.Provider,{value:y,children:S})};g.displayName=c+"Provider";function x(b,j){const S=j?.[e]?.[h]||f,P=p.useContext(S);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=s.map(u=>p.createContext(u));return function(f){const h=f?.[e]||c;return p.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[a,G1(o,...t)]}function G1(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=a.reduce((f,{useScope:h,scopeName:g})=>{const b=h(c)[`__scope${g}`];return{...f,...b}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function vi(e){const t=Y1(e),s=p.forwardRef((a,o)=>{const{children:c,...u}=a,f=p.Children.toArray(c),h=f.find(X1);if(h){const g=h.props.children,x=f.map(b=>b===h?p.Children.count(g)>1?p.Children.only(null):p.isValidElement(g)?g.props.children:null:b);return r.jsx(t,{...u,ref:o,children:p.isValidElement(g)?p.cloneElement(g,void 0,x):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var Z1=vi("Slot");function Y1(e){const t=p.forwardRef((s,a)=>{const{children:o,...c}=s;if(p.isValidElement(o)){const u=ek(o),f=J1(c,o.props);return o.type!==p.Fragment&&(f.ref=a?xi(a,u):u),p.cloneElement(o,f)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _y=Symbol("radix.slottable");function Ty(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=_y,t}function X1(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_y}function J1(e,t){const s={...t};for(const a in t){const o=e[a],c=t[a];/^on[A-Z]/.test(a)?o&&c?s[a]=(...f)=>{const h=c(...f);return o(...f),h}:o&&(s[a]=o):a==="style"?s[a]={...o,...c}:a==="className"&&(s[a]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function ek(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Im(e){const t=e+"CollectionProvider",[s,a]=Mr(t),[o,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:y,children:k}=w,C=Lt.useRef(null),A=Lt.useRef(new Map).current;return r.jsx(o,{scope:y,itemMap:A,collectionRef:C,children:k})};u.displayName=t;const f=e+"CollectionSlot",h=vi(f),g=Lt.forwardRef((w,y)=>{const{scope:k,children:C}=w,A=c(f,k),M=at(y,A.collectionRef);return r.jsx(h,{ref:M,children:C})});g.displayName=f;const x=e+"CollectionItemSlot",b="data-radix-collection-item",j=vi(x),S=Lt.forwardRef((w,y)=>{const{scope:k,children:C,...A}=w,M=Lt.useRef(null),$=at(y,M),G=c(x,k);return Lt.useEffect(()=>(G.itemMap.set(M,{ref:M,...A}),()=>void G.itemMap.delete(M))),r.jsx(j,{[b]:"",ref:$,children:C})});S.displayName=x;function P(w){const y=c(e+"CollectionConsumer",w);return Lt.useCallback(()=>{const C=y.collectionRef.current;if(!C)return[];const A=Array.from(C.querySelectorAll(`[${b}]`));return Array.from(y.itemMap.values()).sort((G,W)=>A.indexOf(G.ref.current)-A.indexOf(W.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:u,Slot:g,ItemSlot:S},P,a]}var tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=tk.reduce((e,t)=>{const s=vi(`Primitive.${t}`),a=p.forwardRef((o,c)=>{const{asChild:u,...f}=o,h=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Ry(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}function nn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>t.current?.(...s),[])}function rk(e,t=globalThis?.document){const s=nn(e);p.useEffect(()=>{const a=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var nk="DismissableLayer",Xf="dismissableLayer.update",sk="dismissableLayer.pointerDownOutside",ik="dismissableLayer.focusOutside",Zx,Ay=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ka=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,g=p.useContext(Ay),[x,b]=p.useState(null),j=x?.ownerDocument??globalThis?.document,[,S]=p.useState({}),P=at(t,W=>b(W)),w=Array.from(g.layers),[y]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(y),C=x?w.indexOf(x):-1,A=g.layersWithOutsidePointerEventsDisabled.size>0,M=C>=k,$=ok(W=>{const J=W.target,ye=[...g.branches].some(ge=>ge.contains(J));!M||ye||(o?.(W),u?.(W),W.defaultPrevented||f?.())},j),G=lk(W=>{const J=W.target;[...g.branches].some(ge=>ge.contains(J))||(c?.(W),u?.(W),W.defaultPrevented||f?.())},j);return rk(W=>{C===g.layers.size-1&&(a?.(W),!W.defaultPrevented&&f&&(W.preventDefault(),f()))},j),p.useEffect(()=>{if(x)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Zx=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),Yx(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Zx)}},[x,j,s,g]),p.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),Yx())},[x,g]),p.useEffect(()=>{const W=()=>S({});return document.addEventListener(Xf,W),()=>document.removeEventListener(Xf,W)},[]),r.jsx(Fe.div,{...h,ref:P,style:{pointerEvents:A?M?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,$.onPointerDownCapture)})});ka.displayName=nk;var ak="DismissableLayerBranch",Iy=p.forwardRef((e,t)=>{const s=p.useContext(Ay),a=p.useRef(null),o=at(t,a);return p.useEffect(()=>{const c=a.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(Fe.div,{...e,ref:o})});Iy.displayName=ak;function ok(e,t=globalThis?.document){const s=nn(e),a=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let h=function(){Oy(sk,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function lk(e,t=globalThis?.document){const s=nn(e),a=p.useRef(!1);return p.useEffect(()=>{const o=c=>{c.target&&!a.current&&Oy(ik,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Yx(){const e=new CustomEvent(Xf);document.dispatchEvent(e)}function Oy(e,t,s,{discrete:a}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),a?Ry(o,c):o.dispatchEvent(c)}var ck=ka,dk=Iy,ur=globalThis?.document?p.useLayoutEffect:()=>{},uk="Portal",Ho=p.forwardRef((e,t)=>{const{container:s,...a}=e,[o,c]=p.useState(!1);ur(()=>c(!0),[]);const u=s||o&&globalThis?.document?.body;return u?Q1.createPortal(r.jsx(Fe.div,{...a,ref:t}),u):null});Ho.displayName=uk;function fk(e,t){return p.useReducer((s,a)=>t[s][a]??s,e)}var Cn=e=>{const{present:t,children:s}=e,a=mk(t),o=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),c=at(a.ref,hk(o));return typeof s=="function"||a.isPresent?p.cloneElement(o,{ref:c}):null};Cn.displayName="Presence";function mk(e){const[t,s]=p.useState(),a=p.useRef(null),o=p.useRef(e),c=p.useRef("none"),u=e?"mounted":"unmounted",[f,h]=fk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const g=mc(a.current);c.current=f==="mounted"?g:"none"},[f]),ur(()=>{const g=a.current,x=o.current;if(x!==e){const j=c.current,S=mc(g);e?h("MOUNT"):S==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&j!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),ur(()=>{if(t){let g;const x=t.ownerDocument.defaultView??window,b=S=>{const w=mc(a.current).includes(CSS.escape(S.animationName));if(S.target===t&&w&&(h("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",g=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},j=S=>{S.target===t&&(c.current=mc(a.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{x.clearTimeout(g),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(g=>{a.current=g?getComputedStyle(g):null,s(g)},[])}}function mc(e){return e?.animationName||"none"}function hk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var pk=km[" useInsertionEffect ".trim().toString()]||ur;function ss({prop:e,defaultProp:t,onChange:s=()=>{},caller:a}){const[o,c,u]=gk({defaultProp:t,onChange:s}),f=e!==void 0,h=f?e:o;{const x=p.useRef(e!==void 0);p.useEffect(()=>{const b=x.current;b!==f&&console.warn(`${a} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,a])}const g=p.useCallback(x=>{if(f){const b=xk(x)?x(e):x;b!==e&&u.current?.(b)}else c(x)},[f,e,c,u]);return[h,g]}function gk({defaultProp:e,onChange:t}){const[s,a]=p.useState(e),o=p.useRef(s),c=p.useRef(t);return pk(()=>{c.current=t},[t]),p.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,a,c]}function xk(e){return typeof e=="function"}var Dy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vk="VisuallyHidden",Yc=p.forwardRef((e,t)=>r.jsx(Fe.span,{...e,ref:t,style:{...Dy,...e.style}}));Yc.displayName=vk;var yk=Yc,Om="ToastProvider",[Dm,bk,wk]=Im("Toast"),[My,_D]=Mr("Toast",[wk]),[jk,Xc]=My(Om),Fy=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=e,[f,h]=p.useState(null),[g,x]=p.useState(0),b=p.useRef(!1),j=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Om}\`. Expected non-empty \`string\`.`),r.jsx(Dm.Provider,{scope:t,children:r.jsx(jk,{scope:t,label:s,duration:a,swipeDirection:o,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:h,onToastAdd:p.useCallback(()=>x(S=>S+1),[]),onToastRemove:p.useCallback(()=>x(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:j,children:u})})};Fy.displayName=Om;var Ly="ToastViewport",Nk=["F8"],Jf="toast.viewportPause",em="toast.viewportResume",By=p.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=Nk,label:o="Notifications ({hotkey})",...c}=e,u=Xc(Ly,s),f=bk(s),h=p.useRef(null),g=p.useRef(null),x=p.useRef(null),b=p.useRef(null),j=at(t,b,u.onViewportChange),S=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;p.useEffect(()=>{const y=k=>{a.length!==0&&a.every(A=>k[A]||k.code===A)&&b.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),p.useEffect(()=>{const y=h.current,k=b.current;if(P&&y&&k){const C=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(Jf);k.dispatchEvent(G),u.isClosePausedRef.current=!0}},A=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(em);k.dispatchEvent(G),u.isClosePausedRef.current=!1}},M=G=>{!y.contains(G.relatedTarget)&&A()},$=()=>{y.contains(document.activeElement)||A()};return y.addEventListener("focusin",C),y.addEventListener("focusout",M),y.addEventListener("pointermove",C),y.addEventListener("pointerleave",$),window.addEventListener("blur",C),window.addEventListener("focus",A),()=>{y.removeEventListener("focusin",C),y.removeEventListener("focusout",M),y.removeEventListener("pointermove",C),y.removeEventListener("pointerleave",$),window.removeEventListener("blur",C),window.removeEventListener("focus",A)}}},[P,u.isClosePausedRef]);const w=p.useCallback(({tabbingDirection:y})=>{const C=f().map(A=>{const M=A.ref.current,$=[M,...Mk(M)];return y==="forwards"?$:$.reverse()});return(y==="forwards"?C.reverse():C).flat()},[f]);return p.useEffect(()=>{const y=b.current;if(y){const k=C=>{const A=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!A){const $=document.activeElement,G=C.shiftKey;if(C.target===y&&G){g.current?.focus();return}const ye=w({tabbingDirection:G?"backwards":"forwards"}),ge=ye.findIndex(xe=>xe===$);jf(ye.slice(ge+1))?C.preventDefault():G?g.current?.focus():x.current?.focus()}};return y.addEventListener("keydown",k),()=>y.removeEventListener("keydown",k)}},[f,w]),r.jsxs(dk,{ref:h,role:"region","aria-label":o.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&r.jsx(tm,{ref:g,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"forwards"});jf(y)}}),r.jsx(Dm.Slot,{scope:s,children:r.jsx(Fe.ol,{tabIndex:-1,...c,ref:j})}),P&&r.jsx(tm,{ref:x,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"backwards"});jf(y)}})]})});By.displayName=Ly;var $y="ToastFocusProxy",tm=p.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...o}=e,c=Xc($y,s);return r.jsx(Yc,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&a()}})});tm.displayName=$y;var Go="Toast",Sk="toast.swipeStart",Ck="toast.swipeMove",kk="toast.swipeCancel",Ek="toast.swipeEnd",Vy=p.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:o,onOpenChange:c,...u}=e,[f,h]=ss({prop:a,defaultProp:o??!0,onChange:c,caller:Go});return r.jsx(Cn,{present:s||f,children:r.jsx(Tk,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:nn(e.onPause),onResume:nn(e.onResume),onSwipeStart:Oe(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(e.onSwipeMove,g=>{const{x,y:b}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Oe(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(e.onSwipeEnd,g=>{const{x,y:b}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),h(!1)})})})});Vy.displayName=Go;var[Pk,_k]=My(Go,{onClose(){}}),Tk=p.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:g,onSwipeStart:x,onSwipeMove:b,onSwipeCancel:j,onSwipeEnd:S,...P}=e,w=Xc(Go,s),[y,k]=p.useState(null),C=at(t,L=>k(L)),A=p.useRef(null),M=p.useRef(null),$=o||w.duration,G=p.useRef(0),W=p.useRef($),J=p.useRef(0),{onToastAdd:ye,onToastRemove:ge}=w,xe=nn(()=>{y?.contains(document.activeElement)&&w.viewport?.focus(),u()}),Y=p.useCallback(L=>{!L||L===1/0||(window.clearTimeout(J.current),G.current=new Date().getTime(),J.current=window.setTimeout(xe,L))},[xe]);p.useEffect(()=>{const L=w.viewport;if(L){const se=()=>{Y(W.current),g?.()},z=()=>{const ee=new Date().getTime()-G.current;W.current=W.current-ee,window.clearTimeout(J.current),h?.()};return L.addEventListener(Jf,z),L.addEventListener(em,se),()=>{L.removeEventListener(Jf,z),L.removeEventListener(em,se)}}},[w.viewport,$,h,g,Y]),p.useEffect(()=>{c&&!w.isClosePausedRef.current&&Y($)},[c,$,w.isClosePausedRef,Y]),p.useEffect(()=>(ye(),()=>ge()),[ye,ge]);const ne=p.useMemo(()=>y?Hy(y):null,[y]);return w.viewport?r.jsxs(r.Fragment,{children:[ne&&r.jsx(Rk,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ne}),r.jsx(Pk,{scope:s,onClose:xe,children:Ca.createPortal(r.jsx(Dm.ItemSlot,{scope:s,children:r.jsx(ck,{asChild:!0,onEscapeKeyDown:Oe(f,()=>{w.isFocusedToastEscapeKeyDownRef.current||xe(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Fe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":w.swipeDirection,...P,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Oe(e.onKeyDown,L=>{L.key==="Escape"&&(f?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,xe()))}),onPointerDown:Oe(e.onPointerDown,L=>{L.button===0&&(A.current={x:L.clientX,y:L.clientY})}),onPointerMove:Oe(e.onPointerMove,L=>{if(!A.current)return;const se=L.clientX-A.current.x,z=L.clientY-A.current.y,ee=!!M.current,B=["left","right"].includes(w.swipeDirection),re=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,oe=B?re(0,se):0,O=B?0:re(0,z),E=L.pointerType==="touch"?10:2,R={x:oe,y:O},X={originalEvent:L,delta:R};ee?(M.current=R,hc(Ck,b,X,{discrete:!1})):Xx(R,w.swipeDirection,E)?(M.current=R,hc(Sk,x,X,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(se)>E||Math.abs(z)>E)&&(A.current=null)}),onPointerUp:Oe(e.onPointerUp,L=>{const se=M.current,z=L.target;if(z.hasPointerCapture(L.pointerId)&&z.releasePointerCapture(L.pointerId),M.current=null,A.current=null,se){const ee=L.currentTarget,B={originalEvent:L,delta:se};Xx(se,w.swipeDirection,w.swipeThreshold)?hc(Ek,S,B,{discrete:!0}):hc(kk,j,B,{discrete:!0}),ee.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Rk=e=>{const{__scopeToast:t,children:s,...a}=e,o=Xc(Go,t),[c,u]=p.useState(!1),[f,h]=p.useState(!1);return Ok(()=>u(!0)),p.useEffect(()=>{const g=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:r.jsx(Ho,{asChild:!0,children:r.jsx(Yc,{...a,children:c&&r.jsxs(r.Fragment,{children:[o.label," ",s]})})})},Ak="ToastTitle",zy=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Fe.div,{...a,ref:t})});zy.displayName=Ak;var Ik="ToastDescription",Uy=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Fe.div,{...a,ref:t})});Uy.displayName=Ik;var qy="ToastAction",Wy=p.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?r.jsx(Qy,{altText:s,asChild:!0,children:r.jsx(Mm,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qy}\`. Expected non-empty \`string\`.`),null)});Wy.displayName=qy;var Ky="ToastClose",Mm=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,o=_k(Ky,s);return r.jsx(Qy,{asChild:!0,children:r.jsx(Fe.button,{type:"button",...a,ref:t,onClick:Oe(e.onClick,o.onClose)})})});Mm.displayName=Ky;var Qy=p.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...o}=e;return r.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:t})});function Hy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Dk(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",c=a.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=a.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Hy(a))}}),t}function hc(e,t,s,{discrete:a}){const o=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),a?Ry(o,c):o.dispatchEvent(c)}var Xx=(e,t,s=0)=>{const a=Math.abs(e.x),o=Math.abs(e.y),c=a>o;return t==="left"||t==="right"?c&&a>s:!c&&o>s};function Ok(e=()=>{}){const t=nn(e);ur(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function Dk(e){return e.nodeType===e.ELEMENT_NODE}function Mk(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function jf(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Fk=Fy,Gy=By,Zy=Vy,Yy=zy,Xy=Uy,Jy=Wy,e0=Mm;function t0(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=t0(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function r0(){for(var e,t,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=t0(e))&&(a&&(a+=" "),a+=t);return a}const Jx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ev=r0,Zo=(e,t)=>s=>{var a;if(t?.variants==null)return ev(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(g=>{const x=s?.[g],b=c?.[g];if(x===null)return null;const j=Jx(x)||Jx(b);return o[g][j]}),f=s&&Object.entries(s).reduce((g,x)=>{let[b,j]=x;return j===void 0||(g[b]=j),g},{}),h=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((g,x)=>{let{class:b,className:j,...S}=x;return Object.entries(S).every(P=>{let[w,y]=P;return Array.isArray(y)?y.includes({...c,...f}[w]):{...c,...f}[w]===y})?[...g,b,j]:g},[]);return ev(e,u,h,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n0=(...e)=>e.filter((t,s,a)=>!!t&&a.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...f},h)=>p.createElement("svg",{ref:h,...Bk,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:n0("lucide",o),...f},[...u.map(([g,x])=>p.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const s=p.forwardRef(({className:a,...o},c)=>p.createElement($k,{ref:c,iconNode:t,className:n0(`lucide-${Lk(e)}`,a),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ht("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ht("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ht("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ht("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ht("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ht("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ht("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ht("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ht("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ht("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ht("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ht("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ht("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$m="-",Yk=e=>{const t=Jk(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const f=u.split($m);return f[0]===""&&f.length!==1&&f.shift(),o0(f,t)||Xk(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&a[u]?[...h,...a[u]]:h}}},o0=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),o=a?o0(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join($m);return t.validators.find(({validator:u})=>u(c))?.classGroupId},sv=/^\[(.+)\]$/,Xk=e=>{if(sv.test(e)){const t=sv.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Jk=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return tE(Object.entries(e.classGroups),s).forEach(([c,u])=>{nm(u,a,c,t)}),a},nm=(e,t,s,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:iv(t,o);c.classGroupId=s;return}if(typeof o=="function"){if(eE(o)){nm(o(a),t,s,a);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{nm(u,iv(t,c),s,a)})})},iv=(e,t)=>{let s=e;return t.split($m).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},eE=e=>e.isThemeGetter,tE=(e,t)=>t?e.map(([s,a])=>{const o=a.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[t+u,f])):c);return[s,o]}):e,rE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const o=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,a=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},l0="!",nE=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,o=t[0],c=t.length,u=f=>{const h=[];let g=0,x=0,b;for(let y=0;y<f.length;y++){let k=f[y];if(g===0){if(k===o&&(a||f.slice(y,y+c)===t)){h.push(f.slice(x,y)),x=y+c;continue}if(k==="/"){b=y;continue}}k==="["?g++:k==="]"&&g--}const j=h.length===0?f:f.substring(x),S=j.startsWith(l0),P=S?j.substring(1):j,w=b&&b>x?b-x:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:P,maybePostfixModifierPosition:w}};return s?f=>s({className:f,parseClassName:u}):u},sE=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},iE=e=>({cache:rE(e.cacheSize),parseClassName:nE(e),...Yk(e)}),aE=/\s+/,oE=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o}=t,c=[],u=e.trim().split(aE);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:S}=s(g);let P=!!S,w=a(P?j.substring(0,S):j);if(!w){if(!P){f=g+(f.length>0?" "+f:f);continue}if(w=a(j),!w){f=g+(f.length>0?" "+f:f);continue}P=!1}const y=sE(x).join(":"),k=b?y+l0:y,C=k+w;if(c.includes(C))continue;c.push(C);const A=o(w,P);for(let M=0;M<A.length;++M){const $=A[M];c.push(k+$)}f=g+(f.length>0?" "+f:f)}return f};function lE(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=c0(t))&&(a&&(a+=" "),a+=s);return a}const c0=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=c0(e[a]))&&(s&&(s+=" "),s+=t);return s};function cE(e,...t){let s,a,o,c=u;function u(h){const g=t.reduce((x,b)=>b(x),e());return s=iE(g),a=s.cache.get,o=s.cache.set,c=f,f(h)}function f(h){const g=a(h);if(g)return g;const x=oE(h,s);return o(h,x),x}return function(){return c(lE.apply(null,arguments))}}const Nt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},d0=/^\[(?:([a-z-]+):)?(.+)\]$/i,dE=/^\d+\/\d+$/,uE=new Set(["px","full","screen"]),fE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xn=e=>da(e)||uE.has(e)||dE.test(e),As=e=>Ea(e,"length",SE),da=e=>!!e&&!Number.isNaN(Number(e)),Cf=e=>Ea(e,"number",da),xo=e=>!!e&&Number.isInteger(Number(e)),xE=e=>e.endsWith("%")&&da(e.slice(0,-1)),tt=e=>d0.test(e),Is=e=>fE.test(e),vE=new Set(["length","size","percentage"]),yE=e=>Ea(e,vE,u0),bE=e=>Ea(e,"position",u0),wE=new Set(["image","url"]),jE=e=>Ea(e,wE,kE),NE=e=>Ea(e,"",CE),vo=()=>!0,Ea=(e,t,s)=>{const a=d0.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},SE=e=>mE.test(e)&&!hE.test(e),u0=()=>!1,CE=e=>pE.test(e),kE=e=>gE.test(e),EE=()=>{const e=Nt("colors"),t=Nt("spacing"),s=Nt("blur"),a=Nt("brightness"),o=Nt("borderColor"),c=Nt("borderRadius"),u=Nt("borderSpacing"),f=Nt("borderWidth"),h=Nt("contrast"),g=Nt("grayscale"),x=Nt("hueRotate"),b=Nt("invert"),j=Nt("gap"),S=Nt("gradientColorStops"),P=Nt("gradientColorStopPositions"),w=Nt("inset"),y=Nt("margin"),k=Nt("opacity"),C=Nt("padding"),A=Nt("saturate"),M=Nt("scale"),$=Nt("sepia"),G=Nt("skew"),W=Nt("space"),J=Nt("translate"),ye=()=>["auto","contain","none"],ge=()=>["auto","hidden","clip","visible","scroll"],xe=()=>["auto",tt,t],Y=()=>[tt,t],ne=()=>["",Xn,As],L=()=>["auto",da,tt],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",tt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[da,tt];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Xn,As],blur:["none","",Is,tt],brightness:O(),borderColor:[e],borderRadius:["none","","full",Is,tt],borderSpacing:Y(),borderWidth:ne(),contrast:O(),grayscale:re(),hueRotate:O(),invert:re(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[xE,As],inset:xe(),margin:xe(),opacity:O(),padding:Y(),saturate:O(),scale:O(),sepia:re(),skew:O(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),tt]}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:ye()}],"overscroll-x":[{"overscroll-x":ye()}],"overscroll-y":[{"overscroll-y":ye()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xo,tt]}],basis:[{basis:xe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",xo,tt]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",xo,tt]},tt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[xo,tt]},tt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[j]}],"gap-x":[{"gap-x":[j]}],"gap-y":[{"gap-y":[j]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",da,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xn,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xn,As]}],"underline-offset":[{"underline-offset":["auto",Xn,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),bE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Xn,tt]}],"outline-w":[{outline:[Xn,As]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Xn,As]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Is,NE]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Is,tt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[b]}],saturate:[{saturate:[A]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[xo,tt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xn,As,Cf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PE=cE(EE);function ke(...e){return PE(r0(e))}const _E=Fk,f0=p.forwardRef(({className:e,...t},s)=>r.jsx(Gy,{ref:s,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));f0.displayName=Gy.displayName;const TE=Zo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m0=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(Zy,{ref:a,className:ke(TE({variant:t}),e),...s}));m0.displayName=Zy.displayName;const RE=p.forwardRef(({className:e,...t},s)=>r.jsx(Jy,{ref:s,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));RE.displayName=Jy.displayName;const h0=p.forwardRef(({className:e,...t},s)=>r.jsx(e0,{ref:s,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(a0,{className:"h-4 w-4"})}));h0.displayName=e0.displayName;const p0=p.forwardRef(({className:e,...t},s)=>r.jsx(Yy,{ref:s,className:ke("text-sm font-semibold",e),...t}));p0.displayName=Yy.displayName;const g0=p.forwardRef(({className:e,...t},s)=>r.jsx(Xy,{ref:s,className:ke("text-sm opacity-90",e),...t}));g0.displayName=Xy.displayName;function AE(){const{toasts:e}=or();return r.jsxs(_E,{children:[e.map(function({id:t,title:s,description:a,action:o,...c}){return r.jsxs(m0,{...c,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(p0,{children:s}),a&&r.jsx(g0,{children:a})]}),o,r.jsx(h0,{})]},t)}),r.jsx(f0,{})]})}var IE=km[" useId ".trim().toString()]||(()=>{}),OE=0;function Sr(e){const[t,s]=p.useState(IE());return ur(()=>{s(a=>a??String(OE++))},[e]),t?`radix-${t}`:""}const DE=["top","right","bottom","left"],Bs=Math.min,Ur=Math.max,Pc=Math.round,pc=Math.floor,Ln=e=>({x:e,y:e}),ME={left:"right",right:"left",bottom:"top",top:"bottom"},FE={start:"end",end:"start"};function sm(e,t,s){return Ur(e,Bs(t,s))}function is(e,t){return typeof e=="function"?e(t):e}function as(e){return e.split("-")[0]}function Pa(e){return e.split("-")[1]}function Vm(e){return e==="x"?"y":"x"}function zm(e){return e==="y"?"height":"width"}const LE=new Set(["top","bottom"]);function Mn(e){return LE.has(as(e))?"y":"x"}function Um(e){return Vm(Mn(e))}function BE(e,t,s){s===void 0&&(s=!1);const a=Pa(e),o=Um(e),c=zm(o);let u=o==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=_c(u)),[u,_c(u)]}function $E(e){const t=_c(e);return[im(e),t,im(t)]}function im(e){return e.replace(/start|end/g,t=>FE[t])}const av=["left","right"],ov=["right","left"],VE=["top","bottom"],zE=["bottom","top"];function UE(e,t,s){switch(e){case"top":case"bottom":return s?t?ov:av:t?av:ov;case"left":case"right":return t?VE:zE;default:return[]}}function qE(e,t,s,a){const o=Pa(e);let c=UE(as(e),s==="start",a);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(im)))),c}function _c(e){return e.replace(/left|right|bottom|top/g,t=>ME[t])}function WE(e){return{top:0,right:0,bottom:0,left:0,...e}}function x0(e){return typeof e!="number"?WE(e):{top:e,right:e,bottom:e,left:e}}function Tc(e){const{x:t,y:s,width:a,height:o}=e;return{width:a,height:o,top:s,left:t,right:t+a,bottom:s+o,x:t,y:s}}function lv(e,t,s){let{reference:a,floating:o}=e;const c=Mn(t),u=Um(t),f=zm(u),h=as(t),g=c==="y",x=a.x+a.width/2-o.width/2,b=a.y+a.height/2-o.height/2,j=a[f]/2-o[f]/2;let S;switch(h){case"top":S={x,y:a.y-o.height};break;case"bottom":S={x,y:a.y+a.height};break;case"right":S={x:a.x+a.width,y:b};break;case"left":S={x:a.x-o.width,y:b};break;default:S={x:a.x,y:a.y}}switch(Pa(t)){case"start":S[u]-=j*(s&&g?-1:1);break;case"end":S[u]+=j*(s&&g?-1:1);break}return S}const KE=async(e,t,s)=>{const{placement:a="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:e,floating:t,strategy:o}),{x,y:b}=lv(g,a,h),j=a,S={},P=0;for(let w=0;w<f.length;w++){const{name:y,fn:k}=f[w],{x:C,y:A,data:M,reset:$}=await k({x,y:b,initialPlacement:a,placement:j,strategy:o,middlewareData:S,rects:g,platform:u,elements:{reference:e,floating:t}});x=C??x,b=A??b,S={...S,[y]:{...S[y],...M}},$&&P<=50&&(P++,typeof $=="object"&&($.placement&&(j=$.placement),$.rects&&(g=$.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):$.rects),{x,y:b}=lv(g,j,h)),w=-1)}return{x,y:b,placement:j,strategy:o,middlewareData:S}};async function Po(e,t){var s;t===void 0&&(t={});const{x:a,y:o,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:b="floating",altBoundary:j=!1,padding:S=0}=is(t,e),P=x0(S),y=f[j?b==="floating"?"reference":"floating":b],k=Tc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(y)))==null||s?y:y.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:h})),C=b==="floating"?{x:a,y:o,width:u.floating.width,height:u.floating.height}:u.reference,A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),M=await(c.isElement==null?void 0:c.isElement(A))?await(c.getScale==null?void 0:c.getScale(A))||{x:1,y:1}:{x:1,y:1},$=Tc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:A,strategy:h}):C);return{top:(k.top-$.top+P.top)/M.y,bottom:($.bottom-k.bottom+P.bottom)/M.y,left:(k.left-$.left+P.left)/M.x,right:($.right-k.right+P.right)/M.x}}const QE=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:o,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:g,padding:x=0}=is(e,t)||{};if(g==null)return{};const b=x0(x),j={x:s,y:a},S=Um(o),P=zm(S),w=await u.getDimensions(g),y=S==="y",k=y?"top":"left",C=y?"bottom":"right",A=y?"clientHeight":"clientWidth",M=c.reference[P]+c.reference[S]-j[S]-c.floating[P],$=j[S]-c.reference[S],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let W=G?G[A]:0;(!W||!await(u.isElement==null?void 0:u.isElement(G)))&&(W=f.floating[A]||c.floating[P]);const J=M/2-$/2,ye=W/2-w[P]/2-1,ge=Bs(b[k],ye),xe=Bs(b[C],ye),Y=ge,ne=W-w[P]-xe,L=W/2-w[P]/2+J,se=sm(Y,L,ne),z=!h.arrow&&Pa(o)!=null&&L!==se&&c.reference[P]/2-(L<Y?ge:xe)-w[P]/2<0,ee=z?L<Y?L-Y:L-ne:0;return{[S]:j[S]+ee,data:{[S]:se,centerOffset:L-se-ee,...z&&{alignmentOffset:ee}},reset:z}}}),HE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:g}=t,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:j,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:w=!0,...y}=is(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const k=as(o),C=Mn(f),A=as(f)===f,M=await(h.isRTL==null?void 0:h.isRTL(g.floating)),$=j||(A||!w?[_c(f)]:$E(f)),G=P!=="none";!j&&G&&$.push(...qE(f,w,P,M));const W=[f,...$],J=await Po(t,y),ye=[];let ge=((a=c.flip)==null?void 0:a.overflows)||[];if(x&&ye.push(J[k]),b){const L=BE(o,u,M);ye.push(J[L[0]],J[L[1]])}if(ge=[...ge,{placement:o,overflows:ye}],!ye.every(L=>L<=0)){var xe,Y;const L=(((xe=c.flip)==null?void 0:xe.index)||0)+1,se=W[L];if(se&&(!(b==="alignment"?C!==Mn(se):!1)||ge.every(B=>Mn(B.placement)===C?B.overflows[0]>0:!0)))return{data:{index:L,overflows:ge},reset:{placement:se}};let z=(Y=ge.filter(ee=>ee.overflows[0]<=0).sort((ee,B)=>ee.overflows[1]-B.overflows[1])[0])==null?void 0:Y.placement;if(!z)switch(S){case"bestFit":{var ne;const ee=(ne=ge.filter(B=>{if(G){const re=Mn(B.placement);return re===C||re==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(re=>re>0).reduce((re,oe)=>re+oe,0)]).sort((B,re)=>B[1]-re[1])[0])==null?void 0:ne[0];ee&&(z=ee);break}case"initialPlacement":z=f;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function cv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dv(e){return DE.some(t=>e[t]>=0)}const GE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...o}=is(e,t);switch(a){case"referenceHidden":{const c=await Po(t,{...o,elementContext:"reference"}),u=cv(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:dv(u)}}}case"escaped":{const c=await Po(t,{...o,altBoundary:!0}),u=cv(c,s.floating);return{data:{escapedOffsets:u,escaped:dv(u)}}}default:return{}}}}},v0=new Set(["left","top"]);async function ZE(e,t){const{placement:s,platform:a,elements:o}=e,c=await(a.isRTL==null?void 0:a.isRTL(o.floating)),u=as(s),f=Pa(s),h=Mn(s)==="y",g=v0.has(u)?-1:1,x=c&&h?-1:1,b=is(t,e);let{mainAxis:j,crossAxis:S,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof P=="number"&&(S=f==="end"?P*-1:P),h?{x:S*x,y:j*g}:{x:j*g,y:S*x}}const YE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:o,y:c,placement:u,middlewareData:f}=t,h=await ZE(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:u}}}}},XE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:y=>{let{x:k,y:C}=y;return{x:k,y:C}}},...h}=is(e,t),g={x:s,y:a},x=await Po(t,h),b=Mn(as(o)),j=Vm(b);let S=g[j],P=g[b];if(c){const y=j==="y"?"top":"left",k=j==="y"?"bottom":"right",C=S+x[y],A=S-x[k];S=sm(C,S,A)}if(u){const y=b==="y"?"top":"left",k=b==="y"?"bottom":"right",C=P+x[y],A=P-x[k];P=sm(C,P,A)}const w=f.fn({...t,[j]:S,[b]:P});return{...w,data:{x:w.x-s,y:w.y-a,enabled:{[j]:c,[b]:u}}}}}},JE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:o,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=is(e,t),x={x:s,y:a},b=Mn(o),j=Vm(b);let S=x[j],P=x[b];const w=is(f,t),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(h){const A=j==="y"?"height":"width",M=c.reference[j]-c.floating[A]+y.mainAxis,$=c.reference[j]+c.reference[A]-y.mainAxis;S<M?S=M:S>$&&(S=$)}if(g){var k,C;const A=j==="y"?"width":"height",M=v0.has(as(o)),$=c.reference[b]-c.floating[A]+(M&&((k=u.offset)==null?void 0:k[b])||0)+(M?0:y.crossAxis),G=c.reference[b]+c.reference[A]+(M?0:((C=u.offset)==null?void 0:C[b])||0)-(M?y.crossAxis:0);P<$?P=$:P>G&&(P=G)}return{[j]:S,[b]:P}}}},eP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:o,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...g}=is(e,t),x=await Po(t,g),b=as(o),j=Pa(o),S=Mn(o)==="y",{width:P,height:w}=c.floating;let y,k;b==="top"||b==="bottom"?(y=b,k=j===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=b,y=j==="end"?"top":"bottom");const C=w-x.top-x.bottom,A=P-x.left-x.right,M=Bs(w-x[y],C),$=Bs(P-x[k],A),G=!t.middlewareData.shift;let W=M,J=$;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(J=A),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(W=C),G&&!j){const ge=Ur(x.left,0),xe=Ur(x.right,0),Y=Ur(x.top,0),ne=Ur(x.bottom,0);S?J=P-2*(ge!==0||xe!==0?ge+xe:Ur(x.left,x.right)):W=w-2*(Y!==0||ne!==0?Y+ne:Ur(x.top,x.bottom))}await h({...t,availableWidth:J,availableHeight:W});const ye=await u.getDimensions(f.floating);return P!==ye.width||w!==ye.height?{reset:{rects:!0}}:{}}}};function Jc(){return typeof window<"u"}function _a(e){return y0(e)?(e.nodeName||"").toLowerCase():"#document"}function qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Un(e){var t;return(t=(y0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y0(e){return Jc()?e instanceof Node||e instanceof qr(e).Node:!1}function wn(e){return Jc()?e instanceof Element||e instanceof qr(e).Element:!1}function $n(e){return Jc()?e instanceof HTMLElement||e instanceof qr(e).HTMLElement:!1}function uv(e){return!Jc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qr(e).ShadowRoot}const tP=new Set(["inline","contents"]);function Yo(e){const{overflow:t,overflowX:s,overflowY:a,display:o}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!tP.has(o)}const rP=new Set(["table","td","th"]);function nP(e){return rP.has(_a(e))}const sP=[":popover-open",":modal"];function ed(e){return sP.some(t=>{try{return e.matches(t)}catch{return!1}})}const iP=["transform","translate","scale","rotate","perspective"],aP=["transform","translate","scale","rotate","perspective","filter"],oP=["paint","layout","strict","content"];function qm(e){const t=Wm(),s=wn(e)?jn(e):e;return iP.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||aP.some(a=>(s.willChange||"").includes(a))||oP.some(a=>(s.contain||"").includes(a))}function lP(e){let t=$s(e);for(;$n(t)&&!va(t);){if(qm(t))return t;if(ed(t))return null;t=$s(t)}return null}function Wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cP=new Set(["html","body","#document"]);function va(e){return cP.has(_a(e))}function jn(e){return qr(e).getComputedStyle(e)}function td(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $s(e){if(_a(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uv(e)&&e.host||Un(e);return uv(t)?t.host:t}function b0(e){const t=$s(e);return va(t)?e.ownerDocument?e.ownerDocument.body:e.body:$n(t)&&Yo(t)?t:b0(t)}function _o(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=b0(e),c=o===((a=e.ownerDocument)==null?void 0:a.body),u=qr(o);if(c){const f=am(u);return t.concat(u,u.visualViewport||[],Yo(o)?o:[],f&&s?_o(f):[])}return t.concat(o,_o(o,[],s))}function am(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w0(e){const t=jn(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const o=$n(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:a,f=Pc(s)!==c||Pc(a)!==u;return f&&(s=c,a=u),{width:s,height:a,$:f}}function Km(e){return wn(e)?e:e.contextElement}function ua(e){const t=Km(e);if(!$n(t))return Ln(1);const s=t.getBoundingClientRect(),{width:a,height:o,$:c}=w0(t);let u=(c?Pc(s.width):s.width)/a,f=(c?Pc(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const dP=Ln(0);function j0(e){const t=qr(e);return!Wm()||!t.visualViewport?dP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uP(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==qr(e)?!1:t}function yi(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=Km(e);let u=Ln(1);t&&(a?wn(a)&&(u=ua(a)):u=ua(e));const f=uP(c,s,a)?j0(c):Ln(0);let h=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,b=o.height/u.y;if(c){const j=qr(c),S=a&&wn(a)?qr(a):a;let P=j,w=am(P);for(;w&&a&&S!==P;){const y=ua(w),k=w.getBoundingClientRect(),C=jn(w),A=k.left+(w.clientLeft+parseFloat(C.paddingLeft))*y.x,M=k.top+(w.clientTop+parseFloat(C.paddingTop))*y.y;h*=y.x,g*=y.y,x*=y.x,b*=y.y,h+=A,g+=M,P=qr(w),w=am(P)}}return Tc({width:x,height:b,x:h,y:g})}function rd(e,t){const s=td(e).scrollLeft;return t?t.left+s:yi(Un(e)).left+s}function N0(e,t){const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-rd(e,s),o=s.top+t.scrollTop;return{x:a,y:o}}function fP(e){let{elements:t,rect:s,offsetParent:a,strategy:o}=e;const c=o==="fixed",u=Un(a),f=t?ed(t.floating):!1;if(a===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},g=Ln(1);const x=Ln(0),b=$n(a);if((b||!b&&!c)&&((_a(a)!=="body"||Yo(u))&&(h=td(a)),$n(a))){const S=yi(a);g=ua(a),x.x=S.x+a.clientLeft,x.y=S.y+a.clientTop}const j=u&&!b&&!c?N0(u,h):Ln(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-h.scrollLeft*g.x+x.x+j.x,y:s.y*g.y-h.scrollTop*g.y+x.y+j.y}}function mP(e){return Array.from(e.getClientRects())}function hP(e){const t=Un(e),s=td(e),a=e.ownerDocument.body,o=Ur(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=Ur(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let u=-s.scrollLeft+rd(e);const f=-s.scrollTop;return jn(a).direction==="rtl"&&(u+=Ur(t.clientWidth,a.clientWidth)-o),{width:o,height:c,x:u,y:f}}const fv=25;function pP(e,t){const s=qr(e),a=Un(e),o=s.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,h=0;if(o){c=o.width,u=o.height;const x=Wm();(!x||x&&t==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const g=rd(a);if(g<=0){const x=a.ownerDocument,b=x.body,j=getComputedStyle(b),S=x.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,P=Math.abs(a.clientWidth-b.clientWidth-S);P<=fv&&(c-=P)}else g<=fv&&(c+=g);return{width:c,height:u,x:f,y:h}}const gP=new Set(["absolute","fixed"]);function xP(e,t){const s=yi(e,!0,t==="fixed"),a=s.top+e.clientTop,o=s.left+e.clientLeft,c=$n(e)?ua(e):Ln(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=o*c.x,g=a*c.y;return{width:u,height:f,x:h,y:g}}function mv(e,t,s){let a;if(t==="viewport")a=pP(e,s);else if(t==="document")a=hP(Un(e));else if(wn(t))a=xP(t,s);else{const o=j0(e);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Tc(a)}function S0(e,t){const s=$s(e);return s===t||!wn(s)||va(s)?!1:jn(s).position==="fixed"||S0(s,t)}function vP(e,t){const s=t.get(e);if(s)return s;let a=_o(e,[],!1).filter(f=>wn(f)&&_a(f)!=="body"),o=null;const c=jn(e).position==="fixed";let u=c?$s(e):e;for(;wn(u)&&!va(u);){const f=jn(u),h=qm(u);!h&&f.position==="fixed"&&(o=null),(c?!h&&!o:!h&&f.position==="static"&&!!o&&gP.has(o.position)||Yo(u)&&!h&&S0(e,u))?a=a.filter(x=>x!==u):o=f,u=$s(u)}return t.set(e,a),a}function yP(e){let{element:t,boundary:s,rootBoundary:a,strategy:o}=e;const u=[...s==="clippingAncestors"?ed(t)?[]:vP(t,this._c):[].concat(s),a],f=u[0],h=u.reduce((g,x)=>{const b=mv(t,x,o);return g.top=Ur(b.top,g.top),g.right=Bs(b.right,g.right),g.bottom=Bs(b.bottom,g.bottom),g.left=Ur(b.left,g.left),g},mv(t,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function bP(e){const{width:t,height:s}=w0(e);return{width:t,height:s}}function wP(e,t,s){const a=$n(t),o=Un(t),c=s==="fixed",u=yi(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Ln(0);function g(){h.x=rd(o)}if(a||!a&&!c)if((_a(t)!=="body"||Yo(o))&&(f=td(t)),a){const S=yi(t,!0,c,t);h.x=S.x+t.clientLeft,h.y=S.y+t.clientTop}else o&&g();c&&!a&&o&&g();const x=o&&!a&&!c?N0(o,f):Ln(0),b=u.left+f.scrollLeft-h.x-x.x,j=u.top+f.scrollTop-h.y-x.y;return{x:b,y:j,width:u.width,height:u.height}}function kf(e){return jn(e).position==="static"}function hv(e,t){if(!$n(e)||jn(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Un(e)===s&&(s=s.ownerDocument.body),s}function C0(e,t){const s=qr(e);if(ed(e))return s;if(!$n(e)){let o=$s(e);for(;o&&!va(o);){if(wn(o)&&!kf(o))return o;o=$s(o)}return s}let a=hv(e,t);for(;a&&nP(a)&&kf(a);)a=hv(a,t);return a&&va(a)&&kf(a)&&!qm(a)?s:a||lP(e)||s}const jP=async function(e){const t=this.getOffsetParent||C0,s=this.getDimensions,a=await s(e.floating);return{reference:wP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function NP(e){return jn(e).direction==="rtl"}const SP={convertOffsetParentRelativeRectToViewportRelativeRect:fP,getDocumentElement:Un,getClippingRect:yP,getOffsetParent:C0,getElementRects:jP,getClientRects:mP,getDimensions:bP,getScale:ua,isElement:wn,isRTL:NP};function k0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CP(e,t){let s=null,a;const o=Un(e);function c(){var f;clearTimeout(a),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:x,top:b,width:j,height:S}=g;if(f||t(),!j||!S)return;const P=pc(b),w=pc(o.clientWidth-(x+j)),y=pc(o.clientHeight-(b+S)),k=pc(x),A={rootMargin:-P+"px "+-w+"px "+-y+"px "+-k+"px",threshold:Ur(0,Bs(1,h))||1};let M=!0;function $(G){const W=G[0].intersectionRatio;if(W!==h){if(!M)return u();W?u(!1,W):a=setTimeout(()=>{u(!1,1e-7)},1e3)}W===1&&!k0(g,e.getBoundingClientRect())&&u(),M=!1}try{s=new IntersectionObserver($,{...A,root:o.ownerDocument})}catch{s=new IntersectionObserver($,A)}s.observe(e)}return u(!0),c}function kP(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,g=Km(e),x=o||c?[...g?_o(g):[],..._o(t)]:[];x.forEach(k=>{o&&k.addEventListener("scroll",s,{passive:!0}),c&&k.addEventListener("resize",s)});const b=g&&f?CP(g,s):null;let j=-1,S=null;u&&(S=new ResizeObserver(k=>{let[C]=k;C&&C.target===g&&S&&(S.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var A;(A=S)==null||A.observe(t)})),s()}),g&&!h&&S.observe(g),S.observe(t));let P,w=h?yi(e):null;h&&y();function y(){const k=yi(e);w&&!k0(w,k)&&s(),w=k,P=requestAnimationFrame(y)}return s(),()=>{var k;x.forEach(C=>{o&&C.removeEventListener("scroll",s),c&&C.removeEventListener("resize",s)}),b?.(),(k=S)==null||k.disconnect(),S=null,h&&cancelAnimationFrame(P)}}const EP=YE,PP=XE,_P=HE,TP=eP,RP=GE,pv=QE,AP=JE,IP=(e,t,s)=>{const a=new Map,o={platform:SP,...s},c={...o.platform,_c:a};return KE(e,t,{...o,platform:c})};var OP=typeof document<"u",DP=function(){},jc=OP?p.useLayoutEffect:DP;function Rc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!Rc(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=s;a--!==0;){const c=o[a];if(!(c==="_owner"&&e.$$typeof)&&!Rc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function E0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gv(e,t){const s=E0(e);return Math.round(t*s)/s}function Ef(e){const t=p.useRef(e);return jc(()=>{t.current=e}),t}function MP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=e,[x,b]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[j,S]=p.useState(a);Rc(j,a)||S(a);const[P,w]=p.useState(null),[y,k]=p.useState(null),C=p.useCallback(B=>{B!==G.current&&(G.current=B,w(B))},[]),A=p.useCallback(B=>{B!==W.current&&(W.current=B,k(B))},[]),M=c||P,$=u||y,G=p.useRef(null),W=p.useRef(null),J=p.useRef(x),ye=h!=null,ge=Ef(h),xe=Ef(o),Y=Ef(g),ne=p.useCallback(()=>{if(!G.current||!W.current)return;const B={placement:t,strategy:s,middleware:j};xe.current&&(B.platform=xe.current),IP(G.current,W.current,B).then(re=>{const oe={...re,isPositioned:Y.current!==!1};L.current&&!Rc(J.current,oe)&&(J.current=oe,Ca.flushSync(()=>{b(oe)}))})},[j,t,s,xe,Y]);jc(()=>{g===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,b(B=>({...B,isPositioned:!1})))},[g]);const L=p.useRef(!1);jc(()=>(L.current=!0,()=>{L.current=!1}),[]),jc(()=>{if(M&&(G.current=M),$&&(W.current=$),M&&$){if(ge.current)return ge.current(M,$,ne);ne()}},[M,$,ne,ge,ye]);const se=p.useMemo(()=>({reference:G,floating:W,setReference:C,setFloating:A}),[C,A]),z=p.useMemo(()=>({reference:M,floating:$}),[M,$]),ee=p.useMemo(()=>{const B={position:s,left:0,top:0};if(!z.floating)return B;const re=gv(z.floating,x.x),oe=gv(z.floating,x.y);return f?{...B,transform:"translate("+re+"px, "+oe+"px)",...E0(z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:re,top:oe}},[s,f,z.floating,x.x,x.y]);return p.useMemo(()=>({...x,update:ne,refs:se,elements:z,floatingStyles:ee}),[x,ne,se,z,ee])}const FP=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:o}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?pv({element:a.current,padding:o}).fn(s):{}:a?pv({element:a,padding:o}).fn(s):{}}}},LP=(e,t)=>({...EP(e),options:[e,t]}),BP=(e,t)=>({...PP(e),options:[e,t]}),$P=(e,t)=>({...AP(e),options:[e,t]}),VP=(e,t)=>({..._P(e),options:[e,t]}),zP=(e,t)=>({...TP(e),options:[e,t]}),UP=(e,t)=>({...RP(e),options:[e,t]}),qP=(e,t)=>({...FP(e),options:[e,t]});var WP="Arrow",P0=p.forwardRef((e,t)=>{const{children:s,width:a=10,height:o=5,...c}=e;return r.jsx(Fe.svg,{...c,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});P0.displayName=WP;var KP=P0;function Qm(e){const[t,s]=p.useState(void 0);return ur(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var Hm="Popper",[_0,Ta]=Mr(Hm),[QP,T0]=_0(Hm),R0=e=>{const{__scopePopper:t,children:s}=e,[a,o]=p.useState(null);return r.jsx(QP,{scope:t,anchor:a,onAnchorChange:o,children:s})};R0.displayName=Hm;var A0="PopperAnchor",I0=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...o}=e,c=T0(A0,s),u=p.useRef(null),f=at(t,u),h=p.useRef(null);return p.useEffect(()=>{const g=h.current;h.current=a?.current||u.current,g!==h.current&&c.onAnchorChange(h.current)}),a?null:r.jsx(Fe.div,{...o,ref:f})});I0.displayName=A0;var Gm="PopperContent",[HP,GP]=_0(Gm),O0=p.forwardRef((e,t)=>{const{__scopePopper:s,side:a="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:b="partial",hideWhenDetached:j=!1,updatePositionStrategy:S="optimized",onPlaced:P,...w}=e,y=T0(Gm,s),[k,C]=p.useState(null),A=at(t,te=>C(te)),[M,$]=p.useState(null),G=Qm(M),W=G?.width??0,J=G?.height??0,ye=a+(c!=="center"?"-"+c:""),ge=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},xe=Array.isArray(g)?g:[g],Y=xe.length>0,ne={padding:ge,boundary:xe.filter(YP),altBoundary:Y},{refs:L,floatingStyles:se,placement:z,isPositioned:ee,middlewareData:B}=MP({strategy:"fixed",placement:ye,whileElementsMounted:(...te)=>kP(...te,{animationFrame:S==="always"}),elements:{reference:y.anchor},middleware:[LP({mainAxis:o+J,alignmentAxis:u}),h&&BP({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?$P():void 0,...ne}),h&&VP({...ne}),zP({...ne,apply:({elements:te,rects:Ne,availableWidth:Te,availableHeight:$e})=>{const{width:lt,height:ut}=Ne.reference,Wt=te.floating.style;Wt.setProperty("--radix-popper-available-width",`${Te}px`),Wt.setProperty("--radix-popper-available-height",`${$e}px`),Wt.setProperty("--radix-popper-anchor-width",`${lt}px`),Wt.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),M&&qP({element:M,padding:f}),XP({arrowWidth:W,arrowHeight:J}),j&&UP({strategy:"referenceHidden",...ne})]}),[re,oe]=F0(z),O=nn(P);ur(()=>{ee&&O?.()},[ee,O]);const E=B.arrow?.x,R=B.arrow?.y,X=B.arrow?.centerOffset!==0,[Z,de]=p.useState();return ur(()=>{k&&de(window.getComputedStyle(k).zIndex)},[k]),r.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ee?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(HP,{scope:s,placedSide:re,onArrowChange:$,arrowX:E,arrowY:R,shouldHideArrow:X,children:r.jsx(Fe.div,{"data-side":re,"data-align":oe,...w,ref:A,style:{...w.style,animation:ee?void 0:"none"}})})})});O0.displayName=Gm;var D0="PopperArrow",ZP={top:"bottom",right:"left",bottom:"top",left:"right"},M0=p.forwardRef(function(t,s){const{__scopePopper:a,...o}=t,c=GP(D0,a),u=ZP[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(KP,{...o,ref:s,style:{...o.style,display:"block"}})})});M0.displayName=D0;function YP(e){return e!==null}var XP=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:a,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,x]=F0(s),b={start:"0%",center:"50%",end:"100%"}[x],j=(o.arrow?.x??0)+f/2,S=(o.arrow?.y??0)+h/2;let P="",w="";return g==="bottom"?(P=u?b:`${j}px`,w=`${-h}px`):g==="top"?(P=u?b:`${j}px`,w=`${a.floating.height+h}px`):g==="right"?(P=`${-h}px`,w=u?b:`${S}px`):g==="left"&&(P=`${a.floating.width+h}px`,w=u?b:`${S}px`),{data:{x:P,y:w}}}});function F0(e){const[t,s="center"]=e.split("-");return[t,s]}var L0=R0,nd=I0,Zm=O0,Ym=M0,[sd,TD]=Mr("Tooltip",[Ta]),Xm=Ta(),B0="TooltipProvider",JP=700,xv="tooltip.open",[e_,$0]=sd(B0),V0=e=>{const{__scopeTooltip:t,delayDuration:s=JP,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:c}=e,u=p.useRef(!0),f=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),r.jsx(e_,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:p.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:c})};V0.displayName=B0;var z0="Tooltip",[RD,id]=sd(z0),om="TooltipTrigger",t_=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,o=id(om,s),c=$0(om,s),u=Xm(s),f=p.useRef(null),h=at(t,f,o.onTriggerChange),g=p.useRef(!1),x=p.useRef(!1),b=p.useCallback(()=>g.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),r.jsx(nd,{asChild:!0,...u,children:r.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:h,onPointerMove:Oe(e.onPointerMove,j=>{j.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),x.current=!0)}),onPointerLeave:Oe(e.onPointerLeave,()=>{o.onTriggerLeave(),x.current=!1}),onPointerDown:Oe(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Oe(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Oe(e.onBlur,o.onClose),onClick:Oe(e.onClick,o.onClose)})})});t_.displayName=om;var r_="TooltipPortal",[AD,n_]=sd(r_,{forceMount:void 0}),ya="TooltipContent",U0=p.forwardRef((e,t)=>{const s=n_(ya,e.__scopeTooltip),{forceMount:a=s.forceMount,side:o="top",...c}=e,u=id(ya,e.__scopeTooltip);return r.jsx(Cn,{present:a||u.open,children:u.disableHoverableContent?r.jsx(q0,{side:o,...c,ref:t}):r.jsx(s_,{side:o,...c,ref:t})})}),s_=p.forwardRef((e,t)=>{const s=id(ya,e.__scopeTooltip),a=$0(ya,e.__scopeTooltip),o=p.useRef(null),c=at(t,o),[u,f]=p.useState(null),{trigger:h,onClose:g}=s,x=o.current,{onPointerInTransitChange:b}=a,j=p.useCallback(()=>{f(null),b(!1)},[b]),S=p.useCallback((P,w)=>{const y=P.currentTarget,k={x:P.clientX,y:P.clientY},C=c_(k,y.getBoundingClientRect()),A=d_(k,C),M=u_(w.getBoundingClientRect()),$=m_([...A,...M]);f($),b(!0)},[b]);return p.useEffect(()=>()=>j(),[j]),p.useEffect(()=>{if(h&&x){const P=y=>S(y,x),w=y=>S(y,h);return h.addEventListener("pointerleave",P),x.addEventListener("pointerleave",w),()=>{h.removeEventListener("pointerleave",P),x.removeEventListener("pointerleave",w)}}},[h,x,S,j]),p.useEffect(()=>{if(u){const P=w=>{const y=w.target,k={x:w.clientX,y:w.clientY},C=h?.contains(y)||x?.contains(y),A=!f_(k,u);C?j():A&&(j(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[h,x,u,g,j]),r.jsx(q0,{...e,ref:c})}),[i_,a_]=sd(z0,{isInside:!1}),o_=Ty("TooltipContent"),q0=p.forwardRef((e,t)=>{const{__scopeTooltip:s,children:a,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=id(ya,s),g=Xm(s),{onClose:x}=h;return p.useEffect(()=>(document.addEventListener(xv,x),()=>document.removeEventListener(xv,x)),[x]),p.useEffect(()=>{if(h.trigger){const b=j=>{j.target?.contains(h.trigger)&&x()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[h.trigger,x]),r.jsx(ka,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:x,children:r.jsxs(Zm,{"data-state":h.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(o_,{children:a}),r.jsx(i_,{scope:s,isInside:!0,children:r.jsx(yk,{id:h.contentId,role:"tooltip",children:o||a})})]})})});U0.displayName=ya;var W0="TooltipArrow",l_=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,o=Xm(s);return a_(W0,s).isInside?null:r.jsx(Ym,{...o,...a,ref:t})});l_.displayName=W0;function c_(e,t){const s=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,a,o,c)){case c:return"left";case o:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function d_(e,t,s=5){const a=[];switch(t){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function u_(e){const{top:t,right:s,bottom:a,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:a},{x:o,y:a}]}function f_(e,t){const{x:s,y:a}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],h=t[u],g=f.x,x=f.y,b=h.x,j=h.y;x>a!=j>a&&s<(b-g)*(a-x)/(j-x)+g&&(o=!o)}return o}function m_(e){const t=e.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),h_(t)}function h_(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const o=e[a];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let a=e.length-1;a>=0;a--){const o=e[a];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var p_=V0,K0=U0;const g_=p_,x_=p.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(K0,{ref:a,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));x_.displayName=K0.displayName;const me=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const We=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));We.displayName="CardHeader";const Qe=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qe.displayName="CardTitle";const ct=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));ct.displayName="CardDescription";const he=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("p-6 pt-0",e),...t}));he.displayName="CardContent";const v_=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("flex items-center p-6 pt-0",e),...t}));v_.displayName="CardFooter";const Jm=Zo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=p.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...o},c)=>{const u=a?Z1:"button";return r.jsx(u,{className:ke(Jm({variant:t,size:s,className:e})),ref:c,...o})});Q.displayName="Button";var Pf="focusScope.autoFocusOnMount",_f="focusScope.autoFocusOnUnmount",vv={bubbles:!1,cancelable:!0},y_="FocusScope",ad=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[f,h]=p.useState(null),g=nn(o),x=nn(c),b=p.useRef(null),j=at(t,w=>h(w)),S=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let w=function(A){if(S.paused||!f)return;const M=A.target;f.contains(M)?b.current=M:Os(b.current,{select:!0})},y=function(A){if(S.paused||!f)return;const M=A.relatedTarget;M!==null&&(f.contains(M)||Os(b.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const $ of A)$.removedNodes.length>0&&Os(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const C=new MutationObserver(k);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),C.disconnect()}}},[a,f,S.paused]),p.useEffect(()=>{if(f){bv.add(S);const w=document.activeElement;if(!f.contains(w)){const k=new CustomEvent(Pf,vv);f.addEventListener(Pf,g),f.dispatchEvent(k),k.defaultPrevented||(b_(C_(Q0(f)),{select:!0}),document.activeElement===w&&Os(f))}return()=>{f.removeEventListener(Pf,g),setTimeout(()=>{const k=new CustomEvent(_f,vv);f.addEventListener(_f,x),f.dispatchEvent(k),k.defaultPrevented||Os(w??document.body,{select:!0}),f.removeEventListener(_f,x),bv.remove(S)},0)}}},[f,g,x,S]);const P=p.useCallback(w=>{if(!s&&!a||S.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(y&&k){const C=w.currentTarget,[A,M]=w_(C);A&&M?!w.shiftKey&&k===M?(w.preventDefault(),s&&Os(A,{select:!0})):w.shiftKey&&k===A&&(w.preventDefault(),s&&Os(M,{select:!0})):k===C&&w.preventDefault()}},[s,a,S.paused]);return r.jsx(Fe.div,{tabIndex:-1,...u,ref:j,onKeyDown:P})});ad.displayName=y_;function b_(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if(Os(a,{select:t}),document.activeElement!==s)return}function w_(e){const t=Q0(e),s=yv(t,e),a=yv(t.reverse(),e);return[s,a]}function Q0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function yv(e,t){for(const s of e)if(!j_(s,{upTo:t}))return s}function j_(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function N_(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&N_(e)&&t&&e.select()}}var bv=S_();function S_(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=wv(e,t),e.unshift(t)},remove(t){e=wv(e,t),e[0]?.resume()}}}function wv(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function C_(e){return e.filter(t=>t.tagName!=="A")}var Tf=0;function eh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jv()),document.body.insertAdjacentElement("beforeend",e[1]??jv()),Tf++,()=>{Tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tf--}},[])}function jv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var On=function(){return On=Object.assign||function(t){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},On.apply(this,arguments)};function H0(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}function k_(e,t,s){if(s||arguments.length===2)for(var a=0,o=t.length,c;a<o;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}var Nc="right-scroll-bar-position",Sc="width-before-scroll-bar",E_="with-scroll-bars-hidden",P_="--removed-body-scroll-bar-size";function Rf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function __(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var o=s.value;o!==a&&(s.value=a,s.callback(a,o))}}}})[0];return s.callback=t,s.facade}var T_=typeof window<"u"?p.useLayoutEffect:p.useEffect,Nv=new WeakMap;function R_(e,t){var s=__(null,function(a){return e.forEach(function(o){return Rf(o,a)})});return T_(function(){var a=Nv.get(s);if(a){var o=new Set(a),c=new Set(e),u=s.current;o.forEach(function(f){c.has(f)||Rf(f,null)}),c.forEach(function(f){o.has(f)||Rf(f,u)})}Nv.set(s,e)},[e]),s}function A_(e){return e}function I_(e,t){t===void 0&&(t=A_);var s=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,a);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(a=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){a=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),s={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),s}}}};return o}function O_(e){e===void 0&&(e={});var t=I_(null);return t.options=On({async:!0,ssr:!1},e),t}var G0=function(e){var t=e.sideCar,s=H0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,On({},s))};G0.isSideCarExport=!0;function D_(e,t){return e.useMedium(t),G0}var Z0=O_(),Af=function(){},od=p.forwardRef(function(e,t){var s=p.useRef(null),a=p.useState({onScrollCapture:Af,onWheelCapture:Af,onTouchMoveCapture:Af}),o=a[0],c=a[1],u=e.forwardProps,f=e.children,h=e.className,g=e.removeScrollBar,x=e.enabled,b=e.shards,j=e.sideCar,S=e.noRelative,P=e.noIsolation,w=e.inert,y=e.allowPinchZoom,k=e.as,C=k===void 0?"div":k,A=e.gapMode,M=H0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=j,G=R_([s,t]),W=On(On({},M),o);return p.createElement(p.Fragment,null,x&&p.createElement($,{sideCar:Z0,removeScrollBar:g,shards:b,noRelative:S,noIsolation:P,inert:w,setCallbacks:c,allowPinchZoom:!!y,lockRef:s,gapMode:A}),u?p.cloneElement(p.Children.only(f),On(On({},W),{ref:G})):p.createElement(C,On({},W,{className:h,ref:G}),f))});od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};od.classNames={fullWidth:Sc,zeroRight:Nc};var M_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M_();return t&&e.setAttribute("nonce",t),e}function L_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $_=function(){var e=0,t=null;return{add:function(s){e==0&&(t=F_())&&(L_(t,s),B_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V_=function(){var e=$_();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Y0=function(){var e=V_(),t=function(s){var a=s.styles,o=s.dynamic;return e(a,o),null};return t},z_={left:0,top:0,right:0,gap:0},If=function(e){return parseInt(e||"",10)||0},U_=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[If(s),If(a),If(o)]},q_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return z_;var t=U_(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},W_=Y0(),fa="data-scroll-locked",K_=function(e,t,s,a){var o=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(E_,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nc,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(P_,": ").concat(f,`px;
  }
`)},Sv=function(){var e=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(e)?e:0},Q_=function(){p.useEffect(function(){return document.body.setAttribute(fa,(Sv()+1).toString()),function(){var e=Sv()-1;e<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,e.toString())}},[])},H_=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;Q_();var c=p.useMemo(function(){return q_(o)},[o]);return p.createElement(W_,{styles:K_(c,!t,o,s?"":"!important")})},lm=!1;if(typeof window<"u")try{var gc=Object.defineProperty({},"passive",{get:function(){return lm=!0,!0}});window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{lm=!1}var ea=lm?{passive:!1}:!1,G_=function(e){return e.tagName==="TEXTAREA"},X0=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!G_(e)&&s[t]==="visible")},Z_=function(e){return X0(e,"overflowY")},Y_=function(e){return X0(e,"overflowX")},Cv=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=J0(e,a);if(o){var c=eb(e,a),u=c[1],f=c[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},X_=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},J_=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},J0=function(e,t){return e==="v"?Z_(t):Y_(t)},eb=function(e,t){return e==="v"?X_(t):J_(t)},eT=function(e,t){return e==="h"&&t==="rtl"?-1:1},tT=function(e,t,s,a,o){var c=eT(e,window.getComputedStyle(t).direction),u=c*a,f=s.target,h=t.contains(f),g=!1,x=u>0,b=0,j=0;do{if(!f)break;var S=eb(e,f),P=S[0],w=S[1],y=S[2],k=w-y-c*P;(P||k)&&J0(e,f)&&(b+=k,j+=P);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(x&&Math.abs(b)<1||!x&&Math.abs(j)<1)&&(g=!0),g},xc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kv=function(e){return[e.deltaX,e.deltaY]},Ev=function(e){return e&&"current"in e?e.current:e},rT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sT=0,ta=[];function iT(e){var t=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),o=p.useState(sT++)[0],c=p.useState(Y0)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=k_([e.lockRef.current],(e.shards||[]).map(Ev),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=p.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var k=xc(w),C=s.current,A="deltaX"in w?w.deltaX:C[0]-k[0],M="deltaY"in w?w.deltaY:C[1]-k[1],$,G=w.target,W=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in w&&W==="h"&&G.type==="range")return!1;var J=Cv(W,G);if(!J)return!0;if(J?$=W:($=W==="v"?"h":"v",J=Cv(W,G)),!J)return!1;if(!a.current&&"changedTouches"in w&&(A||M)&&(a.current=$),!$)return!0;var ye=a.current||$;return tT(ye,y,w,ye==="h"?A:M)},[]),h=p.useCallback(function(w){var y=w;if(!(!ta.length||ta[ta.length-1]!==c)){var k="deltaY"in y?kv(y):xc(y),C=t.current.filter(function($){return $.name===y.type&&($.target===y.target||y.target===$.shadowParent)&&rT($.delta,k)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var A=(u.current.shards||[]).map(Ev).filter(Boolean).filter(function($){return $.contains(y.target)}),M=A.length>0?f(y,A[0]):!u.current.noIsolation;M&&y.cancelable&&y.preventDefault()}}},[]),g=p.useCallback(function(w,y,k,C){var A={name:w,delta:y,target:k,should:C,shadowParent:aT(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(M){return M!==A})},1)},[]),x=p.useCallback(function(w){s.current=xc(w),a.current=void 0},[]),b=p.useCallback(function(w){g(w.type,kv(w),w.target,f(w,e.lockRef.current))},[]),j=p.useCallback(function(w){g(w.type,xc(w),w.target,f(w,e.lockRef.current))},[]);p.useEffect(function(){return ta.push(c),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:j}),document.addEventListener("wheel",h,ea),document.addEventListener("touchmove",h,ea),document.addEventListener("touchstart",x,ea),function(){ta=ta.filter(function(w){return w!==c}),document.removeEventListener("wheel",h,ea),document.removeEventListener("touchmove",h,ea),document.removeEventListener("touchstart",x,ea)}},[]);var S=e.removeScrollBar,P=e.inert;return p.createElement(p.Fragment,null,P?p.createElement(c,{styles:nT(o)}):null,S?p.createElement(H_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oT=D_(Z0,iT);var ld=p.forwardRef(function(e,t){return p.createElement(od,On({},e,{ref:t,sideCar:oT}))});ld.classNames=od.classNames;var lT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ra=new WeakMap,vc=new WeakMap,yc={},Of=0,tb=function(e){return e&&(e.host||tb(e.parentNode))},cT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=tb(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},dT=function(e,t,s,a){var o=cT(t,Array.isArray(e)?e:[e]);yc[s]||(yc[s]=new WeakMap);var c=yc[s],u=[],f=new Set,h=new Set(o),g=function(b){!b||f.has(b)||(f.add(b),g(b.parentNode))};o.forEach(g);var x=function(b){!b||h.has(b)||Array.prototype.forEach.call(b.children,function(j){if(f.has(j))x(j);else try{var S=j.getAttribute(a),P=S!==null&&S!=="false",w=(ra.get(j)||0)+1,y=(c.get(j)||0)+1;ra.set(j,w),c.set(j,y),u.push(j),w===1&&P&&vc.set(j,!0),y===1&&j.setAttribute(s,"true"),P||j.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",j,k)}})};return x(t),f.clear(),Of++,function(){u.forEach(function(b){var j=ra.get(b)-1,S=c.get(b)-1;ra.set(b,j),c.set(b,S),j||(vc.has(b)||b.removeAttribute(a),vc.delete(b)),S||b.removeAttribute(s)}),Of--,Of||(ra=new WeakMap,ra=new WeakMap,vc=new WeakMap,yc={})}},th=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=lT(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),dT(a,o,s,"aria-hidden")):function(){return null}},cd="Dialog",[rb,nb]=Mr(cd),[uT,kn]=rb(cd),sb=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,f=p.useRef(null),h=p.useRef(null),[g,x]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:cd});return r.jsx(uT,{scope:t,triggerRef:f,contentRef:h,contentId:Sr(),titleId:Sr(),descriptionId:Sr(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(b=>!b),[x]),modal:u,children:s})};sb.displayName=cd;var ib="DialogTrigger",ab=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=kn(ib,s),c=at(t,o.triggerRef);return r.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":sh(o.open),...a,ref:c,onClick:Oe(e.onClick,o.onOpenToggle)})});ab.displayName=ib;var rh="DialogPortal",[fT,ob]=rb(rh,{forceMount:void 0}),lb=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:o}=e,c=kn(rh,t);return r.jsx(fT,{scope:t,forceMount:s,children:p.Children.map(a,u=>r.jsx(Cn,{present:s||c.open,children:r.jsx(Ho,{asChild:!0,container:o,children:u})}))})};lb.displayName=rh;var Ac="DialogOverlay",cb=p.forwardRef((e,t)=>{const s=ob(Ac,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=kn(Ac,e.__scopeDialog);return c.modal?r.jsx(Cn,{present:a||c.open,children:r.jsx(hT,{...o,ref:t})}):null});cb.displayName=Ac;var mT=vi("DialogOverlay.RemoveScroll"),hT=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=kn(Ac,s);return r.jsx(ld,{as:mT,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(Fe.div,{"data-state":sh(o.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),bi="DialogContent",db=p.forwardRef((e,t)=>{const s=ob(bi,e.__scopeDialog),{forceMount:a=s.forceMount,...o}=e,c=kn(bi,e.__scopeDialog);return r.jsx(Cn,{present:a||c.open,children:c.modal?r.jsx(pT,{...o,ref:t}):r.jsx(gT,{...o,ref:t})})});db.displayName=bi;var pT=p.forwardRef((e,t)=>{const s=kn(bi,e.__scopeDialog),a=p.useRef(null),o=at(t,s.contentRef,a);return p.useEffect(()=>{const c=a.current;if(c)return th(c)},[]),r.jsx(ub,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Oe(e.onFocusOutside,c=>c.preventDefault())})}),gT=p.forwardRef((e,t)=>{const s=kn(bi,e.__scopeDialog),a=p.useRef(!1),o=p.useRef(!1);return r.jsx(ub,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),ub=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,f=kn(bi,s),h=p.useRef(null),g=at(t,h);return eh(),r.jsxs(r.Fragment,{children:[r.jsx(ad,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(ka,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":sh(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(vT,{titleId:f.titleId}),r.jsx(bT,{contentRef:h,descriptionId:f.descriptionId})]})]})}),nh="DialogTitle",fb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=kn(nh,s);return r.jsx(Fe.h2,{id:o.titleId,...a,ref:t})});fb.displayName=nh;var mb="DialogDescription",hb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=kn(mb,s);return r.jsx(Fe.p,{id:o.descriptionId,...a,ref:t})});hb.displayName=mb;var pb="DialogClose",gb=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,o=kn(pb,s);return r.jsx(Fe.button,{type:"button",...a,ref:t,onClick:Oe(e.onClick,()=>o.onOpenChange(!1))})});gb.displayName=pb;function sh(e){return e?"open":"closed"}var xb="DialogTitleWarning",[xT,vb]=H1(xb,{contentName:bi,titleName:nh,docsSlug:"dialog"}),vT=({titleId:e})=>{const t=vb(xb),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},yT="DialogDescriptionWarning",bT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vb(yT).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},ih=sb,yb=ab,ah=lb,dd=cb,ud=db,oh=fb,lh=hb,ch=gb;const Zt=ih,wT=yb,jT=ah,bb=p.forwardRef(({className:e,...t},s)=>r.jsx(dd,{ref:s,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bb.displayName=dd.displayName;const $t=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(jT,{children:[r.jsx(bb,{}),r.jsxs(ud,{ref:a,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(ch,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(a0,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$t.displayName=ud.displayName;const Vt=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vt.displayName="DialogHeader";const zt=p.forwardRef(({className:e,...t},s)=>r.jsx(oh,{ref:s,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));zt.displayName=oh.displayName;const To=p.forwardRef(({className:e,...t},s)=>r.jsx(lh,{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));To.displayName=lh.displayName;function dh(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fd="Checkbox",[NT,ID]=Mr(fd),[ST,uh]=NT(fd);function CT(e){const{__scopeCheckbox:t,checked:s,children:a,defaultChecked:o,disabled:c,form:u,name:f,onCheckedChange:h,required:g,value:x="on",internal_do_not_use_render:b}=e,[j,S]=ss({prop:s,defaultProp:o??!1,onChange:h,caller:fd}),[P,w]=p.useState(null),[y,k]=p.useState(null),C=p.useRef(!1),A=P?!!u||!!P.closest("form"):!0,M={checked:j,disabled:c,setChecked:S,control:P,setControl:w,name:f,form:u,value:x,hasConsumerStoppedPropagationRef:C,required:g,defaultChecked:Ls(o)?!1:o,isFormControl:A,bubbleInput:y,setBubbleInput:k};return r.jsx(ST,{scope:t,...M,children:kT(b)?b(M):a})}var wb="CheckboxTrigger",jb=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...a},o)=>{const{control:c,value:u,disabled:f,checked:h,required:g,setControl:x,setChecked:b,hasConsumerStoppedPropagationRef:j,isFormControl:S,bubbleInput:P}=uh(wb,e),w=at(o,x),y=p.useRef(h);return p.useEffect(()=>{const k=c?.form;if(k){const C=()=>b(y.current);return k.addEventListener("reset",C),()=>k.removeEventListener("reset",C)}},[c,b]),r.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Ls(h)?"mixed":h,"aria-required":g,"data-state":Eb(h),"data-disabled":f?"":void 0,disabled:f,value:u,...a,ref:w,onKeyDown:Oe(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Oe(s,k=>{b(C=>Ls(C)?!0:!C),P&&S&&(j.current=k.isPropagationStopped(),j.current||k.stopPropagation())})})});jb.displayName=wb;var fh=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:a,checked:o,defaultChecked:c,required:u,disabled:f,value:h,onCheckedChange:g,form:x,...b}=e;return r.jsx(CT,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:f,required:u,onCheckedChange:g,name:a,form:x,value:h,internal_do_not_use_render:({isFormControl:j})=>r.jsxs(r.Fragment,{children:[r.jsx(jb,{...b,ref:t,__scopeCheckbox:s}),j&&r.jsx(kb,{__scopeCheckbox:s})]})})});fh.displayName=fd;var Nb="CheckboxIndicator",Sb=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:a,...o}=e,c=uh(Nb,s);return r.jsx(Cn,{present:a||Ls(c.checked)||c.checked===!0,children:r.jsx(Fe.span,{"data-state":Eb(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Sb.displayName=Nb;var Cb="CheckboxBubbleInput",kb=p.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:f,disabled:h,name:g,value:x,form:b,bubbleInput:j,setBubbleInput:S}=uh(Cb,e),P=at(s,S),w=dh(c),y=Qm(a);p.useEffect(()=>{const C=j;if(!C)return;const A=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(A,"checked").set,G=!o.current;if(w!==c&&$){const W=new Event("click",{bubbles:G});C.indeterminate=Ls(c),$.call(C,Ls(c)?!1:c),C.dispatchEvent(W)}},[j,w,c,o]);const k=p.useRef(Ls(c)?!1:c);return r.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??k.current,required:f,disabled:h,name:g,value:x,form:b,...t,tabIndex:-1,ref:P,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kb.displayName=Cb;function kT(e){return typeof e=="function"}function Ls(e){return e==="indeterminate"}function Eb(e){return Ls(e)?"indeterminate":e?"checked":"unchecked"}const tn=p.forwardRef(({className:e,...t},s)=>r.jsx(fh,{ref:s,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Sb,{className:ke("flex items-center justify-center text-current"),children:r.jsx(s0,{className:"h-4 w-4"})})}));tn.displayName=fh.displayName;var ET="Label",Pb=p.forwardRef((e,t)=>r.jsx(Fe.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Pb.displayName=ET;var _b=Pb;const PT=Zo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=p.forwardRef(({className:e,...t},s)=>r.jsx(_b,{ref:s,className:ke(PT(),e),...t}));Re.displayName=_b.displayName;function Tb(){const e=Dr(),{toast:t}=or(),s=p.useRef(null),a=p.useRef(null),o=p.useRef(!1),c=p.useRef(null),u=p.useRef(0),f=p.useRef(0);return p.useEffect(()=>{const h=()=>{if(u.current++,o.current||s.current&&s.current.readyState===WebSocket.CONNECTING){console.log("⏸️ WebSocket connection already in progress, skipping...",{isConnecting:o.current,currentReadyState:s.current?.readyState,timestamp:new Date().toISOString()});return}s.current&&s.current.readyState===WebSocket.OPEN&&(console.log("🔄 Closing existing WebSocket connection"),s.current.close()),o.current=!0;const x=window.location.protocol==="https:"?"wss:":"ws:",b=`${x}//${window.location.host}/ws`;console.log("🔌 Attempting to connect to WebSocket:",{url:b,protocol:x,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,connectionType:navigator.connection?.effectiveType||"unknown"});const j=new WebSocket(b);s.current=j,j.onopen=()=>{console.log("🟢 WebSocket connected successfully",{url:b,readyState:j.readyState,protocol:j.protocol,timestamp:new Date().toISOString(),connectionAttempt:u.current}),o.current=!1,u.current=0,a.current&&(clearTimeout(a.current),a.current=null,console.log("🔄 Cleared pending reconnection timeout")),c.current=setInterval(()=>{j.readyState===WebSocket.OPEN?(console.log("💓 Sending heartbeat ping"),j.send(JSON.stringify({type:"ping"}))):console.warn("❌ Cannot send heartbeat - WebSocket not in OPEN state:",j.readyState)},3e4)},j.onmessage=w=>{try{const y=JSON.parse(w.data);g(y)}catch(y){console.error("Failed to parse WebSocket message:",y)}},j.onclose=w=>{const y={1e3:"Normal Closure",1001:"Going Away",1002:"Protocol Error",1003:"Unsupported Data",1005:"No Status Received",1006:"Abnormal Closure",1007:"Invalid frame payload data",1008:"Policy Violation",1009:"Message too big",1010:"Missing Extension",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Bad Gateway",1015:"TLS Handshake"},k=Date.now(),C=k-f.current;f.current=k,console.log("🔴 WebSocket disconnected",{code:w.code,reason:w.reason||y[w.code]||"Unknown",wasClean:w.wasClean,timestamp:new Date().toISOString(),readyState:j.readyState,url:b,timeSinceLastDisconnect:C+"ms",connectionAttempts:u.current,networkOnline:navigator.onLine}),C<1e4&&console.warn("⚠️ Frequent disconnections detected! Time since last:",C+"ms"),o.current=!1,c.current&&(clearInterval(c.current),c.current=null,console.log("💓 Heartbeat cleared")),!w.wasClean&&w.code!==1e3&&w.code!==1001?(console.log("🔄 Scheduling reconnection in 3 seconds...",{code:w.code,reason:y[w.code]||"Unknown"}),a.current=setTimeout(h,3e3)):console.log("✅ Clean disconnect - not reconnecting")},j.onerror=w=>{console.error("❌ WebSocket error occurred:",{error:w,readyState:j.readyState,readyStateText:["CONNECTING","OPEN","CLOSING","CLOSED"][j.readyState],url:b,timestamp:new Date().toISOString()}),(j.readyState===WebSocket.OPEN||j.readyState===WebSocket.CONNECTING)&&(console.log("🔧 Forcing WebSocket close due to error"),j.close())};const S=()=>{console.log("🌐 Network status changed: Online. Attempting to reconnect WebSocket."),h()},P=()=>{console.warn("🌐 Network status changed: Offline. WebSocket will attempt to reconnect when online."),a.current&&(clearTimeout(a.current),a.current=null),s.current&&s.current.readyState===WebSocket.OPEN&&s.current.close(1001,"Client is going offline")};window.addEventListener("online",S),window.addEventListener("offline",P)},g=x=>{switch(x.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":t({title:"Bot Error",description:x.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":t({title:"Bot Connected",description:`${x.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",x.type)}};return h(),()=>{window.removeEventListener("online",handleOnline),window.removeEventListener("offline",handleOffline),a.current&&clearTimeout(a.current),c.current&&clearInterval(c.current),s.current&&s.current.close(1e3,"Component unmounting")}},[e,t]),s.current}const Rb=p.createContext(void 0);function _T({children:e}){const[t,s]=p.useState(null),[a,o]=p.useState(null);p.useEffect(()=>{const h=localStorage.getItem("auth_token"),g=localStorage.getItem("user");if(h&&g)try{const x=JSON.parse(g);o(h),s(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:t,token:a,login:(h,g)=>{o(h),s(g),localStorage.setItem("auth_token",h),localStorage.setItem("user",JSON.stringify(g))},logout:()=>{o(null),s(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!a,isAdmin:!!t?.isAdmin};return r.jsx(Rb.Provider,{value:f,children:e})}function md(){const e=p.useContext(Rb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Ut=p.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));Ut.displayName="Input";function Pv(e,[t,s]){return Math.min(s,Math.max(t,e))}var TT=p.createContext(void 0);function hd(e){const t=p.useContext(TT);return e||t||"ltr"}var RT=[" ","Enter","ArrowUp","ArrowDown"],AT=[" ","Enter"],wi="Select",[pd,gd,IT]=Im(wi),[Ra,OD]=Mr(wi,[IT,Ta]),xd=Ta(),[OT,Ks]=Ra(wi),[DT,MT]=Ra(wi),Ab=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:o,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:g,name:x,autoComplete:b,disabled:j,required:S,form:P}=e,w=xd(t),[y,k]=p.useState(null),[C,A]=p.useState(null),[M,$]=p.useState(!1),G=hd(g),[W,J]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:wi}),[ye,ge]=ss({prop:u,defaultProp:f,onChange:h,caller:wi}),xe=p.useRef(null),Y=y?P||!!y.closest("form"):!0,[ne,L]=p.useState(new Set),se=Array.from(ne).map(z=>z.props.value).join(";");return r.jsx(L0,{...w,children:r.jsxs(OT,{required:S,scope:t,trigger:y,onTriggerChange:k,valueNode:C,onValueNodeChange:A,valueNodeHasChildren:M,onValueNodeHasChildrenChange:$,contentId:Sr(),value:ye,onValueChange:ge,open:W,onOpenChange:J,dir:G,triggerPointerDownPosRef:xe,disabled:j,children:[r.jsx(pd.Provider,{scope:t,children:r.jsx(DT,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{L(ee=>new Set(ee).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{L(ee=>{const B=new Set(ee);return B.delete(z),B})},[]),children:s})}),Y?r.jsxs(rw,{"aria-hidden":!0,required:S,tabIndex:-1,name:x,autoComplete:b,value:ye,onChange:z=>ge(z.target.value),disabled:j,form:P,children:[ye===void 0?r.jsx("option",{value:""}):null,Array.from(ne)]},se):null]})})};Ab.displayName=wi;var Ib="SelectTrigger",Ob=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...o}=e,c=xd(s),u=Ks(Ib,s),f=u.disabled||a,h=at(t,u.onTriggerChange),g=gd(s),x=p.useRef("touch"),[b,j,S]=sw(w=>{const y=g().filter(A=>!A.disabled),k=y.find(A=>A.value===u.value),C=iw(y,w,k);C!==void 0&&u.onValueChange(C.value)}),P=w=>{f||(u.onOpenChange(!0),S()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(nd,{asChild:!0,...c,children:r.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":nw(u.value)?"":void 0,...o,ref:h,onClick:Oe(o.onClick,w=>{w.currentTarget.focus(),x.current!=="mouse"&&P(w)}),onPointerDown:Oe(o.onPointerDown,w=>{x.current=w.pointerType;const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(P(w),w.preventDefault())}),onKeyDown:Oe(o.onKeyDown,w=>{const y=b.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&j(w.key),!(y&&w.key===" ")&&RT.includes(w.key)&&(P(),w.preventDefault())})})})});Ob.displayName=Ib;var Db="SelectValue",Mb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:o,children:c,placeholder:u="",...f}=e,h=Ks(Db,s),{onValueNodeHasChildrenChange:g}=h,x=c!==void 0,b=at(t,h.onValueNodeChange);return ur(()=>{g(x)},[g,x]),r.jsx(Fe.span,{...f,ref:b,style:{pointerEvents:"none"},children:nw(h.value)?r.jsx(r.Fragment,{children:u}):c})});Mb.displayName=Db;var FT="SelectIcon",Fb=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...o}=e;return r.jsx(Fe.span,{"aria-hidden":!0,...o,ref:t,children:a||"▼"})});Fb.displayName=FT;var LT="SelectPortal",Lb=e=>r.jsx(Ho,{asChild:!0,...e});Lb.displayName=LT;var ji="SelectContent",Bb=p.forwardRef((e,t)=>{const s=Ks(ji,e.__scopeSelect),[a,o]=p.useState();if(ur(()=>{o(new DocumentFragment)},[]),!s.open){const c=a;return c?Ca.createPortal(r.jsx($b,{scope:e.__scopeSelect,children:r.jsx(pd.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(Vb,{...e,ref:t})});Bb.displayName=ji;var mn=10,[$b,Qs]=Ra(ji),BT="SelectContentImpl",$T=vi("SelectContent.RemoveScroll"),Vb=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:b,collisionBoundary:j,collisionPadding:S,sticky:P,hideWhenDetached:w,avoidCollisions:y,...k}=e,C=Ks(ji,s),[A,M]=p.useState(null),[$,G]=p.useState(null),W=at(t,te=>M(te)),[J,ye]=p.useState(null),[ge,xe]=p.useState(null),Y=gd(s),[ne,L]=p.useState(!1),se=p.useRef(!1);p.useEffect(()=>{if(A)return th(A)},[A]),eh();const z=p.useCallback(te=>{const[Ne,...Te]=Y().map(ut=>ut.ref.current),[$e]=Te.slice(-1),lt=document.activeElement;for(const ut of te)if(ut===lt||(ut?.scrollIntoView({block:"nearest"}),ut===Ne&&$&&($.scrollTop=0),ut===$e&&$&&($.scrollTop=$.scrollHeight),ut?.focus(),document.activeElement!==lt))return},[Y,$]),ee=p.useCallback(()=>z([J,A]),[z,J,A]);p.useEffect(()=>{ne&&ee()},[ne,ee]);const{onOpenChange:B,triggerPointerDownPosRef:re}=C;p.useEffect(()=>{if(A){let te={x:0,y:0};const Ne=$e=>{te={x:Math.abs(Math.round($e.pageX)-(re.current?.x??0)),y:Math.abs(Math.round($e.pageY)-(re.current?.y??0))}},Te=$e=>{te.x<=10&&te.y<=10?$e.preventDefault():A.contains($e.target)||B(!1),document.removeEventListener("pointermove",Ne),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Te,{capture:!0})}}},[A,B,re]),p.useEffect(()=>{const te=()=>B(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[B]);const[oe,O]=sw(te=>{const Ne=Y().filter(lt=>!lt.disabled),Te=Ne.find(lt=>lt.ref.current===document.activeElement),$e=iw(Ne,te,Te);$e&&setTimeout(()=>$e.ref.current.focus())}),E=p.useCallback((te,Ne,Te)=>{const $e=!se.current&&!Te;(C.value!==void 0&&C.value===Ne||$e)&&(ye(te),$e&&(se.current=!0))},[C.value]),R=p.useCallback(()=>A?.focus(),[A]),X=p.useCallback((te,Ne,Te)=>{const $e=!se.current&&!Te;(C.value!==void 0&&C.value===Ne||$e)&&xe(te)},[C.value]),Z=a==="popper"?cm:zb,de=Z===cm?{side:f,sideOffset:h,align:g,alignOffset:x,arrowPadding:b,collisionBoundary:j,collisionPadding:S,sticky:P,hideWhenDetached:w,avoidCollisions:y}:{};return r.jsx($b,{scope:s,content:A,viewport:$,onViewportChange:G,itemRefCallback:E,selectedItem:J,onItemLeave:R,itemTextRefCallback:X,focusSelectedItem:ee,selectedItemText:ge,position:a,isPositioned:ne,searchRef:oe,children:r.jsx(ld,{as:$T,allowPinchZoom:!0,children:r.jsx(ad,{asChild:!0,trapped:C.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Oe(o,te=>{C.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:r.jsx(ka,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(Z,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:te=>te.preventDefault(),...k,...de,onPlaced:()=>L(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Oe(k.onKeyDown,te=>{const Ne=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ne&&te.key.length===1&&O(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let $e=Y().filter(lt=>!lt.disabled).map(lt=>lt.ref.current);if(["ArrowUp","End"].includes(te.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const lt=te.target,ut=$e.indexOf(lt);$e=$e.slice(ut+1)}setTimeout(()=>z($e)),te.preventDefault()}})})})})})})});Vb.displayName=BT;var VT="SelectItemAlignedPosition",zb=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...o}=e,c=Ks(ji,s),u=Qs(ji,s),[f,h]=p.useState(null),[g,x]=p.useState(null),b=at(t,W=>x(W)),j=gd(s),S=p.useRef(!1),P=p.useRef(!0),{viewport:w,selectedItem:y,selectedItemText:k,focusSelectedItem:C}=u,A=p.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&w&&y&&k){const W=c.trigger.getBoundingClientRect(),J=g.getBoundingClientRect(),ye=c.valueNode.getBoundingClientRect(),ge=k.getBoundingClientRect();if(c.dir!=="rtl"){const lt=ge.left-J.left,ut=ye.left-lt,Wt=W.left-ut,Xe=W.width+Wt,Lr=Math.max(Xe,J.width),Kr=window.innerWidth-mn,sn=Pv(ut,[mn,Math.max(mn,Kr-Lr)]);f.style.minWidth=Xe+"px",f.style.left=sn+"px"}else{const lt=J.right-ge.right,ut=window.innerWidth-ye.right-lt,Wt=window.innerWidth-W.right-ut,Xe=W.width+Wt,Lr=Math.max(Xe,J.width),Kr=window.innerWidth-mn,sn=Pv(ut,[mn,Math.max(mn,Kr-Lr)]);f.style.minWidth=Xe+"px",f.style.right=sn+"px"}const xe=j(),Y=window.innerHeight-mn*2,ne=w.scrollHeight,L=window.getComputedStyle(g),se=parseInt(L.borderTopWidth,10),z=parseInt(L.paddingTop,10),ee=parseInt(L.borderBottomWidth,10),B=parseInt(L.paddingBottom,10),re=se+z+ne+B+ee,oe=Math.min(y.offsetHeight*5,re),O=window.getComputedStyle(w),E=parseInt(O.paddingTop,10),R=parseInt(O.paddingBottom,10),X=W.top+W.height/2-mn,Z=Y-X,de=y.offsetHeight/2,te=y.offsetTop+de,Ne=se+z+te,Te=re-Ne;if(Ne<=X){const lt=xe.length>0&&y===xe[xe.length-1].ref.current;f.style.bottom="0px";const ut=g.clientHeight-w.offsetTop-w.offsetHeight,Wt=Math.max(Z,de+(lt?R:0)+ut+ee),Xe=Ne+Wt;f.style.height=Xe+"px"}else{const lt=xe.length>0&&y===xe[0].ref.current;f.style.top="0px";const Wt=Math.max(X,se+w.offsetTop+(lt?E:0)+de)+Te;f.style.height=Wt+"px",w.scrollTop=Ne-X+w.offsetTop}f.style.margin=`${mn}px 0`,f.style.minHeight=oe+"px",f.style.maxHeight=Y+"px",a?.(),requestAnimationFrame(()=>S.current=!0)}},[j,c.trigger,c.valueNode,f,g,w,y,k,c.dir,a]);ur(()=>A(),[A]);const[M,$]=p.useState();ur(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const G=p.useCallback(W=>{W&&P.current===!0&&(A(),C?.(),P.current=!1)},[A,C]);return r.jsx(UT,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:G,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:r.jsx(Fe.div,{...o,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});zb.displayName=VT;var zT="SelectPopperPosition",cm=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:o=mn,...c}=e,u=xd(s);return r.jsx(Zm,{...u,...c,ref:t,align:a,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cm.displayName=zT;var[UT,mh]=Ra(ji,{}),dm="SelectViewport",Ub=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...o}=e,c=Qs(dm,s),u=mh(dm,s),f=at(t,c.onViewportChange),h=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(pd.Slot,{scope:s,children:r.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Oe(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:j}=u;if(j?.current&&b){const S=Math.abs(h.current-x.scrollTop);if(S>0){const P=window.innerHeight-mn*2,w=parseFloat(b.style.minHeight),y=parseFloat(b.style.height),k=Math.max(w,y);if(k<P){const C=k+S,A=Math.min(P,C),M=C-A;b.style.height=A+"px",b.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,b.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});Ub.displayName=dm;var qb="SelectGroup",[qT,WT]=Ra(qb),KT=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=Sr();return r.jsx(qT,{scope:s,id:o,children:r.jsx(Fe.div,{role:"group","aria-labelledby":o,...a,ref:t})})});KT.displayName=qb;var Wb="SelectLabel",Kb=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=WT(Wb,s);return r.jsx(Fe.div,{id:o.id,...a,ref:t})});Kb.displayName=Wb;var Ic="SelectItem",[QT,Qb]=Ra(Ic),Hb=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:o=!1,textValue:c,...u}=e,f=Ks(Ic,s),h=Qs(Ic,s),g=f.value===a,[x,b]=p.useState(c??""),[j,S]=p.useState(!1),P=at(t,C=>h.itemRefCallback?.(C,a,o)),w=Sr(),y=p.useRef("touch"),k=()=>{o||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(QT,{scope:s,value:a,disabled:o,textId:w,isSelected:g,onItemTextChange:p.useCallback(C=>{b(A=>A||(C?.textContent??"").trim())},[]),children:r.jsx(pd.ItemSlot,{scope:s,value:a,disabled:o,textValue:x,children:r.jsx(Fe.div,{role:"option","aria-labelledby":w,"data-highlighted":j?"":void 0,"aria-selected":g&&j,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:Oe(u.onFocus,()=>S(!0)),onBlur:Oe(u.onBlur,()=>S(!1)),onClick:Oe(u.onClick,()=>{y.current!=="mouse"&&k()}),onPointerUp:Oe(u.onPointerUp,()=>{y.current==="mouse"&&k()}),onPointerDown:Oe(u.onPointerDown,C=>{y.current=C.pointerType}),onPointerMove:Oe(u.onPointerMove,C=>{y.current=C.pointerType,o?h.onItemLeave?.():y.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Oe(u.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(AT.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});Hb.displayName=Ic;var jo="SelectItemText",Gb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:o,...c}=e,u=Ks(jo,s),f=Qs(jo,s),h=Qb(jo,s),g=MT(jo,s),[x,b]=p.useState(null),j=at(t,k=>b(k),h.onItemTextChange,k=>f.itemTextRefCallback?.(k,h.value,h.disabled)),S=x?.textContent,P=p.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:y}=g;return ur(()=>(w(P),()=>y(P)),[w,y,P]),r.jsxs(r.Fragment,{children:[r.jsx(Fe.span,{id:h.textId,...c,ref:j}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ca.createPortal(c.children,u.valueNode):null]})});Gb.displayName=jo;var Zb="SelectItemIndicator",Yb=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return Qb(Zb,s).isSelected?r.jsx(Fe.span,{"aria-hidden":!0,...a,ref:t}):null});Yb.displayName=Zb;var um="SelectScrollUpButton",Xb=p.forwardRef((e,t)=>{const s=Qs(um,e.__scopeSelect),a=mh(um,e.__scopeSelect),[o,c]=p.useState(!1),u=at(t,a.onScrollButtonChange);return ur(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollTop>0;c(g)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(ew,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});Xb.displayName=um;var fm="SelectScrollDownButton",Jb=p.forwardRef((e,t)=>{const s=Qs(fm,e.__scopeSelect),a=mh(fm,e.__scopeSelect),[o,c]=p.useState(!1),u=at(t,a.onScrollButtonChange);return ur(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<g;c(x)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?r.jsx(ew,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});Jb.displayName=fm;var ew=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...o}=e,c=Qs("SelectScrollButton",s),u=p.useRef(null),f=gd(s),h=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>h(),[h]),ur(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),r.jsx(Fe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Oe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Oe(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Oe(o.onPointerLeave,()=>{h()})})}),HT="SelectSeparator",tw=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return r.jsx(Fe.div,{"aria-hidden":!0,...a,ref:t})});tw.displayName=HT;var mm="SelectArrow",GT=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,o=xd(s),c=Ks(mm,s),u=Qs(mm,s);return c.open&&u.position==="popper"?r.jsx(Ym,{...o,...a,ref:t}):null});GT.displayName=mm;var ZT="SelectBubbleInput",rw=p.forwardRef(({__scopeSelect:e,value:t,...s},a)=>{const o=p.useRef(null),c=at(a,o),u=dh(t);return p.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&x){const b=new Event("change",{bubbles:!0});x.call(f,t),f.dispatchEvent(b)}},[u,t]),r.jsx(Fe.select,{...s,style:{...Dy,...s.style},ref:c,defaultValue:t})});rw.displayName=ZT;function nw(e){return e===""||e===void 0}function sw(e){const t=nn(e),s=p.useRef(""),a=p.useRef(0),o=p.useCallback(u=>{const f=s.current+u;t(f),(function h(g){s.current=g,window.clearTimeout(a.current),g!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,o,c]}function iw(e,t,s){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=YT(e,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==s));const h=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==s?h:void 0}function YT(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var XT=Ab,aw=Ob,JT=Mb,e2=Fb,t2=Lb,ow=Bb,r2=Ub,lw=Kb,cw=Hb,n2=Gb,s2=Yb,dw=Xb,uw=Jb,fw=tw;const Ir=XT,Or=JT,wr=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(aw,{ref:a,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(e2,{asChild:!0,children:r.jsx(Lm,{className:"h-4 w-4 opacity-50"})})]}));wr.displayName=aw.displayName;const mw=p.forwardRef(({className:e,...t},s)=>r.jsx(dw,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(zk,{className:"h-4 w-4"})}));mw.displayName=dw.displayName;const hw=p.forwardRef(({className:e,...t},s)=>r.jsx(uw,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Lm,{className:"h-4 w-4"})}));hw.displayName=uw.displayName;const jr=p.forwardRef(({className:e,children:t,position:s="popper",...a},o)=>r.jsx(t2,{children:r.jsxs(ow,{ref:o,className:ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[r.jsx(mw,{}),r.jsx(r2,{className:ke("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(hw,{})]})}));jr.displayName=ow.displayName;const i2=p.forwardRef(({className:e,...t},s)=>r.jsx(lw,{ref:s,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));i2.displayName=lw.displayName;const Ve=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(cw,{ref:a,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(s2,{children:r.jsx(s0,{className:"h-4 w-4"})})}),r.jsx(n2,{children:t})]}));Ve.displayName=cw.displayName;const a2=p.forwardRef(({className:e,...t},s)=>r.jsx(fw,{ref:s,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));a2.displayName=fw.displayName;var Xo=e=>e.type==="checkbox",di=e=>e instanceof Date,Nr=e=>e==null;const pw=e=>typeof e=="object";var qt=e=>!Nr(e)&&!Array.isArray(e)&&pw(e)&&!di(e),o2=e=>qt(e)&&e.target?Xo(e.target)?e.target.checked:e.target.value:e,l2=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,c2=(e,t)=>e.has(l2(t)),d2=e=>{const t=e.constructor&&e.constructor.prototype;return qt(t)&&t.hasOwnProperty("isPrototypeOf")},hh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(hh&&(e instanceof Blob||a))&&(s||qt(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!d2(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=sr(e[o]));else return e;return t}var vd=e=>/^\w*$/.test(e),Gt=e=>e===void 0,ph=e=>Array.isArray(e)?e.filter(Boolean):[],gh=e=>ph(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,s)=>{if(!t||!qt(e))return s;const a=(vd(t)?[t]:gh(t)).reduce((o,c)=>Nr(o)?o:o[c],e);return Gt(a)||a===e?Gt(e[t])?s:e[t]:a},In=e=>typeof e=="boolean",vt=(e,t,s)=>{let a=-1;const o=vd(t)?[t]:gh(t),c=o.length,u=c-1;for(;++a<c;){const f=o[a];let h=s;if(a!==u){const g=e[f];h=qt(g)||Array.isArray(g)?g:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const _v={BLUR:"blur",FOCUS_OUT:"focusout"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},u2=Lt.createContext(null);u2.displayName="HookFormContext";var f2=(e,t,s,a=!0)=>{const o={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return t._proxyFormState[u]!==gn.all&&(t._proxyFormState[u]=!a||gn.all),e[u]}});return o};const m2=typeof window<"u"?Lt.useLayoutEffect:Lt.useEffect;var Fn=e=>typeof e=="string",h2=(e,t,s,a,o)=>Fn(e)?(a&&t.watch.add(e),_e(s,e,o)):Array.isArray(e)?e.map(c=>(a&&t.watch.add(c),_e(s,c))):(a&&(t.watchAll=!0),s),hm=e=>Nr(e)||!pw(e);function Ds(e,t,s=new WeakSet){if(hm(e)||hm(t))return e===t;if(di(e)&&di(t))return e.getTime()===t.getTime();const a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const c of a){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=t[c];if(di(u)&&di(f)||qt(u)&&qt(f)||Array.isArray(u)&&Array.isArray(f)?!Ds(u,f,s):u!==f)return!1}}return!0}var gw=(e,t,s,a,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:o||!0}}:{},So=e=>Array.isArray(e)?e:[e],Tv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}},Ar=e=>qt(e)&&!Object.keys(e).length,xh=e=>e.type==="file",xn=e=>typeof e=="function",Oc=e=>{if(!hh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xw=e=>e.type==="select-multiple",vh=e=>e.type==="radio",p2=e=>vh(e)||Xo(e),Df=e=>Oc(e)&&e.isConnected;function g2(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=Gt(e)?a++:e[t[a++]];return e}function x2(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gt(e[t]))return!1;return!0}function Ht(e,t){const s=Array.isArray(t)?t:vd(t)?[t]:gh(t),a=s.length===1?e:g2(e,s),o=s.length-1,c=s[o];return a&&delete a[c],o!==0&&(qt(a)&&Ar(a)||Array.isArray(a)&&x2(a))&&Ht(e,s.slice(0,-1)),e}var vw=e=>{for(const t in e)if(xn(e[t]))return!0;return!1};function Dc(e,t={}){const s=Array.isArray(e);if(qt(e)||s)for(const a in e)Array.isArray(e[a])||qt(e[a])&&!vw(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Dc(e[a],t[a])):Nr(e[a])||(t[a]=!0);return t}function yw(e,t,s){const a=Array.isArray(e);if(qt(e)||a)for(const o in e)Array.isArray(e[o])||qt(e[o])&&!vw(e[o])?Gt(t)||hm(s[o])?s[o]=Array.isArray(e[o])?Dc(e[o],[]):{...Dc(e[o])}:yw(e[o],Nr(t)?{}:t[o],s[o]):s[o]=!Ds(e[o],t[o]);return s}var yo=(e,t)=>yw(e,t,Dc(t));const Rv={value:!1,isValid:!1},Av={value:!0,isValid:!0};var bw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?Av:{value:e[0].value,isValid:!0}:Av:Rv}return Rv},ww=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>Gt(e)?e:t?e===""?NaN:e&&+e:s&&Fn(e)?new Date(e):a?a(e):e;const Iv={isValid:!1,value:null};var jw=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Iv):Iv;function Ov(e){const t=e.ref;return xh(t)?t.files:vh(t)?jw(e.refs).value:xw(t)?[...t.selectedOptions].map(({value:s})=>s):Xo(t)?bw(e.refs).value:ww(Gt(t.value)?e.ref.value:t.value,e)}var v2=(e,t,s,a)=>{const o={};for(const c of e){const u=_e(t,c);u&&vt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:a}},Mc=e=>e instanceof RegExp,bo=e=>Gt(e)?e:Mc(e)?e.source:qt(e)?Mc(e.value)?e.value.source:e.value:e,Dv=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched});const Mv="AsyncFunction";var y2=e=>!!e&&!!e.validate&&!!(xn(e.validate)&&e.validate.constructor.name===Mv||qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Mv)),b2=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Fv=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Co=(e,t,s,a)=>{for(const o of s||Object.keys(e)){const c=_e(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!a)return!0;if(u.ref&&t(u.ref,u.name)&&!a)return!0;if(Co(f,t))break}else if(qt(f)&&Co(f,t))break}}};function Lv(e,t,s){const a=_e(e,s);if(a||vd(s))return{error:a,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=_e(t,c),f=_e(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var w2=(e,t,s,a)=>{s(e);const{name:o,...c}=e;return Ar(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!a||gn.all))},j2=(e,t,s)=>!e||!t||e===t||So(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),N2=(e,t,s,a,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?a.isOnBlur:o.isOnBlur)?!e:(s?a.isOnChange:o.isOnChange)?e:!0,S2=(e,t)=>!ph(_e(e,t)).length&&Ht(e,t),C2=(e,t,s)=>{const a=So(_e(e,s));return vt(a,"root",t[s]),vt(e,s,a),e},Cc=e=>Fn(e);function Bv(e,t,s="validate"){if(Cc(e)||Array.isArray(e)&&e.every(Cc)||In(e)&&!e)return{type:s,message:Cc(e)?e:"",ref:t}}var na=e=>qt(e)&&!Mc(e)?e:{value:e,message:""},$v=async(e,t,s,a,o,c)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:x,min:b,max:j,pattern:S,validate:P,name:w,valueAsNumber:y,mount:k}=e._f,C=_e(s,w);if(!k||t.has(w))return{};const A=f?f[0]:u,M=Y=>{o&&A.reportValidity&&(A.setCustomValidity(In(Y)?"":Y||""),A.reportValidity())},$={},G=vh(u),W=Xo(u),J=G||W,ye=(y||xh(u))&&Gt(u.value)&&Gt(C)||Oc(u)&&u.value===""||C===""||Array.isArray(C)&&!C.length,ge=gw.bind(null,w,a,$),xe=(Y,ne,L,se=Jn.maxLength,z=Jn.minLength)=>{const ee=Y?ne:L;$[w]={type:Y?se:z,message:ee,ref:u,...ge(Y?se:z,ee)}};if(c?!Array.isArray(C)||!C.length:h&&(!J&&(ye||Nr(C))||In(C)&&!C||W&&!bw(f).isValid||G&&!jw(f).isValid)){const{value:Y,message:ne}=Cc(h)?{value:!!h,message:h}:na(h);if(Y&&($[w]={type:Jn.required,message:ne,ref:A,...ge(Jn.required,ne)},!a))return M(ne),$}if(!ye&&(!Nr(b)||!Nr(j))){let Y,ne;const L=na(j),se=na(b);if(!Nr(C)&&!isNaN(C)){const z=u.valueAsNumber||C&&+C;Nr(L.value)||(Y=z>L.value),Nr(se.value)||(ne=z<se.value)}else{const z=u.valueAsDate||new Date(C),ee=oe=>new Date(new Date().toDateString()+" "+oe),B=u.type=="time",re=u.type=="week";Fn(L.value)&&C&&(Y=B?ee(C)>ee(L.value):re?C>L.value:z>new Date(L.value)),Fn(se.value)&&C&&(ne=B?ee(C)<ee(se.value):re?C<se.value:z<new Date(se.value))}if((Y||ne)&&(xe(!!Y,L.message,se.message,Jn.max,Jn.min),!a))return M($[w].message),$}if((g||x)&&!ye&&(Fn(C)||c&&Array.isArray(C))){const Y=na(g),ne=na(x),L=!Nr(Y.value)&&C.length>+Y.value,se=!Nr(ne.value)&&C.length<+ne.value;if((L||se)&&(xe(L,Y.message,ne.message),!a))return M($[w].message),$}if(S&&!ye&&Fn(C)){const{value:Y,message:ne}=na(S);if(Mc(Y)&&!C.match(Y)&&($[w]={type:Jn.pattern,message:ne,ref:u,...ge(Jn.pattern,ne)},!a))return M(ne),$}if(P){if(xn(P)){const Y=await P(C,s),ne=Bv(Y,A);if(ne&&($[w]={...ne,...ge(Jn.validate,ne.message)},!a))return M(ne.message),$}else if(qt(P)){let Y={};for(const ne in P){if(!Ar(Y)&&!a)break;const L=Bv(await P[ne](C,s),A,ne);L&&(Y={...L,...ge(ne,L.message)},M(L.message),a&&($[w]=Y))}if(!Ar(Y)&&($[w]={ref:A,...Y},!a))return $}}return M(!0),$};const k2={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function E2(e={}){let t={...k2,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:xn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},o=qt(t.defaultValues)||qt(t.values)?sr(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:sr(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...x};const j={array:Tv(),state:Tv()},S=t.criteriaMode===gn.all,P=I=>V=>{clearTimeout(g),g=setTimeout(I,V)},w=async I=>{if(!t.disabled&&(x.isValid||b.isValid||I)){const V=t.resolver?Ar((await W()).errors):await ye(a,!0);V!==s.isValid&&j.state.next({isValid:V})}},y=(I,V)=>{!t.disabled&&(x.isValidating||x.validatingFields||b.isValidating||b.validatingFields)&&((I||Array.from(f.mount)).forEach(H=>{H&&(V?vt(s.validatingFields,H,V):Ht(s.validatingFields,H))}),j.state.next({validatingFields:s.validatingFields,isValidating:!Ar(s.validatingFields)}))},k=(I,V=[],H,we,be=!0,le=!0)=>{if(we&&H&&!t.disabled){if(u.action=!0,le&&Array.isArray(_e(a,I))){const Ae=H(_e(a,I),we.argA,we.argB);be&&vt(a,I,Ae)}if(le&&Array.isArray(_e(s.errors,I))){const Ae=H(_e(s.errors,I),we.argA,we.argB);be&&vt(s.errors,I,Ae),S2(s.errors,I)}if((x.touchedFields||b.touchedFields)&&le&&Array.isArray(_e(s.touchedFields,I))){const Ae=H(_e(s.touchedFields,I),we.argA,we.argB);be&&vt(s.touchedFields,I,Ae)}(x.dirtyFields||b.dirtyFields)&&(s.dirtyFields=yo(o,c)),j.state.next({name:I,isDirty:xe(I,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else vt(c,I,V)},C=(I,V)=>{vt(s.errors,I,V),j.state.next({errors:s.errors})},A=I=>{s.errors=I,j.state.next({errors:s.errors,isValid:!1})},M=(I,V,H,we)=>{const be=_e(a,I);if(be){const le=_e(c,I,Gt(H)?_e(o,I):H);Gt(le)||we&&we.defaultChecked||V?vt(c,I,V?le:Ov(be._f)):L(I,le),u.mount&&w()}},$=(I,V,H,we,be)=>{let le=!1,Ae=!1;const it={name:I};if(!t.disabled){if(!H||we){(x.isDirty||b.isDirty)&&(Ae=s.isDirty,s.isDirty=it.isDirty=xe(),le=Ae!==it.isDirty);const Ge=Ds(_e(o,I),V);Ae=!!_e(s.dirtyFields,I),Ge?Ht(s.dirtyFields,I):vt(s.dirtyFields,I,!0),it.dirtyFields=s.dirtyFields,le=le||(x.dirtyFields||b.dirtyFields)&&Ae!==!Ge}if(H){const Ge=_e(s.touchedFields,I);Ge||(vt(s.touchedFields,I,H),it.touchedFields=s.touchedFields,le=le||(x.touchedFields||b.touchedFields)&&Ge!==H)}le&&be&&j.state.next(it)}return le?it:{}},G=(I,V,H,we)=>{const be=_e(s.errors,I),le=(x.isValid||b.isValid)&&In(V)&&s.isValid!==V;if(t.delayError&&H?(h=P(()=>C(I,H)),h(t.delayError)):(clearTimeout(g),h=null,H?vt(s.errors,I,H):Ht(s.errors,I)),(H?!Ds(be,H):be)||!Ar(we)||le){const Ae={...we,...le&&In(V)?{isValid:V}:{},errors:s.errors,name:I};s={...s,...Ae},j.state.next(Ae)}},W=async I=>{y(I,!0);const V=await t.resolver(c,t.context,v2(I||f.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return y(I),V},J=async I=>{const{errors:V}=await W(I);if(I)for(const H of I){const we=_e(V,H);we?vt(s.errors,H,we):Ht(s.errors,H)}else s.errors=V;return V},ye=async(I,V,H={valid:!0})=>{for(const we in I){const be=I[we];if(be){const{_f:le,...Ae}=be;if(le){const it=f.array.has(le.name),Ge=be._f&&y2(be._f);Ge&&x.validatingFields&&y([we],!0);const Kt=await $v(be,f.disabled,c,S,t.shouldUseNativeValidation&&!V,it);if(Ge&&x.validatingFields&&y([we]),Kt[le.name]&&(H.valid=!1,V))break;!V&&(_e(Kt,le.name)?it?C2(s.errors,Kt,le.name):vt(s.errors,le.name,Kt[le.name]):Ht(s.errors,le.name))}!Ar(Ae)&&await ye(Ae,V,H)}}return H.valid},ge=()=>{for(const I of f.unMount){const V=_e(a,I);V&&(V._f.refs?V._f.refs.every(H=>!Df(H)):!Df(V._f.ref))&&te(I)}f.unMount=new Set},xe=(I,V)=>!t.disabled&&(I&&V&&vt(c,I,V),!Ds(oe(),o)),Y=(I,V,H)=>h2(I,f,{...u.mount?c:Gt(V)?o:Fn(I)?{[I]:V}:V},H,V),ne=I=>ph(_e(u.mount?c:o,I,t.shouldUnregister?_e(o,I,[]):[])),L=(I,V,H={})=>{const we=_e(a,I);let be=V;if(we){const le=we._f;le&&(!le.disabled&&vt(c,I,ww(V,le)),be=Oc(le.ref)&&Nr(V)?"":V,xw(le.ref)?[...le.ref.options].forEach(Ae=>Ae.selected=be.includes(Ae.value)):le.refs?Xo(le.ref)?le.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(be)?Ae.checked=!!be.find(it=>it===Ae.value):Ae.checked=be===Ae.value||!!be)}):le.refs.forEach(Ae=>Ae.checked=Ae.value===be):xh(le.ref)?le.ref.value="":(le.ref.value=be,le.ref.type||j.state.next({name:I,values:sr(c)})))}(H.shouldDirty||H.shouldTouch)&&$(I,be,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&re(I)},se=(I,V,H)=>{for(const we in V){if(!V.hasOwnProperty(we))return;const be=V[we],le=I+"."+we,Ae=_e(a,le);(f.array.has(I)||qt(be)||Ae&&!Ae._f)&&!di(be)?se(le,be,H):L(le,be,H)}},z=(I,V,H={})=>{const we=_e(a,I),be=f.array.has(I),le=sr(V);vt(c,I,le),be?(j.array.next({name:I,values:sr(c)}),(x.isDirty||x.dirtyFields||b.isDirty||b.dirtyFields)&&H.shouldDirty&&j.state.next({name:I,dirtyFields:yo(o,c),isDirty:xe(I,le)})):we&&!we._f&&!Nr(le)?se(I,le,H):L(I,le,H),Fv(I,f)&&j.state.next({...s,name:I}),j.state.next({name:u.mount?I:void 0,values:sr(c)})},ee=async I=>{u.mount=!0;const V=I.target;let H=V.name,we=!0;const be=_e(a,H),le=Ge=>{we=Number.isNaN(Ge)||di(Ge)&&isNaN(Ge.getTime())||Ds(Ge,_e(c,H,Ge))},Ae=Dv(t.mode),it=Dv(t.reValidateMode);if(be){let Ge,Kt;const Qr=V.type?Ov(be._f):o2(I),Dt=I.type===_v.BLUR||I.type===_v.FOCUS_OUT,_=!b2(be._f)&&!t.resolver&&!_e(s.errors,H)&&!be._f.deps||N2(Dt,_e(s.touchedFields,H),s.isSubmitted,it,Ae),ve=Fv(H,f,Dt);vt(c,H,Qr),Dt?(!V||!V.readOnly)&&(be._f.onBlur&&be._f.onBlur(I),h&&h(0)):be._f.onChange&&be._f.onChange(I);const He=$(H,Qr,Dt),et=!Ar(He)||ve;if(!Dt&&j.state.next({name:H,type:I.type,values:sr(c)}),_)return(x.isValid||b.isValid)&&(t.mode==="onBlur"?Dt&&w():Dt||w()),et&&j.state.next({name:H,...ve?{}:He});if(!Dt&&ve&&j.state.next({...s}),t.resolver){const{errors:pt}=await W([H]);if(le(Qr),we){const us=Lv(s.errors,a,H),En=Lv(pt,a,us.name||H);Ge=En.error,H=En.name,Kt=Ar(pt)}}else y([H],!0),Ge=(await $v(be,f.disabled,c,S,t.shouldUseNativeValidation))[H],y([H]),le(Qr),we&&(Ge?Kt=!1:(x.isValid||b.isValid)&&(Kt=await ye(a,!0)));we&&(be._f.deps&&re(be._f.deps),G(H,Kt,Ge,He))}},B=(I,V)=>{if(_e(s.errors,V)&&I.focus)return I.focus(),1},re=async(I,V={})=>{let H,we;const be=So(I);if(t.resolver){const le=await J(Gt(I)?I:be);H=Ar(le),we=I?!be.some(Ae=>_e(le,Ae)):H}else I?(we=(await Promise.all(be.map(async le=>{const Ae=_e(a,le);return await ye(Ae&&Ae._f?{[le]:Ae}:Ae)}))).every(Boolean),!(!we&&!s.isValid)&&w()):we=H=await ye(a);return j.state.next({...!Fn(I)||(x.isValid||b.isValid)&&H!==s.isValid?{}:{name:I},...t.resolver||!I?{isValid:H}:{},errors:s.errors}),V.shouldFocus&&!we&&Co(a,B,I?be:f.mount),we},oe=I=>{const V={...u.mount?c:o};return Gt(I)?V:Fn(I)?_e(V,I):I.map(H=>_e(V,H))},O=(I,V)=>({invalid:!!_e((V||s).errors,I),isDirty:!!_e((V||s).dirtyFields,I),error:_e((V||s).errors,I),isValidating:!!_e(s.validatingFields,I),isTouched:!!_e((V||s).touchedFields,I)}),E=I=>{I&&So(I).forEach(V=>Ht(s.errors,V)),j.state.next({errors:I?s.errors:{}})},R=(I,V,H)=>{const we=(_e(a,I,{_f:{}})._f||{}).ref,be=_e(s.errors,I)||{},{ref:le,message:Ae,type:it,...Ge}=be;vt(s.errors,I,{...Ge,...V,ref:we}),j.state.next({name:I,errors:s.errors,isValid:!1}),H&&H.shouldFocus&&we&&we.focus&&we.focus()},X=(I,V)=>xn(I)?j.state.subscribe({next:H=>"values"in H&&I(Y(void 0,V),H)}):Y(I,V,!0),Z=I=>j.state.subscribe({next:V=>{j2(I.name,V.name,I.exact)&&w2(V,I.formState||x,sn,I.reRenderRoot)&&I.callback({values:{...c},...s,...V,defaultValues:o})}}).unsubscribe,de=I=>(u.mount=!0,b={...b,...I.formState},Z({...I,formState:b})),te=(I,V={})=>{for(const H of I?So(I):f.mount)f.mount.delete(H),f.array.delete(H),V.keepValue||(Ht(a,H),Ht(c,H)),!V.keepError&&Ht(s.errors,H),!V.keepDirty&&Ht(s.dirtyFields,H),!V.keepTouched&&Ht(s.touchedFields,H),!V.keepIsValidating&&Ht(s.validatingFields,H),!t.shouldUnregister&&!V.keepDefaultValue&&Ht(o,H);j.state.next({values:sr(c)}),j.state.next({...s,...V.keepDirty?{isDirty:xe()}:{}}),!V.keepIsValid&&w()},Ne=({disabled:I,name:V})=>{(In(I)&&u.mount||I||f.disabled.has(V))&&(I?f.disabled.add(V):f.disabled.delete(V))},Te=(I,V={})=>{let H=_e(a,I);const we=In(V.disabled)||In(t.disabled);return vt(a,I,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:I}},name:I,mount:!0,...V}}),f.mount.add(I),H?Ne({disabled:In(V.disabled)?V.disabled:t.disabled,name:I}):M(I,!0,V.value),{...we?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:bo(V.min),max:bo(V.max),minLength:bo(V.minLength),maxLength:bo(V.maxLength),pattern:bo(V.pattern)}:{},name:I,onChange:ee,onBlur:ee,ref:be=>{if(be){Te(I,V),H=_e(a,I);const le=Gt(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Ae=p2(le),it=H._f.refs||[];if(Ae?it.find(Ge=>Ge===le):le===H._f.ref)return;vt(a,I,{_f:{...H._f,...Ae?{refs:[...it.filter(Df),le,...Array.isArray(_e(o,I))?[{}]:[]],ref:{type:le.type,name:I}}:{ref:le}}}),M(I,!1,void 0,le)}else H=_e(a,I,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(c2(f.array,I)&&u.action)&&f.unMount.add(I)}}},$e=()=>t.shouldFocusError&&Co(a,B,f.mount),lt=I=>{In(I)&&(j.state.next({disabled:I}),Co(a,(V,H)=>{const we=_e(a,H);we&&(V.disabled=we._f.disabled||I,Array.isArray(we._f.refs)&&we._f.refs.forEach(be=>{be.disabled=we._f.disabled||I}))},0,!1))},ut=(I,V)=>async H=>{let we;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let be=sr(c);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:Ae}=await W();s.errors=le,be=sr(Ae)}else await ye(a);if(f.disabled.size)for(const le of f.disabled)Ht(be,le);if(Ht(s.errors,"root"),Ar(s.errors)){j.state.next({errors:{}});try{await I(be,H)}catch(le){we=le}}else V&&await V({...s.errors},H),$e(),setTimeout($e);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ar(s.errors)&&!we,submitCount:s.submitCount+1,errors:s.errors}),we)throw we},Wt=(I,V={})=>{_e(a,I)&&(Gt(V.defaultValue)?z(I,sr(_e(o,I))):(z(I,V.defaultValue),vt(o,I,sr(V.defaultValue))),V.keepTouched||Ht(s.touchedFields,I),V.keepDirty||(Ht(s.dirtyFields,I),s.isDirty=V.defaultValue?xe(I,sr(_e(o,I))):xe()),V.keepError||(Ht(s.errors,I),x.isValid&&w()),j.state.next({...s}))},Xe=(I,V={})=>{const H=I?sr(I):o,we=sr(H),be=Ar(I),le=be?o:we;if(V.keepDefaultValues||(o=H),!V.keepValues){if(V.keepDirtyValues){const Ae=new Set([...f.mount,...Object.keys(yo(o,c))]);for(const it of Array.from(Ae))_e(s.dirtyFields,it)?vt(le,it,_e(c,it)):z(it,_e(le,it))}else{if(hh&&Gt(I))for(const Ae of f.mount){const it=_e(a,Ae);if(it&&it._f){const Ge=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(Oc(Ge)){const Kt=Ge.closest("form");if(Kt){Kt.reset();break}}}}if(V.keepFieldsRef)for(const Ae of f.mount)z(Ae,_e(le,Ae));else a={}}c=t.shouldUnregister?V.keepDefaultValues?sr(o):{}:sr(le),j.array.next({values:{...le}}),j.state.next({values:{...le}})}f={mount:V.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!V.keepIsValid||!!V.keepDirtyValues,u.watch=!!t.shouldUnregister,j.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:be?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!Ds(I,o)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:be?{}:V.keepDirtyValues?V.keepDefaultValues&&c?yo(o,c):s.dirtyFields:V.keepDefaultValues&&I?yo(o,I):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Lr=(I,V)=>Xe(xn(I)?I(c):I,V),Kr=(I,V={})=>{const H=_e(a,I),we=H&&H._f;if(we){const be=we.refs?we.refs[0]:we.ref;be.focus&&(be.focus(),V.shouldSelect&&xn(be.select)&&be.select())}},sn=I=>{s={...s,...I}},ds={control:{register:Te,unregister:te,getFieldState:O,handleSubmit:ut,setError:R,_subscribe:Z,_runSchema:W,_focusError:$e,_getWatch:Y,_getDirty:xe,_setValid:w,_setFieldArray:k,_setDisabledField:Ne,_setErrors:A,_getFieldArray:ne,_reset:Xe,_resetDefaultValues:()=>xn(t.defaultValues)&&t.defaultValues().then(I=>{Lr(I,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:ge,_disableForm:lt,_subjects:j,_proxyFormState:x,get _fields(){return a},get _formValues(){return c},get _state(){return u},set _state(I){u=I},get _defaultValues(){return o},get _names(){return f},set _names(I){f=I},get _formState(){return s},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:de,trigger:re,register:Te,handleSubmit:ut,watch:X,setValue:z,getValues:oe,reset:Lr,resetField:Wt,clearErrors:E,unregister:te,setError:R,setFocus:Kr,getFieldState:O};return{...ds,formControl:ds}}function Nw(e={}){const t=Lt.useRef(void 0),s=Lt.useRef(void 0),[a,o]=Lt.useState({isDirty:!1,isValidating:!1,isLoading:xn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!xn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=E2(e);t.current={...f,formState:a}}const c=t.current.control;return c._options=e,m2(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),Lt.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),Lt.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),Lt.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),Lt.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),Lt.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==a.isDirty&&c._subjects.state.next({isDirty:u})}},[c,a.isDirty]),Lt.useEffect(()=>{e.values&&!Ds(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),s.current=e.values,o(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),Lt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=f2(a,c),t.current}const Vv=(e,t,s)=>{if(e&&"reportValidity"in e){const a=_e(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Sw=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?Vv(a.ref,s,e):a.refs&&a.refs.forEach(o=>Vv(o,s,e))}},P2=(e,t)=>{t.shouldUseNativeValidation&&Sw(e,t);const s={};for(const a in e){const o=_e(t.fields,a),c=Object.assign(e[a]||{},{ref:o&&o.ref});if(_2(t.names||Object.keys(e),a)){const u=Object.assign({},_e(s,a));vt(u,"root",c),vt(s,a,u)}else vt(s,a,c)}return s},_2=(e,t)=>e.some(s=>s.startsWith(t+"."));var T2=function(e,t){for(var s={};e.length;){var a=e[0],o=a.code,c=a.message,u=a.path.join(".");if(!s[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in a&&a.unionErrors.forEach(function(x){return x.errors.forEach(function(b){return e.push(b)})}),t){var h=s[u].types,g=h&&h[a.code];s[u]=gw(u,t,s,o,g?[].concat(g,a.message):a.message)}e.shift()}return s},Cw=function(e,t,s){return s===void 0&&(s={}),function(a,o,c){try{return Promise.resolve((function(u,f){try{var h=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(g){return c.shouldUseNativeValidation&&Sw({},c),{errors:{},values:s.raw?a:g}})}catch(g){return f(g)}return h&&h.then?h.then(void 0,f):h})(0,function(u){if((function(f){return Array.isArray(f?.errors)})(u))return{values:{},errors:P2(T2(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}};const ie=Symbol.for("drizzle:entityKind");function ir(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ie))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ie in s&&s[ie]===t[ie])return!0;s=Object.getPrototypeOf(s)}return!1}class Ro{constructor(t,s){this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class R2{static[ie]="ColumnBuilder";config;constructor(t,s,a){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:a,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const ma=Symbol.for("drizzle:Name");class A2{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,s){this.reference=()=>{const{name:a,columns:o,foreignColumns:c}=t();return{name:a,columns:o,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new I2(t,this)}}class I2{constructor(t,s){this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:s,foreignColumns:a}=this.reference(),o=s.map(f=>f.name),c=a.map(f=>f.name),u=[this.table[ma],...o,a[0].table[ma],...c];return t??`${u.join("_")}_fk`}}function O2(e,...t){return e(...t)}function D2(e,t){return`${e[ma]}_${t.join("_")}_unique`}function zv(e,t,s){for(let a=t;a<e.length;a++){const o=e[a];if(o==="\\"){a++;continue}if(o==='"')return[e.slice(t,a).replace(/\\/g,""),a+1];if(!s&&(o===","||o==="}"))return[e.slice(t,a).replace(/\\/g,""),a]}return[e.slice(t).replace(/\\/g,""),e.length]}function kw(e,t=0){const s=[];let a=t,o=!1;for(;a<e.length;){const c=e[a];if(c===","){(o||a===t)&&s.push(""),o=!0,a++;continue}if(o=!1,c==="\\"){a+=2;continue}if(c==='"'){const[h,g]=zv(e,a+1,!0);s.push(h),a=g;continue}if(c==="}")return[s,a+1];if(c==="{"){const[h,g]=kw(e,a+1);s.push(h),a=g;continue}const[u,f]=zv(e,a,!1);s.push(u),a=f}return[s,a]}function M2(e){const[t]=kw(e,1);return t}function Ew(e){return`{${e.map(t=>Array.isArray(t)?Ew(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class ot extends R2{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(t){return new L2(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:a,actions:o})=>O2((c,u)=>{const f=new A2(()=>{const h=c();return{columns:[t],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},a,o))}buildExtraConfigColumn(t){return new F2(t,this.config)}}class Ye extends Ro{constructor(t,s){s.uniqueName||(s.uniqueName=D2(t,[s.name])),super(t,s),this.table=t}static[ie]="PgColumn"}class F2 extends Ye{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class L2 extends ot{static[ie]="PgArrayBuilder";constructor(t,s,a){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=a}build(t){const s=this.config.baseBuilder.build(t);return new yh(t,this.config,s)}}class yh extends Ye{constructor(t,s,a,o){super(t,s),this.baseColumn=a,this.range=o,this.size=s.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=M2(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const a=t.map(o=>o===null?null:ir(this.baseColumn,yh)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?a:Ew(a)}}const Uv=Symbol.for("drizzle:isPgEnum");function B2(e){return!!e&&typeof e=="function"&&Uv in e&&e[Uv]===!0}class Pw{static[ie]="Subquery";constructor(t,s,a,o=!1,c=[]){this._={brand:"Subquery",sql:t,selectedFields:s,alias:a,isWith:o,usedTables:c}}}const $2={startActiveSpan(e,t){return t()}},ha=Symbol.for("drizzle:ViewBaseConfig"),Mf=Symbol.for("drizzle:Schema"),qv=Symbol.for("drizzle:Columns"),Wv=Symbol.for("drizzle:ExtraConfigColumns"),Ff=Symbol.for("drizzle:OriginalName"),Lf=Symbol.for("drizzle:BaseName"),Fc=Symbol.for("drizzle:IsAlias"),Kv=Symbol.for("drizzle:ExtraConfigBuilder"),_w=Symbol.for("drizzle:IsDrizzleTable");let ar=class{static[ie]="Table";static Symbol={Name:ma,Schema:Mf,OriginalName:Ff,Columns:qv,ExtraConfigColumns:Wv,BaseName:Lf,IsAlias:Fc,ExtraConfigBuilder:Kv};[ma];[Ff];[Mf];[qv];[Wv];[Lf];[Fc]=!1;[_w]=!0;[Kv]=void 0;constructor(t,s,a){this[ma]=this[Ff]=t,this[Mf]=s,this[Lf]=a}};function Tw(e){return typeof e=="object"&&e!==null&&_w in e}function V2(e){return e!=null&&typeof e.getSQL=="function"}function z2(e){const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),s.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}class hn{static[ie]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Ot([this])}}class Ot{constructor(t){this.queryChunks=t;for(const s of t)if(ir(s,ar)){const a=s[ar.Symbol.Schema];this.usedTables.push(a===void 0?s[ar.Symbol.Name]:a+"."+s[ar.Symbol.Name])}}static[ie]="SQL";decoder=Rw;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return $2.startActiveSpan("drizzle.buildSQL",s=>{const a=this.buildQueryFromSourceParams(this.queryChunks,t);return s?.setAttributes({"drizzle.query.text":a.sql,"drizzle.query.params":JSON.stringify(a.params)}),a})}buildQueryFromSourceParams(t,s){const a=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:g}=a;return z2(t.map(x=>{if(ir(x,hn))return{sql:x.value.join(""),params:[]};if(ir(x,pm))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const b=[new hn("(")];for(const[j,S]of x.entries())b.push(S),j<x.length-1&&b.push(new hn(", "));return b.push(new hn(")")),this.buildQueryFromSourceParams(b,a)}if(ir(x,Ot))return this.buildQueryFromSourceParams(x.queryChunks,{...a,inlineParams:h||x.shouldInlineParams});if(ir(x,ar)){const b=x[ar.Symbol.Schema],j=x[ar.Symbol.Name];return{sql:b===void 0||x[Fc]?c(j):c(b)+"."+c(j),params:[]}}if(ir(x,Ro)){const b=o.getColumnCasing(x);if(s.invokeSource==="indexes")return{sql:c(b),params:[]};const j=x.table[ar.Symbol.Schema];return{sql:x.table[Fc]||j===void 0?c(x.table[ar.Symbol.Name])+"."+c(b):c(j)+"."+c(x.table[ar.Symbol.Name])+"."+c(b),params:[]}}if(ir(x,U2)){const b=x[ha].schema,j=x[ha].name;return{sql:b===void 0||x[ha].isAlias?c(j):c(b)+"."+c(j),params:[]}}if(ir(x,Iw)){if(ir(x.value,gm))return{sql:u(g.value++,x),params:[x],typings:["none"]};const b=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(ir(b,Ot))return this.buildQueryFromSourceParams([b],a);if(h)return{sql:this.mapInlineParam(b,a),params:[]};let j=["none"];return f&&(j=[f(x.encoder)]),{sql:u(g.value++,b),params:[b],typings:j}}return ir(x,gm)?{sql:u(g.value++,x),params:[x],typings:["none"]}:ir(x,Ot.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:ir(x,Pw)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new hn("("),x._.sql,new hn(") "),new pm(x._.alias)],a):B2(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:V2(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],a):this.buildQueryFromSourceParams([new hn("("),x.getSQL(),new hn(")")],a):h?{sql:this.mapInlineParam(x,a),params:[]}:{sql:u(g.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const a=t.toString();return s(a==="[object Object]"?JSON.stringify(t):a)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ot.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class pm{constructor(t){this.value=t}static[ie]="Name";brand;getSQL(){return new Ot([this])}}const Rw={mapFromDriverValue:e=>e},Aw={mapToDriverValue:e=>e};({...Rw,...Aw});class Iw{constructor(t,s=Aw){this.value=t,this.encoder=s}static[ie]="Param";brand;getSQL(){return new Ot([this])}}function Yt(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new hn(e[0]));for(const[a,o]of t.entries())s.push(o,new hn(e[a+1]));return new Ot(s)}(e=>{function t(){return new Ot([])}e.empty=t;function s(h){return new Ot(h)}e.fromList=s;function a(h){return new Ot([new hn(h)])}e.raw=a;function o(h,g){const x=[];for(const[b,j]of h.entries())b>0&&g!==void 0&&x.push(g),x.push(j);return new Ot(x)}e.join=o;function c(h){return new pm(h)}e.identifier=c;function u(h){return new gm(h)}e.placeholder=u;function f(h,g){return new Iw(h,g)}e.param=f})(Yt||(Yt={}));(e=>{class t{constructor(a,o){this.sql=a,this.fieldAlias=o}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Ot||(Ot={}));class gm{constructor(t){this.name=t}static[ie]="Placeholder";getSQL(){return new Ot([this])}}const Ow=Symbol.for("drizzle:IsDrizzleView");class U2{static[ie]="View";[ha];[Ow]=!0;constructor({name:t,schema:s,selectedFields:a,query:o}){this[ha]={name:t,originalName:t,schema:s,selectedFields:a,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Ot([this])}}function q2(e){return typeof e=="object"&&e!==null&&Ow in e}Ro.prototype.getSQL=function(){return new Ot([this])};ar.prototype.getSQL=function(){return new Ot([this])};Pw.prototype.getSQL=function(){return new Ot([this])};function W2(e){return e[ar.Symbol.Columns]}function K2(e){return e[ha].selectedFields}function lr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;class yd extends ot{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:s,...a}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...a}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:a}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class Q2 extends yd{static[ie]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new H2(t,this.config)}}class H2 extends Ye{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class G2 extends yd{static[ie]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new Z2(t,this.config)}}class Z2 extends Ye{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function Y2(e,t){const{name:s,config:a}=lr(e,t);return a.mode==="number"?new Q2(s):new G2(s)}class X2 extends ot{static[ie]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new J2(t,this.config)}}class J2 extends Ye{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class eR extends ot{static[ie]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new tR(t,this.config)}}class tR extends Ye{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function rR(e,t){const{name:s,config:a}=lr(e,t);return a.mode==="number"?new X2(s):new eR(s)}class nR extends ot{static[ie]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new sR(t,this.config)}}class sR extends Ye{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function pn(e){return new nR(e??"")}class iR extends ot{static[ie]="PgCharBuilder";constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new aR(t,this.config)}}class aR extends Ye{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function oR(e,t={}){const{name:s,config:a}=lr(e,t);return new iR(s,a)}class lR extends ot{static[ie]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new cR(t,this.config)}}class cR extends Ye{static[ie]="PgCidr";getSQLType(){return"cidr"}}function dR(e){return new lR(e??"")}class uR extends ot{static[ie]="PgCustomColumnBuilder";constructor(t,s,a){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=a}build(t){return new fR(t,this.config)}}class fR extends Ye{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,s){super(t,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function mR(e){return(t,s)=>{const{name:a,config:o}=lr(t,s);return new uR(a,o,e)}}class Jo extends ot{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Yt`now()`)}}class hR extends Jo{static[ie]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new pR(t,this.config)}}class pR extends Ye{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class gR extends Jo{static[ie]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new xR(t,this.config)}}class xR extends Ye{static[ie]="PgDateString";getSQLType(){return"date"}}function vR(e,t){const{name:s,config:a}=lr(e,t);return a?.mode==="date"?new hR(s):new gR(s)}class yR extends ot{static[ie]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new bR(t,this.config)}}class bR extends Ye{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function wR(e){return new yR(e??"")}class jR extends ot{static[ie]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new NR(t,this.config)}}class NR extends Ye{static[ie]="PgInet";getSQLType(){return"inet"}}function SR(e){return new jR(e??"")}class CR extends yd{static[ie]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new kR(t,this.config)}}class kR extends Ye{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function ui(e){return new CR(e??"")}class ER extends ot{static[ie]="PgIntervalBuilder";constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new PR(t,this.config)}}class PR extends Ye{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}function _R(e,t={}){const{name:s,config:a}=lr(e,t);return new ER(s,a)}class TR extends ot{static[ie]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new RR(t,this.config)}}class RR extends Ye{static[ie]="PgJson";constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function AR(e){return new TR(e??"")}class IR extends ot{static[ie]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new OR(t,this.config)}}class OR extends Ye{static[ie]="PgJsonb";constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function Lc(e){return new IR(e??"")}class DR extends ot{static[ie]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new MR(t,this.config)}}class MR extends Ye{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[s,a,o]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class FR extends ot{static[ie]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new LR(t,this.config)}}class LR extends Ye{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[s,a,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(a),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function BR(e,t){const{name:s,config:a}=lr(e,t);return!a?.mode||a.mode==="tuple"?new DR(s):new FR(s)}class $R extends ot{static[ie]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new VR(t,this.config)}}class VR extends Ye{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function zR(e){return new $R(e??"")}class UR extends ot{static[ie]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new qR(t,this.config)}}class qR extends Ye{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function WR(e){return new UR(e??"")}class KR extends ot{static[ie]="PgNumericBuilder";constructor(t,s,a){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=a}build(t){return new QR(t,this.config)}}class QR extends Ye{static[ie]="PgNumeric";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class HR extends ot{static[ie]="PgNumericNumberBuilder";constructor(t,s,a){super(t,"number","PgNumericNumber"),this.config.precision=s,this.config.scale=a}build(t){return new GR(t,this.config)}}class GR extends Ye{static[ie]="PgNumericNumber";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class ZR extends ot{static[ie]="PgNumericBigIntBuilder";constructor(t,s,a){super(t,"bigint","PgNumericBigInt"),this.config.precision=s,this.config.scale=a}build(t){return new YR(t,this.config)}}class YR extends Ye{static[ie]="PgNumericBigInt";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function XR(e,t){const{name:s,config:a}=lr(e,t),o=a?.mode;return o==="number"?new HR(s,a?.precision,a?.scale):o==="bigint"?new ZR(s,a?.precision,a?.scale):new KR(s,a?.precision,a?.scale)}class JR extends ot{static[ie]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new eA(t,this.config)}}class eA extends Ye{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(a)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class tA extends ot{static[ie]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new rA(t,this.config)}}class rA extends Ye{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,a]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(a)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function nA(e,t){const{name:s,config:a}=lr(e,t);return!a?.mode||a.mode==="tuple"?new JR(s):new tA(s)}function sA(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function Qv(e,t){const s=new ArrayBuffer(8),a=new DataView(s);for(let o=0;o<8;o++)a.setUint8(o,e[t+o]);return a.getFloat64(0,!0)}function Dw(e){const t=sA(e);let s=0;const a=t[s];s+=1;const o=new DataView(t.buffer),c=o.getUint32(s,a===1);if(s+=4,c&536870912&&(o.getUint32(s,a===1),s+=4),(c&65535)===1){const u=Qv(t,s);s+=8;const f=Qv(t,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class iA extends ot{static[ie]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new aA(t,this.config)}}class aA extends Ye{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Dw(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class oA extends ot{static[ie]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new lA(t,this.config)}}class lA extends Ye{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=Dw(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function cA(e,t){const{name:s,config:a}=lr(e,t);return!a?.mode||a.mode==="tuple"?new iA(s):new oA(s)}class dA extends ot{static[ie]="PgRealBuilder";constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new uA(t,this.config)}}class uA extends Ye{static[ie]="PgReal";constructor(t,s){super(t,s)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function fA(e){return new dA(e??"")}class mA extends ot{static[ie]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new hA(t,this.config)}}class hA extends Ye{static[ie]="PgSerial";getSQLType(){return"serial"}}function pA(e){return new mA(e??"")}class gA extends yd{static[ie]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new xA(t,this.config)}}class xA extends Ye{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function vA(e){return new gA(e??"")}class yA extends ot{static[ie]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new bA(t,this.config)}}class bA extends Ye{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function wA(e){return new yA(e??"")}class jA extends ot{static[ie]="PgTextBuilder";constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new NA(t,this.config)}}class NA extends Ye{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function st(e,t={}){const{name:s,config:a}=lr(e,t);return new jA(s,a)}class SA extends Jo{constructor(t,s,a){super(t,"string","PgTime"),this.withTimezone=s,this.precision=a,this.config.withTimezone=s,this.config.precision=a}static[ie]="PgTimeBuilder";build(t){return new CA(t,this.config)}}class CA extends Ye{static[ie]="PgTime";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function kA(e,t={}){const{name:s,config:a}=lr(e,t);return new SA(s,a.withTimezone??!1,a.precision)}class EA extends Jo{static[ie]="PgTimestampBuilder";constructor(t,s,a){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=a}build(t){return new PA(t,this.config)}}class PA extends Ye{static[ie]="PgTimestamp";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class _A extends Jo{static[ie]="PgTimestampStringBuilder";constructor(t,s,a){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=a}build(t){return new TA(t,this.config)}}class TA extends Ye{static[ie]="PgTimestampString";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function rn(e,t={}){const{name:s,config:a}=lr(e,t);return a?.mode==="string"?new _A(s,a.withTimezone??!1,a.precision):new EA(s,a?.withTimezone??!1,a?.precision)}class RA extends ot{static[ie]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Yt`gen_random_uuid()`)}build(t){return new AA(t,this.config)}}class AA extends Ye{static[ie]="PgUUID";getSQLType(){return"uuid"}}function IA(e){return new RA(e??"")}class OA extends ot{static[ie]="PgVarcharBuilder";constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new DA(t,this.config)}}class DA extends Ye{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Nn(e,t={}){const{name:s,config:a}=lr(e,t);return new OA(s,a)}class MA extends ot{static[ie]="PgBinaryVectorBuilder";constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new FA(t,this.config)}}class FA extends Ye{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function LA(e,t){const{name:s,config:a}=lr(e,t);return new MA(s,a)}class BA extends ot{static[ie]="PgHalfVectorBuilder";constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new $A(t,this.config)}}class $A extends Ye{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function VA(e,t){const{name:s,config:a}=lr(e,t);return new BA(s,a)}class zA extends ot{static[ie]="PgSparseVectorBuilder";constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new UA(t,this.config)}}class UA extends Ye{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function qA(e,t){const{name:s,config:a}=lr(e,t);return new zA(s,a)}class WA extends ot{static[ie]="PgVectorBuilder";constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new KA(t,this.config)}}class KA extends Ye{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function QA(e,t){const{name:s,config:a}=lr(e,t);return new WA(s,a)}function HA(){return{bigint:Y2,bigserial:rR,boolean:pn,char:oR,cidr:dR,customType:mR,date:vR,doublePrecision:wR,inet:SR,integer:ui,interval:_R,json:AR,jsonb:Lc,line:BR,macaddr:zR,macaddr8:WR,numeric:XR,point:nA,geometry:cA,real:fA,serial:pA,smallint:vA,smallserial:wA,text:st,time:kA,timestamp:rn,uuid:IA,varchar:Nn,bit:LA,halfvec:VA,sparsevec:qA,vector:QA}}const xm=Symbol.for("drizzle:PgInlineForeignKeys"),Hv=Symbol.for("drizzle:EnableRLS");class Gv extends ar{static[ie]="PgTable";static Symbol=Object.assign({},ar.Symbol,{InlineForeignKeys:xm,EnableRLS:Hv});[xm]=[];[Hv]=!1;[ar.Symbol.ExtraConfigBuilder]=void 0;[ar.Symbol.ExtraConfigColumns]={}}function GA(e,t,s,a,o=e){const c=new Gv(e,a,o),u=typeof t=="function"?t(HA()):t,f=Object.fromEntries(Object.entries(u).map(([x,b])=>{const j=b;j.setName(x);const S=j.build(c);return c[xm].push(...j.buildForeignKeys(S,c)),[x,S]})),h=Object.fromEntries(Object.entries(u).map(([x,b])=>{const j=b;j.setName(x);const S=j.buildExtraConfigColumn(c);return[x,S]})),g=Object.assign(c,f);return g[ar.Symbol.Columns]=f,g[ar.Symbol.ExtraConfigColumns]=h,Object.assign(g,{enableRLS:()=>(g[Gv.Symbol.EnableRLS]=!0,g)})}const Ei=(e,t,s)=>GA(e,t,s,void 0);var dt;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function s(o){throw new Error}e.assertNever=s,e.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of c)u[f]=o[f];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},e.find=(o,c)=>{for(const u of o)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function a(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=a,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(dt||(dt={}));var vm;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(vm||(vm={}));const Ce=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ts=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return Number.isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},fe=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ZA=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Wr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(c){return c.message},a={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)a._errors.push(s(u));else{let f=a,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(s(u))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return o(this),a}static assert(t){if(!(t instanceof Wr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},a=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];s[c]=s[c]||[],s[c].push(t(o))}else a.push(t(o));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Wr.create=e=>new Wr(e);const ba=(e,t)=>{let s;switch(e.code){case fe.invalid_type:e.received===Ce.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case fe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,dt.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:s=`Unrecognized key(s) in object: ${dt.joinValues(e.keys,", ")}`;break;case fe.invalid_union:s="Invalid input";break;case fe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${dt.joinValues(e.options)}`;break;case fe.invalid_enum_value:s=`Invalid enum value. Expected ${dt.joinValues(e.options)}, received '${e.received}'`;break;case fe.invalid_arguments:s="Invalid function arguments";break;case fe.invalid_return_type:s="Invalid function return type";break;case fe.invalid_date:s="Invalid date";break;case fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:dt.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case fe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case fe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case fe.custom:s="Invalid input";break;case fe.invalid_intersection_types:s="Intersection results could not be merged";break;case fe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case fe.not_finite:s="Number must be finite";break;default:s=t.defaultError,dt.assertNever(e)}return{message:s}};let Mw=ba;function YA(e){Mw=e}function Bc(){return Mw}const $c=e=>{const{data:t,path:s,errorMaps:a,issueData:o}=e,c=[...s,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let f="";const h=a.filter(g=>!!g).slice().reverse();for(const g of h)f=g(u,{data:t,defaultError:f}).message;return{...o,path:c,message:f}},XA=[];function je(e,t){const s=Bc(),a=$c({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===ba?void 0:ba].filter(o=>!!o)});e.common.issues.push(a)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const a=[];for(const o of s){if(o.status==="aborted")return Ue;o.status==="dirty"&&t.dirty(),a.push(o.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,s){const a=[];for(const o of s){const c=await o.key,u=await o.value;a.push({key:c,value:u})}return xr.mergeObjectSync(t,a)}static mergeObjectSync(t,s){const a={};for(const o of s){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return Ue;c.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(a[c.value]=u.value)}return{status:t.value,value:a}}}const Ue=Object.freeze({status:"aborted"}),oa=e=>({status:"dirty",value:e}),Cr=e=>({status:"valid",value:e}),ym=e=>e.status==="aborted",bm=e=>e.status==="dirty",Ni=e=>e.status==="valid",Ao=e=>typeof Promise<"u"&&e instanceof Promise;var Me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Me||(Me={}));class Vn{constructor(t,s,a,o){this._cachedPath=[],this.parent=t,this.data=s,this._path=a,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zv=(e,t)=>{if(Ni(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Wr(e.common.issues);return this._error=s,this._error}}};function Je(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:o}=e;if(t&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,f)=>{const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:h??a??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:h??s??f.defaultError}},description:o}}class rt{get description(){return this._def.description}_getType(t){return ts(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:ts(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xr,ctx:{common:t.parent.common,data:t.data,parsedType:ts(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Ao(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const a=this.safeParse(t,s);if(a.success)return a.data;throw a.error}safeParse(t,s){const a={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ts(t)},o=this._parseSync({data:t,path:a.path,parent:a});return Zv(a,o)}"~validate"(t){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ts(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return Ni(a)?{value:a.value}:{issues:s.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>Ni(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const a=await this.safeParseAsync(t,s);if(a.success)return a.data;throw a.error}async safeParseAsync(t,s){const a={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ts(t)},o=this._parse({data:t,path:a.path,parent:a}),c=await(Ao(o)?o:Promise.resolve(o));return Zv(a,c)}refine(t,s){const a=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,c)=>{const u=t(o),f=()=>c.addIssue({code:fe.custom,...a(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(t,s){return this._refinement((a,o)=>t(a)?!0:(o.addIssue(typeof s=="function"?s(a,o):s),!1))}_refinement(t){return new Sn({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Bn.create(this,this._def)}nullable(){return qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this)}promise(){return ja.create(this,this._def)}or(t){return Mo.create([this,t],this._def)}and(t){return Fo.create(this,t,this._def)}transform(t){return new Sn({...Je(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new zo({...Je(this._def),innerType:this,defaultValue:s,typeName:qe.ZodDefault})}brand(){return new bh({typeName:qe.ZodBranded,type:this,...Je(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Uo({...Je(this._def),innerType:this,catchValue:s,typeName:qe.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return el.create(this,t)}readonly(){return qo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JA=/^c[^\s-]{8,}$/i,eI=/^[0-9a-z]+$/,tI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nI=/^[a-z0-9_-]{21}$/i,sI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bf;const lI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hI=new RegExp(`^${Fw}$`);function Lw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function pI(e){return new RegExp(`^${Lw(e)}$`)}function Bw(e){let t=`${Fw}T${Lw(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function gI(e,t){return!!((t==="v4"||!t)&&lI.test(e)||(t==="v6"||!t)&&dI.test(e))}function xI(e,t){if(!sI.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),o=JSON.parse(atob(a));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function vI(e,t){return!!((t==="v4"||!t)&&cI.test(e)||(t==="v6"||!t)&&uI.test(e))}class yn extends rt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const c=this._getOrReturnCtx(t);return je(c,{code:fe.invalid_type,expected:Ce.string,received:c.parsedType}),Ue}const a=new xr;let o;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:fe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="max")t.data.length>c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:fe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="length"){const u=t.data.length>c.value,f=t.data.length<c.value;(u||f)&&(o=this._getOrReturnCtx(t,o),u?je(o,{code:fe.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&je(o,{code:fe.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if(c.kind==="email")aI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"email",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="emoji")Bf||(Bf=new RegExp(oI,"u")),Bf.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"emoji",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="uuid")rI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"uuid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="nanoid")nI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"nanoid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid")JA.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid2")eI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid2",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="ulid")tI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ulid",code:fe.invalid_string,message:c.message}),a.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),je(o,{validation:"url",code:fe.invalid_string,message:c.message}),a.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"regex",code:fe.invalid_string,message:c.message}),a.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):c.kind==="datetime"?Bw(c).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:"datetime",message:c.message}),a.dirty()):c.kind==="date"?hI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:"date",message:c.message}),a.dirty()):c.kind==="time"?pI(c).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:fe.invalid_string,validation:"time",message:c.message}),a.dirty()):c.kind==="duration"?iI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"duration",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="ip"?gI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ip",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="jwt"?xI(t.data,c.alg)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"jwt",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="cidr"?vI(t.data,c.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cidr",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="base64"?fI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64",code:fe.invalid_string,message:c.message}),a.dirty()):c.kind==="base64url"?mI.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64url",code:fe.invalid_string,message:c.message}),a.dirty()):dt.assertNever(c);return{status:a.value,value:t.data}}_regex(t,s,a){return this.refinement(o=>t.test(o),{validation:s,code:fe.invalid_string,...Me.errToObj(a)})}_addCheck(t){return new yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Me.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Me.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Me.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Me.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Me.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...Me.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Me.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Me.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Me.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Me.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Me.errToObj(s)})}nonempty(t){return this.min(1,Me.errToObj(t))}trim(){return new yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}yn.create=e=>new yn({checks:[],typeName:qe.ZodString,coerce:e?.coerce??!1,...Je(e)});function yI(e,t){const s=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,o=s>a?s:a,c=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return c%u/10**o}class Vs extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const c=this._getOrReturnCtx(t);return je(c,{code:fe.invalid_type,expected:Ce.number,received:c.parsedType}),Ue}let a;const o=new xr;for(const c of this._def.checks)c.kind==="int"?dt.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),je(a,{code:fe.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?yI(t.data,c.value)!==0&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),je(a,{code:fe.not_finite,message:c.message}),o.dirty()):dt.assertNever(c);return{status:o.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Me.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Me.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Me.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Me.toString(s))}setLimit(t,s,a,o){return new Vs({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:Me.toString(o)}]})}_addCheck(t){return new Vs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dt.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Vs.create=e=>new Vs({checks:[],typeName:qe.ZodNumber,coerce:e?.coerce||!1,...Je(e)});class zs extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let a;const o=new xr;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),je(a,{code:fe.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):dt.assertNever(c);return{status:o.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_type,expected:Ce.bigint,received:s.parsedType}),Ue}gte(t,s){return this.setLimit("min",t,!0,Me.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Me.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Me.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Me.toString(s))}setLimit(t,s,a,o){return new zs({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:Me.toString(o)}]})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}zs.create=e=>new zs({checks:[],typeName:qe.ZodBigInt,coerce:e?.coerce??!1,...Je(e)});class Io extends rt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.boolean,received:a.parsedType}),Ue}return Cr(t.data)}}Io.create=e=>new Io({typeName:qe.ZodBoolean,coerce:e?.coerce||!1,...Je(e)});class Si extends rt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const c=this._getOrReturnCtx(t);return je(c,{code:fe.invalid_type,expected:Ce.date,received:c.parsedType}),Ue}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return je(c,{code:fe.invalid_date}),Ue}const a=new xr;let o;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:fe.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:fe.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):dt.assertNever(c);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Me.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Me.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Si.create=e=>new Si({checks:[],coerce:e?.coerce||!1,typeName:qe.ZodDate,...Je(e)});class Vc extends rt{_parse(t){if(this._getType(t)!==Ce.symbol){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.symbol,received:a.parsedType}),Ue}return Cr(t.data)}}Vc.create=e=>new Vc({typeName:qe.ZodSymbol,...Je(e)});class Oo extends rt{_parse(t){if(this._getType(t)!==Ce.undefined){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.undefined,received:a.parsedType}),Ue}return Cr(t.data)}}Oo.create=e=>new Oo({typeName:qe.ZodUndefined,...Je(e)});class Do extends rt{_parse(t){if(this._getType(t)!==Ce.null){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.null,received:a.parsedType}),Ue}return Cr(t.data)}}Do.create=e=>new Do({typeName:qe.ZodNull,...Je(e)});class wa extends rt{constructor(){super(...arguments),this._any=!0}_parse(t){return Cr(t.data)}}wa.create=e=>new wa({typeName:qe.ZodAny,...Je(e)});class fi extends rt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cr(t.data)}}fi.create=e=>new fi({typeName:qe.ZodUnknown,...Je(e)});class os extends rt{_parse(t){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_type,expected:Ce.never,received:s.parsedType}),Ue}}os.create=e=>new os({typeName:qe.ZodNever,...Je(e)});class zc extends rt{_parse(t){if(this._getType(t)!==Ce.undefined){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.void,received:a.parsedType}),Ue}return Cr(t.data)}}zc.create=e=>new zc({typeName:qe.ZodVoid,...Je(e)});class bn extends rt{_parse(t){const{ctx:s,status:a}=this._processInputParams(t),o=this._def;if(s.parsedType!==Ce.array)return je(s,{code:fe.invalid_type,expected:Ce.array,received:s.parsedType}),Ue;if(o.exactLength!==null){const u=s.data.length>o.exactLength.value,f=s.data.length<o.exactLength.value;(u||f)&&(je(s,{code:u?fe.too_big:fe.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(je(s,{code:fe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(je(s,{code:fe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>o.type._parseAsync(new Vn(s,u,s.path,f)))).then(u=>xr.mergeArray(a,u));const c=[...s.data].map((u,f)=>o.type._parseSync(new Vn(s,u,s.path,f)));return xr.mergeArray(a,c)}get element(){return this._def.type}min(t,s){return new bn({...this._def,minLength:{value:t,message:Me.toString(s)}})}max(t,s){return new bn({...this._def,maxLength:{value:t,message:Me.toString(s)}})}length(t,s){return new bn({...this._def,exactLength:{value:t,message:Me.toString(s)}})}nonempty(t){return this.min(1,t)}}bn.create=(e,t)=>new bn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Je(t)});function sa(e){if(e instanceof Tt){const t={};for(const s in e.shape){const a=e.shape[s];t[s]=Bn.create(sa(a))}return new Tt({...e._def,shape:()=>t})}else return e instanceof bn?new bn({...e._def,type:sa(e.element)}):e instanceof Bn?Bn.create(sa(e.unwrap())):e instanceof qs?qs.create(sa(e.unwrap())):e instanceof zn?zn.create(e.items.map(t=>sa(t))):e}class Tt extends rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=dt.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Ce.object){const g=this._getOrReturnCtx(t);return je(g,{code:fe.invalid_type,expected:Ce.object,received:g.parsedType}),Ue}const{status:a,ctx:o}=this._processInputParams(t),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof os&&this._def.unknownKeys==="strip"))for(const g in o.data)u.includes(g)||f.push(g);const h=[];for(const g of u){const x=c[g],b=o.data[g];h.push({key:{status:"valid",value:g},value:x._parse(new Vn(o,b,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof os){const g=this._def.unknownKeys;if(g==="passthrough")for(const x of f)h.push({key:{status:"valid",value:x},value:{status:"valid",value:o.data[x]}});else if(g==="strict")f.length>0&&(je(o,{code:fe.unrecognized_keys,keys:f}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const x of f){const b=o.data[x];h.push({key:{status:"valid",value:x},value:g._parse(new Vn(o,b,o.path,x)),alwaysSet:x in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const x of h){const b=await x.key,j=await x.value;g.push({key:b,value:j,alwaysSet:x.alwaysSet})}return g}).then(g=>xr.mergeObjectSync(a,g)):xr.mergeObjectSync(a,h)}get shape(){return this._def.shape()}strict(t){return Me.errToObj,new Tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,a)=>{const o=this._def.errorMap?.(s,a).message??a.defaultError;return s.code==="unrecognized_keys"?{message:Me.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Tt({...this._def,catchall:t})}pick(t){const s={};for(const a of dt.objectKeys(t))t[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new Tt({...this._def,shape:()=>s})}omit(t){const s={};for(const a of dt.objectKeys(this.shape))t[a]||(s[a]=this.shape[a]);return new Tt({...this._def,shape:()=>s})}deepPartial(){return sa(this)}partial(t){const s={};for(const a of dt.objectKeys(this.shape)){const o=this.shape[a];t&&!t[a]?s[a]=o:s[a]=o.optional()}return new Tt({...this._def,shape:()=>s})}required(t){const s={};for(const a of dt.objectKeys(this.shape))if(t&&!t[a])s[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof Bn;)c=c._def.innerType;s[a]=c}return new Tt({...this._def,shape:()=>s})}keyof(){return $w(dt.objectKeys(this.shape))}}Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:os.create(),typeName:qe.ZodObject,...Je(t)});Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:os.create(),typeName:qe.ZodObject,...Je(t)});Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:os.create(),typeName:qe.ZodObject,...Je(t)});class Mo extends rt{_parse(t){const{ctx:s}=this._processInputParams(t),a=this._def.options;function o(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new Wr(f.ctx.common.issues));return je(s,{code:fe.invalid_union,unionErrors:u}),Ue}if(s.common.async)return Promise.all(a.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const h of a){const g={...s,common:{...s.common,issues:[]},parent:null},x=h._parseSync({data:s.data,path:s.path,parent:g});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new Wr(h));return je(s,{code:fe.invalid_union,unionErrors:f}),Ue}}get options(){return this._def.options}}Mo.create=(e,t)=>new Mo({options:e,typeName:qe.ZodUnion,...Je(t)});const es=e=>e instanceof Bo?es(e.schema):e instanceof Sn?es(e.innerType()):e instanceof $o?[e.value]:e instanceof Us?e.options:e instanceof Vo?dt.objectValues(e.enum):e instanceof zo?es(e._def.innerType):e instanceof Oo?[void 0]:e instanceof Do?[null]:e instanceof Bn?[void 0,...es(e.unwrap())]:e instanceof qs?[null,...es(e.unwrap())]:e instanceof bh||e instanceof qo?es(e.unwrap()):e instanceof Uo?es(e._def.innerType):[];class bd extends rt{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.object)return je(s,{code:fe.invalid_type,expected:Ce.object,received:s.parsedType}),Ue;const a=this.discriminator,o=s.data[a],c=this.optionsMap.get(o);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(je(s,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,a){const o=new Map;for(const c of s){const u=es(c.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of u){if(o.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);o.set(f,c)}}return new bd({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:o,...Je(a)})}}function wm(e,t){const s=ts(e),a=ts(t);if(e===t)return{valid:!0,data:e};if(s===Ce.object&&a===Ce.object){const o=dt.objectKeys(t),c=dt.objectKeys(e).filter(f=>o.indexOf(f)!==-1),u={...e,...t};for(const f of c){const h=wm(e[f],t[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===Ce.array&&a===Ce.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const u=e[c],f=t[c],h=wm(u,f);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return s===Ce.date&&a===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fo extends rt{_parse(t){const{status:s,ctx:a}=this._processInputParams(t),o=(c,u)=>{if(ym(c)||ym(u))return Ue;const f=wm(c.value,u.value);return f.valid?((bm(c)||bm(u))&&s.dirty(),{status:s.value,value:f.data}):(je(a,{code:fe.invalid_intersection_types}),Ue)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Fo.create=(e,t,s)=>new Fo({left:e,right:t,typeName:qe.ZodIntersection,...Je(s)});class zn extends rt{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==Ce.array)return je(a,{code:fe.invalid_type,expected:Ce.array,received:a.parsedType}),Ue;if(a.data.length<this._def.items.length)return je(a,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&a.data.length>this._def.items.length&&(je(a,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...a.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new Vn(a,u,a.path,f)):null}).filter(u=>!!u);return a.common.async?Promise.all(c).then(u=>xr.mergeArray(s,u)):xr.mergeArray(s,c)}get items(){return this._def.items}rest(t){return new zn({...this._def,rest:t})}}zn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:e,typeName:qe.ZodTuple,rest:null,...Je(t)})};class Lo extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==Ce.object)return je(a,{code:fe.invalid_type,expected:Ce.object,received:a.parsedType}),Ue;const o=[],c=this._def.keyType,u=this._def.valueType;for(const f in a.data)o.push({key:c._parse(new Vn(a,f,a.path,f)),value:u._parse(new Vn(a,a.data[f],a.path,f)),alwaysSet:f in a.data});return a.common.async?xr.mergeObjectAsync(s,o):xr.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(t,s,a){return s instanceof rt?new Lo({keyType:t,valueType:s,typeName:qe.ZodRecord,...Je(a)}):new Lo({keyType:yn.create(),valueType:t,typeName:qe.ZodRecord,...Je(s)})}}class Uc extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==Ce.map)return je(a,{code:fe.invalid_type,expected:Ce.map,received:a.parsedType}),Ue;const o=this._def.keyType,c=this._def.valueType,u=[...a.data.entries()].map(([f,h],g)=>({key:o._parse(new Vn(a,f,a.path,[g,"key"])),value:c._parse(new Vn(a,h,a.path,[g,"value"]))}));if(a.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const g=await h.key,x=await h.value;if(g.status==="aborted"||x.status==="aborted")return Ue;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const g=h.key,x=h.value;if(g.status==="aborted"||x.status==="aborted")return Ue;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}}}}Uc.create=(e,t,s)=>new Uc({valueType:t,keyType:e,typeName:qe.ZodMap,...Je(s)});class Ci extends rt{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==Ce.set)return je(a,{code:fe.invalid_type,expected:Ce.set,received:a.parsedType}),Ue;const o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(je(a,{code:fe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(je(a,{code:fe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const g=new Set;for(const x of h){if(x.status==="aborted")return Ue;x.status==="dirty"&&s.dirty(),g.add(x.value)}return{status:s.value,value:g}}const f=[...a.data.values()].map((h,g)=>c._parse(new Vn(a,h,a.path,g)));return a.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(t,s){return new Ci({...this._def,minSize:{value:t,message:Me.toString(s)}})}max(t,s){return new Ci({...this._def,maxSize:{value:t,message:Me.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ci.create=(e,t)=>new Ci({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...Je(t)});class pa extends rt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.function)return je(s,{code:fe.invalid_type,expected:Ce.function,received:s.parsedType}),Ue;function a(f,h){return $c({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Bc(),ba].filter(g=>!!g),issueData:{code:fe.invalid_arguments,argumentsError:h}})}function o(f,h){return $c({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Bc(),ba].filter(g=>!!g),issueData:{code:fe.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof ja){const f=this;return Cr(async function(...h){const g=new Wr([]),x=await f._def.args.parseAsync(h,c).catch(S=>{throw g.addIssue(a(h,S)),g}),b=await Reflect.apply(u,this,x);return await f._def.returns._def.type.parseAsync(b,c).catch(S=>{throw g.addIssue(o(b,S)),g})})}else{const f=this;return Cr(function(...h){const g=f._def.args.safeParse(h,c);if(!g.success)throw new Wr([a(h,g.error)]);const x=Reflect.apply(u,this,g.data),b=f._def.returns.safeParse(x,c);if(!b.success)throw new Wr([o(x,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pa({...this._def,args:zn.create(t).rest(fi.create())})}returns(t){return new pa({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,a){return new pa({args:t||zn.create([]).rest(fi.create()),returns:s||fi.create(),typeName:qe.ZodFunction,...Je(a)})}}class Bo extends rt{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Bo.create=(e,t)=>new Bo({getter:e,typeName:qe.ZodLazy,...Je(t)});class $o extends rt{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return je(s,{received:s.data,code:fe.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}$o.create=(e,t)=>new $o({value:e,typeName:qe.ZodLiteral,...Je(t)});function $w(e,t){return new Us({values:e,typeName:qe.ZodEnum,...Je(t)})}class Us extends rt{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),a=this._def.values;return je(s,{expected:dt.joinValues(a),received:s.parsedType,code:fe.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),a=this._def.values;return je(s,{received:s.data,code:fe.invalid_enum_value,options:a}),Ue}return Cr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Us.create(t,{...this._def,...s})}exclude(t,s=this._def){return Us.create(this.options.filter(a=>!t.includes(a)),{...this._def,...s})}}Us.create=$w;class Vo extends rt{_parse(t){const s=dt.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==Ce.string&&a.parsedType!==Ce.number){const o=dt.objectValues(s);return je(a,{expected:dt.joinValues(o),received:a.parsedType,code:fe.invalid_type}),Ue}if(this._cache||(this._cache=new Set(dt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=dt.objectValues(s);return je(a,{received:a.data,code:fe.invalid_enum_value,options:o}),Ue}return Cr(t.data)}get enum(){return this._def.values}}Vo.create=(e,t)=>new Vo({values:e,typeName:qe.ZodNativeEnum,...Je(t)});class ja extends rt{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.promise&&s.common.async===!1)return je(s,{code:fe.invalid_type,expected:Ce.promise,received:s.parsedType}),Ue;const a=s.parsedType===Ce.promise?s.data:Promise.resolve(s.data);return Cr(a.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ja.create=(e,t)=>new ja({type:e,typeName:qe.ZodPromise,...Je(t)});class Sn extends rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:a}=this._processInputParams(t),o=this._def.effect||null,c={addIssue:u=>{je(a,u),u.fatal?s.abort():s.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(a.data,c);if(a.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return Ue;const h=await this._def.schema._parseAsync({data:f,path:a.path,parent:a});return h.status==="aborted"?Ue:h.status==="dirty"||s.value==="dirty"?oa(h.value):h});{if(s.value==="aborted")return Ue;const f=this._def.schema._parseSync({data:u,path:a.path,parent:a});return f.status==="aborted"?Ue:f.status==="dirty"||s.value==="dirty"?oa(f.value):f}}if(o.type==="refinement"){const u=f=>{const h=o.refinement(f,c);if(a.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(a.common.async===!1){const f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?Ue:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(f=>f.status==="aborted"?Ue:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(o.type==="transform")if(a.common.async===!1){const u=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ni(u))return Ue;const f=o.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(u=>Ni(u)?Promise.resolve(o.transform(u.value,c)).then(f=>({status:s.value,value:f})):Ue);dt.assertNever(o)}}Sn.create=(e,t,s)=>new Sn({schema:e,typeName:qe.ZodEffects,effect:t,...Je(s)});Sn.createWithPreprocess=(e,t,s)=>new Sn({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...Je(s)});class Bn extends rt{_parse(t){return this._getType(t)===Ce.undefined?Cr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bn.create=(e,t)=>new Bn({innerType:e,typeName:qe.ZodOptional,...Je(t)});class qs extends rt{_parse(t){return this._getType(t)===Ce.null?Cr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qs.create=(e,t)=>new qs({innerType:e,typeName:qe.ZodNullable,...Je(t)});class zo extends rt{_parse(t){const{ctx:s}=this._processInputParams(t);let a=s.data;return s.parsedType===Ce.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Je(t)});class Uo extends rt{_parse(t){const{ctx:s}=this._processInputParams(t),a={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ao(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Wr(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Wr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Uo.create=(e,t)=>new Uo({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Je(t)});class qc extends rt{_parse(t){if(this._getType(t)!==Ce.nan){const a=this._getOrReturnCtx(t);return je(a,{code:fe.invalid_type,expected:Ce.nan,received:a.parsedType}),Ue}return{status:"valid",value:t.data}}}qc.create=e=>new qc({typeName:qe.ZodNaN,...Je(e)});const bI=Symbol("zod_brand");class bh extends rt{_parse(t){const{ctx:s}=this._processInputParams(t),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class el extends rt{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Ue:c.status==="dirty"?(s.dirty(),oa(c.value)):this._def.out._parseAsync({data:c.value,path:a.path,parent:a})})();{const o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?Ue:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}static create(t,s){return new el({in:t,out:s,typeName:qe.ZodPipeline})}}class qo extends rt{_parse(t){const s=this._def.innerType._parse(t),a=o=>(Ni(o)&&(o.value=Object.freeze(o.value)),o);return Ao(s)?s.then(o=>a(o)):a(s)}unwrap(){return this._def.innerType}}qo.create=(e,t)=>new qo({innerType:e,typeName:qe.ZodReadonly,...Je(t)});function Yv(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function wh(e,t={},s){return e?wa.create().superRefine((a,o)=>{const c=e(a);if(c instanceof Promise)return c.then(u=>{if(!u){const f=Yv(t,a),h=f.fatal??s??!0;o.addIssue({code:"custom",...f,fatal:h})}});if(!c){const u=Yv(t,a),f=u.fatal??s??!0;o.addIssue({code:"custom",...u,fatal:f})}}):wa.create()}const wI={object:Tt.lazycreate};var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const jI=(e,t={message:`Input not instance of ${e.name}`})=>wh(s=>s instanceof e,t),wd=yn.create,jh=Vs.create,NI=qc.create,SI=zs.create,Nh=Io.create,CI=Si.create,kI=Vc.create,EI=Oo.create,Vw=Do.create,Wo=wa.create,PI=fi.create,_I=os.create,TI=zc.create,zw=bn.create,Uw=Tt.create,RI=Tt.strictCreate,Sh=Mo.create,AI=bd.create,II=Fo.create,OI=zn.create,qw=Lo.create,DI=Uc.create,MI=Ci.create,FI=pa.create,LI=Bo.create,BI=$o.create,$I=Us.create,VI=Vo.create,zI=ja.create,Xv=Sn.create,UI=Bn.create,qI=qs.create,WI=Sn.createWithPreprocess,KI=el.create,QI=()=>wd().optional(),HI=()=>jh().optional(),GI=()=>Nh().optional(),ZI={string:(e=>yn.create({...e,coerce:!0})),number:(e=>Vs.create({...e,coerce:!0})),boolean:(e=>Io.create({...e,coerce:!0})),bigint:(e=>zs.create({...e,coerce:!0})),date:(e=>Si.create({...e,coerce:!0}))},YI=Ue,XI=Object.freeze(Object.defineProperty({__proto__:null,BRAND:bI,DIRTY:oa,EMPTY_PATH:XA,INVALID:Ue,NEVER:YI,OK:Cr,ParseStatus:xr,Schema:rt,ZodAny:wa,ZodArray:bn,ZodBigInt:zs,ZodBoolean:Io,ZodBranded:bh,ZodCatch:Uo,ZodDate:Si,ZodDefault:zo,ZodDiscriminatedUnion:bd,ZodEffects:Sn,ZodEnum:Us,ZodError:Wr,get ZodFirstPartyTypeKind(){return qe},ZodFunction:pa,ZodIntersection:Fo,ZodIssueCode:fe,ZodLazy:Bo,ZodLiteral:$o,ZodMap:Uc,ZodNaN:qc,ZodNativeEnum:Vo,ZodNever:os,ZodNull:Do,ZodNullable:qs,ZodNumber:Vs,ZodObject:Tt,ZodOptional:Bn,ZodParsedType:Ce,ZodPipeline:el,ZodPromise:ja,ZodReadonly:qo,ZodRecord:Lo,ZodSchema:rt,ZodSet:Ci,ZodString:yn,ZodSymbol:Vc,ZodTransformer:Sn,ZodTuple:zn,ZodType:rt,ZodUndefined:Oo,ZodUnion:Mo,ZodUnknown:fi,ZodVoid:zc,addIssueToContext:je,any:Wo,array:zw,bigint:SI,boolean:Nh,coerce:ZI,custom:wh,date:CI,datetimeRegex:Bw,defaultErrorMap:ba,discriminatedUnion:AI,effect:Xv,enum:$I,function:FI,getErrorMap:Bc,getParsedType:ts,instanceof:jI,intersection:II,isAborted:ym,isAsync:Ao,isDirty:bm,isValid:Ni,late:wI,lazy:LI,literal:BI,makeIssue:$c,map:DI,nan:NI,nativeEnum:VI,never:_I,null:Vw,nullable:qI,number:jh,object:Uw,get objectUtil(){return vm},oboolean:GI,onumber:HI,optional:UI,ostring:QI,pipeline:KI,preprocess:WI,promise:zI,quotelessJson:ZA,record:qw,set:MI,setErrorMap:YA,strictObject:RI,string:wd,symbol:kI,transformer:Xv,tuple:OI,undefined:EI,union:Sh,unknown:PI,get util(){return dt},void:TI},Symbol.toStringTag,{value:"Module"})),Pt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Bt(e,t){return t.includes(e.columnType)}function JI(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const eO=Sh([wd(),jh(),Nh(),Vw()]),tO=Sh([eO,qw(Wo()),zw(Wo())]),rO=wh(e=>e instanceof Buffer);function Ww(e,t){const s=t?.zodInstance??XI,a=t?.coerce??{};let o;return JI(e)&&(o=e.enumValues.length?s.enum(e.enumValues):s.string()),o||(Bt(e,["PgGeometry","PgPointTuple"])?o=s.tuple([s.number(),s.number()]):Bt(e,["PgGeometryObject","PgPointObject"])?o=s.object({x:s.number(),y:s.number()}):Bt(e,["PgHalfVector","PgVector"])?(o=s.array(s.number()),o=e.dimensions?o.length(e.dimensions):o):Bt(e,["PgLine"])?o=s.tuple([s.number(),s.number(),s.number()]):Bt(e,["PgLineABC"])?o=s.object({a:s.number(),b:s.number(),c:s.number()}):Bt(e,["PgArray"])?(o=s.array(Ww(e.baseColumn,s)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=s.array(s.any()):e.dataType==="number"?o=nO(e,s,a):e.dataType==="bigint"?o=sO(e,s,a):e.dataType==="boolean"?o=a===!0||a.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?o=a===!0||a.date?s.coerce.date():s.date():e.dataType==="string"?o=iO(e,s,a):e.dataType==="json"?o=tO:e.dataType==="custom"?o=s.any():e.dataType==="buffer"&&(o=rO)),o||(o=s.any()),o}function nO(e,t,s){let a=e.getSQLType().includes("unsigned"),o,c,u=!1;Bt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=a?0:Pt.INT8_MIN,c=a?Pt.INT8_UNSIGNED_MAX:Pt.INT8_MAX,u=!0):Bt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=a?0:Pt.INT16_MIN,c=a?Pt.INT16_UNSIGNED_MAX:Pt.INT16_MAX,u=!0):Bt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=a?0:Pt.INT24_MIN,c=a?Pt.INT24_UNSIGNED_MAX:Pt.INT24_MAX,u=Bt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Bt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=a?0:Pt.INT32_MIN,c=a?Pt.INT32_UNSIGNED_MAX:Pt.INT32_MAX,u=!0):Bt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=a?0:Pt.INT48_MIN,c=a?Pt.INT48_UNSIGNED_MAX:Pt.INT48_MAX):Bt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(a=a||Bt(e,["MySqlSerial","SingleStoreSerial"]),o=a?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):Bt(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?t.coerce.number():t.number();return f=f.min(o).max(c),u?f.int():f}function sO(e,t,s){const a=e.getSQLType().includes("unsigned"),o=a?0n:Pt.INT64_MIN,c=a?Pt.INT64_UNSIGNED_MAX:Pt.INT64_MAX;return(s===!0||s?.bigint?t.coerce.bigint():t.bigint()).min(o).max(c)}function iO(e,t,s){if(Bt(e,["PgUUID"]))return t.string().uuid();let a,o,c=!1;Bt(e,["PgVarchar","SQLiteText"])?a=e.length:Bt(e,["MySqlVarChar","SingleStoreVarChar"])?a=e.length??Pt.INT16_UNSIGNED_MAX:Bt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?a=Pt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?a=Pt.INT24_UNSIGNED_MAX:e.textType==="text"?a=Pt.INT16_UNSIGNED_MAX:a=Pt.INT8_UNSIGNED_MAX),Bt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(a=e.length,c=!0),Bt(e,["PgBinaryVector"])&&(o=/^[01]+$/,a=e.dimensions);let u=s===!0||s?.string?t.coerce.string():t.string();return u=o?u.regex(o):u,a&&c?u.length(a):a?u.max(a):u}function Kw(e){return Tw(e)?W2(e):K2(e)}function Qw(e,t,s,a){const o={};for(const[c,u]of Object.entries(e)){if(!ir(u,Ro)&&!ir(u,Ot)&&!ir(u,Ot.Aliased)&&typeof u=="object"){const b=Tw(u)||q2(u)?Kw(u):u;o[c]=Qw(b,t[c]??{},s,a);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){o[c]=f;continue}const h=ir(u,Ro)?u:void 0,g=h?Ww(h,a):Wo(),x=typeof f=="function"?f(g):g;s.never(h)||(o[c]=x,h&&(s.nullable(h)&&(o[c]=o[c].nullable()),s.optional(h)&&(o[c]=o[c].optional())))}return Uw(o)}const aO={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Pi=(e,t)=>{const s=Kw(e);return Qw(s,{},aO)},oO=Ei("god_register",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),phoneNumber:st("phone_number").notNull().unique(),tenancyName:st("tenancy_name").notNull(),registeredAt:rn("registered_at").default(Yt`CURRENT_TIMESTAMP`)}),lO=Ei("server_registry",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),serverName:st("server_name").notNull().unique(),maxBotCount:ui("max_bot_count").notNull(),currentBotCount:ui("current_bot_count").default(0),serverStatus:st("server_status").default("active"),serverUrl:st("server_url"),baseUrl:st("base_url"),sharedSecret:st("shared_secret"),description:st("description"),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`),updatedAt:rn("updated_at").default(Yt`CURRENT_TIMESTAMP`)}),cO=Ei("users",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),username:st("username").notNull().unique(),password:st("password").notNull(),role:st("role").notNull().default("user"),serverName:st("server_name").notNull(),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`)}),dO=Ei("bot_instances",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),name:st("name").notNull(),phoneNumber:st("phone_number"),status:st("status").notNull().default("offline"),credentials:Lc("credentials"),settings:Lc("settings").default({}),autoLike:pn("auto_like").default(!0),autoViewStatus:pn("auto_view_status").default(!0),autoReact:pn("auto_react").default(!0),typingMode:st("typing_mode").default("recording"),chatgptEnabled:pn("chatgpt_enabled").default(!1),lastActivity:rn("last_activity"),messagesCount:ui("messages_count").default(0),commandsCount:ui("commands_count").default(0),approvalStatus:st("approval_status").default("pending"),isGuest:pn("is_guest").default(!1),approvalDate:st("approval_date"),expirationMonths:ui("expiration_months"),autoStart:pn("auto_start").default(!0),credentialVerified:pn("credential_verified").default(!1),credentialPhone:st("credential_phone"),invalidReason:st("invalid_reason"),authMessageSentAt:rn("auth_message_sent_at"),serverName:st("server_name").notNull(),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`),updatedAt:rn("updated_at").default(Yt`CURRENT_TIMESTAMP`)}),uO=Ei("commands",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),name:st("name").notNull(),description:st("description").notNull(),response:st("response"),isActive:pn("is_active").default(!0),useChatGPT:pn("use_chatgpt").default(!1),botInstanceId:Nn("bot_instance_id"),serverName:st("server_name").notNull(),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`)}),fO=Ei("activities",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),botInstanceId:Nn("bot_instance_id"),type:st("type").notNull(),description:st("description").notNull(),metadata:Lc("metadata").default({}),serverName:st("server_name").notNull(),remoteTenancy:st("remote_tenancy"),remoteBotId:st("remote_bot_id"),phoneNumber:st("phone_number"),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`)}),mO=Ei("groups",{id:Nn("id").primaryKey().default(Yt`gen_random_uuid()`),whatsappId:st("whatsapp_id").notNull().unique(),name:st("name").notNull(),description:st("description"),participantCount:ui("participant_count").default(0),botInstanceId:Nn("bot_instance_id").notNull(),isActive:pn("is_active").default(!0),serverName:st("server_name").notNull(),createdAt:rn("created_at").default(Yt`CURRENT_TIMESTAMP`)});Pi(cO).pick({username:!0,password:!0,role:!0});const hO=Pi(dO).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),pO=Pi(uO).omit({id:!0,createdAt:!0});Pi(fO).omit({id:!0,createdAt:!0});Pi(mO).omit({id:!0,createdAt:!0});Pi(oO).omit({id:!0,registeredAt:!0});Pi(lO).omit({id:!0,createdAt:!0,updatedAt:!0});const ls=p.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));ls.displayName="Textarea";var $f="rovingFocusGroup.onEntryFocus",gO={bubbles:!1,cancelable:!0},tl="RovingFocusGroup",[jm,Hw,xO]=Im(tl),[vO,jd]=Mr(tl,[xO]),[yO,bO]=vO(tl),Gw=p.forwardRef((e,t)=>r.jsx(jm.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(jm.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(wO,{...e,ref:t})})}));Gw.displayName=tl;var wO=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...b}=e,j=p.useRef(null),S=at(t,j),P=hd(c),[w,y]=ss({prop:u,defaultProp:f??null,onChange:h,caller:tl}),[k,C]=p.useState(!1),A=nn(g),M=Hw(s),$=p.useRef(!1),[G,W]=p.useState(0);return p.useEffect(()=>{const J=j.current;if(J)return J.addEventListener($f,A),()=>J.removeEventListener($f,A)},[A]),r.jsx(yO,{scope:s,orientation:a,dir:P,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(J=>y(J),[y]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>W(J=>J+1),[]),onFocusableItemRemove:p.useCallback(()=>W(J=>J-1),[]),children:r.jsx(Fe.div,{tabIndex:k||G===0?-1:0,"data-orientation":a,...b,ref:S,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{$.current=!0}),onFocus:Oe(e.onFocus,J=>{const ye=!$.current;if(J.target===J.currentTarget&&ye&&!k){const ge=new CustomEvent($f,gO);if(J.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const xe=M().filter(z=>z.focusable),Y=xe.find(z=>z.active),ne=xe.find(z=>z.id===w),se=[Y,ne,...xe].filter(Boolean).map(z=>z.ref.current);Xw(se,x)}}$.current=!1}),onBlur:Oe(e.onBlur,()=>C(!1))})})}),Zw="RovingFocusGroupItem",Yw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:o=!1,tabStopId:c,children:u,...f}=e,h=Sr(),g=c||h,x=bO(Zw,s),b=x.currentTabStopId===g,j=Hw(s),{onFocusableItemAdd:S,onFocusableItemRemove:P,currentTabStopId:w}=x;return p.useEffect(()=>{if(a)return S(),()=>P()},[a,S,P]),r.jsx(jm.ItemSlot,{scope:s,id:g,focusable:a,active:o,children:r.jsx(Fe.span,{tabIndex:b?0:-1,"data-orientation":x.orientation,...f,ref:t,onMouseDown:Oe(e.onMouseDown,y=>{a?x.onItemFocus(g):y.preventDefault()}),onFocus:Oe(e.onFocus,()=>x.onItemFocus(g)),onKeyDown:Oe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){x.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const k=SO(y,x.orientation,x.dir);if(k!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let A=j().filter(M=>M.focusable).map(M=>M.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const M=A.indexOf(y.currentTarget);A=x.loop?CO(A,M+1):A.slice(M+1)}setTimeout(()=>Xw(A))}}),children:typeof u=="function"?u({isCurrentTabStop:b,hasTabStop:w!=null}):u})})});Yw.displayName=Zw;var jO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function SO(e,t,s){const a=NO(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return jO[a]}function Xw(e,t=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}function CO(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var Jw=Gw,ej=Yw,Nd="Tabs",[kO,MD]=Mr(Nd,[jd]),tj=jd(),[EO,Ch]=kO(Nd),rj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...g}=e,x=hd(f),[b,j]=ss({prop:a,onChange:o,defaultProp:c??"",caller:Nd});return r.jsx(EO,{scope:s,baseId:Sr(),value:b,onValueChange:j,orientation:u,dir:x,activationMode:h,children:r.jsx(Fe.div,{dir:x,"data-orientation":u,...g,ref:t})})});rj.displayName=Nd;var nj="TabsList",sj=p.forwardRef((e,t)=>{const{__scopeTabs:s,loop:a=!0,...o}=e,c=Ch(nj,s),u=tj(s);return r.jsx(Jw,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:a,children:r.jsx(Fe.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});sj.displayName=nj;var ij="TabsTrigger",aj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,disabled:o=!1,...c}=e,u=Ch(ij,s),f=tj(s),h=cj(u.baseId,a),g=dj(u.baseId,a),x=a===u.value;return r.jsx(ej,{asChild:!0,...f,focusable:!o,active:x,children:r.jsx(Fe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...c,ref:t,onMouseDown:Oe(e.onMouseDown,b=>{!o&&b.button===0&&b.ctrlKey===!1?u.onValueChange(a):b.preventDefault()}),onKeyDown:Oe(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&u.onValueChange(a)}),onFocus:Oe(e.onFocus,()=>{const b=u.activationMode!=="manual";!x&&!o&&b&&u.onValueChange(a)})})})});aj.displayName=ij;var oj="TabsContent",lj=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,forceMount:o,children:c,...u}=e,f=Ch(oj,s),h=cj(f.baseId,a),g=dj(f.baseId,a),x=a===f.value,b=p.useRef(x);return p.useEffect(()=>{const j=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(j)},[]),r.jsx(Cn,{present:o||x,children:({present:j})=>r.jsx(Fe.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!j,id:g,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:j&&c})})});lj.displayName=oj;function cj(e,t){return`${e}-trigger-${t}`}function dj(e,t){return`${e}-content-${t}`}var PO=rj,uj=sj,fj=aj,mj=lj;const _i=PO,Hs=p.forwardRef(({className:e,...t},s)=>r.jsx(uj,{ref:s,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hs.displayName=uj.displayName;const St=p.forwardRef(({className:e,...t},s)=>r.jsx(fj,{ref:s,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=fj.displayName;const yt=p.forwardRef(({className:e,...t},s)=>r.jsx(mj,{ref:s,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yt.displayName=mj.displayName;const _O=hO.extend({credentialsFile:Wo().optional(),credentialsBase64:wd().optional()});function hj({open:e,onClose:t}){const{toast:s}=or(),a=Dr(),o=p.useRef(null),[c,u]=p.useState(null),[f,h]=p.useState(""),[g,x]=p.useState("file"),b=Nw({resolver:Cw(_O),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),j=Ze({mutationFn:async y=>{const k=new FormData;Object.entries(y).forEach(([A,M])=>{A!=="credentialsFile"&&A!=="credentialsBase64"&&k.append(A,String(M))}),g==="file"&&c&&k.append("credentials",c),g==="base64"&&f.trim()&&k.append("credentialsBase64",f.trim());const C=await fetch("/api/bot-instances",{method:"POST",body:k});if(!C.ok){const A=await C.json();throw new Error(A.message||"Failed to create bot instance")}return C.json()},onSuccess:()=>{s({title:"Bot instance created successfully"}),a.invalidateQueries({queryKey:["/api/bot-instances"]}),a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),b.reset(),u(null),h(""),t()},onError:y=>{s({title:"Failed to create bot instance",description:y instanceof Error?y.message:"Unknown error",variant:"destructive"})}}),S=y=>{const k=y.target.files?.[0];if(k){if(!k.name.endsWith(".json")){s({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(k.size<10){s({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(k.size>5*1024*1024){s({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const C=new FileReader;C.onload=A=>{try{const M=A.target?.result,$=JSON.parse(M);if(typeof $!="object"||!$||Array.isArray($))throw new Error("Invalid credentials format");if(Object.keys($).length===0)throw new Error("Credentials file is empty");u(k),s({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{s({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),u(null)}},C.readAsText(k)}},P=y=>{if(h(y),y.trim())try{const k=atob(y.trim()),C=JSON.parse(k);if(typeof C!="object"||!C||Array.isArray(C))throw new Error("Invalid credentials format");if(Object.keys(C).length===0)throw new Error("Credentials file is empty");s({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{s({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},w=y=>{j.mutate(y)};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),r.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),r.jsx(Ut,{id:"name",placeholder:"Enter bot name...",...b.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),b.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:b.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),r.jsxs(_i,{value:g,onValueChange:y=>x(y),className:"w-full",children:[r.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"file",children:"Upload File"}),r.jsx(St,{value:"base64",children:"Paste Base64"})]}),r.jsxs(yt,{value:"file",className:"mt-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:r.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),r.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),r.jsx("input",{ref:o,type:"file",accept:".json",onChange:S,className:"hidden","data-testid":"input-credentials-file"})]}),r.jsx(yt,{value:"base64",className:"mt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(ls,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:y=>P(y.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"autoLike",checked:b.watch("autoLike")||!1,onCheckedChange:y=>b.setValue("autoLike",y),"data-testid":"checkbox-auto-like"}),r.jsx(Re,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"autoViewStatus",checked:b.watch("autoViewStatus")||!1,onCheckedChange:y=>b.setValue("autoViewStatus",y),"data-testid":"checkbox-auto-view-status"}),r.jsx(Re,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"autoReact",checked:b.watch("autoReact")||!1,onCheckedChange:y=>b.setValue("autoReact",y),"data-testid":"checkbox-auto-react"}),r.jsx(Re,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),r.jsxs(Ir,{value:b.watch("typingMode")||"none",onValueChange:y=>b.setValue("typingMode",y),children:[r.jsx(wr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:r.jsx(Or,{})}),r.jsxs(jr,{className:"bg-popover border-border",children:[r.jsx(Ve,{value:"none",children:"None"}),r.jsx(Ve,{value:"typing",children:"Always Typing"}),r.jsx(Ve,{value:"recording",children:"Recording Audio"}),r.jsx(Ve,{value:"both",children:"Both (Switch)"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"chatgptEnabled",checked:b.watch("chatgptEnabled")||!1,onCheckedChange:y=>b.setValue("chatgptEnabled",y),"data-testid":"checkbox-chatgpt-enabled"}),r.jsx(Re,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Q,{type:"button",variant:"ghost",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:j.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:j.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const TO=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],Vf=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond('❌ Please provide a search query!');
  return;
}

await respond(\`🔍 Searching for: *\${query}*\`);
// Your custom logic here
await respond(\`✅ Results for: *\${query}*\`);`;function RO({open:e,onClose:t}){const{toast:s}=or(),a=Dr(),[o,c]=p.useState({name:"",description:"",category:"CUSTOM",code:Vf}),{data:u=[],isLoading:f}=xt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),h=Ze({mutationFn:async x=>{const b=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!b.ok){const j=await b.json();throw new Error(j.message||"Failed to create command")}return b.json()},onSuccess:()=>{s({title:"Custom command created successfully"}),a.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:Vf})},onError:x=>{s({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=x=>{if(x.preventDefault(),!o.name||!o.description||!o.code){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}h.mutate(o)};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-xl font-bold",children:"🔧 TREKKER-MD Command Management"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"Create Custom Command"}),r.jsx(ct,{children:"Add custom JavaScript code that will execute when users call your command"})]}),r.jsx(he,{children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"name",children:"Command Name *"}),r.jsx(Ut,{id:"name",placeholder:"mycommand",value:o.name,onChange:x=>c(b=>({...b,name:x.target.value})),className:"font-mono"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"description",children:"Description *"}),r.jsx(Ut,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:x=>c(b=>({...b,description:x.target.value}))})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"category",children:"Category"}),r.jsxs(Ir,{value:o.category,onValueChange:x=>c(b=>({...b,category:x})),children:[r.jsx(wr,{children:r.jsx(Or,{})}),r.jsx(jr,{children:TO.map(x=>r.jsx(Ve,{value:x,children:x},x))})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"code",children:"Command Code *"}),r.jsx(ls,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:x=>c(b=>({...b,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),r.jsx(Q,{type:"submit",disabled:h.isPending,className:"w-full",children:h.isPending?"Creating...":"Create Command"})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{children:["Existing Commands (",u.length,")"]}),r.jsx(ct,{children:"All commands available in your TREKKER-MD bot"})]}),r.jsx(he,{children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):r.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:u.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),r.jsxs(me,{children:[r.jsx(We,{children:r.jsx(Qe,{children:"💡 Command Example"})}),r.jsx(he,{children:r.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:Vf})})]})]})]})]})})}var kh="Radio",[AO,pj]=Mr(kh),[IO,OO]=AO(kh),gj=p.forwardRef((e,t)=>{const{__scopeRadio:s,name:a,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:h,form:g,...x}=e,[b,j]=p.useState(null),S=at(t,y=>j(y)),P=p.useRef(!1),w=b?g||!!b.closest("form"):!0;return r.jsxs(IO,{scope:s,checked:o,disabled:u,children:[r.jsx(Fe.button,{type:"button",role:"radio","aria-checked":o,"data-state":bj(o),"data-disabled":u?"":void 0,disabled:u,value:f,...x,ref:S,onClick:Oe(e.onClick,y=>{o||h?.(),w&&(P.current=y.isPropagationStopped(),P.current||y.stopPropagation())})}),w&&r.jsx(yj,{control:b,bubbles:!P.current,name:a,value:f,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});gj.displayName=kh;var xj="RadioIndicator",vj=p.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:a,...o}=e,c=OO(xj,s);return r.jsx(Cn,{present:a||c.checked,children:r.jsx(Fe.span,{"data-state":bj(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t})})});vj.displayName=xj;var DO="RadioBubbleInput",yj=p.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:a=!0,...o},c)=>{const u=p.useRef(null),f=at(u,c),h=dh(s),g=Qm(t);return p.useEffect(()=>{const x=u.current;if(!x)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set;if(h!==s&&S){const P=new Event("click",{bubbles:a});S.call(x,s),x.dispatchEvent(P)}},[h,s,a]),r.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yj.displayName=DO;function bj(e){return e?"checked":"unchecked"}var MO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sd="RadioGroup",[FO,FD]=Mr(Sd,[jd,pj]),wj=jd(),jj=pj(),[LO,BO]=FO(Sd),Nj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:h,dir:g,loop:x=!0,onValueChange:b,...j}=e,S=wj(s),P=hd(g),[w,y]=ss({prop:c,defaultProp:o??null,onChange:b,caller:Sd});return r.jsx(LO,{scope:s,name:a,required:u,disabled:f,value:w,onValueChange:y,children:r.jsx(Jw,{asChild:!0,...S,orientation:h,dir:P,loop:x,children:r.jsx(Fe.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":f?"":void 0,dir:P,...j,ref:t})})})});Nj.displayName=Sd;var Sj="RadioGroupItem",Cj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:a,...o}=e,c=BO(Sj,s),u=c.disabled||a,f=wj(s),h=jj(s),g=p.useRef(null),x=at(t,g),b=c.value===o.value,j=p.useRef(!1);return p.useEffect(()=>{const S=w=>{MO.includes(w.key)&&(j.current=!0)},P=()=>j.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",P)}},[]),r.jsx(ej,{asChild:!0,...f,focusable:!u,active:b,children:r.jsx(gj,{disabled:u,required:c.required,checked:b,...h,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:Oe(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:Oe(o.onFocus,()=>{j.current&&g.current?.click()})})})});Cj.displayName=Sj;var $O="RadioGroupIndicator",kj=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...a}=e,o=jj(s);return r.jsx(vj,{...o,...a,ref:t})});kj.displayName=$O;var Ej=Nj,Pj=Cj,VO=kj;const Eh=p.forwardRef(({className:e,...t},s)=>r.jsx(Ej,{className:ke("grid gap-2",e),...t,ref:s}));Eh.displayName=Ej.displayName;const Ko=p.forwardRef(({className:e,...t},s)=>r.jsx(Pj,{ref:s,className:ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(VO,{className:"flex items-center justify-center",children:r.jsx(qk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ko.displayName=Pj.displayName;function _j({open:e,onClose:t,botId:s,phoneNumber:a,guestToken:o,onSuccess:c,crossTenancyMode:u=!1,targetServer:f}){const{toast:h}=or(),g=p.useRef(null),x=p.useRef(null),[b,j]=p.useState("base64"),[S,P]=p.useState(""),[w,y]=p.useState(null),[k,C]=p.useState(!1),[A,M]=p.useState(null),[$,G]=p.useState("idle"),[W,J]=p.useState("");p.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const ye=async ne=>{if(!ne.trim()){G("idle"),J("");return}G("validating"),J("Validating credentials format...");try{const L=atob(ne.trim()),se=JSON.parse(L);if(!se||typeof se!="object")throw new Error("Invalid credentials format");if(!se.me||!se.me.id)throw new Error("Missing essential WhatsApp session data");const z=se.me.id.match(/^(\d+):/);if(!z)throw new Error("Unable to extract phone number from credentials");const ee=z[1],B=a.replace(/[\s\-\(\)\+]/g,"");if(ee!==B){G("invalid"),J(`⚠️ Phone number mismatch. Credentials are for ${ee}, but you're updating ${a}`);return}G("valid"),J("✅ Credentials format is valid and phone number matches")}catch(L){G("invalid"),L instanceof Error?J(`❌ ${L.message}`):J("❌ Invalid base64 credentials format")}},ge=ne=>{const L=ne.target.files?.[0];if(L){if(!L.name.endsWith(".json")){h({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}y(L)}},xe=async ne=>{if(ne.preventDefault(),b==="base64"){if(!S.trim()){h({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if($==="invalid"){h({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if($==="validating"){h({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if($!=="valid"&&S.trim()){h({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(b==="file"&&!w){h({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!u&&!o){h({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}C(!0);try{const L=new FormData;L.append("phoneNumber",a),L.append("action","update_credentials"),L.append("credentialType",b),u||L.append("botId",s),u&&f&&L.append("targetServer",f),b==="base64"?L.append("sessionId",S):w&&L.append("credsFile",w);const se=u?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",z={};o&&(z.Authorization=`Bearer ${o}`);const ee=await fetch(se,{method:"POST",headers:z,body:L}),B=await ee.json();ee.ok?B.crossTenancy&&B.nextSteps?(M(B),h({title:"Cross-Tenancy Update Initiated!",description:B.message})):(h({title:"Success!",description:B.message}),P(""),y(null),g.current&&(g.current.value=""),c?.(),t()):h({title:"Update Failed",description:B.message||"Failed to update credentials",variant:"destructive"})}catch(L){console.error("Error updating credentials:",L),h({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{C(!1)}},Y=()=>{k||(P(""),y(null),M(null),g.current&&(g.current.value=""),t())};return r.jsx(Zt,{open:e,onOpenChange:Y,children:r.jsxs($t,{className:"max-w-md",children:[r.jsxs(Vt,{children:[r.jsxs(zt,{children:["🔑 ",u?"Cross-Tenancy":""," Update Bot Credentials"]}),r.jsx(To,{children:u?`Update credentials across servers (Target: ${f})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),A?r.jsxs("div",{className:"space-y-4",children:[r.jsx(me,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:"✅"}),r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),r.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:A.message}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Source:"}),r.jsx("div",{className:"text-muted-foreground",children:A.sourceServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Target:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:A.targetServer})]})]})]})}),r.jsx(me,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:A.nextSteps?.map((ne,L)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),ne]},L))})]})}),r.jsx(Q,{onClick:Y,className:"w-full",children:"✨ Awesome! Got It"})]}):r.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[r.jsx(me,{className:`${u?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:r.jsxs(he,{className:"p-3",children:[r.jsxs("p",{className:`text-sm ${u?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[r.jsx("strong",{children:"📱 Phone:"})," ",a,u&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx("strong",{children:"🌐 Target Server:"})," ",f]})]}),r.jsx("p",{className:`text-xs mt-1 ${u?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:u?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-base font-medium",children:"Choose Credential Type *"}),r.jsxs(Eh,{value:b,onValueChange:ne=>j(ne),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ko,{value:"base64",id:"base64"}),r.jsx(Re,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ko,{value:"file",id:"file"}),r.jsx(Re,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),b==="base64"?r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"sessionId",children:"Base64 Session ID *"}),r.jsx(ls,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:S,onChange:ne=>{const L=ne.target.value;P(L),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{ye(L)},1e3)},className:`min-h-[100px] text-xs ${$==="valid"?"border-green-500 bg-green-50/50":$==="invalid"?"border-red-500 bg-red-50/50":$==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),W&&r.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${$==="valid"?"text-green-700 bg-green-50 border-green-200":$==="invalid"?"text-red-700 bg-red-50 border-red-200":$==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:W}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credsFile",children:"Upload creds.json File *"}),r.jsx(Ut,{id:"credsFile",type:"file",accept:".json",onChange:ge,ref:g,required:!0}),w&&r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["✅ Selected: ",w.name]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:Y,disabled:k,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:k,className:`flex-1 ${u?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:k?"Updating...":u?"🔄 Update Cross-Tenancy":"Update Credentials"})]})]})]})})}function Tj({open:e,onClose:t}){const{toast:s}=or(),[a,o]=p.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),[c,u]=p.useState(1),[f,h]=p.useState(null),[g,x]=p.useState(null),[b,j]=p.useState(null),[S,P]=p.useState(null),[w,y]=p.useState(!1),[k,C]=p.useState(!1),[A,M]=p.useState(null),[$,G]=p.useState(null),[W,J]=p.useState(""),[ye,ge]=p.useState([]),xe=async()=>{try{const E=await fetch("/api/servers/available");if(E.ok){const R=await E.json();ge(R.servers||[])}else console.error("Failed to fetch available servers"),ge([])}catch(E){console.error("Error fetching servers:",E),ge([])}},Y=Ze({mutationFn:async E=>{const R=E.replace(/[\s\-\(\)\+]/g,""),X=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:R})});if(!X.ok){let de="Failed to check phone number";try{const te=await X.json();if(te.registeredTo&&te.message)return{registered:!0,currentServer:!1,registeredTo:te.registeredTo,message:te.message,serverMismatch:!0};de=te.message||de}catch{de=X.statusText||de}throw new Error(de)}const Z=X.headers.get("content-type");if(!Z||!Z.includes("application/json"))throw new Error("Invalid response format from server");return X.json()},onSuccess:E=>{G(E),E.registered||E.serverMismatch?E.serverMismatch||!E.currentServer&&E.registeredTo?(x({details:{registeredTo:E.registeredTo},message:E.message,registeredTo:E.registeredTo,botDetails:E.botDetails||null}),u(9)):E.currentServer&&(E.hasBot?(h(E.bot),u(8)):(xe(),u(3))):(xe(),u(3))},onError:E=>{s({title:"Phone Check Failed",description:E.message,variant:"destructive"}),u(1)}}),ne=Ze({mutationFn:async E=>{const R=new FormData;R.append("botName",E.botName),R.append("phoneNumber",E.phoneNumber),R.append("credentialType",E.credentialType),R.append("features",JSON.stringify(E.features)),E.selectedServer&&R.append("selectedServer",E.selectedServer),E.credentialType==="base64"?R.append("sessionId",E.sessionId):E.credsFile&&R.append("credsFile",E.credsFile);const X=await fetch("/api/guest/register-bot",{method:"POST",body:R});if(!X.ok){const Z=await X.json();throw new Error(Z.message||"Failed to register bot")}return X.json()},onSuccess:E=>{E.type==="existing_bot_found"?(h(E.botDetails),u(8),s({title:"Existing Bot Found",description:E.message||"Welcome back! You have a bot on this server."})):E.type==="cross_tenancy_registered"?(P(E),u(11),s({title:"Auto-Distributed to Available Server",description:E.message||"Your bot has been registered on an available server!"})):(u(7),s({title:"Bot registration submitted",description:E.message||"Your bot is being validated..."}))},onError:E=>{const R=E.message;if(R?.includes("server")&&R?.includes("registered to")){x({message:R}),u(9);return}u(c===6?5:4),s({title:"Registration failed",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),L=E=>{if(E.preventDefault(),!a.phoneNumber){s({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}u(2),Y.mutate(a.phoneNumber)},se=E=>{J(E),u(4)},z=()=>{if(c===4){if(a.credentialType==="base64"&&!a.sessionId){s({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(a.credentialType==="file"&&!a.credsFile){s({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}u(5)}else c===5&&ee()},ee=()=>{if(!a.botName){s({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const E={...a,phoneNumber:a.phoneNumber.replace(/^\+/,""),selectedServer:W};u(6),ne.mutate(E)},B=E=>{const R=E.target.files?.[0];R&&o(X=>({...X,credsFile:R}))};Ze({mutationFn:async({action:E,botId:R,phoneNumber:X})=>{const Z=new FormData;Z.append("phoneNumber",X),Z.append("action",E),Z.append("botId",R);const de=await fetch("/api/guest/manage-bot",{method:"POST",body:Z});if(!de.ok){const te=await de.json();throw new Error(te.message||`Failed to ${E} bot`)}return de.json()},onSuccess:async(E,R)=>{if(s({title:"Success!",description:E.message}),M(null),R.action==="update_credentials")try{s({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(Z=>setTimeout(Z,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(s({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{O()},2e3))}catch(X){console.error("Error switching back to default server:",X),s({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else re()},onError:(E,R)=>{s({title:`${R.action.charAt(0).toUpperCase()+R.action.slice(1)} Failed`,description:E.message,variant:"destructive"}),M(null)}});const re=()=>{s({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},oe=()=>{o({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1}}),u(1)},O=()=>{oe(),h(null),x(null),P(null),C(!1),M(null),t()};return r.jsxs(Zt,{open:e,onOpenChange:O,children:[r.jsxs($t,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-2xl font-bold text-center",children:"🚀 Register Your TREKKER-MD Bot"})}),c===1&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:"📱"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),r.jsxs("form",{onSubmit:L,className:"space-y-6",children:[r.jsxs(me,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(We,{className:"pb-3",children:[r.jsx(Qe,{className:"text-lg",children:"Phone Number Verification"}),r.jsx(ct,{children:"Enter your WhatsApp phone number to begin registration"})]}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),r.jsx(Ut,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:a.phoneNumber,onChange:E=>{const R=E.target.value.replace(/[\s\-\(\)]/g,"");o(X=>({...X,phoneNumber:R}))},onPaste:E=>{E.preventDefault();const X=E.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");o(Z=>({...Z,phoneNumber:X}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),r.jsx(Q,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:Y.isPending,children:Y.isPending?"🔍 Checking...":"🔍 Check Phone Number"})]})]}),c===2&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🔍"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),c===3&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"🌍"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(We,{className:"pb-3",children:[r.jsx(Qe,{className:"text-lg",children:"Available Servers"}),r.jsx(ct,{children:"Select a server with available bot slots"})]}),r.jsx(he,{className:"space-y-4",children:r.jsx("div",{className:"grid gap-3",children:ye.map(E=>r.jsx("div",{onClick:()=>se(E.id),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${E.id}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:E.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:[E.availableSlots," slots available"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.currentBots,"/",E.maxBots," bots"]})]})]})},E.id))})})]})]}),c===4&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔐"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(We,{className:"pb-3",children:[r.jsx(Qe,{className:"text-lg",children:"Bot Information"}),r.jsx(ct,{children:"Enter your bot name and choose credential type"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),r.jsx(Ut,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:a.botName,onChange:E=>o(R=>({...R,botName:E.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-sm font-medium",children:"Choose Credential Type *"}),r.jsxs(Eh,{value:a.credentialType,onValueChange:E=>o(R=>({...R,credentialType:E})),className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Ko,{value:"base64",id:"base64"}),r.jsx(Re,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(Ko,{value:"file",id:"file"}),r.jsx(Re,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),a.credentialType==="base64"?r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),r.jsx(ls,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:a.sessionId,onChange:E=>o(R=>({...R,sessionId:E.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),r.jsx(Ut,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:B,required:!0,className:"mt-1"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),r.jsx(Q,{onClick:z,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features →"})]})]}),c===5&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"})]})}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"⚡"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(We,{className:"pb-3",children:[r.jsx(Qe,{className:"text-lg",children:"Bot Features (Optional)"}),r.jsx(ct,{children:"Select the automation features you want for your bot"})]}),r.jsx(he,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(tn,{id:"autoLike","data-testid":"checkbox-auto-like",checked:a.features.autoLike,onCheckedChange:E=>o(R=>({...R,features:{...R.features,autoLike:!!E}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Re,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(tn,{id:"autoReact","data-testid":"checkbox-auto-react",checked:a.features.autoReact,onCheckedChange:E=>o(R=>({...R,features:{...R.features,autoReact:!!E}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Re,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[r.jsx(tn,{id:"autoView","data-testid":"checkbox-auto-view",checked:a.features.autoView,onCheckedChange:E=>o(R=>({...R,features:{...R.features,autoView:!!E}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Re,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),r.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(Re,{className:"text-sm font-medium",children:"Presence Configuration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),r.jsxs(Ir,{value:a.features.presenceMode,onValueChange:E=>o(R=>({...R,features:{...R.features,presenceMode:E}})),children:[r.jsx(wr,{"data-testid":"select-presence-mode",children:r.jsx(Or,{placeholder:"Select presence mode"})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"none",children:"None - Appear as normal"}),r.jsx(Ve,{value:"always_online",children:"Always Online"}),r.jsx(Ve,{value:"always_typing",children:"Always Typing"}),r.jsx(Ve,{value:"always_recording",children:"Always Recording"}),r.jsx(Ve,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),a.features.presenceMode==="auto_switch"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),r.jsx(Ut,{type:"number",min:"5",max:"120",value:a.features.intervalSeconds,onChange:E=>o(R=>({...R,features:{...R.features,intervalSeconds:parseInt(E.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[r.jsx(tn,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:a.features.chatGPT,onCheckedChange:E=>o(R=>({...R,features:{...R.features,chatGPT:!!E}})),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Re,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),r.jsx(Q,{onClick:z,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"🚀 Register Bot Now"})]}),c===6&&r.jsx("div",{className:"space-y-6 pb-4",children:r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🚀"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),c===7&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl",children:"✅"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Registered Successfully!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot credentials have been validated and registered"})]}),r.jsxs(me,{className:"border-l-4 border-l-green-500",children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-lg",children:"🎉 Next Steps"}),r.jsx(ct,{children:"Your bot is now awaiting admin approval"})]}),r.jsx(he,{children:r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is now dormant and awaiting admin approval"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 to activate your bot"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"⏰"}),"You'll receive hourly status updates until activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 mt-0.5",children:"🚀"}),"Once approved, enjoy all premium TREKKER-MD features!"]})]})})]}),r.jsx(Q,{onClick:O,className:"w-full","data-testid":"button-close-success",children:"Done"})]}),c===8&&f&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),r.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',f.name,'", please verify your ownership by uploading your credentials.']})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx("span",{children:"🤖"}),f.name]}),r.jsxs(ct,{children:["Phone: ",f.phoneNumber]})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Approval:"}),r.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.approvalStatus})]})]}),f.isApproved&&f.timeRemaining&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:["⏰ ",r.jsxs("strong",{children:[f.timeRemaining," days"]})," remaining until expiry"]})}),f.isExpired&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Your bot has expired. Please contact admin for renewal."})}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:"🔐"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),r.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Q,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{O(),s({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:"🔍 Go to Bot Search & Verification"}),r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),r.jsx(Q,{onClick:O,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),c===9&&g&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔄"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),r.jsxs(me,{className:"border-l-4 border-l-amber-500",children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-lg",children:"Server Information"}),r.jsx(ct,{children:"Current vs. Registered Server"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),r.jsx("p",{className:"text-lg font-bold",children:"default-server"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),r.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[r.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:g.registeredTo}),r.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),r.jsxs("div",{className:"grid gap-3",children:[r.jsx(Q,{onClick:async E=>{E.preventDefault(),E.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",g);try{s({title:"Switching Server",description:`Switching to ${g.registeredTo}...`}),console.log("Making server configure call...");const R=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:g.registeredTo,description:`Switched to ${g.registeredTo} for bot management`})});if(console.log("Server configure response:",R.status),!R.ok){const de=await R.json();throw console.error("Server configure error:",de),new Error(de.message||"Failed to switch server")}const X=await R.json();console.log("Server configure result:",X),s({title:"Server Switched",description:`Successfully switched to ${g.registeredTo}`}),await new Promise(de=>setTimeout(de,1e3)),console.log("Checking registration on new server...");const Z=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:a.phoneNumber})});if(console.log("Check registration response:",Z.status),Z.ok){const de=await Z.json();console.log("Check registration data:",de),de.hasBot&&de.bot?(h(de.bot),J(g.registeredTo),u(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),s({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const de=await Z.text();console.error("Check registration failed:",de),s({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(R){console.error("Server switch error:",R),s({title:"Server Switch Failed",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"🔄 Switch to Registered Server"}),r.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",g.registeredTo]})]})}),r.jsx(Q,{variant:"outline",onClick:()=>{u(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"📱 Use Different Phone Number"}),r.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]})]}),c===11&&S&&r.jsxs("div",{className:"space-y-6 pb-4",children:[r.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:"🌍"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-lg",children:"🎯 Server Assignment"}),r.jsx(ct,{children:"Your bot has been optimally placed"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[r.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),r.jsx("p",{className:"text-lg font-bold text-purple-600",children:S.assignedServer}),r.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"✅ What happens next:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is registered on ",S.assignedServer]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 for activation"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"🔄"}),"Switch to ",S.assignedServer," to manage your bot"]})]})]})]})]}),r.jsxs(Q,{onClick:()=>{J(S.assignedServer),O()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:["🔄 Switch to ",S.assignedServer]})]}),c===7&&S&&r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl text-white",children:"🔄"})}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),r.jsx("p",{className:"text-muted-foreground",children:S.message})]}),r.jsxs(me,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[r.jsx("span",{children:"🤖"}),S.botDetails?.name]}),r.jsxs(ct,{children:["Phone: ",S.botDetails?.phoneNumber]})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Original Server:"}),r.jsx("div",{className:"text-muted-foreground",children:S.originalServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"}),r.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:S.assignedServer})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Available Slots:"}),r.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[S.botDetails?.availableSlots," remaining"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Registration Type:"}),r.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),S.serverUrl&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🌐 ",r.jsx("strong",{children:"Server URL:"})," ",S.serverUrl]})})]})]}),r.jsx(me,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:S.nextSteps?.map((E,R)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),E]},R))})]})}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:"✨ Cross-Tenancy Benefits"}),r.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),r.jsx(Q,{onClick:O,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:"🚀 Awesome! Let's Go"})]})]}),f&&r.jsx(_j,{open:k,onClose:()=>C(!1),botId:f.id,phoneNumber:f.phoneNumber,crossTenancyMode:!!g,targetServer:g?.details?.registeredTo,onSuccess:()=>{re()}})]})}const zO=Zo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...s}){return r.jsx("div",{className:ke(zO({variant:t}),e),...s})}function UO({open:e,onClose:t}){const[s,a]=p.useState("pending"),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(null),[x,b]=p.useState("3"),[j,S]=p.useState(""),[P,w]=p.useState(""),y=Dr(),{data:k=[],isLoading:C}=xt({queryKey:["/api/bots/pending"],enabled:e&&s==="pending"}),{data:A=[],isLoading:M}=xt({queryKey:["/api/bots/approved"],enabled:e&&s==="approved"}),$=Ze({mutationFn:async({botId:z,duration:ee})=>(await Rt("POST",`/api/bots/${z}/approve`,{expirationMonths:ee})).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/bots/pending"]}),y.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),g(null)}}),G=Ze({mutationFn:async({botId:z,reason:ee})=>(await Rt("POST",`/api/bots/${z}/reject`,{reason:ee})).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/bots/pending"]}),w("")}}),W=Ze({mutationFn:async({botId:z,message:ee})=>(await Rt("POST",`/api/admin/send-message/${z}`,{message:ee})).json(),onSuccess:()=>{f(!1),S(""),g(null)}}),J=z=>{g(z),c(!0)},ye=()=>{h&&x&&$.mutate({botId:h.id,duration:parseInt(x)})},ge=(z,ee)=>{G.mutate({botId:z.id,reason:ee})},xe=z=>{g(z),f(!0)},Y=()=>{h&&j.trim()&&W.mutate({botId:h.id,message:j})},ne=z=>new Date(z).toLocaleDateString(),L=(z,ee)=>{const B=new Date(z);return B.setMonth(B.getMonth()+ee),B.toLocaleDateString()},se=(z,ee)=>{const B=new Date(z);return B.setMonth(B.getMonth()+ee),(B.getTime()-Date.now())/(1e3*60*60*24)<=7};return r.jsxs(r.Fragment,{children:[r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-xl font-bold",children:"🔧 Admin Bot Management"})}),r.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[r.jsxs("button",{onClick:()=>a("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["🔄 Pending Bots (",k.length,")"]}),r.jsxs("button",{onClick:()=>a("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["✅ Approved Bots (",A.length,")"]})]}),s==="pending"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),C?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):k.length===0?r.jsx(me,{children:r.jsx(he,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):r.jsx("div",{className:"grid gap-4",children:k.map(z=>r.jsx(me,{className:"border-orange-200",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:z.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",z.phoneNumber||"No phone number"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",ne(z.createdAt)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ze,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Q,{size:"sm",onClick:()=>J(z),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const ee=prompt("Rejection reason:");ee&&ge(z,ee)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[r.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},z.id))})]}),s==="approved"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),M?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):A.length===0?r.jsx(me,{children:r.jsx(he,{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):r.jsx("div",{className:"grid gap-4",children:A.map(z=>r.jsx(me,{className:"border-green-200",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:z.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",z.phoneNumber||"No phone number"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:["✅ Approved: ",ne(z.approvalDate)]}),r.jsxs("span",{children:["⏰ Expires: ",L(z.approvalDate,z.expirationMonths)]}),r.jsxs("span",{children:["📅 Duration: ",z.expirationMonths," months"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ze,{variant:z.status==="online"?"default":"secondary",className:z.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:z.status==="online"?"🟢 Online":"⚪ Offline"}),se(z.approvalDate,z.expirationMonths)&&r.jsx(ze,{variant:"destructive",className:"text-red-600 bg-red-100",children:"⚠️ Expiring Soon"}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>xe(z),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},z.id))})]})]})}),r.jsx(Zt,{open:o,onOpenChange:c,children:r.jsxs($t,{children:[r.jsx(Vt,{children:r.jsx(zt,{children:"✅ Approve Bot Registration"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Bot Name"}),r.jsx("p",{className:"font-medium",children:h?.name})]}),r.jsxs("div",{children:[r.jsx(Re,{children:"Phone Number"}),r.jsx("p",{className:"font-medium",children:h?.phoneNumber})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"duration",children:"Approval Duration *"}),r.jsxs(Ir,{value:x,onValueChange:b,children:[r.jsx(wr,{children:r.jsx(Or,{})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"1",children:"1 Month"}),r.jsx(Ve,{value:"2",children:"2 Months"}),r.jsx(Ve,{value:"3",children:"3 Months"}),r.jsx(Ve,{value:"6",children:"6 Months"}),r.jsx(Ve,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:ye,disabled:$.isPending,className:"bg-green-600 hover:bg-green-700",children:$.isPending?"Approving...":"Approve Bot"}),r.jsx(Q,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),r.jsx(Zt,{open:u,onOpenChange:f,children:r.jsxs($t,{children:[r.jsx(Vt,{children:r.jsx(zt,{children:"📱 Send Message to Bot User"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Bot"}),r.jsxs("p",{className:"font-medium",children:[h?.name," (",h?.phoneNumber,")"]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"message",children:"Message *"}),r.jsx(ls,{id:"message",value:j,onChange:z=>S(z.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:Y,disabled:W.isPending||!j.trim(),className:"bg-blue-600 hover:bg-blue-700",children:W.isPending?"Sending...":"Send Message"}),r.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}function qO(){const{isAdmin:e}=md(),{toast:t}=or(),[s,a]=p.useState(!1),[o,c]=p.useState(!1),[u,f]=p.useState(!1),[h,g]=p.useState(!1),[x,b]=p.useState(!1),[j,S]=p.useState(null),[P,w]=p.useState(null),{data:y={},isLoading:k}=xt({queryKey:["/api/dashboard/stats"]}),{data:C={},isLoading:A}=xt({queryKey:["/api/server/info"]}),{data:M=[],isLoading:$}=xt({queryKey:["/api/bot-instances"]}),{data:G=[],isLoading:W}=xt({queryKey:["/api/bots/pending"],enabled:e}),{data:J=[],isLoading:ye}=xt({queryKey:["/api/bots/approved"],enabled:e}),{data:ge=[],isLoading:xe}=xt({queryKey:["/api/activities"]}),{data:Y=[],isLoading:ne}=xt({queryKey:["/api/commands"]}),{data:L=[],isLoading:se}=xt({queryKey:["/api/admin/god-registry"],enabled:e});Tb();const z=Ze({mutationFn:({id:R,expirationMonths:X})=>Rt("POST",`/api/bots/${R}/approve`,{expirationMonths:X}),onSuccess:()=>{t({title:"Bot approved successfully!"}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to approve bot",variant:"destructive"})}}),ee=Ze({mutationFn:R=>Rt("POST",`/api/bots/${R}/reject`),onSuccess:()=>{t({title:"Bot rejected and removed"}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to reject bot",variant:"destructive"})}}),B=Ze({mutationFn:({botId:R,feature:X,enabled:Z})=>Rt("POST",`/api/bot-instances/${R}/toggle-feature`,{feature:X,enabled:Z}),onSuccess:()=>{t({title:"Feature updated successfully!"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{t({title:"Failed to update feature",variant:"destructive"})}}),re=Ze({mutationFn:R=>Rt("POST",`/api/bot-instances/${R}/revoke`),onSuccess:()=>{t({title:"Bot approval revoked",description:"Bot returned to pending status"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/bots/pending"]}),gr.invalidateQueries({queryKey:["/api/bot-instances"]}),gr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{t({title:"Failed to revoke approval",variant:"destructive"})}}),oe=Ze({mutationFn:R=>Rt("POST",`/api/bot-instances/${R}/restart`),onSuccess:()=>{t({title:"Bot restarted successfully"}),gr.invalidateQueries({queryKey:["/api/bots/approved"]}),gr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{t({title:"Failed to restart bot",variant:"destructive"})}}),O=Ze({mutationFn:({phoneNumber:R,tenancyName:X})=>Rt("PUT",`/api/admin/god-registry/${encodeURIComponent(R)}`,{tenancyName:X}),onSuccess:()=>{t({title:"Registration updated successfully!"}),gr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),w(null)},onError:()=>{t({title:"Failed to update registration",variant:"destructive"})}}),E=Ze({mutationFn:R=>Rt("DELETE",`/api/admin/god-registry/${encodeURIComponent(R)}`),onSuccess:()=>{t({title:"Registration deleted successfully!"}),gr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{t({title:"Failed to delete registration",variant:"destructive"})}});return p.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["🤖 ",C.serverName||"TREKKER-MD"," Dashboard"]})}),r.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",C.serverName&&r.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[C.currentBots,"/",C.maxBots," slots used"]}),!C.hasSecretConfig&&C.serverName==="default-server"&&r.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"⚠️ Default server name - Configure recommended"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"🔧 Manage Commands"}),r.jsx(Q,{onClick:()=>g(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"👥 Manage Bots"}),r.jsx(Q,{onClick:()=>b(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📱 God Registry"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:r.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(me,{className:"bg-card border-border",children:r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Total Bots":"Your Bots"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-total-bots",children:k||$?"...":e?y?.totalBots||0:M.length})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-primary text-xl"})})]}),r.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:["+",y?.activeBots||0]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"instances"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-green-400 text-sm",children:Math.max(0,10-M.length)}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"slots remaining"})]})})]})}),r.jsx(me,{className:"bg-card border-border",children:r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:e?"Active Bots":"Online Bots"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-active-bots",children:k||$?"...":e?y?.activeBots||0:M.filter(R=>R.status==="online").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-check-circle text-green-400 text-xl"})})]}),r.jsx("div",{className:"mt-4 flex items-center space-x-2",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:[y?.totalBots?Math.round(y.activeBots/y.totalBots*100):0,"%"]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"uptime"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-green-400 text-sm",children:[M.length>0?Math.round(M.filter(R=>R.status==="online").length/M.length*100):0,"%"]}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"online rate"})]})})]})}),r.jsx(me,{className:"bg-card border-border",children:r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:"Messages Today"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-messages",children:k?"...":y?.messagesCount||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-comment text-blue-400 text-xl"})})]}),r.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[r.jsx("span",{className:"text-green-400 text-sm",children:"+12.5%"}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"vs yesterday"})]})]})}),r.jsx(me,{className:"bg-card border-border",children:r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:"Commands Executed"}),r.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-commands",children:k?"...":y?.commandsCount||0})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-terminal text-purple-400 text-xl"})})]}),r.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[r.jsx("span",{className:"text-green-400 text-sm",children:"+8.2%"}),r.jsx("span",{className:"text-muted-foreground text-sm",children:"from last hour"})]})]})})]}),r.jsx(me,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mb-8 text-white",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🚀 TREKKER-MD LIFETIME BOT"}),r.jsx("p",{className:"text-blue-100 mb-4",children:"Ultra fast WhatsApp automation - No expiry, Lifetime access"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-sm",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-telegram text-xl"})}),r.jsx("p",{className:"font-medium",children:"Telegram"}),r.jsx("p",{className:"text-xs text-blue-100",children:"@trekkermd_"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-whatsapp text-xl"})}),r.jsx("p",{className:"font-medium",children:"WhatsApp"}),r.jsx("p",{className:"text-xs text-blue-100",children:"+254704897825"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx("i",{className:"fab fa-instagram text-xl"})}),r.jsx("p",{className:"font-medium",children:"Instagram"}),r.jsx("p",{className:"text-xs text-blue-100",children:"@nicholaso_tesla"})]})]}),r.jsx("p",{className:"text-xs text-blue-200 mt-4",children:e?"Admin access - Full system control":"Upload base64 credentials to deploy your bot instantly"})]})})}),e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"bg-card border-border",children:[r.jsxs(We,{className:"border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Qe,{className:"text-lg font-semibold text-foreground",children:"⏳ Pending Bot Registrations"}),r.jsx(Q,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"🔧 Manage Commands"})]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),r.jsx(he,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:W?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):G.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):G.map(R=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${R.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-clock text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:R.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:R.phoneNumber||"No phone number"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(R.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Q,{size:"sm",onClick:()=>z.mutate({id:R.id,expirationMonths:12}),disabled:z.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${R.id}`,children:"✅ Approve"}),r.jsx(Q,{size:"sm",onClick:()=>ee.mutate(R.id),disabled:ee.isPending,variant:"destructive","data-testid":`button-reject-${R.id}`,children:"❌ Reject"})]})]},R.id))})})]}),r.jsxs(me,{className:"bg-card border-border",children:[r.jsxs(We,{className:"border-b border-border",children:[r.jsx(Qe,{className:"text-lg font-semibold text-foreground",children:"✅ Approved Bot Instances"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),r.jsx(he,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:ye?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):J.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):J.map(R=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${R.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:R.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:R.phoneNumber||"No phone number"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.status==="online"?"text-green-400 bg-green-500/10":R.status==="offline"?"text-gray-400 bg-gray-500/10":R.status==="loading"?"text-blue-400 bg-blue-500/10":"text-red-400 bg-red-500/10"}`,children:R.status.replace("_"," ").toUpperCase()}),R.expirationMonths&&r.jsxs("span",{className:"text-xs text-orange-400 bg-orange-500/10 px-2 py-1 rounded",children:["Expires: ",R.expirationMonths,"mo"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[R.status==="error"&&r.jsx(Q,{size:"sm",onClick:()=>oe.mutate(R.id),disabled:oe.isPending,className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":`button-restart-${R.id}`,children:oe.isPending?"Restarting...":"🔄 Restart"}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>S(R),"data-testid":`button-features-${R.id}`,children:"⚙️ Features"}),r.jsx(Q,{size:"sm",onClick:()=>re.mutate(R.id),disabled:re.isPending,className:"bg-orange-600 hover:bg-orange-700 text-white","data-testid":`button-revoke-${R.id}`,children:re.isPending?"Revoking...":"↓ Normal"})]})]},R.id))})})]})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(me,{className:"bg-card border-border",children:[r.jsxs(We,{className:"border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Qe,{className:"text-lg font-semibold text-foreground",children:"🚀 Register Your Bot"}),r.jsxs(Q,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-register-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Upload credentials or paste session ID to register your TREKKER-MD bot"})]}),r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"TREKKER-MD Lifetime Bot"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Register your WhatsApp bot with credentials or session ID"}),r.jsxs(Q,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs","data-testid":"button-start-registration",children:[r.jsx("i",{className:"fas fa-rocket mr-2"}),"Register Your Bot"]})]})})]}),r.jsxs(me,{className:"bg-card border-border",children:[r.jsxs(We,{className:"border-b border-border",children:[r.jsx(Qe,{className:"text-lg font-semibold text-foreground",children:"Your Bot Instances"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"View and monitor your installed bot instances"})]}),r.jsx(he,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:$?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):M.length===0?r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-muted-foreground",children:"No bot instances yet"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload credentials to create your first bot"})]}):r.jsxs("div",{className:"space-y-3",children:[M.slice(0,5).map(R=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md","data-testid":`bot-instance-${R.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fas fa-robot text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:R.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:R.phoneNumber||"No phone number"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.status==="online"?"text-green-400 bg-green-500/10":R.status==="offline"?"text-gray-400 bg-gray-500/10":R.status==="loading"?"text-blue-400 bg-blue-500/10":R.status==="qr_code"?"text-yellow-400 bg-yellow-500/10":"text-red-400 bg-red-500/10"}`,children:R.status.replace("_"," ").toUpperCase()})})]},R.id)),M.length>5&&r.jsx("div",{className:"text-center pt-3",children:r.jsx(Wf,{href:"/bot-instances",children:r.jsxs("a",{className:"text-primary hover:text-primary/80 text-sm font-medium","data-testid":"link-view-all-bots",children:["View All ",M.length," Bots"]})})})]})})})]})]})]}),r.jsx(hj,{open:s,onClose:()=>a(!1)}),r.jsx(RO,{open:o,onClose:()=>c(!1)}),r.jsx(Tj,{open:u,onClose:()=>f(!1)}),e&&r.jsx(UO,{open:h,onClose:()=>g(!1)}),j&&r.jsx(Zt,{open:!!j,onOpenChange:()=>S(null),children:r.jsxs($t,{className:"max-w-md",children:[r.jsx(Vt,{children:r.jsxs(zt,{className:"text-lg font-semibold",children:["Manage Bot Features - ",j.name]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),r.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(R=>{const X=j.settings?.features?.[R.key]||!1;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Re,{className:"text-sm font-medium",children:R.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:R.description})]}),r.jsx(tn,{checked:X,onCheckedChange:Z=>{B.mutate({botId:j.id,feature:R.key,enabled:!!Z}),S(de=>de?{...de,settings:{...de.settings,features:{...de.settings?.features,[R.key]:!!Z}}}:null)},disabled:B.isPending})]},R.key)})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(Q,{variant:"outline",onClick:()=>S(null),children:"Close"})})]})]})}),x&&r.jsx(Zt,{open:x,onOpenChange:()=>b(!1),children:r.jsxs($t,{className:"max-w-4xl",children:[r.jsxs(Vt,{children:[r.jsx(zt,{children:"📱 God Registry Management"}),r.jsx(To,{children:"Manage global phone number registrations across all tenants"})]}),r.jsx("div",{className:"space-y-4",children:se?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):L.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):r.jsx("div",{className:"space-y-2",children:L.map(R=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-foreground",children:["📱 ",R.phoneNumber]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",R.tenancyName]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(R.registeredAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>w(R),"data-testid":`button-edit-${R.phoneNumber}`,children:"✏️ Edit"}),r.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${R.phoneNumber}?`)&&E.mutate(R.phoneNumber)},disabled:E.isPending,"data-testid":`button-delete-${R.phoneNumber}`,children:E.isPending?"...":"🗑️ Delete"})]})]})},R.phoneNumber))})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{onClick:()=>b(!1),children:"Close"})})]})}),P&&r.jsx(Zt,{open:!!P,onOpenChange:()=>w(null),children:r.jsxs($t,{children:[r.jsxs(Vt,{children:[r.jsx(zt,{children:"✏️ Edit Registration"}),r.jsxs(To,{children:["Update the tenant assignment for ",P.phoneNumber]})]}),r.jsxs("form",{onSubmit:R=>{R.preventDefault();const Z=new FormData(R.currentTarget).get("tenancyName");Z.trim()&&O.mutate({phoneNumber:P.phoneNumber,tenancyName:Z.trim()})},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),r.jsx("input",{type:"text",value:P.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),r.jsx("input",{type:"text",name:"tenancyName",defaultValue:P.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:()=>w(null),children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:O.isPending,"data-testid":"button-update-registration",children:O.isPending?"Updating...":"Update"})]})]})]})})]})}function WO(e){if(!e||e.length<8)return e;const t=e.slice(0,7),s=e.slice(-2),a="*".repeat(Math.max(0,e.length-9));return`${t}${a}${s}`}function Jv({bot:e}){const{toast:t}=or(),s=Dr(),{isAdmin:a,token:o}=md(),c=Ze({mutationFn:({feature:S,enabled:P})=>Rt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:S,enabled:P}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Feature updated successfully"})},onError:S=>{t({title:"Failed to update feature",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),u=Ze({mutationFn:()=>Rt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:S=>{t({title:"Failed to approve bot",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),f=Ze({mutationFn:()=>Rt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),t({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:S=>{t({title:"Failed to revoke approval",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),h=Ze({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to start bot");return S.json()})},onSuccess:()=>{t({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to start bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),g=Ze({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to stop bot");return S.json()})},onSuccess:()=>{t({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to stop bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),x=Ze({mutationFn:()=>{if(!a)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(S=>{if(!S.ok)throw new Error("Failed to restart bot");return S.json()})},onSuccess:()=>{t({title:"Bot restarted successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:S=>{t({title:"Failed to restart bot",description:S.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),b=S=>{switch(S){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},j=()=>a?e.status==="online"?r.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:g.isPending?"Stopping...":"Stop"}):e.status==="error"?r.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:x.isPending?"Restarting...":"Restart"}):r.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:h.isPending?"Starting...":"Start"}):r.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:"🔒 Admin Only"});return r.jsx(me,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:r.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?a?e.phoneNumber:WO(e.phoneNumber):"Not connected"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${b(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),r.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:r.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"⏳ Awaiting Approval"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),r.jsx("button",{onClick:()=>u.mutate(),disabled:u.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:u.isPending?"⏳":"✅ Approve"})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),r.jsx("button",{onClick:()=>c.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),r.jsx("button",{onClick:()=>c.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),r.jsx("button",{onClick:()=>c.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),r.jsx("button",{onClick:()=>c.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Typing"}),r.jsx("button",{onClick:()=>c.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:c.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&r.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[j(),a&&r.jsxs(r.Fragment,{children:[e.approvalStatus==="pending"&&r.jsx("button",{onClick:()=>u.mutate(),disabled:u.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:u.isPending?"Approving...":"✓ Approve"}),e.approvalStatus==="approved"&&r.jsx("button",{onClick:()=>f.mutate(),disabled:f.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:f.isPending?"Revoking...":"↓ Normal"})]}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:r.jsx("i",{className:"fas fa-chart-line"})}),r.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:r.jsx("i",{className:"fas fa-cog"})})]})]})})}function KO(){const[e,t]=p.useState(!1),[s,a]=p.useState("pending"),{data:o=[],isLoading:c}=xt({queryKey:["/api/bots/pending"]}),{data:u=[],isLoading:f}=xt({queryKey:["/api/bots/approved"]}),h=o||[],g=u||[];return Tb(),r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),r.jsxs(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs(_i,{value:s,onValueChange:x=>a(x),children:[r.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"pending",className:"relative","data-testid":"tab-pending",children:r.jsxs("span",{className:"flex items-center gap-2",children:["⏳ Pending Approval",h.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:h.length})]})}),r.jsx(St,{value:"approved",className:"relative","data-testid":"tab-approved",children:r.jsxs("span",{className:"flex items-center gap-2",children:["✅ Approved Bots",g.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:g.length})]})})]}),r.jsxs(yt,{value:"pending",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,b)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},b))}):h.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),r.jsx(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(x=>r.jsx(Jv,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),r.jsxs(yt,{value:"approved",className:"mt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),f?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,b)=>r.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-24"}),r.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 bg-muted rounded"}),r.jsx("div",{className:"h-3 bg-muted rounded"})]})]},b))}):g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),r.jsx(Q,{onClick:()=>a("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),r.jsx(Q,{onClick:()=>t(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>r.jsx(Jv,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),r.jsx(hj,{open:e,onClose:()=>t(!1)})]})}const QO=pO;function HO(){const{toast:e}=or(),t=Dr(),[s,a]=p.useState(!1),[o,c]=p.useState("all"),{data:u=[],isLoading:f}=xt({queryKey:["/api/commands"]}),{data:h=[]}=xt({queryKey:["/api/bot-instances"]}),g=Nw({resolver:Cw(QO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=Ze({mutationFn:y=>Rt("POST","/api/commands",y),onSuccess:()=>{e({title:"Command created successfully"}),t.invalidateQueries({queryKey:["/api/commands"]}),g.reset(),a(!1)},onError:y=>{e({title:"Failed to create command",description:y instanceof Error?y.message:"Unknown error",variant:"destructive"})}}),b=Ze({mutationFn:({id:y,isActive:k})=>Rt("PATCH",`/api/commands/${y}`,{isActive:k}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/commands"]})}}),j=Ze({mutationFn:()=>Rt("POST","/api/commands/sync"),onSuccess:y=>{e({title:"Commands synced successfully",description:`${y.addedCount} new commands added`}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:y=>{e({title:"Failed to sync commands",description:y instanceof Error?y.message:"Unknown error",variant:"destructive"})}}),S=Ze({mutationFn:y=>Rt("DELETE",`/api/commands/${y}`),onSuccess:()=>{e({title:"Command deleted successfully"}),t.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),P=y=>{x.mutate(y)},w=u.filter(y=>o==="all"?!0:o==="global"?!y.botInstanceId:y.botInstanceId===o);return r.jsxs("div",{children:[r.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(Ir,{value:o,onValueChange:c,children:[r.jsx(wr,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:r.jsx(Or,{})}),r.jsxs(jr,{className:"bg-popover border-border",children:[r.jsx(Ve,{value:"all",children:"All Commands"}),r.jsx(Ve,{value:"global",children:"Global Commands"}),h.map(y=>r.jsx(Ve,{value:y.id,children:y.name},y.id))]})]}),r.jsxs(Q,{onClick:()=>j.mutate(),disabled:j.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[r.jsx("i",{className:"fas fa-sync mr-2"}),j.isPending?"Syncing...":"Sync Commands"]}),r.jsxs(Zt,{open:s,onOpenChange:a,children:[r.jsx(wT,{asChild:!0,children:r.jsxs(Q,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),r.jsxs($t,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),r.jsxs("form",{onSubmit:g.handleSubmit(P),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"command-name",children:"Command Name"}),r.jsx(Ut,{id:"command-name",placeholder:"help, status, info...",...g.register("name"),"data-testid":"input-command-name"}),g.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.name.message})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"bot-instance",children:"Bot Instance"}),r.jsxs(Ir,{value:g.watch("botInstanceId")||"",onValueChange:y=>g.setValue("botInstanceId",y||null),children:[r.jsx(wr,{"data-testid":"select-command-bot",children:r.jsx(Or,{placeholder:"Global command"})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"",children:"Global command"}),h.map(y=>r.jsx(Ve,{value:y.id,children:y.name},y.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"description",children:"Description"}),r.jsx(Ut,{id:"description",placeholder:"What does this command do?",...g.register("description"),"data-testid":"input-command-description"}),g.formState.errors.description&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.description.message})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"response",children:"Response"}),r.jsx(ls,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...g.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"use-chatgpt",checked:g.watch("useChatGPT")||!1,onCheckedChange:y=>g.setValue("useChatGPT",y),"data-testid":"checkbox-use-chatgpt"}),r.jsx(Re,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tn,{id:"is-active",checked:g.watch("isActive")||!1,onCheckedChange:y=>g.setValue("isActive",y),"data-testid":"checkbox-command-active"}),r.jsx(Re,{htmlFor:"is-active",children:"Active"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(Q,{type:"button",variant:"ghost",onClick:()=>a(!1),"data-testid":"button-cancel-command",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),r.jsx("div",{className:"p-6",children:f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),r.jsx(Q,{onClick:()=>a(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(y=>r.jsxs(me,{className:"bg-card border-border","data-testid":`command-card-${y.id}`,children:[r.jsx(We,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",y.name]}),y.useChatGPT&&r.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[r.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>b.mutate({id:y.id,isActive:!y.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${y.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${y.id}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${y.isActive?"bg-white":"bg-muted-foreground"}`})}),r.jsx("button",{onClick:()=>S.mutate(y.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${y.id}`,children:r.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${y.id}`,children:y.description}),y.response&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),r.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${y.id}`,children:y.response.length>100?`${y.response.substring(0,100)}...`:y.response})]}),y.botInstanceId&&r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",h.find(k=>k.id===y.botInstanceId)?.name||"Unknown"]})})]})]},y.id))})})]})}const Wc=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:ke("w-full caption-bottom text-sm",e),...t})}));Wc.displayName="Table";const Kc=p.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:ke("[&_tr]:border-b",e),...t}));Kc.displayName="TableHeader";const Qc=p.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:ke("[&_tr:last-child]:border-0",e),...t}));Qc.displayName="TableBody";const GO=p.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));GO.displayName="TableFooter";const Ms=p.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ms.displayName="TableRow";const It=p.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableHead";const _t=p.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));_t.displayName="TableCell";const ZO=p.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));ZO.displayName="TableCaption";var Rj="AlertDialog",[YO,LD]=Mr(Rj,[nb]),cs=nb(),Aj=e=>{const{__scopeAlertDialog:t,...s}=e,a=cs(t);return r.jsx(ih,{...a,...s,modal:!0})};Aj.displayName=Rj;var XO="AlertDialogTrigger",Ij=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(yb,{...o,...a,ref:t})});Ij.displayName=XO;var JO="AlertDialogPortal",Oj=e=>{const{__scopeAlertDialog:t,...s}=e,a=cs(t);return r.jsx(ah,{...a,...s})};Oj.displayName=JO;var e4="AlertDialogOverlay",Dj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(dd,{...o,...a,ref:t})});Dj.displayName=e4;var ga="AlertDialogContent",[t4,r4]=YO(ga),n4=Ty("AlertDialogContent"),Mj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:a,...o}=e,c=cs(s),u=p.useRef(null),f=at(t,u),h=p.useRef(null);return r.jsx(xT,{contentName:ga,titleName:Fj,docsSlug:"alert-dialog",children:r.jsx(t4,{scope:s,cancelRef:h,children:r.jsxs(ud,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:Oe(o.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[r.jsx(n4,{children:a}),r.jsx(i4,{contentRef:u})]})})})});Mj.displayName=ga;var Fj="AlertDialogTitle",Lj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(oh,{...o,...a,ref:t})});Lj.displayName=Fj;var Bj="AlertDialogDescription",$j=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(lh,{...o,...a,ref:t})});$j.displayName=Bj;var s4="AlertDialogAction",Vj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,o=cs(s);return r.jsx(ch,{...o,...a,ref:t})});Vj.displayName=s4;var zj="AlertDialogCancel",Uj=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:o}=r4(zj,s),c=cs(s),u=at(t,o);return r.jsx(ch,{...c,...a,ref:u})});Uj.displayName=zj;var i4=({contentRef:e})=>{const t=`\`${ga}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ga}\` by passing a \`${Bj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ga}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a4=Aj,o4=Ij,l4=Oj,qj=Dj,Wj=Mj,Kj=Vj,Qj=Uj,Hj=Lj,Gj=$j;const Zj=a4,Yj=o4,c4=l4,Xj=p.forwardRef(({className:e,...t},s)=>r.jsx(qj,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Xj.displayName=qj.displayName;const Ph=p.forwardRef(({className:e,...t},s)=>r.jsxs(c4,{children:[r.jsx(Xj,{}),r.jsx(Wj,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ph.displayName=Wj.displayName;const _h=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});_h.displayName="AlertDialogHeader";const Th=({className:e,...t})=>r.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Th.displayName="AlertDialogFooter";const Rh=p.forwardRef(({className:e,...t},s)=>r.jsx(Hj,{ref:s,className:ke("text-lg font-semibold",e),...t}));Rh.displayName=Hj.displayName;const Ah=p.forwardRef(({className:e,...t},s)=>r.jsx(Gj,{ref:s,className:ke("text-sm text-muted-foreground",e),...t}));Ah.displayName=Gj.displayName;const Ih=p.forwardRef(({className:e,...t},s)=>r.jsx(Kj,{ref:s,className:ke(Jm(),e),...t}));Ih.displayName=Kj.displayName;const Oh=p.forwardRef(({className:e,...t},s)=>r.jsx(Qj,{ref:s,className:ke(Jm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Oh.displayName=Qj.displayName;function d4({open:e,onClose:t}){const{toast:s}=or(),a=Dr(),[o,c]=p.useState(""),[u,f]=p.useState({serverUrl:"",adminToken:""}),[h,g]=p.useState(null),[x,b]=p.useState(!1),[j,S]=p.useState(""),[P,w]=p.useState("base64"),[y,k]=p.useState(!1),[C,A]=p.useState(null),[M,$]=p.useState("3"),[G,W]=p.useState(""),[J,ye]=p.useState("all"),[ge,xe]=p.useState("all"),[Y,ne]=p.useState("all"),[L,se]=p.useState("name"),[z,ee]=p.useState("asc"),[B,re]=p.useState([]),[oe,O]=p.useState(!1),[E,R]=p.useState(null),[X,Z]=p.useState(""),[de,te]=p.useState(!1),[Ne,Te]=p.useState(""),[$e,lt]=p.useState(!1),{data:ut=[],isLoading:Wt}=xt({queryKey:["/api/master/tenancies"],enabled:e}),{data:Xe=[],isLoading:Lr,refetch:Kr}=xt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:sn=[],isLoading:Aa}=xt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:ds=[],isLoading:I}=xt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),V=Xe.filter(_=>{const ve=G===""||_.name.toLowerCase().includes(G.toLowerCase())||_.phoneNumber.includes(G)||_.tenancy.toLowerCase().includes(G.toLowerCase()),He=J==="all"||_.status===J,et=ge==="all"||_.tenancy===ge,pt=Y==="all"||_.approvalStatus===Y;return ve&&He&&et&&pt}).sort((_,ve)=>{let He,et;switch(L){case"name":He=_.name.toLowerCase(),et=ve.name.toLowerCase();break;case"phoneNumber":He=_.phoneNumber,et=ve.phoneNumber;break;case"server":He=_.tenancy,et=ve.tenancy;break;case"status":He=_.status,et=ve.status;break;case"lastActivity":He=new Date(_.lastActivity||0),et=new Date(ve.lastActivity||0);break;default:He=_.name,et=ve.name}return He<et?z==="asc"?-1:1:He>et?z==="asc"?1:-1:0}),H={totalBots:Xe.length,onlineBots:Xe.filter(_=>_.status==="online").length,pendingBots:Xe.filter(_=>_.approvalStatus==="pending").length,approvedBots:Xe.filter(_=>_.approvalStatus==="approved").length,serverDistribution:Xe.reduce((_,ve)=>(_[ve.tenancy]=(_[ve.tenancy]||0)+1,_),{}),statusDistribution:Xe.reduce((_,ve)=>(_[ve.status]=(_[ve.status]||0)+1,_),{})};Ze({mutationFn:async _=>(console.log(`Attempting to connect to ${_.tenancy} via God Registry`),{success:!0,message:`Connected to ${_.tenancy} via God Registry`}),onSuccess:()=>{s({title:"Success",description:"Successfully connected to tenancy server"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Connection Failed",description:_.message,variant:"destructive"})}});const we=Ze({mutationFn:async _=>await(await Rt("POST","/api/master/migrate-bot",_)).json(),onSuccess:()=>{s({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),O(!1),R(null),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Migration Failed",description:_.message,variant:"destructive"})}}),be=Ze({mutationFn:async _=>await(await Rt("POST","/api/master/batch-operation",_)).json(),onSuccess:_=>{s({title:"Batch Operation Successful",description:`${_.completedCount} of ${_.totalCount} operations completed successfully`}),te(!1),re([]),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Batch Operation Failed",description:_.message,variant:"destructive"})}}),le=Ze({mutationFn:async({action:_,botId:ve,tenancy:He,data:et})=>(await Rt("POST","/api/master/bot-action",{action:_,botId:ve,tenancy:He,data:et})).json(),onSuccess:(_,ve)=>{s({title:"Success",description:`Successfully ${ve.action}d bot`}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Action Failed",description:_.message,variant:"destructive"})}}),Ae=Ze({mutationFn:async({action:_,botId:ve,tenancy:He,feature:et,enabled:pt})=>(await Rt("POST","/api/master/feature-management",{action:_,botId:ve,tenancy:He,feature:et,enabled:pt})).json(),onSuccess:()=>{s({title:"Feature Updated",description:"Bot feature settings updated successfully"}),a.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:_=>{s({title:"Feature Update Failed",description:_.message,variant:"destructive"})}}),it=Ze({mutationFn:async({sourceServer:_,targetServers:ve,commandIds:He})=>(await Rt("POST","/api/master/sync-commands",{sourceServer:_,targetServers:ve,commandIds:He})).json(),onSuccess:()=>{s({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:_=>{s({title:"Command Sync Failed",description:_.message,variant:"destructive"})}}),Ge=(_,ve,He,et)=>{le.mutate({action:_,botId:ve,tenancy:He,data:et})},Kt=(_,ve,He,et)=>{Ae.mutate({action:"toggle_feature",botId:_,tenancy:ve,feature:He,enabled:et})},Qr=()=>{if(C&&M){const _=parseInt(M,10);if(isNaN(_)||_<1||_>12){s({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Ge("approve",C.id,C.tenancy,{duration:_}),k(!1),A(null)}},Dt=_=>{const ve={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return r.jsx(ze,{className:`${ve[_]||"bg-gray-500"} text-white`,children:_})};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-2xl font-bold text-center",children:"🎛️ Master Control Panel"})}),r.jsxs(_i,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Hs,{className:"grid w-full grid-cols-6",children:[r.jsx(St,{value:"overview",children:"Overview"}),r.jsx(St,{value:"servers",children:"Servers"}),r.jsx(St,{value:"bots",children:"Bot Management"}),r.jsx(St,{value:"features",children:"Features"}),r.jsx(St,{value:"credentials",children:"Credentials"}),r.jsx(St,{value:"bulk",children:"Bulk Actions"})]}),r.jsxs(yt,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"🎛️ Master Control Dashboard"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ut.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Xe.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Xe.filter(_=>_.approvalStatus==="pending").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Xe.filter(_=>_.status==="online").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),r.jsxs(me,{children:[r.jsx(We,{children:r.jsxs(Qe,{className:"flex items-center gap-2",children:["📊 Real-time System Status",r.jsx(ze,{variant:"outline",className:"ml-auto",children:"Live"})]})}),r.jsx(he,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),r.jsx("div",{className:"space-y-2",children:ut.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium",children:_.name})]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[_.botCount," bots"]})]},_.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),r.jsx("div",{className:"space-y-2",children:[{status:"online",count:Xe.filter(_=>_.status==="online").length,color:"bg-green-500"},{status:"offline",count:Xe.filter(_=>_.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:Xe.filter(_=>_.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:Xe.filter(_=>_.status==="error").length,color:"bg-red-500"}].map(_=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 ${_.color} rounded-full`}),r.jsx("span",{className:"capitalize",children:_.status})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:_.count})]},_.status))})]})]})})]})]}),r.jsx(yt,{value:"servers",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-blue-600",children:"🖥️ Server Tenancy Management"}),r.jsx(ct,{children:"Monitor and control all server instances and their bot containers"})]}),r.jsx(he,{children:Aa?r.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):r.jsx("div",{className:"space-y-4",children:sn.slice(0,20).map(_=>r.jsx(me,{className:"border-l-4 border-l-blue-500",children:r.jsxs(he,{className:"pt-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:["🏢 ",_.name,_.status==="active"?r.jsx(ze,{className:"bg-green-500 text-white",children:"Active"}):r.jsx(ze,{className:"bg-gray-500 text-white",children:"Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.description||"Server instance ready for bot deployment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.currentBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.remainingBots}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-medium",children:[Math.round(_.currentBots/_.totalBots*100),"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(_.currentBots/_.totalBots*100)}%`}})})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:_.name,description:`Switched to ${_.name} for administration`})}).then(()=>{s({title:"Server Switched",description:`Successfully switched to ${_.name}`}),Kr()})},"data-testid":`button-switch-to-${_.name}`,children:"🔄 Switch To"}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const ve=Xe.filter(He=>He.tenancy===_.name);s({title:"Server Bots",description:`${_.name} has ${ve.length} bots registered`})},children:["👁️ View Bots (",Xe.filter(ve=>ve.tenancy===_.name).length,")"]})]})]})},_.name))})})]})}),r.jsx(yt,{value:"tenancies",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4",children:ut.map(_=>r.jsxs(me,{children:[r.jsx(We,{children:r.jsxs(Qe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_.name,Dt(_.status||"unknown")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge("sync","",_.name),disabled:le.isPending,children:"Sync"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("disconnect","",_.name),disabled:le.isPending,children:"Disconnect"})]})]})}),r.jsx(he,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Server URL"}),r.jsx(Ut,{value:_.url,readOnly:!0})]}),r.jsxs("div",{children:[r.jsx(Re,{children:"Bot Count"}),r.jsx(Ut,{value:_.botCount.toString(),readOnly:!0})]})]})})]},_.name))})}),r.jsxs(yt,{value:"bots",className:"space-y-4",children:[r.jsxs(me,{className:"border-l-4 border-l-purple-500",children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(la,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),r.jsx(ct,{children:"Search and filter bots across all server tenancies with real-time results"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(Ut,{placeholder:"Search by bot name, phone number, or server...",value:G,onChange:_=>W(_.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),r.jsx(Q,{variant:"outline",onClick:()=>{W(""),ye("all"),xe("all"),ne("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{className:"text-sm font-medium",children:"Status Filter"}),r.jsxs(Ir,{value:J,onValueChange:ye,children:[r.jsx(wr,{"data-testid":"select-status-filter",children:r.jsx(Or,{})}),r.jsxs(jr,{children:[r.jsxs(Ve,{value:"all",children:["All Status (",H.totalBots,")"]}),r.jsxs(Ve,{value:"online",children:["Online (",H.onlineBots,")"]}),r.jsxs(Ve,{value:"offline",children:["Offline (",H.totalBots-H.onlineBots,")"]}),r.jsx(Ve,{value:"loading",children:"Loading"}),r.jsx(Ve,{value:"error",children:"Error"})]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-sm font-medium",children:"Server Filter"}),r.jsxs(Ir,{value:ge,onValueChange:xe,children:[r.jsx(wr,{"data-testid":"select-server-filter",children:r.jsx(Or,{})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"all",children:"All Servers"}),Object.entries(H.serverDistribution).map(([_,ve])=>r.jsxs(Ve,{value:_,children:[_," (",ve,")"]},_))]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-sm font-medium",children:"Approval Status"}),r.jsxs(Ir,{value:Y,onValueChange:ne,children:[r.jsx(wr,{"data-testid":"select-approval-filter",children:r.jsx(Or,{})}),r.jsxs(jr,{children:[r.jsxs(Ve,{value:"all",children:["All (",H.totalBots,")"]}),r.jsxs(Ve,{value:"approved",children:["Approved (",H.approvedBots,")"]}),r.jsxs(Ve,{value:"pending",children:["Pending (",H.pendingBots,")"]}),r.jsx(Ve,{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-sm font-medium",children:"Sort By"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(Ir,{value:L,onValueChange:se,children:[r.jsx(wr,{"data-testid":"select-sort-by",children:r.jsx(Or,{})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"name",children:"Name"}),r.jsx(Ve,{value:"phoneNumber",children:"Phone"}),r.jsx(Ve,{value:"server",children:"Server"}),r.jsx(Ve,{value:"status",children:"Status"}),r.jsx(Ve,{value:"lastActivity",children:"Activity"})]})]}),r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>ee(z==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:z==="asc"?"↑":"↓"})]})]})]}),r.jsx("div",{className:"bg-muted rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"font-medium",children:["Results: ",V.length," of ",H.totalBots," bots"]}),r.jsxs(ze,{variant:"outline",children:[V.filter(_=>_.status==="online").length," online"]}),r.jsxs(ze,{variant:"outline",children:[V.filter(_=>_.approvalStatus==="pending").length," pending"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>Kr(),disabled:Lr,className:"ml-auto","data-testid":"button-refresh-data",children:[r.jsx(Fm,{className:"h-3 w-3 mr-1"}),Lr?"Refreshing...":"Refresh"]})]})})]})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-purple-600",children:"🤖 Complete Bot Registry"}),r.jsx(ct,{children:"All bots across all server tenancies with individual container controls"})]}),r.jsx(he,{children:Lr?r.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):r.jsxs(Wc,{children:[r.jsx(Kc,{children:r.jsxs(Ms,{children:[r.jsx(It,{children:"Bot Details"}),r.jsx(It,{children:"Server"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval"}),r.jsx(It,{children:"Features"}),r.jsx(It,{children:"Stats"}),r.jsx(It,{children:"Container Actions"})]})}),r.jsx(Qc,{children:V.length===0?r.jsx(Ms,{children:r.jsx(_t,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(la,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),r.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{W(""),ye("all"),xe("all"),ne("all")},children:"Clear all filters"})]})})}):V.map(_=>r.jsxs(Ms,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx(_t,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:_.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:_.phoneNumber})]})}),r.jsx(_t,{children:r.jsx(ze,{variant:_.tenancy==="default-server"?"default":"outline",children:_.tenancy})}),r.jsx(_t,{children:r.jsxs("div",{className:"space-y-1",children:[Dt(_.status),_.approvalStatus&&r.jsx("div",{children:Dt(_.approvalStatus)})]})}),r.jsx(_t,{children:_.approvalStatus==="pending"?r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Q,{size:"sm",variant:"default",onClick:()=>{A(_),k(!0)},disabled:le.isPending,"data-testid":`button-approve-${_.id}`,children:"✅ Approve"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("reject",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-reject-${_.id}`,children:"❌"})]}):_.approvalStatus==="approved"?r.jsxs("div",{className:"text-xs text-green-600",children:["✅ Approved",_.expirationMonths&&r.jsxs("div",{children:["(",_.expirationMonths,"mo)"]})]}):r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge("revoke",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-revoke-${_.id}`,children:"🔄 Revoke Approval"})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs(ze,{variant:_.autoLike?"default":"outline",className:"text-xs",children:["👍 ",_.autoLike?"ON":"OFF"]}),r.jsxs(ze,{variant:_.chatgptEnabled?"default":"outline",className:"text-xs",children:["🤖 ",_.chatgptEnabled?"ON":"OFF"]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{children:["Msgs: ",_.messagesCount||0]}),r.jsxs("div",{children:["Cmds: ",_.commandsCount||0]})]})}),r.jsx(_t,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:le.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?"⏹️":"▶️"}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{g(_),b(!0)},"data-testid":`button-creds-${_.id}`,children:"🔐"}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Kt(_.id,_.tenancy,"autoLike",!_.autoLike),disabled:Ae.isPending,children:"🎛️"}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{R(_),O(!0)},disabled:le.isPending,"data-testid":`button-migrate-${_.id}`,title:"Migrate to another server",children:r.jsx(tv,{className:"h-3 w-3"})}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("delete",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-delete-${_.id}`,children:"🗑️"})]})})]},`${_.tenancy}-${_.id}`))})]})})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-green-600",children:"✅ Approved & Active Bots"}),r.jsx(ct,{children:"Currently approved and active bots across all tenancies"})]}),r.jsx(he,{children:I?r.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):r.jsxs(Wc,{children:[r.jsx(Kc,{children:r.jsxs(Ms,{children:[r.jsx(It,{children:"Bot Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Tenancy"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Approval Date"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(Qc,{children:ds.map(_=>r.jsxs(Ms,{children:[r.jsx(_t,{className:"font-medium",children:_.name}),r.jsx(_t,{children:_.phoneNumber}),r.jsx(_t,{children:r.jsx(ze,{variant:"outline",children:_.serverName})}),r.jsx(_t,{children:Dt(_.status)}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:_.approvalDate?new Date(_.approvalDate).toLocaleDateString():"N/A"}),r.jsx(_t,{className:"text-sm text-muted-foreground",children:new Date(_.updatedAt||_.createdAt).toLocaleDateString()}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ge(_.status==="online"?"stop":"start",_.id,_.serverName||_.tenancy||"default-server"),disabled:le.isPending,"data-testid":`button-${_.status==="online"?"stop":"start"}-${_.id}`,children:_.status==="online"?"⏹️ Stop":"▶️ Start"}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ge("delete",_.id,_.tenancy),disabled:le.isPending,"data-testid":`button-delete-approved-${_.id}`,children:"🗑️ Delete"})]})})]},`approved-${_.serverName}-${_.id}`))})]})})]})]}),r.jsx(yt,{value:"features",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-purple-600",children:"🎛️ Cross-Tenancy Feature Control"}),r.jsx(ct,{children:"Manage bot features across all tenancies from this central panel"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:"🌐 Global Feature Management"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"👍",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"😄",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"👁️",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"🤖",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"⌨️",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"✓✓",description:"Send read receipts"}].map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:_.icon}),r.jsx("span",{className:"font-medium text-sm",children:_.label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:_.description}),r.jsx("div",{className:"space-y-2",children:ut.map(ve=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs",children:ve.name}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Kt("",ve.name,_.key,!0),className:"h-6 px-2 text-xs",disabled:Ae.isPending,children:"Toggle"})]},ve.name))})]},_.key))})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🤖 Individual Bot Feature Control"}),r.jsx("div",{className:"space-y-4",children:Xe.filter(_=>_.approvalStatus==="approved").map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium",children:_.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.phoneNumber," • ",_.tenancy]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Dt(_.status),r.jsx(ze,{variant:"outline",children:_.tenancy})]})]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:"👍"},{key:"autoReact",label:"React",icon:"😄"},{key:"autoView",label:"View",icon:"👁️"},{key:"chatGPT",label:"AI",icon:"🤖"},{key:"typing",label:"Type",icon:"⌨️"},{key:"receipts",label:"Read",icon:"✓✓"}].map(ve=>r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>Kt(_.id,_.tenancy,ve.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:Ae.isPending,children:[r.jsx("span",{className:"text-sm",children:ve.icon}),r.jsx("span",{className:"text-xs",children:ve.label})]},ve.key))})]},`${_.tenancy}-${_.id}`))})]}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[r.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:"📡 Command Sync Across Tenancies"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),r.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"",children:"Select source server..."}),ut.map(_=>r.jsx("option",{value:_.name,children:_.name},_.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),r.jsx("div",{className:"space-y-2",children:ut.map(_=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:`target-${_.name}`,className:"rounded"}),r.jsx("label",{htmlFor:`target-${_.name}`,className:"text-sm",children:_.name})]},_.name))})]})]}),r.jsx(Q,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:it.isPending,children:"🔄 Sync Selected Commands"})]})]})]})}),r.jsx(yt,{value:"credentials",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-green-600",children:"🔐 Bot Credential Management"}),r.jsx(ct,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[r.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"⚠️ Credential Update Safety"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Xe.filter(_=>_.approvalStatus==="approved").map(_=>r.jsx(me,{className:"border-l-4 border-l-green-500",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:_.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_.phoneNumber}),r.jsx(ze,{variant:"outline",className:"mt-1",children:_.tenancy})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Container Status:"}),Dt(_.status)]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{g(_),b(!0)},className:"w-full","data-testid":`button-update-creds-${_.id}`,children:"🔐 Update Credentials"})]})})},`cred-${_.tenancy}-${_.id}`))})]})]})}),r.jsx(yt,{value:"bulk",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{className:"text-red-600",children:"⚡ Bulk Operations"}),r.jsx(ct,{children:"Perform actions on multiple bots across all server tenancies"})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[r.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:"📋 Bulk Bot Selection"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.map(ve=>`${ve.tenancy}-${ve.id}`);re(_)},children:["✅ Select All (",Xe.length,")"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.filter(ve=>ve.approvalStatus==="pending").map(ve=>`${ve.tenancy}-${ve.id}`);re(_)},children:["⏳ Select Pending (",Xe.filter(_=>_.approvalStatus==="pending").length,")"]}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const _=Xe.filter(ve=>ve.status==="online").map(ve=>`${ve.tenancy}-${ve.id}`);re(_)},children:["🟢 Select Online (",Xe.filter(_=>_.status==="online").length,")"]}),r.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>re([]),children:"❌ Clear Selection"})]}),r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",B.length," bots"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(me,{className:"border-l-4 border-l-green-500",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-green-600 mb-3",children:"✅ Bulk Approve"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),r.jsx(Q,{size:"sm",variant:"default",className:"w-full",disabled:B.length===0,onClick:()=>{B.forEach(_=>{const[ve,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ve&&pt.id===He);et&&et.approvalStatus==="pending"&&Ge("approve",He,ve,{duration:6})}),s({title:"Bulk Approval",description:`Processing approval for ${B.length} bots`})},children:"Approve Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-blue-500",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:"▶️ Bulk Start"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:B.length===0,onClick:()=>{B.forEach(_=>{const[ve,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ve&&pt.id===He);et&&et.status==="offline"&&Ge("start",He,ve)}),s({title:"Bulk Start",description:`Starting ${B.length} bots`})},children:"Start Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-orange-500",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:"⏹️ Bulk Stop"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:B.length===0,onClick:()=>{B.forEach(_=>{const[ve,He]=_.split("-"),et=Xe.find(pt=>pt.tenancy===ve&&pt.id===He);et&&et.status==="online"&&Ge("stop",He,ve)}),s({title:"Bulk Stop",description:`Stopping ${B.length} bots`})},children:"Stop Selected"})]})}),r.jsx(me,{className:"border-l-4 border-l-purple-500",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:"🎛️ Bulk Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),r.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:B.length===0,onClick:()=>{B.forEach(_=>{const[ve,He]=_.split("-");Kt(He,ve,"autoLike",!0)}),s({title:"Bulk Feature Update",description:`Enabling features for ${B.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),r.jsx(yt,{value:"connect",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"God Registry Information"}),r.jsx(ct,{children:"Cross-tenancy management is powered by the God Registry table"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🔄 How Cross-Tenancy Works:"}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:"• All bot registrations are stored in the God Registry table"}),r.jsx("li",{children:"• Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),r.jsx("li",{children:"• Master control can see and manage bots across all tenancies"}),r.jsx("li",{children:"• Local tenancy bots show full details, remote ones show registry info"}),r.jsx("li",{children:"• Actions on local tenancy bots are executed directly"}),r.jsx("li",{children:"• Actions on remote tenancy bots are logged for coordination"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 Current Setup:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsxs("li",{children:["• Current Server: ","SERVER1"]}),r.jsx("li",{children:"• God Registry: Active and monitoring all tenancies"}),r.jsx("li",{children:"• Cross-tenancy actions: Logged and tracked"}),r.jsx("li",{children:"• Data isolation: Each tenancy maintains its own bot data"})]})]}),r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),h&&r.jsx(Zt,{open:x,onOpenChange:b,children:r.jsxs($t,{className:"max-w-2xl",children:[r.jsx(Vt,{children:r.jsx(zt,{children:"🔐 Update Bot Credentials"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",h.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",h.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",h.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",h.status]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credential-type",children:"Credential Type"}),r.jsxs(Ir,{value:P,onValueChange:_=>w(_),children:[r.jsx(wr,{children:r.jsx(Or,{placeholder:"Select credential type"})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"base64",children:"Base64 String"}),r.jsx(Ve,{value:"file",children:"File Upload"})]})]})]}),P==="base64"?r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credentials",children:"New Credentials (Base64)"}),r.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:j,onChange:_=>S(_.target.value)})]}):r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credential-file",children:"Upload Credentials File"}),r.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:_=>{const ve=_.target.files?.[0];if(ve){const He=new FileReader;He.onload=et=>{S(et.target?.result||"")},He.readAsText(ve)}}})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!j.trim()){s({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:h.id,tenancy:h.tenancy,data:{credentials:P==="base64"?j:JSON.parse(j),type:P}})}).then(async _=>{if(_.ok)s({title:"Credentials Updated",description:`Credentials updated for ${h.name} in ${h.tenancy} container`}),b(!1),g(null),S(""),Kr();else{const ve=await _.json();s({title:"Update Failed",description:ve.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:"💾 Update Credentials"}),r.jsx(Q,{variant:"outline",onClick:()=>{b(!1),g(null),S("")},children:"Cancel"})]})]})]})]})}),y&&C&&r.jsx(Zt,{open:y,onOpenChange:()=>{k(!1),A(null)},children:r.jsxs($t,{className:"max-w-md",children:[r.jsx(Vt,{children:r.jsx(zt,{className:"text-center flex items-center justify-center gap-2",children:"✅ Cross-Server Bot Approval"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",C.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",C.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Server:"})," ",C.tenancy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Status:"})," ",C.approvalStatus]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"approval-duration",children:"Approval Duration"}),r.jsxs(Ir,{value:M,onValueChange:$,children:[r.jsx(wr,{"data-testid":"select-approval-duration",children:r.jsx(Or,{placeholder:"Select approval duration"})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"1",children:"1 Month"}),r.jsx(Ve,{value:"2",children:"2 Months"}),r.jsx(Ve,{value:"3",children:"3 Months (Recommended)"}),r.jsx(Ve,{value:"6",children:"6 Months"}),r.jsx(Ve,{value:"9",children:"9 Months"}),r.jsx(Ve,{value:"12",children:"12 Months"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",C.tenancy," server. The approval will be coordinated through the God Registry system."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:Qr,disabled:le.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:le.isPending?r.jsx(r.Fragment,{children:"⏳ Processing..."}):r.jsxs(r.Fragment,{children:["✅ Approve for ",M," Month",parseInt(M)>1?"s":""]})}),r.jsx(Q,{variant:"outline",onClick:()=>{k(!1),A(null)},disabled:le.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),oe&&E&&r.jsx(Zt,{open:oe,onOpenChange:O,children:r.jsxs($t,{className:"max-w-md",children:[r.jsx(Vt,{children:r.jsxs(zt,{className:"flex items-center gap-2",children:[r.jsx(tv,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",E.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"})," ",E.phoneNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Current Server:"})," ",E.tenancy]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"target-server",children:"Target Server"}),r.jsxs(Ir,{value:X,onValueChange:Z,children:[r.jsx(wr,{"data-testid":"select-target-server",children:r.jsx(Or,{placeholder:"Select destination server"})}),r.jsx(jr,{children:Object.keys(H.serverDistribution).filter(_=>_!==E.tenancy).map(_=>r.jsxs(Ve,{value:_,children:[_," (",H.serverDistribution[_]," bots)"]},_))})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:r.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[r.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!X){s({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(X===E.tenancy){s({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}we.mutate({botId:E.id,sourceServer:E.tenancy,targetServer:X})},disabled:we.isPending||!X,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:we.isPending?r.jsx(r.Fragment,{children:"⏳ Migrating..."}):r.jsx(r.Fragment,{children:"🚀 Migrate Bot"})}),r.jsx(Q,{variant:"outline",onClick:()=>{O(!1),R(null),Z("")},disabled:we.isPending,children:"Cancel"})]})]})]})}),de&&r.jsx(Zt,{open:de,onOpenChange:te,children:r.jsxs($t,{className:"max-w-lg",children:[r.jsx(Vt,{children:r.jsxs(zt,{className:"flex items-center gap-2",children:[r.jsx(Zk,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[r.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",B.length,")"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:B.map(_=>{const[ve,He]=_.split("-"),et=V.find(pt=>pt.tenancy===ve&&pt.id===He);return et?r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:et.name}),r.jsx("span",{className:"text-muted-foreground",children:et.tenancy})]},_):null})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"batch-operation",children:"Operation Type"}),r.jsxs(Ir,{value:Ne,onValueChange:Te,children:[r.jsx(wr,{"data-testid":"select-batch-operation",children:r.jsx(Or,{placeholder:"Select batch operation"})}),r.jsxs(jr,{children:[r.jsx(Ve,{value:"start",children:"Start All Selected Bots"}),r.jsx(Ve,{value:"stop",children:"Stop All Selected Bots"}),r.jsx(Ve,{value:"restart",children:"Restart All Selected Bots"}),r.jsx(Ve,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),r.jsx(Ve,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:r.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[r.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",B.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:()=>{if(!Ne){s({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}be.mutate({operation:Ne,botIds:B})},disabled:be.isPending||!Ne||B.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:be.isPending?r.jsx(r.Fragment,{children:"⏳ Processing..."}):r.jsx(r.Fragment,{children:"⚡ Execute Batch Operation"})}),r.jsx(Q,{variant:"outline",onClick:()=>{te(!1),Te("")},disabled:be.isPending,children:"Cancel"})]})]})]})}),$e&&r.jsx(Zt,{open:$e,onOpenChange:lt,children:r.jsxs($t,{className:"max-w-4xl",children:[r.jsx(Vt,{children:r.jsxs(zt,{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(me,{className:"border-green-200",children:r.jsx(he,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:V.filter(_=>_.status==="online").length})]}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),r.jsx(me,{className:"border-yellow-200",children:r.jsx(he,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:V.filter(_=>_.status==="loading").length})]}),r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),r.jsx(me,{className:"border-red-200",children:r.jsx(he,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:V.filter(_=>_.status==="error"||_.status==="offline").length})]}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),r.jsxs(me,{children:[r.jsx(We,{children:r.jsx(Qe,{className:"text-sm font-medium",children:"Server Health Status"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(H.serverDistribution).map(([_,ve])=>{const et=V.filter(En=>En.tenancy===_).filter(En=>En.status==="online").length,pt=Math.round(et/ve*100)||0,us=pt>=80?"text-green-600":pt>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${pt>=80?"bg-green-500":pt>=60?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[et,"/",ve," bots online"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${us}`,children:[pt,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},_)})})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{variant:"outline",onClick:()=>lt(!1),children:"Close Monitor"})})]})]})})]})})}const u4=Zo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mi=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:ke(u4({variant:t}),e),...s}));mi.displayName="Alert";const f4=p.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));f4.displayName="AlertTitle";const hi=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));hi.displayName="AlertDescription";var ey=1,m4=.9,h4=.8,p4=.17,zf=.1,Uf=.999,g4=.9999,x4=.99,v4=/[\\\/_+.#"@\[\(\{&]/,y4=/[\\\/_+.#"@\[\(\{&]/g,b4=/[\s-]/,Jj=/[\s-]/g;function Nm(e,t,s,a,o,c,u){if(c===t.length)return o===e.length?ey:x4;var f=`${o},${c}`;if(u[f]!==void 0)return u[f];for(var h=a.charAt(c),g=s.indexOf(h,o),x=0,b,j,S,P;g>=0;)b=Nm(e,t,s,a,g+1,c+1,u),b>x&&(g===o?b*=ey:v4.test(e.charAt(g-1))?(b*=h4,S=e.slice(o,g-1).match(y4),S&&o>0&&(b*=Math.pow(Uf,S.length))):b4.test(e.charAt(g-1))?(b*=m4,P=e.slice(o,g-1).match(Jj),P&&o>0&&(b*=Math.pow(Uf,P.length))):(b*=p4,o>0&&(b*=Math.pow(Uf,g-o))),e.charAt(g)!==t.charAt(c)&&(b*=g4)),(b<zf&&s.charAt(g-1)===a.charAt(c+1)||a.charAt(c+1)===a.charAt(c)&&s.charAt(g-1)!==a.charAt(c))&&(j=Nm(e,t,s,a,g+1,c+2,u),j*zf>b&&(b=j*zf)),b>x&&(x=b),g=s.indexOf(h,g+1);return u[f]=x,x}function ty(e){return e.toLowerCase().replace(Jj," ")}function w4(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Nm(e,t,ty(e),ty(t),0,0,{})}var wo='[cmdk-group=""]',qf='[cmdk-group-items=""]',j4='[cmdk-group-heading=""]',eN='[cmdk-item=""]',ry=`${eN}:not([aria-disabled="true"])`,Sm="cmdk-item-select",ia="data-value",N4=(e,t,s)=>w4(e,t,s),tN=p.createContext(void 0),rl=()=>p.useContext(tN),rN=p.createContext(void 0),Dh=()=>p.useContext(rN),nN=p.createContext(void 0),sN=p.forwardRef((e,t)=>{let s=aa(()=>{var E,R;return{search:"",value:(R=(E=e.value)!=null?E:e.defaultValue)!=null?R:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=aa(()=>new Set),o=aa(()=>new Map),c=aa(()=>new Map),u=aa(()=>new Set),f=iN(e),{label:h,children:g,value:x,onValueChange:b,filter:j,shouldFilter:S,loop:P,disablePointerSelection:w=!1,vimBindings:y=!0,...k}=e,C=Sr(),A=Sr(),M=Sr(),$=p.useRef(null),G=O4();ki(()=>{if(x!==void 0){let E=x.trim();s.current.value=E,W.emit()}},[x]),ki(()=>{G(6,ne)},[]);let W=p.useMemo(()=>({subscribe:E=>(u.current.add(E),()=>u.current.delete(E)),snapshot:()=>s.current,setState:(E,R,X)=>{var Z,de,te,Ne;if(!Object.is(s.current[E],R)){if(s.current[E]=R,E==="search")Y(),ge(),G(1,xe);else if(E==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Te=document.getElementById(M);Te?Te.focus():(Z=document.getElementById(C))==null||Z.focus()}if(G(7,()=>{var Te;s.current.selectedItemId=(Te=L())==null?void 0:Te.id,W.emit()}),X||G(5,ne),((de=f.current)==null?void 0:de.value)!==void 0){let Te=R??"";(Ne=(te=f.current).onValueChange)==null||Ne.call(te,Te);return}}W.emit()}},emit:()=>{u.current.forEach(E=>E())}}),[]),J=p.useMemo(()=>({value:(E,R,X)=>{var Z;R!==((Z=c.current.get(E))==null?void 0:Z.value)&&(c.current.set(E,{value:R,keywords:X}),s.current.filtered.items.set(E,ye(R,X)),G(2,()=>{ge(),W.emit()}))},item:(E,R)=>(a.current.add(E),R&&(o.current.has(R)?o.current.get(R).add(E):o.current.set(R,new Set([E]))),G(3,()=>{Y(),ge(),s.current.value||xe(),W.emit()}),()=>{c.current.delete(E),a.current.delete(E),s.current.filtered.items.delete(E);let X=L();G(4,()=>{Y(),X?.getAttribute("id")===E&&xe(),W.emit()})}),group:E=>(o.current.has(E)||o.current.set(E,new Set),()=>{c.current.delete(E),o.current.delete(E)}),filter:()=>f.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:C,inputId:M,labelId:A,listInnerRef:$}),[]);function ye(E,R){var X,Z;let de=(Z=(X=f.current)==null?void 0:X.filter)!=null?Z:N4;return E?de(E,s.current.search,R):0}function ge(){if(!s.current.search||f.current.shouldFilter===!1)return;let E=s.current.filtered.items,R=[];s.current.filtered.groups.forEach(Z=>{let de=o.current.get(Z),te=0;de.forEach(Ne=>{let Te=E.get(Ne);te=Math.max(Te,te)}),R.push([Z,te])});let X=$.current;se().sort((Z,de)=>{var te,Ne;let Te=Z.getAttribute("id"),$e=de.getAttribute("id");return((te=E.get($e))!=null?te:0)-((Ne=E.get(Te))!=null?Ne:0)}).forEach(Z=>{let de=Z.closest(qf);de?de.appendChild(Z.parentElement===de?Z:Z.closest(`${qf} > *`)):X.appendChild(Z.parentElement===X?Z:Z.closest(`${qf} > *`))}),R.sort((Z,de)=>de[1]-Z[1]).forEach(Z=>{var de;let te=(de=$.current)==null?void 0:de.querySelector(`${wo}[${ia}="${encodeURIComponent(Z[0])}"]`);te?.parentElement.appendChild(te)})}function xe(){let E=se().find(X=>X.getAttribute("aria-disabled")!=="true"),R=E?.getAttribute(ia);W.setState("value",R||void 0)}function Y(){var E,R,X,Z;if(!s.current.search||f.current.shouldFilter===!1){s.current.filtered.count=a.current.size;return}s.current.filtered.groups=new Set;let de=0;for(let te of a.current){let Ne=(R=(E=c.current.get(te))==null?void 0:E.value)!=null?R:"",Te=(Z=(X=c.current.get(te))==null?void 0:X.keywords)!=null?Z:[],$e=ye(Ne,Te);s.current.filtered.items.set(te,$e),$e>0&&de++}for(let[te,Ne]of o.current)for(let Te of Ne)if(s.current.filtered.items.get(Te)>0){s.current.filtered.groups.add(te);break}s.current.filtered.count=de}function ne(){var E,R,X;let Z=L();Z&&(((E=Z.parentElement)==null?void 0:E.firstChild)===Z&&((X=(R=Z.closest(wo))==null?void 0:R.querySelector(j4))==null||X.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function L(){var E;return(E=$.current)==null?void 0:E.querySelector(`${eN}[aria-selected="true"]`)}function se(){var E;return Array.from(((E=$.current)==null?void 0:E.querySelectorAll(ry))||[])}function z(E){let R=se()[E];R&&W.setState("value",R.getAttribute(ia))}function ee(E){var R;let X=L(),Z=se(),de=Z.findIndex(Ne=>Ne===X),te=Z[de+E];(R=f.current)!=null&&R.loop&&(te=de+E<0?Z[Z.length-1]:de+E===Z.length?Z[0]:Z[de+E]),te&&W.setState("value",te.getAttribute(ia))}function B(E){let R=L(),X=R?.closest(wo),Z;for(;X&&!Z;)X=E>0?A4(X,wo):I4(X,wo),Z=X?.querySelector(ry);Z?W.setState("value",Z.getAttribute(ia)):ee(E)}let re=()=>z(se().length-1),oe=E=>{E.preventDefault(),E.metaKey?re():E.altKey?B(1):ee(1)},O=E=>{E.preventDefault(),E.metaKey?z(0):E.altKey?B(-1):ee(-1)};return p.createElement(Fe.div,{ref:t,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:E=>{var R;(R=k.onKeyDown)==null||R.call(k,E);let X=E.nativeEvent.isComposing||E.keyCode===229;if(!(E.defaultPrevented||X))switch(E.key){case"n":case"j":{y&&E.ctrlKey&&oe(E);break}case"ArrowDown":{oe(E);break}case"p":case"k":{y&&E.ctrlKey&&O(E);break}case"ArrowUp":{O(E);break}case"Home":{E.preventDefault(),z(0);break}case"End":{E.preventDefault(),re();break}case"Enter":{E.preventDefault();let Z=L();if(Z){let de=new Event(Sm);Z.dispatchEvent(de)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:M4},h),Cd(e,E=>p.createElement(rN.Provider,{value:W},p.createElement(tN.Provider,{value:J},E))))}),S4=p.forwardRef((e,t)=>{var s,a;let o=Sr(),c=p.useRef(null),u=p.useContext(nN),f=rl(),h=iN(e),g=(a=(s=h.current)==null?void 0:s.forceMount)!=null?a:u?.forceMount;ki(()=>{if(!g)return f.item(o,u?.id)},[g]);let x=aN(o,c,[e.value,e.children,c],e.keywords),b=Dh(),j=Ws(G=>G.value&&G.value===x.current),S=Ws(G=>g||f.filter()===!1?!0:G.search?G.filtered.items.get(o)>0:!0);p.useEffect(()=>{let G=c.current;if(!(!G||e.disabled))return G.addEventListener(Sm,P),()=>G.removeEventListener(Sm,P)},[S,e.onSelect,e.disabled]);function P(){var G,W;w(),(W=(G=h.current).onSelect)==null||W.call(G,x.current)}function w(){b.setState("value",x.current,!0)}if(!S)return null;let{disabled:y,value:k,onSelect:C,forceMount:A,keywords:M,...$}=e;return p.createElement(Fe.div,{ref:xi(c,t),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!j,"data-disabled":!!y,"data-selected":!!j,onPointerMove:y||f.getDisablePointerSelection()?void 0:w,onClick:y?void 0:P},e.children)}),C4=p.forwardRef((e,t)=>{let{heading:s,children:a,forceMount:o,...c}=e,u=Sr(),f=p.useRef(null),h=p.useRef(null),g=Sr(),x=rl(),b=Ws(S=>o||x.filter()===!1?!0:S.search?S.filtered.groups.has(u):!0);ki(()=>x.group(u),[]),aN(u,f,[e.value,e.heading,h]);let j=p.useMemo(()=>({id:u,forceMount:o}),[o]);return p.createElement(Fe.div,{ref:xi(f,t),...c,"cmdk-group":"",role:"presentation",hidden:b?void 0:!0},s&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:g},s),Cd(e,S=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?g:void 0},p.createElement(nN.Provider,{value:j},S))))}),k4=p.forwardRef((e,t)=>{let{alwaysRender:s,...a}=e,o=p.useRef(null),c=Ws(u=>!u.search);return!s&&!c?null:p.createElement(Fe.div,{ref:xi(o,t),...a,"cmdk-separator":"",role:"separator"})}),E4=p.forwardRef((e,t)=>{let{onValueChange:s,...a}=e,o=e.value!=null,c=Dh(),u=Ws(g=>g.search),f=Ws(g=>g.selectedItemId),h=rl();return p.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),p.createElement(Fe.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":f,id:h.inputId,type:"text",value:o?e.value:u,onChange:g=>{o||c.setState("search",g.target.value),s?.(g.target.value)}})}),P4=p.forwardRef((e,t)=>{let{children:s,label:a="Suggestions",...o}=e,c=p.useRef(null),u=p.useRef(null),f=Ws(g=>g.selectedItemId),h=rl();return p.useEffect(()=>{if(u.current&&c.current){let g=u.current,x=c.current,b,j=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let S=g.offsetHeight;x.style.setProperty("--cmdk-list-height",S.toFixed(1)+"px")})});return j.observe(g),()=>{cancelAnimationFrame(b),j.unobserve(g)}}},[]),p.createElement(Fe.div,{ref:xi(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":a,id:h.listId},Cd(e,g=>p.createElement("div",{ref:xi(u,h.listInnerRef),"cmdk-list-sizer":""},g)))}),_4=p.forwardRef((e,t)=>{let{open:s,onOpenChange:a,overlayClassName:o,contentClassName:c,container:u,...f}=e;return p.createElement(ih,{open:s,onOpenChange:a},p.createElement(ah,{container:u},p.createElement(dd,{"cmdk-overlay":"",className:o}),p.createElement(ud,{"aria-label":e.label,"cmdk-dialog":"",className:c},p.createElement(sN,{ref:t,...f}))))}),T4=p.forwardRef((e,t)=>Ws(s=>s.filtered.count===0)?p.createElement(Fe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),R4=p.forwardRef((e,t)=>{let{progress:s,children:a,label:o="Loading...",...c}=e;return p.createElement(Fe.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Cd(e,u=>p.createElement("div",{"aria-hidden":!0},u)))}),Fr=Object.assign(sN,{List:P4,Item:S4,Input:E4,Group:C4,Separator:k4,Dialog:_4,Empty:T4,Loading:R4});function A4(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function I4(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function iN(e){let t=p.useRef(e);return ki(()=>{t.current=e}),t}var ki=typeof window>"u"?p.useEffect:p.useLayoutEffect;function aa(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Ws(e){let t=Dh(),s=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,s,s)}function aN(e,t,s,a=[]){let o=p.useRef(),c=rl();return ki(()=>{var u;let f=(()=>{var g;for(let x of s){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(g=x.current.textContent)==null?void 0:g.trim():o.current}})(),h=a.map(g=>g.trim());c.value(e,f,h),(u=t.current)==null||u.setAttribute(ia,f),o.current=f}),o}var O4=()=>{let[e,t]=p.useState(),s=aa(()=>new Map);return ki(()=>{s.current.forEach(a=>a()),s.current=new Map},[e]),(a,o)=>{s.current.set(a,o),t({})}};function D4(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Cd({asChild:e,children:t},s){return e&&p.isValidElement(t)?p.cloneElement(D4(t),{ref:t.ref},s(t.props.children)):s(t)}var M4={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const oN=p.forwardRef(({className:e,...t},s)=>r.jsx(Fr,{ref:s,className:ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));oN.displayName=Fr.displayName;const lN=p.forwardRef(({className:e,...t},s)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(la,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(Fr.Input,{ref:s,className:ke("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));lN.displayName=Fr.Input.displayName;const cN=p.forwardRef(({className:e,...t},s)=>r.jsx(Fr.List,{ref:s,className:ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));cN.displayName=Fr.List.displayName;const dN=p.forwardRef((e,t)=>r.jsx(Fr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));dN.displayName=Fr.Empty.displayName;const uN=p.forwardRef(({className:e,...t},s)=>r.jsx(Fr.Group,{ref:s,className:ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));uN.displayName=Fr.Group.displayName;const F4=p.forwardRef(({className:e,...t},s)=>r.jsx(Fr.Separator,{ref:s,className:ke("-mx-1 h-px bg-border",e),...t}));F4.displayName=Fr.Separator.displayName;const fN=p.forwardRef(({className:e,...t},s)=>r.jsx(Fr.Item,{ref:s,className:ke("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));fN.displayName=Fr.Item.displayName;var kd="Popover",[mN,BD]=Mr(kd,[Ta]),nl=Ta(),[L4,Gs]=mN(kd),hN=e=>{const{__scopePopover:t,children:s,open:a,defaultOpen:o,onOpenChange:c,modal:u=!1}=e,f=nl(t),h=p.useRef(null),[g,x]=p.useState(!1),[b,j]=ss({prop:a,defaultProp:o??!1,onChange:c,caller:kd});return r.jsx(L0,{...f,children:r.jsx(L4,{scope:t,contentId:Sr(),triggerRef:h,open:b,onOpenChange:j,onOpenToggle:p.useCallback(()=>j(S=>!S),[j]),hasCustomAnchor:g,onCustomAnchorAdd:p.useCallback(()=>x(!0),[]),onCustomAnchorRemove:p.useCallback(()=>x(!1),[]),modal:u,children:s})})};hN.displayName=kd;var pN="PopoverAnchor",B4=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Gs(pN,s),c=nl(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=o;return p.useEffect(()=>(u(),()=>f()),[u,f]),r.jsx(nd,{...c,...a,ref:t})});B4.displayName=pN;var gN="PopoverTrigger",xN=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Gs(gN,s),c=nl(s),u=at(t,o.triggerRef),f=r.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jN(o.open),...a,ref:u,onClick:Oe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:r.jsx(nd,{asChild:!0,...c,children:f})});xN.displayName=gN;var Mh="PopoverPortal",[$4,V4]=mN(Mh,{forceMount:void 0}),vN=e=>{const{__scopePopover:t,forceMount:s,children:a,container:o}=e,c=Gs(Mh,t);return r.jsx($4,{scope:t,forceMount:s,children:r.jsx(Cn,{present:s||c.open,children:r.jsx(Ho,{asChild:!0,container:o,children:a})})})};vN.displayName=Mh;var Na="PopoverContent",yN=p.forwardRef((e,t)=>{const s=V4(Na,e.__scopePopover),{forceMount:a=s.forceMount,...o}=e,c=Gs(Na,e.__scopePopover);return r.jsx(Cn,{present:a||c.open,children:c.modal?r.jsx(U4,{...o,ref:t}):r.jsx(q4,{...o,ref:t})})});yN.displayName=Na;var z4=vi("PopoverContent.RemoveScroll"),U4=p.forwardRef((e,t)=>{const s=Gs(Na,e.__scopePopover),a=p.useRef(null),o=at(t,a),c=p.useRef(!1);return p.useEffect(()=>{const u=a.current;if(u)return th(u)},[]),r.jsx(ld,{as:z4,allowPinchZoom:!0,children:r.jsx(bN,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),q4=p.forwardRef((e,t)=>{const s=Gs(Na,e.__scopePopover),a=p.useRef(!1),o=p.useRef(!1);return r.jsx(bN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),bN=p.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:x,...b}=e,j=Gs(Na,s),S=nl(s);return eh(),r.jsx(ad,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(ka,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:g,onDismiss:()=>j.onOpenChange(!1),children:r.jsx(Zm,{"data-state":jN(j.open),role:"dialog",id:j.contentId,...S,...b,ref:t,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wN="PopoverClose",W4=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=Gs(wN,s);return r.jsx(Fe.button,{type:"button",...a,ref:t,onClick:Oe(e.onClick,()=>o.onOpenChange(!1))})});W4.displayName=wN;var K4="PopoverArrow",Q4=p.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,o=nl(s);return r.jsx(Ym,{...o,...a,ref:t})});Q4.displayName=K4;function jN(e){return e?"open":"closed"}var H4=hN,G4=xN,Z4=vN,NN=yN;const Y4=H4,X4=G4,SN=p.forwardRef(({className:e,align:t="center",sideOffset:s=4,...a},o)=>r.jsx(Z4,{children:r.jsx(NN,{ref:o,align:t,sideOffset:s,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));SN.displayName=NN.displayName;function J4({open:e,onOpenChange:t,currentServerName:s,hasSecretConfig:a}){const{toast:o}=or(),c=Dr(),[u,f]=p.useState(s||""),[h,g]=p.useState(""),[x,b]=p.useState(!1),{data:j=[],isLoading:S}=xt({queryKey:["/api/servers/list"],enabled:e&&!a}),P=Ze({mutationFn:async k=>await(await Rt("POST","/api/server/configure",k)).json(),onSuccess:k=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),k&&k.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),t(!1)},onError:k=>{o({title:"Configuration failed",description:k.message||"Failed to configure server",variant:"destructive"})}}),w=k=>{if(k.preventDefault(),!u.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}P.mutate({serverName:u.trim(),description:h.trim()||void 0})},y=j.find(k=>k.name===u);return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[r.jsxs(Vt,{children:[r.jsxs(zt,{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),"Server Configuration"]}),r.jsx(To,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),a&&r.jsxs(mi,{"data-testid":"alert-secret-configured",children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsx(hi,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!a&&r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{"data-testid":"label-server-name",children:"Select Server *"}),S?r.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[r.jsx(nv,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):r.jsxs(Y4,{open:x,onOpenChange:b,children:[r.jsx(X4,{asChild:!0,children:r.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:P.isPending,"data-testid":"button-server-select",children:[u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rv,{className:"h-4 w-4"}),r.jsx("span",{children:u}),y&&r.jsxs(ze,{variant:"secondary",className:"ml-auto",children:[y.currentBots,"/",y.totalBots]})]}):r.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),r.jsx(Lm,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(SN,{className:"w-full p-0",align:"start",children:r.jsxs(oN,{children:[r.jsx(lN,{placeholder:"Search servers...",className:"h-9"}),r.jsx(dN,{children:"No servers found."}),r.jsx(cN,{className:"max-h-[200px]",children:r.jsx(uN,{children:j.map(k=>r.jsxs(fN,{value:k.name,onSelect:()=>{f(k.name),b(!1)},className:"flex items-center justify-between","data-testid":`option-${k.name}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rv,{className:"h-4 w-4"}),r.jsx("span",{children:k.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ze,{variant:k.currentBots===0?"secondary":k.remainingBots===0?"destructive":"default",className:"text-xs",children:[k.currentBots,"/",k.totalBots]}),k.remainingBots>0&&r.jsxs("span",{className:"text-xs text-green-600",children:[k.remainingBots," free"]})]})]},k.name))})})]})})]}),y&&r.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["Bot Usage: ",y.currentBots,"/",y.totalBots]}),r.jsxs("span",{className:y.remainingBots>0?"text-green-600":"text-red-600",children:[y.remainingBots," slots available"]})]})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),r.jsx(ls,{id:"description","data-testid":"textarea-description",value:h,onChange:k=>g(k.target.value),placeholder:"Describe the purpose of this server...",disabled:P.isPending,rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:P.isPending,"data-testid":"button-cancel",children:"Cancel"}),r.jsxs(Q,{type:"submit",disabled:P.isPending||!u.trim(),"data-testid":"button-save-config",children:[P.isPending&&r.jsx(nv,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",u]})]})]}),a&&r.jsx("div",{className:"flex justify-end",children:r.jsx(Q,{onClick:()=>t(!1),"data-testid":"button-close",children:"Close"})})]})})}var Fh="Progress",Lh=100,[eD,$D]=Mr(Fh),[tD,rD]=eD(Fh),CN=p.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:o,getValueLabel:c=nD,...u}=e;(o||o===0)&&!ny(o)&&console.error(sD(`${o}`,"Progress"));const f=ny(o)?o:Lh;a!==null&&!sy(a,f)&&console.error(iD(`${a}`,"Progress"));const h=sy(a,f)?a:null,g=Hc(h)?c(h,f):void 0;return r.jsx(tD,{scope:s,value:h,max:f,children:r.jsx(Fe.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Hc(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":PN(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});CN.displayName=Fh;var kN="ProgressIndicator",EN=p.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,o=rD(kN,s);return r.jsx(Fe.div,{"data-state":PN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:t})});EN.displayName=kN;function nD(e,t){return`${Math.round(e/t*100)}%`}function PN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Hc(e){return typeof e=="number"}function ny(e){return Hc(e)&&!isNaN(e)&&e>0}function sy(e,t){return Hc(e)&&!isNaN(e)&&e<=t&&e>=0}function sD(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Lh}\`.`}function iD(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Lh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _N=CN,aD=EN;const Cm=p.forwardRef(({className:e,value:t,...s},a)=>r.jsx(_N,{ref:a,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(aD,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cm.displayName=_N.displayName;function oD(){const{data:e,isLoading:t}=xt({queryKey:["/api/servers/all"],refetchInterval:5e3}),s=e?.servers||[],a=(b,j,S)=>b!=="active"?r.jsx(Hk,{className:"h-4 w-4 text-red-500"}):j>=S?r.jsx(vn,{className:"h-4 w-4 text-yellow-500"}):r.jsx(Gk,{className:"h-4 w-4 text-green-500"}),o=(b,j,S)=>b!=="active"?r.jsx(ze,{variant:"destructive",children:"Inactive"}):j>=S?r.jsx(ze,{variant:"secondary",children:"Full"}):j===0?r.jsx(ze,{variant:"outline",children:"Empty"}):r.jsx(ze,{variant:"default",children:"Active"}),c=b=>b>=90?"bg-red-500":b>=70?"bg-yellow-500":"bg-green-500",u=s.length,f=s.filter(b=>b.serverStatus==="active").length,h=s.reduce((b,j)=>b+j.currentBots,0),g=s.reduce((b,j)=>b+j.maxBots,0),x=g>0?Math.round(h/g*100):0;return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((b,j)=>r.jsx(me,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},j))})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(me,{"data-testid":"card-total-servers",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:u})]}),r.jsx(ca,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-active-servers",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:f})]}),r.jsx(Fm,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-total-bots",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:h})]}),r.jsx(rs,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(me,{"data-testid":"card-avg-utilization",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),r.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),r.jsx("div",{className:"text-right",children:r.jsx(Cm,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),"Server Status Overview"]}),r.jsx(ct,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(b=>{const j=b.maxBots>0?Math.round(b.currentBots/b.maxBots*100):0;return r.jsx(me,{className:"relative overflow-hidden","data-testid":`card-server-${b.serverName}`,children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(b.serverStatus,b.currentBots,b.maxBots),r.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${b.serverName}`,children:b.serverName})]}),r.jsx("div",{"data-testid":`badge-status-${b.serverName}`,children:o(b.serverStatus,b.currentBots,b.maxBots)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Bots"}),r.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${b.serverName}`,children:[b.currentBots,"/",b.maxBots]})]}),r.jsx(Cm,{value:j,className:`h-2 ${c(j)}`,"data-testid":`progress-utilization-${b.serverName}`}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[r.jsxs("span",{"data-testid":`text-utilization-${b.serverName}`,children:["Utilization: ",j,"%"]}),r.jsxs("span",{"data-testid":`text-slots-free-${b.serverName}`,children:[b.availableSlots," slots free"]})]}),b.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:b.description,"data-testid":`text-description-${b.serverName}`,children:b.description})]}),b.currentBots>=b.maxBots&&r.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},b.serverName)})}),s.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ca,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),r.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}function lD(){const{toast:e}=or(),t=Dr(),{logout:s}=md(),[a,o]=p.useState(!1),[c,u]=p.useState(!1),{data:f=[],isLoading:h}=xt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const C=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch bot instances");return await C.json()}}),{data:g=[],isLoading:x}=xt({queryKey:["/api/admin/activities"],queryFn:async()=>{const C=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch activities");return await C.json()}}),{data:b}=xt({queryKey:["/api/admin/stats"],queryFn:async()=>{const C=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!C.ok)throw new Error("Failed to fetch stats");return C.json()}}),{data:j={}}=xt({queryKey:["/api/server/info"]}),S=Ze({mutationFn:async C=>{const A=await fetch(`/api/admin/bot-instances/${C}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok)throw new Error("Failed to start bot");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),P=Ze({mutationFn:async C=>{const A=await fetch(`/api/admin/bot-instances/${C}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok)throw new Error("Failed to stop bot");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),w=Ze({mutationFn:async C=>{const A=await fetch(`/api/admin/bot-instances/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok){const M=await A.text();throw new Error(M||"Failed to delete bot")}return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),y=C=>{const A={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return r.jsx(ze,{variant:A[C]||"secondary","data-testid":`status-${C}`,children:C.replace("_"," ").toUpperCase()})},k=C=>new Date(C).toLocaleString();return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-6 w-6 text-red-600"}),r.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),r.jsxs(Q,{variant:"outline",onClick:()=>{s(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[r.jsx(Wk,{className:"h-4 w-4"}),"Logout"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs(me,{children:[r.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Qe,{className:"text-sm font-medium",children:"Total Bots"}),r.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(he,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:b?.totalBots||f.length})})]}),r.jsxs(me,{children:[r.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Qe,{className:"text-sm font-medium",children:"Online Bots"}),r.jsx(Fm,{className:"h-4 w-4 text-green-600"})]}),r.jsx(he,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:f.filter(C=>C.status==="online").length})})]}),r.jsxs(me,{children:[r.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Qe,{className:"text-sm font-medium",children:"Total Messages"}),r.jsx(Vk,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(he,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:f.reduce((C,A)=>C+(A.messagesCount||0),0)})})]}),r.jsxs(me,{children:[r.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Qe,{className:"text-sm font-medium",children:"Commands Used"}),r.jsx(Qk,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(he,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:f.reduce((C,A)=>C+(A.commandsCount||0),0)})})]})]}),r.jsxs(_i,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Hs,{children:[r.jsx(St,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),r.jsx(St,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),r.jsx(St,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),r.jsx(St,{value:"server","data-testid":"tab-server",children:"Server Config"}),r.jsx(St,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),r.jsx(yt,{value:"overview",className:"space-y-4",children:r.jsx(oD,{})}),r.jsx(yt,{value:"bots",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"Bot Instance Management"}),r.jsx(ct,{children:"Manage all WhatsApp bot instances across the system"})]}),r.jsx(he,{children:h?r.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):r.jsxs(Wc,{children:[r.jsx(Kc,{children:r.jsxs(Ms,{children:[r.jsx(It,{children:"Name"}),r.jsx(It,{children:"Phone Number"}),r.jsx(It,{children:"Status"}),r.jsx(It,{children:"Messages"}),r.jsx(It,{children:"Commands"}),r.jsx(It,{children:"Last Activity"}),r.jsx(It,{children:"Actions"})]})}),r.jsx(Qc,{children:f.map(C=>r.jsxs(Ms,{children:[r.jsx(_t,{className:"font-medium","data-testid":`bot-name-${C.id}`,children:C.name}),r.jsx(_t,{"data-testid":`bot-phone-${C.id}`,children:C.phoneNumber||"Not set"}),r.jsx(_t,{children:y(C.status)}),r.jsx(_t,{"data-testid":`bot-messages-${C.id}`,children:C.messagesCount||0}),r.jsx(_t,{"data-testid":`bot-commands-${C.id}`,children:C.commandsCount||0}),r.jsx(_t,{"data-testid":`bot-activity-${C.id}`,children:C.lastActivity?k(C.lastActivity):"Never"}),r.jsx(_t,{children:r.jsxs("div",{className:"flex gap-2",children:[C.status==="offline"||C.status==="error"?r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>S.mutate(C.id),disabled:S.isPending,"data-testid":`button-start-${C.id}`,children:r.jsx(xa,{className:"h-4 w-4"})}):r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>P.mutate(C.id),disabled:P.isPending,"data-testid":`button-stop-${C.id}`,children:r.jsx(Eo,{className:"h-4 w-4"})}),r.jsxs(Zj,{children:[r.jsx(Yj,{asChild:!0,children:r.jsx(Q,{size:"sm",variant:"destructive","data-testid":`button-delete-${C.id}`,children:r.jsx(Bm,{className:"h-4 w-4"})})}),r.jsxs(Ph,{children:[r.jsxs(_h,{children:[r.jsx(Rh,{children:"Delete Bot Instance"}),r.jsxs(Ah,{children:['Are you sure you want to delete "',C.name,'"? This action cannot be undone.']})]}),r.jsxs(Th,{children:[r.jsx(Oh,{children:"Cancel"}),r.jsx(Ih,{onClick:()=>w.mutate(C.id),"data-testid":`confirm-delete-${C.id}`,children:"Delete"})]})]})]})]})})]},C.id))})]})})]})}),r.jsx(yt,{value:"activities",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"System Activity Monitor"}),r.jsx(ct,{children:"Recent activities across all bot instances"})]}),r.jsx(he,{children:x?r.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:g.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):g.map(C=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ze,{variant:"outline","data-testid":`activity-type-${C.type}`,children:C.type.replace("_"," ").toUpperCase()}),r.jsx("span",{className:"text-sm text-muted-foreground",children:k(C.createdAt)})]}),r.jsx("p",{className:"text-sm","data-testid":`activity-description-${C.id}`,children:C.description}),C.metadata&&typeof C.metadata=="object"&&Object.keys(C.metadata).length>0?r.jsxs("details",{className:"text-xs",children:[r.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),r.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(C.metadata,null,2)})]}):null]},C.id))})})]})}),r.jsx(yt,{value:"server",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"Server Configuration"}),r.jsx(ct,{children:"Configure server settings and tenancy management"})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:j?.serverName||"default-server"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",j?.currentBots||0,"/",j?.maxBots||0]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),r.jsx("p",{className:"text-sm",children:j?.hasSecretConfig?r.jsx("span",{className:"text-green-600",children:"✅ Environment Configured"}):r.jsx("span",{className:"text-yellow-600",children:"⚠️ Manual Configuration"})})]})]}),r.jsx(Q,{onClick:()=>u(!0),className:"w-full","data-testid":"button-configure-server-admin",children:"⚙️ Configure Server Settings"}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),r.jsx(yt,{value:"master",className:"space-y-4",children:r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsx(Qe,{children:"Master Control Panel"}),r.jsx(ct,{children:"Cross-tenancy bot management using God Registry"})]}),r.jsxs(he,{children:[r.jsx(Q,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:"🎛️ Open Master Control Panel"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),r.jsx(d4,{open:a,onClose:()=>o(!1)}),r.jsx(J4,{open:c,onOpenChange:u,currentServerName:j?.serverName||"",hasSecretConfig:j?.hasSecretConfig||!1})]})}function cD(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(me,{className:"w-full max-w-md mx-4",children:r.jsxs(he,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Uk,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function dD(){const{toast:e}=or(),[t,s]=p.useState(""),[a,o]=p.useState(""),[c,u]=p.useState("phone"),[f,h]=p.useState(!1),g=[{step:1,title:"Enter Phone Number",description:"Provide the phone number associated with your WhatsApp bot",icon:r.jsx(rm,{className:"h-5 w-5"}),completed:c!=="phone"},{step:2,title:"Verify Ownership",description:"Enter the session ID or credentials to verify bot ownership",icon:r.jsx(Dn,{className:"h-5 w-5"}),completed:c==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:r.jsx(Nf,{className:"h-5 w-5"}),completed:f}],x=Ze({mutationFn:async P=>{const w=P.replace(/[\s\-\(\)\+]/g,""),y=await fetch("/api/guest/verify-phone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:w})});if(!y.ok){const k=await y.json();throw new Error(k.message||"Failed to verify phone number")}return y.json()},onSuccess:P=>{e({title:"Phone Verified",description:"Your phone number has been verified. You can now manage your bots."}),u("otp")},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),b=Ze({mutationFn:async P=>{const w=await fetch("/api/guest/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!w.ok){const y=await w.json();throw new Error(y.message||"Invalid verification code")}return w.json()},onSuccess:()=>{u("verified"),h(!0),e({title:"Verification Complete",description:"You now have full access to bot management features."})},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}}),j=()=>{if(!t.trim()){e({title:"Phone Required",description:"Please enter your phone number",variant:"destructive"});return}x.mutate(t)},S=()=>{if(!a.trim()){e({title:"Code Required",description:"Please enter the verification code",variant:"destructive"});return}b.mutate({phoneNumber:t,otp:a})};return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Phone Verification"}),r.jsx("p",{className:"text-muted-foreground",children:"Verify your phone number to access bot management features"})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-5 w-5"}),"Verification Process"]}),r.jsx(ct,{children:"Follow these steps to verify your phone number and access your bots"})]}),r.jsx(he,{children:r.jsx("div",{className:"space-y-4",children:g.map(P=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${P.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:P.completed?r.jsx(Nf,{className:"h-4 w-4"}):P.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:P.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),r.jsx(ze,{variant:P.completed?"default":"outline",children:P.completed?"Completed":"Pending"})]},P.step))})})]}),c==="phone"&&r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(rm,{className:"h-5 w-5"}),"Enter Phone Number"]}),r.jsx(ct,{children:"Enter the phone number associated with your WhatsApp bot"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phone",children:"Phone Number"}),r.jsx(Ut,{id:"phone",type:"tel",placeholder:"+1234567890",value:t,onChange:P=>s(P.target.value),"data-testid":"input-phone-number"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Include country code (e.g., +1 for US, +44 for UK)"})]}),r.jsx(Q,{onClick:j,disabled:x.isPending,className:"w-full","data-testid":"button-verify-phone",children:x.isPending?"Verifying...":"Verify Phone Number"})]})]}),c==="otp"&&r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"h-5 w-5"}),"Enter Session ID"]}),r.jsx(ct,{children:"Enter your bot's session ID (base64 credentials) to verify ownership"})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"otp",children:"Session ID / Base64 Credentials"}),r.jsx("textarea",{id:"otp",placeholder:"Paste your base64 session ID here...",value:a,onChange:P=>o(P.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This verifies that you own the bot associated with the phone number"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Q,{onClick:S,disabled:b.isPending,className:"flex-1","data-testid":"button-verify-session",children:b.isPending?"Verifying...":"Verify Session"}),r.jsx(Q,{variant:"outline",onClick:()=>u("phone"),children:"Back"})]})]})]}),c==="verified"&&r.jsx(me,{className:"border-green-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Nf,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Verification Complete!"}),r.jsxs("p",{className:"text-green-600 mt-1",children:["Your phone number ",t," has been successfully verified."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Q,{asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),r.jsx(me,{className:"border-orange-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(vn,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),r.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function uD(){const{toast:e}=or(),t=Dr(),[s,a]=p.useState(""),[o,c]=p.useState(!1),{data:u=[],isLoading:f,error:h}=xt({queryKey:["/api/guest/my-bots",s],queryFn:async()=>{if(!s.trim())return[];const y=s.replace(/[\s\-\(\)\+]/g,""),k=await fetch("/api/guest/my-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:y})});if(!k.ok){const C=await k.json();throw new Error(C.message||"Failed to fetch your bots")}return k.json()},enabled:o&&!!s.trim()}),g=Ze({mutationFn:async({action:y,botId:k,data:C})=>{const A=await fetch("/api/guest/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:y,botId:k,...C})});if(!A.ok){const M=await A.json();throw new Error(M.message||`Failed to ${y} bot`)}return A.json()},onSuccess:(y,k)=>{e({title:"Action Successful",description:`Bot ${k.action} completed successfully`}),t.invalidateQueries({queryKey:["/api/guest/my-bots"]})},onError:y=>{e({title:"Action Failed",description:y.message,variant:"destructive"})}}),x=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your bots",variant:"destructive"});return}c(!0)},b=(y,k,C)=>{g.mutate({action:y,botId:k.id,data:C})},j=(y,k)=>{if(k==="pending")return r.jsx(ze,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(y){case"online":return r.jsx(ze,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(ze,{variant:"outline",children:"Offline"});case"error":return r.jsx(ze,{variant:"destructive",children:"Error"});default:return r.jsx(ze,{variant:"outline",children:y})}},S=u.filter(y=>y.isActive&&y.approvalStatus==="approved"),P=u.filter(y=>y.approvalStatus==="pending"),w=u.filter(y=>!y.isActive||y.approvalStatus==="rejected");return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Bot Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your WhatsApp bots across all servers"})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"h-5 w-5"}),"Find Your Bots"]}),r.jsx(ct,{children:"Enter your phone number to find and manage your bots across all servers"})]}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ut,{type:"tel",placeholder:"+1234567890",value:s,onChange:y=>a(y.target.value),className:"flex-1","data-testid":"input-search-phone"}),r.jsx(Q,{onClick:x,disabled:f,"data-testid":"button-search-bots",children:f?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),h&&r.jsxs(mi,{variant:"destructive",children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsx(hi,{children:h.message})]}),o&&!f&&u.length>0&&r.jsxs(_i,{defaultValue:"active",className:"w-full",children:[r.jsxs(Hs,{className:"grid w-full grid-cols-3",children:[r.jsxs(St,{value:"active","data-testid":"tab-active-bots",children:["Active Bots (",S.length,")"]}),r.jsxs(St,{value:"pending","data-testid":"tab-pending-bots",children:["Pending (",P.length,")"]}),r.jsxs(St,{value:"inactive","data-testid":"tab-inactive-bots",children:["Inactive (",w.length,")"]})]}),r.jsx(yt,{value:"active",className:"space-y-4",children:S.length===0?r.jsx(me,{children:r.jsxs(he,{className:"pt-6 text-center",children:[r.jsx(rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(y=>r.jsxs(me,{className:"border-green-200",children:[r.jsxs(We,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Qe,{className:"text-lg",children:y.name}),j(y.status,y.approvalStatus)]}),r.jsxs(ct,{children:[y.phoneNumber,y.serverName&&r.jsx(ze,{variant:"outline",className:"ml-2",children:y.serverName})]})]}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Messages"}),r.jsx("p",{className:"font-medium",children:y.messagesCount||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Commands"}),r.jsx("p",{className:"font-medium",children:y.commandsCount||0})]})]}),y.features&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"Features"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.features.autoLike&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"Auto Like"}),y.features.autoReact&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"Auto React"}),y.features.autoView&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"Auto View"}),y.features.chatGPT&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"ChatGPT"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[y.status==="offline"?r.jsxs(Q,{size:"sm",onClick:()=>b("start",y),disabled:g.isPending,className:"flex-1","data-testid":`button-start-${y.id}`,children:[r.jsx(xa,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>b("stop",y),disabled:g.isPending,className:"flex-1","data-testid":`button-stop-${y.id}`,children:[r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>b("restart",y),disabled:g.isPending,"data-testid":`button-restart-${y.id}`,children:r.jsx(ns,{className:"h-3 w-3"})})]}),y.needsCredentials&&r.jsxs(mi,{children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsx(hi,{className:"text-xs",children:"Bot needs credential update. Visit the Credential Manager to update."})]})]})]},y.id))})}),r.jsx(yt,{value:"pending",className:"space-y-4",children:P.length===0?r.jsx(me,{children:r.jsxs(he,{className:"pt-6 text-center",children:[r.jsx(vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No pending bots"})]})}):r.jsx("div",{className:"space-y-4",children:P.map(y=>r.jsx(me,{className:"border-yellow-200",children:r.jsxs(he,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:y.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.phoneNumber}),y.serverName&&r.jsx(ze,{variant:"outline",className:"mt-1",children:y.serverName})]}),j(y.status,y.approvalStatus)]}),r.jsxs(mi,{className:"mt-4",children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsx(hi,{children:"Your bot is waiting for admin approval. You'll be notified once it's approved."})]})]})},y.id))})}),r.jsx(yt,{value:"inactive",className:"space-y-4",children:w.length===0?r.jsx(me,{children:r.jsxs(he,{className:"pt-6 text-center",children:[r.jsx(rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):r.jsx("div",{className:"space-y-4",children:w.map(y=>r.jsx(me,{className:"border-gray-200",children:r.jsxs(he,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-muted-foreground",children:y.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.phoneNumber}),y.serverName&&r.jsx(ze,{variant:"outline",className:"mt-1",children:y.serverName})]}),j(y.status,y.approvalStatus)]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>b("reactivate",y),disabled:g.isPending,"data-testid":`button-reactivate-${y.id}`,children:"Reactivate"}),r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>b("delete",y),disabled:g.isPending,className:"text-red-600 hover:bg-red-50","data-testid":`button-delete-${y.id}`,children:[r.jsx(Bm,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},y.id))})})]}),o&&!f&&u.length===0&&!h&&r.jsx(me,{children:r.jsxs(he,{className:"pt-6 text-center space-y-4",children:[r.jsx(rs,{className:"h-16 w-16 text-muted-foreground mx-auto"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Bots Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No bots found for phone number ",s,"."]})]}),r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/verification",children:"Register a New Bot"})})]})})]})})}function fD(){const{toast:e}=or(),t=Dr(),[s,a]=p.useState(""),[o,c]=p.useState(!1),{data:u,isLoading:f}=xt({queryKey:["/api/guest/cross-server-bots",s],queryFn:async()=>{if(!s.trim())return{bots:[],servers:[]};const w=s.replace(/[\s\-\(\)\+]/g,""),y=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:w})});if(!y.ok){const k=await y.json();throw new Error(k.message||"Failed to fetch cross-server data")}return y.json()},enabled:o&&!!s.trim()}),h=Ze({mutationFn:async({action:w,botId:y,serverName:k,data:C})=>{const A=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:w,botId:y,serverName:k,...C})});if(!A.ok){const M=await A.json();throw new Error(M.message||`Failed to ${w} bot on ${k}`)}return A.json()},onSuccess:(w,y)=>{e({title:"Cross-Server Action Successful",description:`${y.action} completed on ${y.serverName}`}),t.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:w=>{e({title:"Cross-Server Action Failed",description:w.message,variant:"destructive"})}}),g=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},x=(w,y,k)=>{h.mutate({action:w,botId:y.id,serverName:y.serverName,data:k})},b=(w,y)=>{if(y==="pending")return r.jsx(ze,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(w){case"online":return r.jsx(ze,{className:"bg-green-500",children:"Online"});case"offline":return r.jsx(ze,{variant:"outline",children:"Offline"});case"error":return r.jsx(ze,{variant:"destructive",children:"Error"});default:return r.jsx(ze,{variant:"outline",children:w})}},j=u?.bots||[],S=u?.servers||[],P=j.reduce((w,y)=>(w[y.serverName]||(w[y.serverName]=[]),w[y.serverName].push(y),w),{});return r.jsx("div",{className:"min-h-screen w-full p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(Sf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),r.jsx(ct,{children:"Enter your phone number to discover and manage bots across all servers"})]}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ut,{type:"tel",placeholder:"+1234567890",value:s,onChange:w=>a(w.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),r.jsx(Q,{onClick:g,disabled:f,"data-testid":"button-search-cross-server",children:f?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!f&&S.length>0&&r.jsxs(me,{children:[r.jsxs(We,{children:[r.jsxs(Qe,{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),"Server Overview"]}),r.jsxs(ct,{children:["Your bots are distributed across ",S.length," server",S.length>1?"s":""]})]}),r.jsx(he,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(w=>r.jsx(me,{className:"border-blue-200",children:r.jsxs(he,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.serverName}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.botCount," bot",w.botCount>1?"s":""]})]}),w.serverUrl&&r.jsx(Q,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:w.serverUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsx(i0,{className:"h-3 w-3"})})})]}),r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-600",children:w.onlineBots})," online"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:w.pendingBots})," pending"]})]})]})},w.serverName))})})]}),o&&!f&&j.length>0&&r.jsxs(_i,{defaultValue:"all",className:"w-full",children:[r.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[r.jsxs(St,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",j.length,")"]}),r.jsxs(St,{value:"online","data-testid":"tab-online-servers",children:["Online (",j.filter(w=>w.status==="online").length,")"]}),r.jsxs(St,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",j.filter(w=>w.status==="offline").length,")"]}),r.jsxs(St,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",j.filter(w=>w.approvalStatus==="pending").length,")"]})]}),r.jsx(yt,{value:"all",className:"space-y-6",children:Object.entries(P).map(([w,y])=>r.jsxs(me,{children:[r.jsx(We,{children:r.jsxs(Qe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),w]}),r.jsxs(ze,{variant:"outline",children:[y.length," bot",y.length>1?"s":""]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(k=>r.jsx(me,{className:"border-gray-200",children:r.jsxs(he,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:k.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:k.phoneNumber})]}),b(k.status,k.approvalStatus)]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Messages"}),r.jsx("p",{className:"font-medium",children:k.messagesCount||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:"Commands"}),r.jsx("p",{className:"font-medium",children:k.commandsCount||0})]})]}),k.features&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.features.autoLike&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"Like"}),k.features.autoReact&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"React"}),k.features.autoView&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"View"}),k.features.chatGPT&&r.jsx(ze,{variant:"outline",className:"text-xs",children:"AI"})]})]}),k.canManage&&k.approvalStatus==="approved"&&r.jsxs("div",{className:"flex gap-1",children:[k.status==="offline"?r.jsxs(Q,{size:"sm",onClick:()=>x("start",k),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-start-${k.id}`,children:[r.jsx(xa,{className:"h-3 w-3 mr-1"}),"Start"]}):r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",k),disabled:h.isPending,className:"flex-1","data-testid":`button-cross-stop-${k.id}`,children:[r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",k),disabled:h.isPending,"data-testid":`button-cross-restart-${k.id}`,children:r.jsx(ns,{className:"h-3 w-3"})}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("configure",k),disabled:h.isPending,"data-testid":`button-cross-config-${k.id}`,children:r.jsx(Kk,{className:"h-3 w-3"})})]}),!k.canManage&&r.jsxs(mi,{children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsx(hi,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},k.id))})})]},w))}),r.jsx(yt,{value:"online",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.filter(w=>w.status==="online").map(w=>r.jsx(me,{className:"border-green-200",children:r.jsxs(he,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),b(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber," • ",w.serverName]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",w),disabled:h.isPending,className:"flex-1",children:[r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Stop"]}),r.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",w),disabled:h.isPending,children:r.jsx(ns,{className:"h-3 w-3"})})]})]})},w.id))})}),r.jsx(yt,{value:"offline",className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.filter(w=>w.status==="offline").map(w=>r.jsx(me,{className:"border-gray-200",children:r.jsxs(he,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.name}),b(w.status)]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[w.phoneNumber," • ",w.serverName]}),r.jsxs(Q,{size:"sm",onClick:()=>x("start",w),disabled:h.isPending,className:"w-full",children:[r.jsx(xa,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},w.id))})}),r.jsx(yt,{value:"pending",className:"space-y-4",children:r.jsx("div",{className:"space-y-4",children:j.filter(w=>w.approvalStatus==="pending").map(w=>r.jsx(me,{className:"border-yellow-200",children:r.jsxs(he,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:w.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.phoneNumber," • ",w.serverName]})]}),b(w.status,w.approvalStatus)]}),r.jsxs(mi,{children:[r.jsx(vn,{className:"h-4 w-4"}),r.jsxs(hi,{children:["This bot is awaiting approval from the admin on ",w.serverName,"."]})]})]})},w.id))})})]}),o&&!f&&j.length===0&&r.jsx(me,{children:r.jsxs(he,{className:"pt-6 text-center space-y-4",children:[r.jsx(Sf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),r.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",s,"."]})]}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),r.jsx(Q,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),r.jsx(me,{className:"border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Sf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function mD({isOpen:e,onClose:t,onLogin:s}){const[a,o]=p.useState(""),[c,u]=p.useState(""),[f,h]=p.useState(!1),{toast:g}=or(),x=async b=>{b.preventDefault(),h(!0);try{const j=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:c})});if(j.ok){const S=await j.json();localStorage.setItem("auth_token",S.token),localStorage.setItem("user",JSON.stringify(S.user)),s(S.token,S.user),t(),g({title:"Login successful",description:S.message}),S.user?.isAdmin&&window.location.reload()}else{const S=await j.json();g({title:"Login failed",description:S.message,variant:"destructive"})}}catch{g({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{h(!1)}};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"sm:max-w-[425px]",children:[r.jsx(Vt,{children:r.jsx(zt,{children:"🔐 Admin Login"})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"username",children:"Username"}),r.jsx(Ut,{id:"username",type:"text",value:a,onChange:b=>o(b.target.value),placeholder:"Enter admin username",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"password",children:"Password"}),r.jsx(Ut,{id:"password",type:"password",value:c,onChange:b=>u(b.target.value),placeholder:"Enter admin password",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function hD({isOpen:e,onClose:t}){const[s,a]=p.useState(null),[o,c]=p.useState(""),[u,f]=p.useState("file"),[h,g]=p.useState(!1),{toast:x}=or(),b=S=>{const P=S.target.files?.[0];P&&(P.name.endsWith(".json")?a(P):x({title:"Invalid file type",description:"Please select a .json file",variant:"destructive"}))},j=async S=>{if(S.preventDefault(),u==="file"&&!s){x({title:"No file selected",description:"Please select a credentials.json file",variant:"destructive"});return}if(u==="base64"&&!o.trim()){x({title:"No session ID provided",description:"Please paste your base64 session ID",variant:"destructive"});return}g(!0);try{let P;if(u==="file"){const y=new FormData;y.append("credentials",s),P=await fetch("/api/validate-credentials",{method:"POST",body:y})}else P=await fetch("/api/validate-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:o.trim()})});const w=await P.json();P.ok&&w.valid?x({title:"✅ Credentials Valid!",description:w.message}):x({title:"❌ Invalid Credentials",description:w.message,variant:"destructive"})}catch{x({title:"Validation error",description:"Failed to validate credentials",variant:"destructive"})}finally{g(!1),a(null),c(""),t()}};return r.jsx(Zt,{open:e,onOpenChange:t,children:r.jsxs($t,{className:"sm:max-w-[500px]",children:[r.jsx(Vt,{children:r.jsx(zt,{children:"🔍 Validate Session ID"})}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs(_i,{value:u,onValueChange:f,className:"w-full",children:[r.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[r.jsx(St,{value:"file",children:"Upload File"}),r.jsx(St,{value:"base64",children:"Paste Session ID"})]}),r.jsxs(yt,{value:"file",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"credentials",children:"Upload credentials.json"}),r.jsx(Ut,{id:"credentials",type:"file",accept:".json",onChange:b}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your WhatsApp session credentials.json file to test if it's valid"})]}),s&&r.jsxs("div",{className:"text-sm text-green-600",children:["✓ Selected: ",s.name]})]}),r.jsxs(yt,{value:"base64",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"sessionData",children:"Paste Base64 Session ID"}),r.jsx(ls,{id:"sessionData",placeholder:"Paste your base64 encoded session data here...",value:o,onChange:S=>c(S.target.value),className:"min-h-[120px] font-mono text-xs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your base64 encoded credentials.json data (session ID)"})]}),o.trim()&&r.jsxs("div",{className:"text-sm text-green-600",children:["✓ Session data pasted (",o.length," characters)"]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:h||u==="file"&&!s||u==="base64"&&!o.trim(),className:"flex-1",children:h?"Validating...":"Validate"})]})]})]})})}var pD="Separator",iy="horizontal",gD=["horizontal","vertical"],TN=p.forwardRef((e,t)=>{const{decorative:s,orientation:a=iy,...o}=e,c=xD(a)?a:iy,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return r.jsx(Fe.div,{"data-orientation":c,...f,...o,ref:t})});TN.displayName=pD;function xD(e){return gD.includes(e)}var RN=TN;const AN=p.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},o)=>r.jsx(RN,{ref:o,decorative:s,orientation:t,className:ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));AN.displayName=RN.displayName;function vD(e){switch(e){case"wait_approval":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"update_credentials":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"authenticate":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"authenticated":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}}function yD(e){switch(e){case"wait_approval":return r.jsx(vn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"});case"update_credentials":return r.jsx(Dn,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"});case"authenticate":return r.jsx(rs,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"});case"authenticated":return r.jsx(xa,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"});default:return r.jsx(rs,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 mt-0.5 flex-shrink-0"})}}function bD(e){switch(e){case"wait_approval":return"Pending Approval";case"update_credentials":return"Credentials Required";case"authenticate":return"Ready to Authenticate";case"authenticated":return"Bot Ready";default:return"Status Unknown"}}function wD(){const{toast:e}=or(),t=Dr(),[s,a]=p.useState(""),[o,c]=p.useState(!1),[u,f]=p.useState(null),[h,g]=p.useState(!1),[x,b]=p.useState(null),[j,S]=p.useState(""),[P,w]=p.useState(!1),{data:y,isLoading:k,error:C}=xt({queryKey:["/api/guest/search-bot",s],queryFn:async()=>{if(!s.trim())return null;const L=s.replace(/[\s\-\(\)\+]/g,""),se=await fetch("/api/guest/search-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:L})});if(!se.ok){const z=await se.json();throw new Error(z.message||"Bot not found")}return await se.json()},enabled:o&&!!s.trim()}),A=Ze({mutationFn:async({phoneNumber:L,sessionId:se})=>{const z=L.replace(/[\s\-\(\)\+]/g,""),ee=await fetch("/api/guest/validate-existing-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:z,sessionId:se.trim()})});if(!ee.ok){const B=await ee.json();throw new Error(B.message||"Failed to validate session ID")}return ee.json()},onSuccess:L=>{const se=s.replace(/[\s\-\(\)\+]/g,"");f(L.guestToken),g(!0),b(se),S(""),e({title:"Session validated successfully",description:L.message||"You can now manage your bot"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:L=>{e({title:"Session validation failed",description:L.message,variant:"destructive"})}}),M=Ze({mutationFn:async({botId:L,phoneNumber:se})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:L,phoneNumber:se})});if(!z.ok){const ee=await z.json();throw new Error(ee.message||"Failed to start bot")}return z.json()},onSuccess:()=>{e({title:"Bot started successfully"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:L=>{e({title:"Failed to start bot",description:L.message,variant:"destructive"})}}),$=Ze({mutationFn:async({botId:L,phoneNumber:se})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:L,phoneNumber:se})});if(!z.ok){const ee=await z.json();throw new Error(ee.message||"Failed to stop bot")}return z.json()},onSuccess:()=>{e({title:"Bot stopped successfully"}),t.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:L=>{e({title:"Failed to stop bot",description:L.message,variant:"destructive"})}}),G=Ze({mutationFn:async({botId:L,phoneNumber:se})=>{if(!u)throw new Error("Authentication required");const z=await fetch("/api/guest/bot/delete",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:L,phoneNumber:se})});if(!z.ok){const ee=await z.json();throw new Error(ee.message||"Failed to delete bot")}return z.json()},onSuccess:()=>{e({title:"Bot deleted successfully"}),c(!1),a(""),f(null),g(!1),b(null)},onError:L=>{e({title:"Failed to delete bot",description:L.message,variant:"destructive"})}}),W=p.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number to search for your bot",variant:"destructive"});return}c(!0)},[s,e]),J=p.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number first",variant:"destructive"});return}if(!j.trim()){e({title:"Session ID required",description:"Please enter your session ID (base64 encoded credentials)",variant:"destructive"});return}A.mutate({phoneNumber:s,sessionId:j})},[s,j,A,e]),ye=p.useCallback(()=>{f(null),g(!1),b(null),S("")},[]),ge=L=>{const se=L.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return h&&x===se&&!L.crossServer&&L.isApproved},xe=L=>{if(!L)return!1;const se=L.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return!h||x!==se},Y=(L,se)=>se==="approved"?L==="online"?r.jsx(ze,{variant:"default",className:"bg-green-600",children:"Online"}):r.jsx(ze,{variant:"secondary",children:"Offline"}):r.jsx(ze,{variant:"outline",children:"Pending Approval"}),ne=L=>L?new Date(L).toLocaleString():"Never";return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(me,{className:"border-dashed",children:[r.jsxs(We,{className:"pb-3",children:[r.jsxs(Qe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(la,{className:"h-4 w-4"}),"Find My Bot"]}),r.jsx(ct,{className:"text-xs",children:"Enter your phone number to manage your bot"})]}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(rm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ut,{placeholder:"Enter phone number",value:s,onChange:L=>a(L.target.value),onKeyDown:L=>L.key==="Enter"&&W(),className:"pl-9 text-sm","data-testid":"input-phone-search"})]}),r.jsx(Q,{size:"sm",onClick:W,disabled:k||!s.trim(),"data-testid":"button-search-bot",children:k?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):r.jsx(la,{className:"h-4 w-4"})})]}),y&&xe(y)&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[r.jsx(Dn,{className:"h-4 w-4"}),"Session ID Verification Required"]}),r.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:['To manage "',y.name,'" (',y.phoneNumber,"), please enter your session ID (base64 encoded credentials)."]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Session ID (Base64 Credentials)"}),r.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:j,onChange:L=>S(L.target.value),className:"w-full h-24 text-xs p-2 border border-blue-300 dark:border-blue-600 rounded resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","data-testid":"input-session-id"})]}),r.jsx(Q,{onClick:J,disabled:A.isPending||!j.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-validate-session",children:A.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ns,{className:"h-3 w-3 mr-2 animate-spin"})," Validating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-3 w-3 mr-2"})," Validate Session ID"]})}),r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 text-center bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:"💡 Enter your base64 encoded credentials (creds.json converted to base64) to verify bot ownership."})]})]}),y&&!xe(y)&&r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 dark:text-green-300",children:[r.jsx(Dn,{className:"h-3 w-3"}),"Authenticated for ",y.phoneNumber," - You can now manage this bot",r.jsxs("div",{className:"ml-auto flex gap-1",children:[r.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{ye(),c(!1),a("")},className:"text-xs h-6 px-2",title:"Search for another bot (requires re-authentication)",children:"Search Another"}),r.jsx(Q,{variant:"ghost",size:"sm",onClick:ye,className:"text-xs h-6 px-2",children:"Logout"})]})]})}),C&&r.jsx("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded border","data-testid":"error-search",children:C.message})]})]}),y&&r.jsxs(me,{children:[r.jsxs(We,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Qe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(rs,{className:"h-4 w-4"}),y.name]}),Y(y.status,y.approvalStatus)]}),r.jsxs(ct,{className:"text-xs",children:[y.phoneNumber," • ",y.serverName?`Server: ${y.serverName}`:"No server assigned"]})]}),r.jsxs(he,{className:"space-y-3","data-testid":`bot-card-${y.phoneNumber}`,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[r.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[r.jsx("div",{className:"font-medium",children:"Messages"}),r.jsx("div",{className:"text-muted-foreground","data-testid":`bot-messages-${y.phoneNumber}`,children:y.messagesCount||0})]}),r.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[r.jsx("div",{className:"font-medium",children:"Commands"}),r.jsx("div",{className:"text-muted-foreground","data-testid":`bot-commands-${y.phoneNumber}`,children:y.commandsCount||0})]})]}),y.lastActivity&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last activity: ",ne(y.lastActivity)]}),r.jsx(AN,{}),y.crossServer&&r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(vn,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Cross-Server Bot Detected"}),r.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:y.message||`Your bot is registered on ${y.serverName}. To manage it, please visit that server.`}),r.jsxs(Q,{size:"sm",variant:"outline",className:"text-xs h-7",onClick:()=>{new URL(window.location.href),e({title:"Server Switch Required",description:`Your bot is on ${y.serverName}. Please contact the administrator for access to that server, or visit the correct server URL directly.`,variant:"default"})},"data-testid":`button-switch-server-${y.phoneNumber}`,children:[r.jsx(i0,{className:"h-3 w-3 mr-1"}),"Contact Admin for ",y.serverName]})]})]})}),!y.crossServer&&r.jsxs("div",{className:"space-y-3",children:[y.nextStep&&r.jsx("div",{className:`p-3 rounded border ${vD(y.nextStep)}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[yD(y.nextStep),r.jsxs("div",{className:"space-y-1 flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:bD(y.nextStep)}),r.jsx("p",{className:"text-xs",children:y.message}),y.invalidReason&&r.jsxs("p",{className:"text-xs opacity-75",children:["Reason: ",y.invalidReason]})]})]})}),r.jsx("div",{className:"flex gap-2",children:xe(y)&&y.nextStep!=="wait_approval"?r.jsx("div",{className:"w-full bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700 text-center",children:r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:h?`Please authenticate for this bot (${y.phoneNumber}) to manage actions`:"Authentication required to manage bot actions"})}):y.nextStep==="wait_approval"?r.jsx("div",{className:"w-full bg-amber-50 dark:bg-amber-900/20 p-3 rounded border border-amber-200 dark:border-amber-800 text-center",children:r.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Waiting for admin approval - check back later"})}):y.nextStep==="update_credentials"?r.jsxs("div",{className:"w-full space-y-2",children:[r.jsxs(Q,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>w(!0),"data-testid":`button-upload-credentials-${y.phoneNumber}`,disabled:!h,children:[r.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Upload New Credentials"]}),r.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Upload your creds.json file to reactivate your bot"})]}):y.nextStep==="authenticated"&&!xe(y)?r.jsxs(r.Fragment,{children:[y.status==="online"?r.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>$.mutate({botId:y.id,phoneNumber:y.phoneNumber}),disabled:$.isPending||!ge(y),className:"flex-1 text-xs","data-testid":`button-stop-${y.phoneNumber}`,children:[$.isPending?r.jsx(ns,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Stop"]}):r.jsxs(Q,{size:"sm",onClick:()=>M.mutate({botId:y.id,phoneNumber:y.phoneNumber}),disabled:M.isPending||!ge(y),className:"flex-1 text-xs","data-testid":`button-start-${y.phoneNumber}`,children:[M.isPending?r.jsx(ns,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(xa,{className:"h-3 w-3 mr-1"}),"Start"]}),r.jsxs(Zj,{children:[r.jsx(Yj,{asChild:!0,children:r.jsx(Q,{size:"sm",variant:"destructive",className:"text-xs","data-testid":`button-delete-${y.phoneNumber}`,children:r.jsx(Bm,{className:"h-3 w-3"})})}),r.jsxs(Ph,{children:[r.jsxs(_h,{children:[r.jsx(Rh,{children:"Delete Bot"}),r.jsxs(Ah,{children:['Are you sure you want to delete "',y.name,'"? This action cannot be undone.']})]}),r.jsxs(Th,{children:[r.jsx(Oh,{children:"Cancel"}),r.jsx(Ih,{onClick:()=>G.mutate({botId:y.id,phoneNumber:y.phoneNumber}),"data-testid":`confirm-delete-${y.phoneNumber}`,children:"Delete"})]})]})]})]}):r.jsx("div",{className:"w-full text-xs text-muted-foreground bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 text-center",children:"⏳ Your bot is pending admin approval. Contact support for activation."})})]})]})]}),y&&r.jsx(_j,{open:P,onClose:()=>w(!1),botId:y.id,phoneNumber:y.phoneNumber,guestToken:u,onSuccess:()=>{t.invalidateQueries({queryKey:["/api/guest/search-bot",s]}),w(!1)}})]})}const jD=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/guest/verification",label:"Phone Verification",icon:"fas fa-phone"},{href:"/guest/bot-management",label:"Bot Management",icon:"fas fa-robot"},{href:"/guest/credentials",label:"Credential Manager",icon:"fas fa-key"},{href:"/guest/cross-server",label:"Cross-Server Bots",icon:"fas fa-network-wired"}],ND=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/bot-instances",label:"Bot Instances",icon:"fas fa-robot"},{href:"/commands",label:"Commands",icon:"fas fa-terminal"},{href:"/chatgpt",label:"ChatGPT Integration",icon:"fas fa-brain"},{href:"/groups",label:"Group Management",icon:"fas fa-users"},{href:"/analytics",label:"Analytics",icon:"fas fa-chart-line"},{href:"/settings",label:"Settings",icon:"fas fa-cog"}],SD=[{href:"/admin",label:"Admin Console",icon:"fas fa-shield-alt"}];function CD(){const[e]=r1(),{user:t,isAuthenticated:s,isAdmin:a,logout:o}=md(),[c,u]=p.useState(!1),[f,h]=p.useState(!1),[g,x]=p.useState(!1);return r.jsxs("aside",{className:"w-64 bg-card border-r border-border flex flex-col","data-testid":"sidebar",children:[r.jsx("div",{className:"p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:r.jsx("i",{className:"fab fa-whatsapp text-primary-foreground text-xl"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Bot Manager"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Automation"})]})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(a?ND:jD).map(b=>r.jsx(Wf,{href:b.href,children:r.jsxs("div",{className:ke("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===b.href?"bg-primary/10 text-primary border border-primary/20":"hover:bg-muted text-muted-foreground hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(" ","-")}`,children:[r.jsx("i",{className:`${b.icon} w-5`}),r.jsx("span",{children:b.label})]})},b.href)),!a&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"My Bots"}),r.jsx(wD,{})]})]}),!a&&!s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsxs(Q,{onClick:()=>window.open("https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/","_blank"),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-generate-session",children:[r.jsx("i",{className:"fas fa-key mr-2"}),"Generate Session ID"]}),r.jsxs(Q,{onClick:()=>h(!0),variant:"outline",className:"w-full mx-3 mb-3","data-testid":"button-validate-session",children:[r.jsx("i",{className:"fas fa-check-circle mr-2"}),"Validate Session ID"]}),r.jsxs(Q,{onClick:()=>x(!0),className:"w-full mx-3 bg-green-600 hover:bg-green-700 text-white","data-testid":"sidebar-register-bot",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]}),a&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-border my-4"}),r.jsx("div",{className:"px-3 py-2",children:r.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),SD.map(b=>r.jsx(Wf,{href:b.href,children:r.jsxs("div",{className:ke("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors cursor-pointer",e===b.href?"bg-red-500/10 text-red-600 border border-red-500/20":"hover:bg-red-500/5 text-muted-foreground hover:text-red-600"),"data-testid":`nav-${b.label.toLowerCase().replace(" ","-")}`,children:[r.jsx("i",{className:`${b.icon} w-5`}),r.jsx("span",{children:b.label})]})},b.href))]})]}),r.jsx("div",{className:"p-4 border-t border-border",children:s?r.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:r.jsx("i",{className:"fas fa-user text-primary-foreground text-sm"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:t?.username||"User"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Administrator":"User"})]}),r.jsx("button",{onClick:o,className:"text-muted-foreground hover:text-foreground","data-testid":"button-logout",title:"Logout",children:r.jsx("i",{className:"fas fa-sign-out-alt"})})]}):r.jsxs(Q,{onClick:()=>u(!0),className:"w-full",children:[r.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Admin Login"]})}),r.jsx(mD,{isOpen:c,onClose:()=>u(!1),onLogin:(b,j)=>{u(!1)}}),r.jsx(hD,{isOpen:f,onClose:()=>h(!1)}),r.jsx(Tj,{open:g,onClose:()=>x(!1)})]})}function kD(){return r.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[r.jsx(CD,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:r.jsxs(i1,{children:[r.jsx(Rs,{path:"/",component:qO}),r.jsx(Rs,{path:"/bot-instances",component:KO}),r.jsx(Rs,{path:"/commands",component:HO}),r.jsx(Rs,{path:"/admin",component:lD}),r.jsx(Rs,{path:"/guest/verification",component:dD}),r.jsx(Rs,{path:"/guest/bot-management",component:uD}),r.jsx(Rs,{path:"/guest/cross-server",component:fD}),r.jsx(Rs,{component:cD})]})})]})}function ED(){return r.jsx(_1,{client:gr,children:r.jsx(_T,{children:r.jsx(g_,{children:r.jsxs("div",{className:"dark",children:[r.jsx(AE,{}),r.jsx(kD,{})]})})})})}DC.createRoot(document.getElementById("root")).render(r.jsx(ED,{}));
