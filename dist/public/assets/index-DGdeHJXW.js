function m_(e,s){for(var r=0;r<s.length;r++){const l=s[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in e)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(e,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function mj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function h_(){if(vb)return bo;vb=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(l,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:l,key:f,ref:c!==void 0?c:null,props:u}}return bo.Fragment=s,bo.jsx=r,bo.jsxs=r,bo}var yb;function p_(){return yb||(yb=1,ah.exports=h_()),ah.exports}var n=p_(),rh={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function g_(){if(bb)return it;bb=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function b(P,se,V){this.props=P,this.context=se,this.refs=j,this.updater=V||C}b.prototype.isReactComponent={},b.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(P,se,V){this.props=P,this.context=se,this.refs=j,this.updater=V||C}var B=E.prototype=new _;B.constructor=E,T(B,b.prototype),B.isPureReactComponent=!0;var D=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function $(P,se,V,J,ce,me){return V=me.ref,{$$typeof:e,type:P,key:se,ref:V!==void 0?V:null,props:me}}function Y(P,se){return $(P.type,se,void 0,void 0,void 0,P.props)}function W(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function ae(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(V){return se[V]})}var de=/\/+/g;function re(P,se){return typeof P=="object"&&P!==null&&P.key!=null?ae(""+P.key):se.toString(36)}function oe(){}function U(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(oe,oe):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ie(P,se,V,J,ce){var me=typeof P;(me==="undefined"||me==="boolean")&&(P=null);var ye=!1;if(P===null)ye=!0;else switch(me){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(P.$$typeof){case e:case s:ye=!0;break;case x:return ye=P._init,ie(ye(P._payload),se,V,J,ce)}}if(ye)return ce=ce(P),ye=J===""?"."+re(P,0):J,D(ce)?(V="",ye!=null&&(V=ye.replace(de,"$&/")+"/"),ie(ce,se,V,"",function(Ne){return Ne})):ce!=null&&(W(ce)&&(ce=Y(ce,V+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(de,"$&/")+"/")+ye)),se.push(ce)),1;ye=0;var M=J===""?".":J+":";if(D(P))for(var X=0;X<P.length;X++)J=P[X],me=M+re(J,X),ye+=ie(J,se,V,me,ce);else if(X=w(P),typeof X=="function")for(P=X.call(P),X=0;!(J=P.next()).done;)J=J.value,me=M+re(J,X++),ye+=ie(J,se,V,me,ce);else if(me==="object"){if(typeof P.then=="function")return ie(U(P),se,V,J,ce);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ye}function R(P,se,V){if(P==null)return P;var J=[],ce=0;return ie(P,J,"","",function(me){return se.call(V,me,ce++)}),J}function S(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(V){(P._status===0||P._status===-1)&&(P._status=1,P._result=V)},function(V){(P._status===0||P._status===-1)&&(P._status=2,P._result=V)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var O=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function le(){}return it.Children={map:R,forEach:function(P,se,V){R(P,function(){se.apply(this,arguments)},V)},count:function(P){var se=0;return R(P,function(){se++}),se},toArray:function(P){return R(P,function(se){return se})||[]},only:function(P){if(!W(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},it.Component=b,it.Fragment=r,it.Profiler=c,it.PureComponent=E,it.StrictMode=l,it.Suspense=g,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,it.__COMPILER_RUNTIME={__proto__:null,c:function(P){return z.H.useMemoCache(P)}},it.cache=function(P){return function(){return P.apply(null,arguments)}},it.cloneElement=function(P,se,V){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var J=T({},P.props),ce=P.key,me=void 0;if(se!=null)for(ye in se.ref!==void 0&&(me=void 0),se.key!==void 0&&(ce=""+se.key),se)!Z.call(se,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&se.ref===void 0||(J[ye]=se[ye]);var ye=arguments.length-2;if(ye===1)J.children=V;else if(1<ye){for(var M=Array(ye),X=0;X<ye;X++)M[X]=arguments[X+2];J.children=M}return $(P.type,ce,void 0,void 0,me,J)},it.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},it.createElement=function(P,se,V){var J,ce={},me=null;if(se!=null)for(J in se.key!==void 0&&(me=""+se.key),se)Z.call(se,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=se[J]);var ye=arguments.length-2;if(ye===1)ce.children=V;else if(1<ye){for(var M=Array(ye),X=0;X<ye;X++)M[X]=arguments[X+2];ce.children=M}if(P&&P.defaultProps)for(J in ye=P.defaultProps,ye)ce[J]===void 0&&(ce[J]=ye[J]);return $(P,me,void 0,void 0,null,ce)},it.createRef=function(){return{current:null}},it.forwardRef=function(P){return{$$typeof:m,render:P}},it.isValidElement=W,it.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:S}},it.memo=function(P,se){return{$$typeof:p,type:P,compare:se===void 0?null:se}},it.startTransition=function(P){var se=z.T,V={};z.T=V;try{var J=P(),ce=z.S;ce!==null&&ce(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(le,O)}catch(me){O(me)}finally{z.T=se}},it.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},it.use=function(P){return z.H.use(P)},it.useActionState=function(P,se,V){return z.H.useActionState(P,se,V)},it.useCallback=function(P,se){return z.H.useCallback(P,se)},it.useContext=function(P){return z.H.useContext(P)},it.useDebugValue=function(){},it.useDeferredValue=function(P,se){return z.H.useDeferredValue(P,se)},it.useEffect=function(P,se,V){var J=z.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(P,se)},it.useId=function(){return z.H.useId()},it.useImperativeHandle=function(P,se,V){return z.H.useImperativeHandle(P,se,V)},it.useInsertionEffect=function(P,se){return z.H.useInsertionEffect(P,se)},it.useLayoutEffect=function(P,se){return z.H.useLayoutEffect(P,se)},it.useMemo=function(P,se){return z.H.useMemo(P,se)},it.useOptimistic=function(P,se){return z.H.useOptimistic(P,se)},it.useReducer=function(P,se,V){return z.H.useReducer(P,se,V)},it.useRef=function(P){return z.H.useRef(P)},it.useState=function(P){return z.H.useState(P)},it.useSyncExternalStore=function(P,se,V){return z.H.useSyncExternalStore(P,se,V)},it.useTransition=function(){return z.H.useTransition()},it.version="19.1.1",it}var jb;function rd(){return jb||(jb=1,rh.exports=g_()),rh.exports}var v=rd();const Wt=mj(v),Np=m_({__proto__:null,default:Wt},[v]);var ih={exports:{}},jo={},lh={exports:{}},oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function x_(){return Nb||(Nb=1,(function(e){function s(R,S){var O=R.length;R.push(S);e:for(;0<O;){var le=O-1>>>1,P=R[le];if(0<c(P,S))R[le]=S,R[O]=P,O=le;else break e}}function r(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var S=R[0],O=R.pop();if(O!==S){R[0]=O;e:for(var le=0,P=R.length,se=P>>>1;le<se;){var V=2*(le+1)-1,J=R[V],ce=V+1,me=R[ce];if(0>c(J,O))ce<P&&0>c(me,J)?(R[le]=me,R[ce]=O,le=ce):(R[le]=J,R[V]=O,le=V);else if(ce<P&&0>c(me,O))R[le]=me,R[ce]=O,le=ce;else break e}}return S}function c(R,S){var O=R.sortIndex-S.sortIndex;return O!==0?O:R.id-S.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var g=[],p=[],x=1,y=null,w=3,C=!1,T=!1,j=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(R){for(var S=r(p);S!==null;){if(S.callback===null)l(p);else if(S.startTime<=R)l(p),S.sortIndex=S.expirationTime,s(g,S);else break;S=r(p)}}function z(R){if(j=!1,D(R),!T)if(r(g)!==null)T=!0,Z||(Z=!0,re());else{var S=r(p);S!==null&&ie(z,S.startTime-R)}}var Z=!1,$=-1,Y=5,W=-1;function ae(){return b?!0:!(e.unstable_now()-W<Y)}function de(){if(b=!1,Z){var R=e.unstable_now();W=R;var S=!0;try{e:{T=!1,j&&(j=!1,E($),$=-1),C=!0;var O=w;try{t:{for(D(R),y=r(g);y!==null&&!(y.expirationTime>R&&ae());){var le=y.callback;if(typeof le=="function"){y.callback=null,w=y.priorityLevel;var P=le(y.expirationTime<=R);if(R=e.unstable_now(),typeof P=="function"){y.callback=P,D(R),S=!0;break t}y===r(g)&&l(g),D(R)}else l(g);y=r(g)}if(y!==null)S=!0;else{var se=r(p);se!==null&&ie(z,se.startTime-R),S=!1}}break e}finally{y=null,w=O,C=!1}S=void 0}}finally{S?re():Z=!1}}}var re;if(typeof B=="function")re=function(){B(de)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,U=oe.port2;oe.port1.onmessage=de,re=function(){U.postMessage(null)}}else re=function(){_(de,0)};function ie(R,S){$=_(function(){R(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(R){switch(w){case 1:case 2:case 3:var S=3;break;default:S=w}var O=w;w=S;try{return R()}finally{w=O}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(R,S){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=w;w=R;try{return S()}finally{w=O}},e.unstable_scheduleCallback=function(R,S,O){var le=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?le+O:le):O=le,R){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=O+P,R={id:x++,callback:S,priorityLevel:R,startTime:O,expirationTime:P,sortIndex:-1},O>le?(R.sortIndex=O,s(p,R),r(g)===null&&R===r(p)&&(j?(E($),$=-1):j=!0,ie(z,O-le))):(R.sortIndex=P,s(g,R),T||C||(T=!0,Z||(Z=!0,re()))),R},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(R){var S=w;return function(){var O=w;w=S;try{return R.apply(this,arguments)}finally{w=O}}}})(oh)),oh}var wb;function v_(){return wb||(wb=1,lh.exports=x_()),lh.exports}var ch={exports:{}},Es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function y_(){if(Sb)return Es;Sb=1;var e=rd();function s(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:p,implementation:x}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Es.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return u(g,p,null,x)},Es.flushSync=function(g){var p=f.T,x=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=x,l.d.f()}},Es.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Es.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Es.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:C}):x==="script"&&l.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Es.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Es.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin);l.d.L(g,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Es.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Es.requestFormReset=function(g){l.d.r(g)},Es.unstable_batchedUpdates=function(g,p){return g(p)},Es.useFormState=function(g,p,x){return f.H.useFormState(g,p,x)},Es.useFormStatus=function(){return f.H.useHostTransitionStatus()},Es.version="19.1.1",Es}var Cb;function hj(){if(Cb)return ch.exports;Cb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),ch.exports=y_(),ch.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function b_(){if(Tb)return jo;Tb=1;var e=v_(),s=rd(),r=hj();function l(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(l(188))}function g(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(l(188));return a!==t?null:t}for(var i=t,o=a;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return m(d),t;if(h===o)return m(d),a;h=h.sibling}throw Error(l(188))}if(i.return!==o.return)i=d,o=h;else{for(var N=!1,A=d.child;A;){if(A===i){N=!0,i=d,o=h;break}if(A===o){N=!0,o=d,i=h;break}A=A.sibling}if(!N){for(A=h.child;A;){if(A===i){N=!0,i=h,o=d;break}if(A===o){N=!0,o=h,i=d;break}A=A.sibling}if(!N)throw Error(l(189))}}if(i.alternate!==o)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Symbol.for("react.client.reference");function U(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===oe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case b:return"Profiler";case j:return"StrictMode";case z:return"Suspense";case Z:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case B:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case D:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return a=t.displayName||null,a!==null?a:U(t.type)||"Memo";case Y:a=t._payload,t=t._init;try{return U(t(a))}catch{}}return null}var ie=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},le=[],P=-1;function se(t){return{current:t}}function V(t){0>P||(t.current=le[P],le[P]=null,P--)}function J(t,a){P++,le[P]=t.current,t.current=a}var ce=se(null),me=se(null),ye=se(null),M=se(null);function X(t,a){switch(J(ye,a),J(me,t),J(ce,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Gy(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Gy(a),t=Qy(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(ce),J(ce,t)}function Ne(){V(ce),V(me),V(ye)}function Ce(t){t.memoizedState!==null&&J(M,t);var a=ce.current,i=Qy(a,t.type);a!==i&&(J(me,t),J(ce,i))}function Be(t){me.current===t&&(V(ce),V(me)),M.current===t&&(V(M),po._currentValue=O)}var Ge=Object.prototype.hasOwnProperty,is=e.unstable_scheduleCallback,nt=e.unstable_cancelCallback,un=e.unstable_shouldYield,Cn=e.unstable_requestPaint,ds=e.unstable_now,oc=e.unstable_getCurrentPriorityLevel,vr=e.unstable_ImmediatePriority,L=e.unstable_UserBlockingPriority,H=e.unstable_NormalPriority,ne=e.unstable_LowPriority,Se=e.unstable_IdlePriority,we=e.log,ve=e.unstable_setDisableYieldValue,ke=null,tt=null;function Ze(t){if(typeof we=="function"&&ve(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ke,t)}catch{}}var bt=Math.clz32?Math.clz32:k,Ea=Math.log,bs=Math.LN2;function k(t){return t>>>=0,t===0?32:31-(Ea(t)/bs|0)|0}var je=256,Xe=4194304;function Je(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nt(t,a,i){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~h,o!==0?d=Je(o):(N&=A,N!==0?d=Je(N):i||(i=A&~t,i!==0&&(d=Je(i))))):(A=o&~h,A!==0?d=Je(A):N!==0?d=Je(N):i||(i=o&~t,i!==0&&(d=Je(i)))),d===0?0:a!==0&&a!==d&&(a&h)===0&&(h=d&-d,i=a&-a,h>=i||h===32&&(i&4194048)!==0)?a:d}function Vn(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function ka(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(){var t=je;return je<<=1,(je&4194048)===0&&(je=256),t}function kg(){var t=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),t}function Gd(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function Sl(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tT(t,a,i,o,d,h){var N=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,K=t.hiddenUpdates;for(i=N&~i;0<i;){var ue=31-bt(i),he=1<<ue;A[ue]=0,I[ue]=-1;var ee=K[ue];if(ee!==null)for(K[ue]=null,ue=0;ue<ee.length;ue++){var te=ee[ue];te!==null&&(te.lane&=-536870913)}i&=~he}o!==0&&Rg(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(N&~a))}function Rg(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-bt(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|i&4194090}function Og(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var o=31-bt(i),d=1<<o;d&a|t[o]&a&&(t[o]|=a),i&=~d}}function Qd(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kd(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mg(){var t=S.p;return t!==0?t:(t=window.event,t===void 0?32:fb(t.type))}function sT(t,a){var i=S.p;try{return S.p=t,a()}finally{S.p=i}}var Ra=Math.random().toString(36).slice(2),_s="__reactFiber$"+Ra,Us="__reactProps$"+Ra,ei="__reactContainer$"+Ra,Yd="__reactEvents$"+Ra,nT="__reactListeners$"+Ra,aT="__reactHandles$"+Ra,Dg="__reactResources$"+Ra,Cl="__reactMarker$"+Ra;function Zd(t){delete t[_s],delete t[Us],delete t[Yd],delete t[nT],delete t[aT]}function ti(t){var a=t[_s];if(a)return a;for(var i=t.parentNode;i;){if(a=i[ei]||i[_s]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=Xy(t);t!==null;){if(i=t[_s])return i;t=Xy(t)}return a}t=i,i=t.parentNode}return null}function si(t){if(t=t[_s]||t[ei]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Tl(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(l(33))}function ni(t){var a=t[Dg];return a||(a=t[Dg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function fs(t){t[Cl]=!0}var Pg=new Set,Bg={};function yr(t,a){ai(t,a),ai(t+"Capture",a)}function ai(t,a){for(Bg[t]=a,t=0;t<a.length;t++)Pg.add(a[t])}var rT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ig={},zg={};function iT(t){return Ge.call(zg,t)?!0:Ge.call(Ig,t)?!1:rT.test(t)?zg[t]=!0:(Ig[t]=!0,!1)}function cc(t,a,i){if(iT(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function uc(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function ra(t,a,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+o)}}var Xd,Lg;function ri(t){if(Xd===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Xd=a&&a[1]||"",Lg=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xd+t+Lg}var Wd=!1;function Jd(t,a){if(!t||Wd)return"";Wd=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(te){var ee=te}Reflect.construct(t,[],he)}else{try{he.call()}catch(te){ee=te}t.call(he.prototype)}}else{try{throw Error()}catch(te){ee=te}(he=t())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),N=h[0],A=h[1];if(N&&A){var I=N.split(`
`),K=A.split(`
`);for(d=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(o===I.length||d===K.length)for(o=I.length-1,d=K.length-1;1<=o&&0<=d&&I[o]!==K[d];)d--;for(;1<=o&&0<=d;o--,d--)if(I[o]!==K[d]){if(o!==1||d!==1)do if(o--,d--,0>d||I[o]!==K[d]){var ue=`
`+I[o].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=o&&0<=d);break}}}finally{Wd=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ri(i):""}function lT(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Jd(t.type,!1);case 11:return Jd(t.type.render,!1);case 1:return Jd(t.type,!0);case 31:return ri("Activity");default:return""}}function Fg(t){try{var a="";do a+=lT(t),t=t.return;while(t);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ug(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function oT(t){var a=Ug(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),o=""+t[a];if(!t.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,h=i.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(N){o=""+N,h.call(this,N)}}),Object.defineProperty(t,a,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function dc(t){t._valueTracker||(t._valueTracker=oT(t))}function Vg(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),o="";return t&&(o=Ug(t)?t.checked?"true":"false":t.value),t=o,t!==i?(a.setValue(t),!0):!1}function fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cT=/[\n"\\]/g;function fn(t){return t.replace(cT,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ef(t,a,i,o,d,h,N,A){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),a!=null?N==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+dn(a)):t.value!==""+dn(a)&&(t.value=""+dn(a)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),a!=null?tf(t,N,dn(a)):i!=null?tf(t,N,dn(i)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+dn(A):t.removeAttribute("name")}function qg(t,a,i,o,d,h,N,A){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),a!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||a!=null))return;i=i!=null?""+dn(i):"",a=a!=null?""+dn(a):i,A||a===t.value||(t.value=a),t.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function tf(t,a,i){a==="number"&&fc(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ii(t,a,i,o){if(t=t.options,a){a={};for(var d=0;d<i.length;d++)a["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=a.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&o&&(t[i].defaultSelected=!0)}else{for(i=""+dn(i),a=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function $g(t,a,i){if(a!=null&&(a=""+dn(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+dn(i):""}function Hg(t,a,i,o){if(a==null){if(o!=null){if(i!=null)throw Error(l(92));if(ie(o)){if(1<o.length)throw Error(l(93));o=o[0]}i=o}i==null&&(i=""),a=i}i=dn(a),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o)}function li(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var uT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gg(t,a,i){var o=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,i):typeof i!="number"||i===0||uT.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Qg(t,a,i){if(a!=null&&typeof a!="object")throw Error(l(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&i[d]!==o&&Gg(t,d,o)}else for(var h in a)a.hasOwnProperty(h)&&Gg(t,h,a[h])}function sf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mc(t){return fT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nf=null;function af(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function Kg(t){var a=si(t);if(a&&(t=a.stateNode)){var i=t[Us]||null;e:switch(t=a.stateNode,a.type){case"input":if(ef(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fn(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==t&&o.form===t.form){var d=o[Us]||null;if(!d)throw Error(l(90));ef(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<i.length;a++)o=i[a],o.form===t.form&&Vg(o)}break e;case"textarea":$g(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&ii(t,!!i.multiple,a,!1)}}}var rf=!1;function Yg(t,a,i){if(rf)return t(a,i);rf=!0;try{var o=t(a);return o}finally{if(rf=!1,(oi!==null||ci!==null)&&(Wc(),oi&&(a=oi,t=ci,ci=oi=null,Kg(a),t)))for(a=0;a<t.length;a++)Kg(t[a])}}function _l(t,a){var i=t.stateNode;if(i===null)return null;var o=i[Us]||null;if(o===null)return null;i=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,a,typeof i));return i}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(ia)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){lf=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{lf=!1}var Oa=null,of=null,hc=null;function Zg(){if(hc)return hc;var t,a=of,i=a.length,o,d="value"in Oa?Oa.value:Oa.textContent,h=d.length;for(t=0;t<i&&a[t]===d[t];t++);var N=i-t;for(o=1;o<=N&&a[i-o]===d[h-o];o++);return hc=d.slice(t,1<o?1-o:void 0)}function pc(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function gc(){return!0}function Xg(){return!1}function Vs(t){function a(i,o,d,h,N){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=N,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(i=t[A],this[A]=i?i(h):h[A]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?gc:Xg,this.isPropagationStopped=Xg,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),a}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=Vs(br),El=x({},br,{view:0,detail:0}),mT=Vs(El),cf,uf,kl,vc=x({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kl&&(kl&&t.type==="mousemove"?(cf=t.screenX-kl.screenX,uf=t.screenY-kl.screenY):uf=cf=0,kl=t),cf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),Wg=Vs(vc),hT=x({},vc,{dataTransfer:0}),pT=Vs(hT),gT=x({},El,{relatedTarget:0}),df=Vs(gT),xT=x({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=Vs(xT),yT=x({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bT=Vs(yT),jT=x({},br,{data:0}),Jg=Vs(jT),NT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CT(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=ST[t])?!!a[t]:!1}function ff(){return CT}var TT=x({},El,{key:function(t){if(t.key){var a=NT[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_T=Vs(TT),AT=x({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ex=Vs(AT),ET=x({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),kT=Vs(ET),RT=x({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=Vs(RT),MT=x({},vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DT=Vs(MT),PT=x({},br,{newState:0,oldState:0}),BT=Vs(PT),IT=[9,13,27,32],mf=ia&&"CompositionEvent"in window,Rl=null;ia&&"documentMode"in document&&(Rl=document.documentMode);var zT=ia&&"TextEvent"in window&&!Rl,tx=ia&&(!mf||Rl&&8<Rl&&11>=Rl),sx=" ",nx=!1;function ax(t,a){switch(t){case"keyup":return IT.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function LT(t,a){switch(t){case"compositionend":return rx(a);case"keypress":return a.which!==32?null:(nx=!0,sx);case"textInput":return t=a.data,t===sx&&nx?null:t;default:return null}}function FT(t,a){if(ui)return t==="compositionend"||!mf&&ax(t,a)?(t=Zg(),hc=of=Oa=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return tx&&a.locale!=="ko"?null:a.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!UT[t.type]:a==="textarea"}function lx(t,a,i,o){oi?ci?ci.push(o):ci=[o]:oi=o,a=au(a,"onChange"),0<a.length&&(i=new xc("onChange","change",null,i,o),t.push({event:i,listeners:a}))}var Ol=null,Ml=null;function VT(t){Uy(t,0)}function yc(t){var a=Tl(t);if(Vg(a))return t}function ox(t,a){if(t==="change")return a}var cx=!1;if(ia){var hf;if(ia){var pf="oninput"in document;if(!pf){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),pf=typeof ux.oninput=="function"}hf=pf}else hf=!1;cx=hf&&(!document.documentMode||9<document.documentMode)}function dx(){Ol&&(Ol.detachEvent("onpropertychange",fx),Ml=Ol=null)}function fx(t){if(t.propertyName==="value"&&yc(Ml)){var a=[];lx(a,Ml,t,af(t)),Yg(VT,a)}}function qT(t,a,i){t==="focusin"?(dx(),Ol=a,Ml=i,Ol.attachEvent("onpropertychange",fx)):t==="focusout"&&dx()}function $T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(Ml)}function HT(t,a){if(t==="click")return yc(a)}function GT(t,a){if(t==="input"||t==="change")return yc(a)}function QT(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Zs=typeof Object.is=="function"?Object.is:QT;function Dl(t,a){if(Zs(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),o=Object.keys(a);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!Ge.call(a,d)||!Zs(t[d],a[d]))return!1}return!0}function mx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hx(t,a){var i=mx(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=a&&o>=a)return{node:i,offset:a-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=mx(i)}}function px(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?px(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function gx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=fc(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=fc(t.document)}return a}function gf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var KT=ia&&"documentMode"in document&&11>=document.documentMode,di=null,xf=null,Pl=null,vf=!1;function xx(t,a,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vf||di==null||di!==fc(o)||(o=di,"selectionStart"in o&&gf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Pl&&Dl(Pl,o)||(Pl=o,o=au(xf,"onSelect"),0<o.length&&(a=new xc("onSelect","select",null,a,i),t.push({event:a,listeners:o}),a.target=di)))}function jr(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var fi={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},yf={},vx={};ia&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Nr(t){if(yf[t])return yf[t];if(!fi[t])return t;var a=fi[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in vx)return yf[t]=a[i];return t}var yx=Nr("animationend"),bx=Nr("animationiteration"),jx=Nr("animationstart"),YT=Nr("transitionrun"),ZT=Nr("transitionstart"),XT=Nr("transitioncancel"),Nx=Nr("transitionend"),wx=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Tn(t,a){wx.set(t,a),yr(a,[t])}var Sx=new WeakMap;function mn(t,a){if(typeof t=="object"&&t!==null){var i=Sx.get(t);return i!==void 0?i:(a={value:t,source:a,stack:Fg(a)},Sx.set(t,a),a)}return{value:t,source:a,stack:Fg(a)}}var hn=[],mi=0,jf=0;function bc(){for(var t=mi,a=jf=mi=0;a<t;){var i=hn[a];hn[a++]=null;var o=hn[a];hn[a++]=null;var d=hn[a];hn[a++]=null;var h=hn[a];if(hn[a++]=null,o!==null&&d!==null){var N=o.pending;N===null?d.next=d:(d.next=N.next,N.next=d),o.pending=d}h!==0&&Cx(i,d,h)}}function jc(t,a,i,o){hn[mi++]=t,hn[mi++]=a,hn[mi++]=i,hn[mi++]=o,jf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Nf(t,a,i,o){return jc(t,a,i,o),Nc(t)}function hi(t,a){return jc(t,null,null,a),Nc(t)}function Cx(t,a,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var d=!1,h=t.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&a!==null&&(d=31-bt(i),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[a]:o.push(a),a.lane=i|536870912),h):null}function Nc(t){if(50<io)throw io=0,Am=null,Error(l(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var pi={};function WT(t,a,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(t,a,i,o){return new WT(t,a,i,o)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function la(t,a){var i=t.alternate;return i===null?(i=Xs(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Tx(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function wc(t,a,i,o,d,h){var N=0;if(o=t,typeof t=="function")wf(t)&&(N=1);else if(typeof t=="string")N=e_(t,i,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Xs(31,i,a,d),t.elementType=W,t.lanes=h,t;case T:return wr(i.children,d,h,a);case j:N=8,d|=24;break;case b:return t=Xs(12,i,a,d|2),t.elementType=b,t.lanes=h,t;case z:return t=Xs(13,i,a,d),t.elementType=z,t.lanes=h,t;case Z:return t=Xs(19,i,a,d),t.elementType=Z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case B:N=10;break e;case E:N=9;break e;case D:N=11;break e;case $:N=14;break e;case Y:N=16,o=null;break e}N=29,i=Error(l(130,t===null?"null":typeof t,"")),o=null}return a=Xs(N,i,a,d),a.elementType=t,a.type=o,a.lanes=h,a}function wr(t,a,i,o){return t=Xs(7,t,o,a),t.lanes=i,t}function Sf(t,a,i){return t=Xs(6,t,null,a),t.lanes=i,t}function Cf(t,a,i){return a=Xs(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var gi=[],xi=0,Sc=null,Cc=0,pn=[],gn=0,Sr=null,oa=1,ca="";function Cr(t,a){gi[xi++]=Cc,gi[xi++]=Sc,Sc=t,Cc=a}function _x(t,a,i){pn[gn++]=oa,pn[gn++]=ca,pn[gn++]=Sr,Sr=t;var o=oa;t=ca;var d=32-bt(o)-1;o&=~(1<<d),i+=1;var h=32-bt(a)+d;if(30<h){var N=d-d%5;h=(o&(1<<N)-1).toString(32),o>>=N,d-=N,oa=1<<32-bt(a)+d|i<<d|o,ca=h+t}else oa=1<<h|i<<d|o,ca=t}function Tf(t){t.return!==null&&(Cr(t,1),_x(t,1,0))}function _f(t){for(;t===Sc;)Sc=gi[--xi],gi[xi]=null,Cc=gi[--xi],gi[xi]=null;for(;t===Sr;)Sr=pn[--gn],pn[gn]=null,ca=pn[--gn],pn[gn]=null,oa=pn[--gn],pn[gn]=null}var Ms=null,Gt=null,jt=!1,Tr=null,qn=!1,Af=Error(l(519));function _r(t){var a=Error(l(418,""));throw zl(mn(a,t)),Af}function Ax(t){var a=t.stateNode,i=t.type,o=t.memoizedProps;switch(a[_s]=t,a[Us]=o,i){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(i=0;i<oo.length;i++)ft(oo[i],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),qg(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),dc(a);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),Hg(a,o.value,o.defaultValue,o.children),dc(a)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||o.suppressHydrationWarning===!0||Hy(a.textContent,i)?(o.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),o.onScroll!=null&&ft("scroll",a),o.onScrollEnd!=null&&ft("scrollend",a),o.onClick!=null&&(a.onclick=ru),a=!0):a=!1,a||_r(t)}function Ex(t){for(Ms=t.return;Ms;)switch(Ms.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ms=Ms.return}}function Bl(t){if(t!==Ms)return!1;if(!jt)return Ex(t),jt=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||$m(t.type,t.memoizedProps)),i=!i),i&&Gt&&_r(t),Ex(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(a===0){Gt=An(t.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;t=t.nextSibling}Gt=null}}else a===27?(a=Gt,Ka(t.type)?(t=Km,Km=null,Gt=t):Gt=a):Gt=Ms?An(t.stateNode.nextSibling):null;return!0}function Il(){Gt=Ms=null,jt=!1}function kx(){var t=Tr;return t!==null&&(Hs===null?Hs=t:Hs.push.apply(Hs,t),Tr=null),t}function zl(t){Tr===null?Tr=[t]:Tr.push(t)}var Ef=se(null),Ar=null,ua=null;function Ma(t,a,i){J(Ef,a._currentValue),a._currentValue=i}function da(t){t._currentValue=Ef.current,V(Ef)}function kf(t,a,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===i)break;t=t.return}}function Rf(t,a,i,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var N=d.child;h=h.firstContext;e:for(;h!==null;){var A=h;h=d;for(var I=0;I<a.length;I++)if(A.context===a[I]){h.lanes|=i,A=h.alternate,A!==null&&(A.lanes|=i),kf(h.return,i,t),o||(N=null);break e}h=A.next}}else if(d.tag===18){if(N=d.return,N===null)throw Error(l(341));N.lanes|=i,h=N.alternate,h!==null&&(h.lanes|=i),kf(N,i,t),N=null}else N=d.child;if(N!==null)N.return=d;else for(N=d;N!==null;){if(N===t){N=null;break}if(d=N.sibling,d!==null){d.return=N.return,N=d;break}N=N.return}d=N}}function Ll(t,a,i,o){t=null;for(var d=a,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var N=d.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var A=d.type;Zs(d.pendingProps.value,N.value)||(t!==null?t.push(A):t=[A])}}else if(d===M.current){if(N=d.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(po):t=[po])}d=d.return}t!==null&&Rf(a,t,i,o),a.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!Zs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Er(t){Ar=t,ua=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function As(t){return Rx(Ar,t)}function _c(t,a){return Ar===null&&Er(t),Rx(t,a)}function Rx(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},ua===null){if(t===null)throw Error(l(308));ua=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ua=ua.next=a;return i}var JT=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},e2=e.unstable_scheduleCallback,t2=e.unstable_NormalPriority,ls={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new JT,data:new Map,refCount:0}}function Fl(t){t.refCount--,t.refCount===0&&e2(t2,function(){t.controller.abort()})}var Ul=null,Mf=0,vi=0,yi=null;function s2(t,a){if(Ul===null){var i=Ul=[];Mf=0,vi=Pm(),yi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Mf++,a.then(Ox,Ox),a}function Ox(){if(--Mf===0&&Ul!==null){yi!==null&&(yi.status="fulfilled");var t=Ul;Ul=null,vi=0,yi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function n2(t,a){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<i.length;d++)(0,i[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var Mx=R.S;R.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&s2(t,a),Mx!==null&&Mx(t,a)};var kr=se(null);function Df(){var t=kr.current;return t!==null?t:Dt.pooledCache}function Ac(t,a){a===null?J(kr,kr.current):J(kr,a.pool)}function Dx(){var t=Df();return t===null?null:{parent:ls._currentValue,pool:t}}var Vl=Error(l(460)),Px=Error(l(474)),Ec=Error(l(542)),Pf={then:function(){}};function Bx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kc(){}function Ix(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(kc,kc),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Lx(t),t;default:if(typeof a.status=="string")a.then(kc,kc);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Lx(t),t}throw ql=a,Vl}}var ql=null;function zx(){if(ql===null)throw Error(l(459));var t=ql;return ql=null,t}function Lx(t){if(t===Vl||t===Ec)throw Error(l(483))}var Da=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(t,a,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(St&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=Nc(t),Cx(t,null,i),a}return jc(t,o,a,i),Nc(t)}function $l(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,Og(t,i)}}function zf(t,a){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?d=h=N:h=h.next=N,i=i.next}while(i!==null);h===null?d=h=a:h=h.next=a}else d=h=a;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var Lf=!1;function Hl(){if(Lf){var t=yi;if(t!==null)throw t}}function Gl(t,a,i,o){Lf=!1;var d=t.updateQueue;Da=!1;var h=d.firstBaseUpdate,N=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var I=A,K=I.next;I.next=null,N===null?h=K:N.next=K,N=I;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,A=ue.lastBaseUpdate,A!==N&&(A===null?ue.firstBaseUpdate=K:A.next=K,ue.lastBaseUpdate=I))}if(h!==null){var he=d.baseState;N=0,ue=K=I=null,A=h;do{var ee=A.lane&-536870913,te=ee!==A.lane;if(te?(gt&ee)===ee:(o&ee)===ee){ee!==0&&ee===vi&&(Lf=!0),ue!==null&&(ue=ue.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var We=t,$e=A;ee=a;var At=i;switch($e.tag){case 1:if(We=$e.payload,typeof We=="function"){he=We.call(At,he,ee);break e}he=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=$e.payload,ee=typeof We=="function"?We.call(At,he,ee):We,ee==null)break e;he=x({},he,ee);break e;case 2:Da=!0}}ee=A.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=d.callbacks,te===null?d.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ue===null?(K=ue=te,I=he):ue=ue.next=te,N|=ee;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;te=A,A=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ue===null&&(I=he),d.baseState=I,d.firstBaseUpdate=K,d.lastBaseUpdate=ue,h===null&&(d.shared.lanes=0),$a|=N,t.lanes=N,t.memoizedState=he}}function Fx(t,a){if(typeof t!="function")throw Error(l(191,t));t.call(a)}function Ux(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Fx(i[t],a)}var bi=se(null),Rc=se(0);function Vx(t,a){t=va,J(Rc,t),J(bi,a),va=t|a.baseLanes}function Ff(){J(Rc,va),J(bi,bi.current)}function Uf(){va=Rc.current,V(bi),V(Rc)}var Ia=0,ot=null,Tt=null,ts=null,Oc=!1,ji=!1,Rr=!1,Mc=0,Ql=0,Ni=null,a2=0;function Zt(){throw Error(l(321))}function Vf(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!Zs(t[i],a[i]))return!1;return!0}function qf(t,a,i,o,d,h){return Ia=h,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=t===null||t.memoizedState===null?Cv:Tv,Rr=!1,h=i(o,d),Rr=!1,ji&&(h=$x(a,i,o,d)),qx(t),h}function qx(t){R.H=Lc;var a=Tt!==null&&Tt.next!==null;if(Ia=0,ts=Tt=ot=null,Oc=!1,Ql=0,Ni=null,a)throw Error(l(300));t===null||ms||(t=t.dependencies,t!==null&&Tc(t)&&(ms=!0))}function $x(t,a,i,o){ot=t;var d=0;do{if(ji&&(Ni=null),Ql=0,ji=!1,25<=d)throw Error(l(301));if(d+=1,ts=Tt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=d2,h=a(i,o)}while(ji);return h}function r2(){var t=R.H,a=t.useState()[0];return a=typeof a.then=="function"?Kl(a):a,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(ot.flags|=1024),a}function $f(){var t=Mc!==0;return Mc=0,t}function Hf(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Gf(t){if(Oc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Oc=!1}Ia=0,ts=Tt=ot=null,ji=!1,Ql=Mc=0,Ni=null}function qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?ot.memoizedState=ts=t:ts=ts.next=t,ts}function ss(){if(Tt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var a=ts===null?ot.memoizedState:ts.next;if(a!==null)ts=a,Tt=t;else{if(t===null)throw ot.alternate===null?Error(l(467)):Error(l(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},ts===null?ot.memoizedState=ts=t:ts=ts.next=t}return ts}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var a=Ql;return Ql+=1,Ni===null&&(Ni=[]),t=Ix(Ni,t,a),a=ot,(ts===null?a.memoizedState:ts.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Cv:Tv),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===B)return As(t)}throw Error(l(438,String(t)))}function Kf(t){var a=null,i=ot.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var o=ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Qf(),ot.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),o=0;o<t;o++)i[o]=ae;return a.index++,i}function fa(t,a){return typeof a=="function"?a(t):a}function Pc(t){var a=ss();return Yf(a,Tt,t)}function Yf(t,a,i){var o=t.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=i;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var N=d.next;d.next=h.next,h.next=N}a.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{a=d.next;var A=N=null,I=null,K=a,ue=!1;do{var he=K.lane&-536870913;if(he!==K.lane?(gt&he)===he:(Ia&he)===he){var ee=K.revertLane;if(ee===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),he===vi&&(ue=!0);else if((Ia&ee)===ee){K=K.next,ee===vi&&(ue=!0);continue}else he={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(A=I=he,N=h):I=I.next=he,ot.lanes|=ee,$a|=ee;he=K.action,Rr&&i(h,he),h=K.hasEagerState?K.eagerState:i(h,he)}else ee={lane:he,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(A=I=ee,N=h):I=I.next=ee,ot.lanes|=he,$a|=he;K=K.next}while(K!==null&&K!==a);if(I===null?N=h:I.next=A,!Zs(h,t.memoizedState)&&(ms=!0,ue&&(i=yi,i!==null)))throw i;t.memoizedState=h,t.baseState=N,t.baseQueue=I,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Zf(t){var a=ss(),i=a.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var o=i.dispatch,d=i.pending,h=a.memoizedState;if(d!==null){i.pending=null;var N=d=d.next;do h=t(h,N.action),N=N.next;while(N!==d);Zs(h,a.memoizedState)||(ms=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),i.lastRenderedState=h}return[h,o]}function Hx(t,a,i){var o=ot,d=ss(),h=jt;if(h){if(i===void 0)throw Error(l(407));i=i()}else i=a();var N=!Zs((Tt||d).memoizedState,i);N&&(d.memoizedState=i,ms=!0),d=d.queue;var A=Kx.bind(null,o,d,t);if(Yl(2048,8,A,[t]),d.getSnapshot!==a||N||ts!==null&&ts.memoizedState.tag&1){if(o.flags|=2048,wi(9,Bc(),Qx.bind(null,o,d,i,a),null),Dt===null)throw Error(l(349));h||(Ia&124)!==0||Gx(o,a,i)}return i}function Gx(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=ot.updateQueue,a===null?(a=Qf(),ot.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Qx(t,a,i,o){a.value=i,a.getSnapshot=o,Yx(a)&&Zx(t)}function Kx(t,a,i){return i(function(){Yx(a)&&Zx(t)})}function Yx(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!Zs(t,i)}catch{return!0}}function Zx(t){var a=hi(t,2);a!==null&&sn(a,t,2)}function Xf(t){var a=qs();if(typeof t=="function"){var i=t;if(t=i(),Rr){Ze(!0);try{i()}finally{Ze(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},a}function Xx(t,a,i,o){return t.baseState=i,Yf(t,Tt,typeof o=="function"?o:fa)}function i2(t,a,i,o,d){if(zc(t))throw Error(l(485));if(t=a.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){h.listeners.push(N)}};R.T!==null?i(!0):h.isTransition=!1,o(h),i=a.pending,i===null?(h.next=a.pending=h,Wx(a,h)):(h.next=i.next,a.pending=i.next=h)}}function Wx(t,a){var i=a.action,o=a.payload,d=t.state;if(a.isTransition){var h=R.T,N={};R.T=N;try{var A=i(d,o),I=R.S;I!==null&&I(N,A),Jx(t,a,A)}catch(K){Wf(t,a,K)}finally{R.T=h}}else try{h=i(d,o),Jx(t,a,h)}catch(K){Wf(t,a,K)}}function Jx(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){ev(t,a,o)},function(o){return Wf(t,a,o)}):ev(t,a,i)}function ev(t,a,i){a.status="fulfilled",a.value=i,tv(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Wx(t,i)))}function Wf(t,a,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=i,tv(a),a=a.next;while(a!==o)}t.action=null}function tv(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function sv(t,a){return a}function nv(t,a){if(jt){var i=Dt.formState;if(i!==null){e:{var o=ot;if(jt){if(Gt){t:{for(var d=Gt,h=qn;d.nodeType!==8;){if(!h){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Gt=An(d.nextSibling),o=d.data==="F!";break e}}_r(o)}o=!1}o&&(a=i[0])}}return i=qs(),i.memoizedState=i.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:a},i.queue=o,i=Nv.bind(null,ot,o),o.dispatch=i,o=Xf(!1),h=nm.bind(null,ot,!1,o.queue),o=qs(),d={state:a,dispatch:null,action:t,pending:null},o.queue=d,i=i2.bind(null,ot,d,h,i),d.dispatch=i,o.memoizedState=t,[a,i,!1]}function av(t){var a=ss();return rv(a,Tt,t)}function rv(t,a,i){if(a=Yf(t,a,sv)[0],t=Pc(fa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Kl(a)}catch(N){throw N===Vl?Ec:N}else o=a;a=ss();var d=a.queue,h=d.dispatch;return i!==a.memoizedState&&(ot.flags|=2048,wi(9,Bc(),l2.bind(null,d,i),null)),[o,h,t]}function l2(t,a){t.action=a}function iv(t){var a=ss(),i=Tt;if(i!==null)return rv(a,i,t);ss(),a=a.memoizedState,i=ss();var o=i.queue.dispatch;return i.memoizedState=t,[a,o,!1]}function wi(t,a,i,o){return t={tag:t,create:i,deps:o,inst:a,next:null},a=ot.updateQueue,a===null&&(a=Qf(),ot.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,a.lastEffect=t),t}function Bc(){return{destroy:void 0,resource:void 0}}function lv(){return ss().memoizedState}function Ic(t,a,i,o){var d=qs();o=o===void 0?null:o,ot.flags|=t,d.memoizedState=wi(1|a,Bc(),i,o)}function Yl(t,a,i,o){var d=ss();o=o===void 0?null:o;var h=d.memoizedState.inst;Tt!==null&&o!==null&&Vf(o,Tt.memoizedState.deps)?d.memoizedState=wi(a,h,i,o):(ot.flags|=t,d.memoizedState=wi(1|a,h,i,o))}function ov(t,a){Ic(8390656,8,t,a)}function cv(t,a){Yl(2048,8,t,a)}function uv(t,a){return Yl(4,2,t,a)}function dv(t,a){return Yl(4,4,t,a)}function fv(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function mv(t,a,i){i=i!=null?i.concat([t]):null,Yl(4,4,fv.bind(null,a,t),i)}function Jf(){}function hv(t,a){var i=ss();a=a===void 0?null:a;var o=i.memoizedState;return a!==null&&Vf(a,o[1])?o[0]:(i.memoizedState=[t,a],t)}function pv(t,a){var i=ss();a=a===void 0?null:a;var o=i.memoizedState;if(a!==null&&Vf(a,o[1]))return o[0];if(o=t(),Rr){Ze(!0);try{t()}finally{Ze(!1)}}return i.memoizedState=[o,a],o}function em(t,a,i){return i===void 0||(Ia&1073741824)!==0?t.memoizedState=a:(t.memoizedState=i,t=vy(),ot.lanes|=t,$a|=t,i)}function gv(t,a,i,o){return Zs(i,a)?i:bi.current!==null?(t=em(t,i,o),Zs(t,a)||(ms=!0),t):(Ia&42)===0?(ms=!0,t.memoizedState=i):(t=vy(),ot.lanes|=t,$a|=t,a)}function xv(t,a,i,o,d){var h=S.p;S.p=h!==0&&8>h?h:8;var N=R.T,A={};R.T=A,nm(t,!1,a,i);try{var I=d(),K=R.S;if(K!==null&&K(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ue=n2(I,o);Zl(t,a,ue,tn(t))}else Zl(t,a,o,tn(t))}catch(he){Zl(t,a,{then:function(){},status:"rejected",reason:he},tn())}finally{S.p=h,R.T=N}}function o2(){}function tm(t,a,i,o){if(t.tag!==5)throw Error(l(476));var d=vv(t).queue;xv(t,d,a,O,i===null?o2:function(){return yv(t),i(o)})}function vv(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:O},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function yv(t){var a=vv(t).next.queue;Zl(t,a,{},tn())}function sm(){return As(po)}function bv(){return ss().memoizedState}function jv(){return ss().memoizedState}function c2(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=tn();t=Pa(i);var o=Ba(a,t,i);o!==null&&(sn(o,a,i),$l(o,a,i)),a={cache:Of()},t.payload=a;return}a=a.return}}function u2(t,a,i){var o=tn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},zc(t)?wv(a,i):(i=Nf(t,a,i,o),i!==null&&(sn(i,t,o),Sv(i,a,o)))}function Nv(t,a,i){var o=tn();Zl(t,a,i,o)}function Zl(t,a,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(zc(t))wv(a,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var N=a.lastRenderedState,A=h(N,i);if(d.hasEagerState=!0,d.eagerState=A,Zs(A,N))return jc(t,a,d,0),Dt===null&&bc(),!1}catch{}finally{}if(i=Nf(t,a,d,o),i!==null)return sn(i,t,o),Sv(i,a,o),!0}return!1}function nm(t,a,i,o){if(o={lane:2,revertLane:Pm(),action:o,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(a)throw Error(l(479))}else a=Nf(t,i,o,2),a!==null&&sn(a,t,2)}function zc(t){var a=t.alternate;return t===ot||a!==null&&a===ot}function wv(t,a){ji=Oc=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function Sv(t,a,i){if((i&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,Og(t,i)}}var Lc={readContext:As,use:Dc,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},Cv={readContext:As,use:Dc,useCallback:function(t,a){return qs().memoizedState=[t,a===void 0?null:a],t},useContext:As,useEffect:ov,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Ic(4194308,4,fv.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Ic(4194308,4,t,a)},useInsertionEffect:function(t,a){Ic(4,2,t,a)},useMemo:function(t,a){var i=qs();a=a===void 0?null:a;var o=t();if(Rr){Ze(!0);try{t()}finally{Ze(!1)}}return i.memoizedState=[o,a],o},useReducer:function(t,a,i){var o=qs();if(i!==void 0){var d=i(a);if(Rr){Ze(!0);try{i(a)}finally{Ze(!1)}}}else d=a;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=u2.bind(null,ot,t),[o.memoizedState,t]},useRef:function(t){var a=qs();return t={current:t},a.memoizedState=t},useState:function(t){t=Xf(t);var a=t.queue,i=Nv.bind(null,ot,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Jf,useDeferredValue:function(t,a){var i=qs();return em(i,t,a)},useTransition:function(){var t=Xf(!1);return t=xv.bind(null,ot,t.queue,!0,!1),qs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var o=ot,d=qs();if(jt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=a(),Dt===null)throw Error(l(349));(gt&124)!==0||Gx(o,a,i)}d.memoizedState=i;var h={value:i,getSnapshot:a};return d.queue=h,ov(Kx.bind(null,o,h,t),[t]),o.flags|=2048,wi(9,Bc(),Qx.bind(null,o,h,i,a),null),i},useId:function(){var t=qs(),a=Dt.identifierPrefix;if(jt){var i=ca,o=oa;i=(o&~(1<<32-bt(o)-1)).toString(32)+i,a="«"+a+"R"+i,i=Mc++,0<i&&(a+="H"+i.toString(32)),a+="»"}else i=a2++,a="«"+a+"r"+i.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:sm,useFormState:nv,useActionState:nv,useOptimistic:function(t){var a=qs();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=nm.bind(null,ot,!0,i),i.dispatch=a,[t,a]},useMemoCache:Kf,useCacheRefresh:function(){return qs().memoizedState=c2.bind(null,ot)}},Tv={readContext:As,use:Dc,useCallback:hv,useContext:As,useEffect:cv,useImperativeHandle:mv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:Pc,useRef:lv,useState:function(){return Pc(fa)},useDebugValue:Jf,useDeferredValue:function(t,a){var i=ss();return gv(i,Tt.memoizedState,t,a)},useTransition:function(){var t=Pc(fa)[0],a=ss().memoizedState;return[typeof t=="boolean"?t:Kl(t),a]},useSyncExternalStore:Hx,useId:bv,useHostTransitionStatus:sm,useFormState:av,useActionState:av,useOptimistic:function(t,a){var i=ss();return Xx(i,Tt,t,a)},useMemoCache:Kf,useCacheRefresh:jv},d2={readContext:As,use:Dc,useCallback:hv,useContext:As,useEffect:cv,useImperativeHandle:mv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:Zf,useRef:lv,useState:function(){return Zf(fa)},useDebugValue:Jf,useDeferredValue:function(t,a){var i=ss();return Tt===null?em(i,t,a):gv(i,Tt.memoizedState,t,a)},useTransition:function(){var t=Zf(fa)[0],a=ss().memoizedState;return[typeof t=="boolean"?t:Kl(t),a]},useSyncExternalStore:Hx,useId:bv,useHostTransitionStatus:sm,useFormState:iv,useActionState:iv,useOptimistic:function(t,a){var i=ss();return Tt!==null?Xx(i,Tt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:jv},Si=null,Xl=0;function Fc(t){var a=Xl;return Xl+=1,Si===null&&(Si=[]),Ix(Si,t,a)}function Wl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Uc(t,a){throw a.$$typeof===y?Error(l(525)):(t=Object.prototype.toString.call(a),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function _v(t){var a=t._init;return a(t._payload)}function Av(t){function a(q,F){if(t){var G=q.deletions;G===null?(q.deletions=[F],q.flags|=16):G.push(F)}}function i(q,F){if(!t)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function o(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function d(q,F){return q=la(q,F),q.index=0,q.sibling=null,q}function h(q,F,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<F?(q.flags|=67108866,F):G):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function N(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function A(q,F,G,fe){return F===null||F.tag!==6?(F=Sf(G,q.mode,fe),F.return=q,F):(F=d(F,G),F.return=q,F)}function I(q,F,G,fe){var Oe=G.type;return Oe===T?ue(q,F,G.props.children,fe,G.key):F!==null&&(F.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Y&&_v(Oe)===F.type)?(F=d(F,G.props),Wl(F,G),F.return=q,F):(F=wc(G.type,G.key,G.props,null,q.mode,fe),Wl(F,G),F.return=q,F)}function K(q,F,G,fe){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=Cf(G,q.mode,fe),F.return=q,F):(F=d(F,G.children||[]),F.return=q,F)}function ue(q,F,G,fe,Oe){return F===null||F.tag!==7?(F=wr(G,q.mode,fe,Oe),F.return=q,F):(F=d(F,G),F.return=q,F)}function he(q,F,G){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Sf(""+F,q.mode,G),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return G=wc(F.type,F.key,F.props,null,q.mode,G),Wl(G,F),G.return=q,G;case C:return F=Cf(F,q.mode,G),F.return=q,F;case Y:var fe=F._init;return F=fe(F._payload),he(q,F,G)}if(ie(F)||re(F))return F=wr(F,q.mode,G,null),F.return=q,F;if(typeof F.then=="function")return he(q,Fc(F),G);if(F.$$typeof===B)return he(q,_c(q,F),G);Uc(q,F)}return null}function ee(q,F,G,fe){var Oe=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Oe!==null?null:A(q,F,""+G,fe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Oe?I(q,F,G,fe):null;case C:return G.key===Oe?K(q,F,G,fe):null;case Y:return Oe=G._init,G=Oe(G._payload),ee(q,F,G,fe)}if(ie(G)||re(G))return Oe!==null?null:ue(q,F,G,fe,null);if(typeof G.then=="function")return ee(q,F,Fc(G),fe);if(G.$$typeof===B)return ee(q,F,_c(q,G),fe);Uc(q,G)}return null}function te(q,F,G,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return q=q.get(G)||null,A(F,q,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return q=q.get(fe.key===null?G:fe.key)||null,I(F,q,fe,Oe);case C:return q=q.get(fe.key===null?G:fe.key)||null,K(F,q,fe,Oe);case Y:var ut=fe._init;return fe=ut(fe._payload),te(q,F,G,fe,Oe)}if(ie(fe)||re(fe))return q=q.get(G)||null,ue(F,q,fe,Oe,null);if(typeof fe.then=="function")return te(q,F,G,Fc(fe),Oe);if(fe.$$typeof===B)return te(q,F,G,_c(F,fe),Oe);Uc(F,fe)}return null}function We(q,F,G,fe){for(var Oe=null,ut=null,Fe=F,Qe=F=0,ps=null;Fe!==null&&Qe<G.length;Qe++){Fe.index>Qe?(ps=Fe,Fe=null):ps=Fe.sibling;var vt=ee(q,Fe,G[Qe],fe);if(vt===null){Fe===null&&(Fe=ps);break}t&&Fe&&vt.alternate===null&&a(q,Fe),F=h(vt,F,Qe),ut===null?Oe=vt:ut.sibling=vt,ut=vt,Fe=ps}if(Qe===G.length)return i(q,Fe),jt&&Cr(q,Qe),Oe;if(Fe===null){for(;Qe<G.length;Qe++)Fe=he(q,G[Qe],fe),Fe!==null&&(F=h(Fe,F,Qe),ut===null?Oe=Fe:ut.sibling=Fe,ut=Fe);return jt&&Cr(q,Qe),Oe}for(Fe=o(Fe);Qe<G.length;Qe++)ps=te(Fe,q,Qe,G[Qe],fe),ps!==null&&(t&&ps.alternate!==null&&Fe.delete(ps.key===null?Qe:ps.key),F=h(ps,F,Qe),ut===null?Oe=ps:ut.sibling=ps,ut=ps);return t&&Fe.forEach(function(Ja){return a(q,Ja)}),jt&&Cr(q,Qe),Oe}function $e(q,F,G,fe){if(G==null)throw Error(l(151));for(var Oe=null,ut=null,Fe=F,Qe=F=0,ps=null,vt=G.next();Fe!==null&&!vt.done;Qe++,vt=G.next()){Fe.index>Qe?(ps=Fe,Fe=null):ps=Fe.sibling;var Ja=ee(q,Fe,vt.value,fe);if(Ja===null){Fe===null&&(Fe=ps);break}t&&Fe&&Ja.alternate===null&&a(q,Fe),F=h(Ja,F,Qe),ut===null?Oe=Ja:ut.sibling=Ja,ut=Ja,Fe=ps}if(vt.done)return i(q,Fe),jt&&Cr(q,Qe),Oe;if(Fe===null){for(;!vt.done;Qe++,vt=G.next())vt=he(q,vt.value,fe),vt!==null&&(F=h(vt,F,Qe),ut===null?Oe=vt:ut.sibling=vt,ut=vt);return jt&&Cr(q,Qe),Oe}for(Fe=o(Fe);!vt.done;Qe++,vt=G.next())vt=te(Fe,q,Qe,vt.value,fe),vt!==null&&(t&&vt.alternate!==null&&Fe.delete(vt.key===null?Qe:vt.key),F=h(vt,F,Qe),ut===null?Oe=vt:ut.sibling=vt,ut=vt);return t&&Fe.forEach(function(f_){return a(q,f_)}),jt&&Cr(q,Qe),Oe}function At(q,F,G,fe){if(typeof G=="object"&&G!==null&&G.type===T&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Oe=G.key;F!==null;){if(F.key===Oe){if(Oe=G.type,Oe===T){if(F.tag===7){i(q,F.sibling),fe=d(F,G.props.children),fe.return=q,q=fe;break e}}else if(F.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Y&&_v(Oe)===F.type){i(q,F.sibling),fe=d(F,G.props),Wl(fe,G),fe.return=q,q=fe;break e}i(q,F);break}else a(q,F);F=F.sibling}G.type===T?(fe=wr(G.props.children,q.mode,fe,G.key),fe.return=q,q=fe):(fe=wc(G.type,G.key,G.props,null,q.mode,fe),Wl(fe,G),fe.return=q,q=fe)}return N(q);case C:e:{for(Oe=G.key;F!==null;){if(F.key===Oe)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){i(q,F.sibling),fe=d(F,G.children||[]),fe.return=q,q=fe;break e}else{i(q,F);break}else a(q,F);F=F.sibling}fe=Cf(G,q.mode,fe),fe.return=q,q=fe}return N(q);case Y:return Oe=G._init,G=Oe(G._payload),At(q,F,G,fe)}if(ie(G))return We(q,F,G,fe);if(re(G)){if(Oe=re(G),typeof Oe!="function")throw Error(l(150));return G=Oe.call(G),$e(q,F,G,fe)}if(typeof G.then=="function")return At(q,F,Fc(G),fe);if(G.$$typeof===B)return At(q,F,_c(q,G),fe);Uc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,F!==null&&F.tag===6?(i(q,F.sibling),fe=d(F,G),fe.return=q,q=fe):(i(q,F),fe=Sf(G,q.mode,fe),fe.return=q,q=fe),N(q)):i(q,F)}return function(q,F,G,fe){try{Xl=0;var Oe=At(q,F,G,fe);return Si=null,Oe}catch(Fe){if(Fe===Vl||Fe===Ec)throw Fe;var ut=Xs(29,Fe,null,q.mode);return ut.lanes=fe,ut.return=q,ut}finally{}}}var Ci=Av(!0),Ev=Av(!1),xn=se(null),$n=null;function za(t){var a=t.alternate;J(os,os.current&1),J(xn,t),$n===null&&(a===null||bi.current!==null||a.memoizedState!==null)&&($n=t)}function kv(t){if(t.tag===22){if(J(os,os.current),J(xn,t),$n===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&($n=t)}}else La()}function La(){J(os,os.current),J(xn,xn.current)}function ma(t){V(xn),$n===t&&($n=null),V(os)}var os=se(0);function Vc(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Qm(i)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function am(t,a,i,o){a=t.memoizedState,i=i(o,a),i=i==null?a:x({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var rm={enqueueSetState:function(t,a,i){t=t._reactInternals;var o=tn(),d=Pa(o);d.payload=a,i!=null&&(d.callback=i),a=Ba(t,d,o),a!==null&&(sn(a,t,o),$l(a,t,o))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var o=tn(),d=Pa(o);d.tag=1,d.payload=a,i!=null&&(d.callback=i),a=Ba(t,d,o),a!==null&&(sn(a,t,o),$l(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=tn(),o=Pa(i);o.tag=2,a!=null&&(o.callback=a),a=Ba(t,o,i),a!==null&&(sn(a,t,i),$l(a,t,i))}};function Rv(t,a,i,o,d,h,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,N):a.prototype&&a.prototype.isPureReactComponent?!Dl(i,o)||!Dl(d,h):!0}function Ov(t,a,i,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,o),a.state!==t&&rm.enqueueReplaceState(a,a.state,null)}function Or(t,a){var i=a;if("ref"in a){i={};for(var o in a)o!=="ref"&&(i[o]=a[o])}if(t=t.defaultProps){i===a&&(i=x({},i));for(var d in t)i[d]===void 0&&(i[d]=t[d])}return i}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mv(t){qc(t)}function Dv(t){console.error(t)}function Pv(t){qc(t)}function $c(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Bv(t,a,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function im(t,a,i){return i=Pa(i),i.tag=3,i.payload={element:null},i.callback=function(){$c(t,a)},i}function Iv(t){return t=Pa(t),t.tag=3,t}function zv(t,a,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){Bv(a,i,o)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){Bv(a,i,o),typeof d!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function f2(t,a,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=i.alternate,a!==null&&Ll(a,i,d,!0),i=xn.current,i!==null){switch(i.tag){case 13:return $n===null?km():i.alternate===null&&Qt===0&&(Qt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===Pf?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([o]):a.add(o),Om(t,o,d)),!1;case 22:return i.flags|=65536,o===Pf?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([o]):i.add(o)),Om(t,o,d)),!1}throw Error(l(435,i.tag))}return Om(t,o,d),km(),!1}if(jt)return a=xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==Af&&(t=Error(l(422),{cause:o}),zl(mn(t,i)))):(o!==Af&&(a=Error(l(423),{cause:o}),zl(mn(a,i))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=mn(o,i),d=im(t.stateNode,o,d),zf(t,d),Qt!==4&&(Qt=2)),!1;var h=Error(l(520),{cause:o});if(h=mn(h,i),ro===null?ro=[h]:ro.push(h),Qt!==4&&(Qt=2),a===null)return!0;o=mn(o,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=d&-d,i.lanes|=t,t=im(i.stateNode,o,t),zf(i,t),!1;case 1:if(a=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ha===null||!Ha.has(h))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Iv(d),zv(d,t,i,o),zf(i,d),!1}i=i.return}while(i!==null);return!1}var Lv=Error(l(461)),ms=!1;function js(t,a,i,o){a.child=t===null?Ev(a,null,i,o):Ci(a,t.child,i,o)}function Fv(t,a,i,o,d){i=i.render;var h=a.ref;if("ref"in o){var N={};for(var A in o)A!=="ref"&&(N[A]=o[A])}else N=o;return Er(a),o=qf(t,a,i,N,h,d),A=$f(),t!==null&&!ms?(Hf(t,a,d),ha(t,a,d)):(jt&&A&&Tf(a),a.flags|=1,js(t,a,o,d),a.child)}function Uv(t,a,i,o,d){if(t===null){var h=i.type;return typeof h=="function"&&!wf(h)&&h.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=h,Vv(t,a,h,o,d)):(t=wc(i.type,null,o,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(h=t.child,!hm(t,d)){var N=h.memoizedProps;if(i=i.compare,i=i!==null?i:Dl,i(N,o)&&t.ref===a.ref)return ha(t,a,d)}return a.flags|=1,t=la(h,o),t.ref=a.ref,t.return=a,a.child=t}function Vv(t,a,i,o,d){if(t!==null){var h=t.memoizedProps;if(Dl(h,o)&&t.ref===a.ref)if(ms=!1,a.pendingProps=o=h,hm(t,d))(t.flags&131072)!==0&&(ms=!0);else return a.lanes=t.lanes,ha(t,a,d)}return lm(t,a,i,o,d)}function qv(t,a,i){var o=a.pendingProps,d=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=h!==null?h.baseLanes|i:i,t!==null){for(d=a.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;a.childLanes=h&~o}else a.childLanes=0,a.child=null;return $v(t,a,o,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ac(a,h!==null?h.cachePool:null),h!==null?Vx(a,h):Ff(),kv(a);else return a.lanes=a.childLanes=536870912,$v(t,a,h!==null?h.baseLanes|i:i,i)}else h!==null?(Ac(a,h.cachePool),Vx(a,h),La(),a.memoizedState=null):(t!==null&&Ac(a,null),Ff(),La());return js(t,a,d,i),a.child}function $v(t,a,i,o){var d=Df();return d=d===null?null:{parent:ls._currentValue,pool:d},a.memoizedState={baseLanes:i,cachePool:d},t!==null&&Ac(a,null),Ff(),kv(a),t!==null&&Ll(t,a,o,!0),null}function Hc(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function lm(t,a,i,o,d){return Er(a),i=qf(t,a,i,o,void 0,d),o=$f(),t!==null&&!ms?(Hf(t,a,d),ha(t,a,d)):(jt&&o&&Tf(a),a.flags|=1,js(t,a,i,d),a.child)}function Hv(t,a,i,o,d,h){return Er(a),a.updateQueue=null,i=$x(a,o,i,d),qx(t),o=$f(),t!==null&&!ms?(Hf(t,a,h),ha(t,a,h)):(jt&&o&&Tf(a),a.flags|=1,js(t,a,i,h),a.child)}function Gv(t,a,i,o,d){if(Er(a),a.stateNode===null){var h=pi,N=i.contextType;typeof N=="object"&&N!==null&&(h=As(N)),h=new i(o,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rm,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=o,h.state=a.memoizedState,h.refs={},Bf(a),N=i.contextType,h.context=typeof N=="object"&&N!==null?As(N):pi,h.state=a.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(am(a,i,N,o),h.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(N=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),N!==h.state&&rm.enqueueReplaceState(h,h.state,null),Gl(a,o,h,d),Hl(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){h=a.stateNode;var A=a.memoizedProps,I=Or(i,A);h.props=I;var K=h.context,ue=i.contextType;N=pi,typeof ue=="object"&&ue!==null&&(N=As(ue));var he=i.getDerivedStateFromProps;ue=typeof he=="function"||typeof h.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ue||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(A||K!==N)&&Ov(a,h,o,N),Da=!1;var ee=a.memoizedState;h.state=ee,Gl(a,o,h,d),Hl(),K=a.memoizedState,A||ee!==K||Da?(typeof he=="function"&&(am(a,i,he,o),K=a.memoizedState),(I=Da||Rv(a,i,I,o,ee,K,N))?(ue||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=K),h.props=o,h.state=K,h.context=N,o=I):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{h=a.stateNode,If(t,a),N=a.memoizedProps,ue=Or(i,N),h.props=ue,he=a.pendingProps,ee=h.context,K=i.contextType,I=pi,typeof K=="object"&&K!==null&&(I=As(K)),A=i.getDerivedStateFromProps,(K=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N!==he||ee!==I)&&Ov(a,h,o,I),Da=!1,ee=a.memoizedState,h.state=ee,Gl(a,o,h,d),Hl();var te=a.memoizedState;N!==he||ee!==te||Da||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof A=="function"&&(am(a,i,A,o),te=a.memoizedState),(ue=Da||Rv(a,i,ue,o,ee,te,I)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(K||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,te,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,te,I)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=te),h.props=o,h.state=te,h.context=I,o=ue):(typeof h.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),o=!1)}return h=o,Hc(t,a),o=(a.flags&128)!==0,h||o?(h=a.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,t!==null&&o?(a.child=Ci(a,t.child,null,d),a.child=Ci(a,null,i,d)):js(t,a,i,d),a.memoizedState=h.state,t=a.child):t=ha(t,a,d),t}function Qv(t,a,i,o){return Il(),a.flags|=256,js(t,a,i,o),a.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(t){return{baseLanes:t,cachePool:Dx()}}function um(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=vn),t}function Kv(t,a,i){var o=a.pendingProps,d=!1,h=(a.flags&128)!==0,N;if((N=h)||(N=t!==null&&t.memoizedState===null?!1:(os.current&2)!==0),N&&(d=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,t===null){if(jt){if(d?za(a):La(),jt){var A=Gt,I;if(I=A){e:{for(I=A,A=qn;I.nodeType!==8;){if(!A){A=null;break e}if(I=An(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(a.memoizedState={dehydrated:A,treeContext:Sr!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},I=Xs(18,null,null,0),I.stateNode=A,I.return=a,a.child=I,Ms=a,Gt=null,I=!0):I=!1}I||_r(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Qm(A)?a.lanes=32:a.lanes=536870912,null;ma(a)}return A=o.children,o=o.fallback,d?(La(),d=a.mode,A=Gc({mode:"hidden",children:A},d),o=wr(o,d,i,null),A.return=a,o.return=a,A.sibling=o,a.child=A,d=a.child,d.memoizedState=cm(i),d.childLanes=um(t,N,i),a.memoizedState=om,o):(za(a),dm(a,A))}if(I=t.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(h)a.flags&256?(za(a),a.flags&=-257,a=fm(t,a,i)):a.memoizedState!==null?(La(),a.child=t.child,a.flags|=128,a=null):(La(),d=o.fallback,A=a.mode,o=Gc({mode:"visible",children:o.children},A),d=wr(d,A,i,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,Ci(a,t.child,null,i),o=a.child,o.memoizedState=cm(i),o.childLanes=um(t,N,i),a.memoizedState=om,a=d);else if(za(a),Qm(A)){if(N=A.nextSibling&&A.nextSibling.dataset,N)var K=N.dgst;N=K,o=Error(l(419)),o.stack="",o.digest=N,zl({value:o,source:null,stack:null}),a=fm(t,a,i)}else if(ms||Ll(t,a,i,!1),N=(i&t.childLanes)!==0,ms||N){if(N=Dt,N!==null&&(o=i&-i,o=(o&42)!==0?1:Qd(o),o=(o&(N.suspendedLanes|i))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,hi(t,o),sn(N,t,o),Lv;A.data==="$?"||km(),a=fm(t,a,i)}else A.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=I.treeContext,Gt=An(A.nextSibling),Ms=a,jt=!0,Tr=null,qn=!1,t!==null&&(pn[gn++]=oa,pn[gn++]=ca,pn[gn++]=Sr,oa=t.id,ca=t.overflow,Sr=a),a=dm(a,o.children),a.flags|=4096);return a}return d?(La(),d=o.fallback,A=a.mode,I=t.child,K=I.sibling,o=la(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,K!==null?d=la(K,d):(d=wr(d,A,i,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,A=t.child.memoizedState,A===null?A=cm(i):(I=A.cachePool,I!==null?(K=ls._currentValue,I=I.parent!==K?{parent:K,pool:K}:I):I=Dx(),A={baseLanes:A.baseLanes|i,cachePool:I}),d.memoizedState=A,d.childLanes=um(t,N,i),a.memoizedState=om,o):(za(a),i=t.child,t=i.sibling,i=la(i,{mode:"visible",children:o.children}),i.return=a,i.sibling=null,t!==null&&(N=a.deletions,N===null?(a.deletions=[t],a.flags|=16):N.push(t)),a.child=i,a.memoizedState=null,i)}function dm(t,a){return a=Gc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Gc(t,a){return t=Xs(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fm(t,a,i){return Ci(a,t.child,null,i),t=dm(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Yv(t,a,i){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),kf(t.return,a,i)}function mm(t,a,i,o,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(h.isBackwards=a,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=i,h.tailMode=d)}function Zv(t,a,i){var o=a.pendingProps,d=o.revealOrder,h=o.tail;if(js(t,a,o.children,i),o=os.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yv(t,i,a);else if(t.tag===19)Yv(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(os,o),d){case"forwards":for(i=a.child,d=null;i!==null;)t=i.alternate,t!==null&&Vc(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=a.child,a.child=null):(d=i.sibling,i.sibling=null),mm(a,!1,d,i,h);break;case"backwards":for(i=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&Vc(t)===null){a.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}mm(a,!0,i,null,h);break;case"together":mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ha(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),$a|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(Ll(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(l(153));if(a.child!==null){for(t=a.child,i=la(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=la(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function hm(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function m2(t,a,i){switch(a.tag){case 3:X(a,a.stateNode.containerInfo),Ma(a,ls,t.memoizedState.cache),Il();break;case 27:case 5:Ce(a);break;case 4:X(a,a.stateNode.containerInfo);break;case 10:Ma(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(za(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Kv(t,a,i):(za(a),t=ha(t,a,i),t!==null?t.sibling:null);za(a);break;case 19:var d=(t.flags&128)!==0;if(o=(i&a.childLanes)!==0,o||(Ll(t,a,i,!1),o=(i&a.childLanes)!==0),d){if(o)return Zv(t,a,i);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(os,os.current),o)break;return null;case 22:case 23:return a.lanes=0,qv(t,a,i);case 24:Ma(a,ls,t.memoizedState.cache)}return ha(t,a,i)}function Xv(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)ms=!0;else{if(!hm(t,i)&&(a.flags&128)===0)return ms=!1,m2(t,a,i);ms=(t.flags&131072)!==0}else ms=!1,jt&&(a.flags&1048576)!==0&&_x(a,Cc,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")wf(o)?(t=Or(o,t),a.tag=1,a=Gv(null,a,o,t,i)):(a.tag=0,a=lm(null,a,o,t,i));else{if(o!=null){if(d=o.$$typeof,d===D){a.tag=11,a=Fv(null,a,o,t,i);break e}else if(d===$){a.tag=14,a=Uv(null,a,o,t,i);break e}}throw a=U(o)||o,Error(l(306,a,""))}}return a;case 0:return lm(t,a,a.type,a.pendingProps,i);case 1:return o=a.type,d=Or(o,a.pendingProps),Gv(t,a,o,d,i);case 3:e:{if(X(a,a.stateNode.containerInfo),t===null)throw Error(l(387));o=a.pendingProps;var h=a.memoizedState;d=h.element,If(t,a),Gl(a,o,null,i);var N=a.memoizedState;if(o=N.cache,Ma(a,ls,o),o!==h.cache&&Rf(a,[ls],i,!0),Hl(),o=N.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Qv(t,a,o,i);break e}else if(o!==d){d=mn(Error(l(424)),a),zl(d),a=Qv(t,a,o,i);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Gt=An(t.firstChild),Ms=a,jt=!0,Tr=null,qn=!0,i=Ev(a,null,o,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Il(),o===d){a=ha(t,a,i);break e}js(t,a,o,i)}a=a.child}return a;case 26:return Hc(t,a),t===null?(i=tb(a.type,null,a.pendingProps,null))?a.memoizedState=i:jt||(i=a.type,t=a.pendingProps,o=iu(ye.current).createElement(i),o[_s]=a,o[Us]=t,ws(o,i,t),fs(o),a.stateNode=o):a.memoizedState=tb(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ce(a),t===null&&jt&&(o=a.stateNode=Wy(a.type,a.pendingProps,ye.current),Ms=a,qn=!0,d=Gt,Ka(a.type)?(Km=d,Gt=An(o.firstChild)):Gt=d),js(t,a,a.pendingProps.children,i),Hc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&jt&&((d=o=Gt)&&(o=U2(o,a.type,a.pendingProps,qn),o!==null?(a.stateNode=o,Ms=a,Gt=An(o.firstChild),qn=!1,d=!0):d=!1),d||_r(a)),Ce(a),d=a.type,h=a.pendingProps,N=t!==null?t.memoizedProps:null,o=h.children,$m(d,h)?o=null:N!==null&&$m(d,N)&&(a.flags|=32),a.memoizedState!==null&&(d=qf(t,a,r2,null,null,i),po._currentValue=d),Hc(t,a),js(t,a,o,i),a.child;case 6:return t===null&&jt&&((t=i=Gt)&&(i=V2(i,a.pendingProps,qn),i!==null?(a.stateNode=i,Ms=a,Gt=null,t=!0):t=!1),t||_r(a)),null;case 13:return Kv(t,a,i);case 4:return X(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Ci(a,null,o,i):js(t,a,o,i),a.child;case 11:return Fv(t,a,a.type,a.pendingProps,i);case 7:return js(t,a,a.pendingProps,i),a.child;case 8:return js(t,a,a.pendingProps.children,i),a.child;case 12:return js(t,a,a.pendingProps.children,i),a.child;case 10:return o=a.pendingProps,Ma(a,a.type,o.value),js(t,a,o.children,i),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,Er(a),d=As(d),o=o(d),a.flags|=1,js(t,a,o,i),a.child;case 14:return Uv(t,a,a.type,a.pendingProps,i);case 15:return Vv(t,a,a.type,a.pendingProps,i);case 19:return Zv(t,a,i);case 31:return o=a.pendingProps,i=a.mode,o={mode:o.mode,children:o.children},t===null?(i=Gc(o,i),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=la(t.child,o),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return qv(t,a,i);case 24:return Er(a),o=As(ls),t===null?(d=Df(),d===null&&(d=Dt,h=Of(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=i),d=h),a.memoizedState={parent:o,cache:d},Bf(a),Ma(a,ls,d)):((t.lanes&i)!==0&&(If(t,a),Gl(a,null,null,i),Hl()),d=t.memoizedState,h=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ma(a,ls,o)):(o=h.cache,Ma(a,ls,o),o!==d.cache&&Rf(a,[ls],i,!0))),js(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function pa(t){t.flags|=4}function Wv(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ib(a)){if(a=xn.current,a!==null&&((gt&4194048)===gt?$n!==null:(gt&62914560)!==gt&&(gt&536870912)===0||a!==$n))throw ql=Pf,Px;t.flags|=8192}}function Qc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?kg():536870912,t.lanes|=a,Ei|=a)}function Jl(t,a){if(!jt)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Vt(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(a)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=i,a}function h2(t,a,i){var o=a.pendingProps;switch(_f(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(a),null;case 1:return Vt(a),null;case 3:return i=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),da(ls),Ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Bl(a)?pa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kx())),Vt(a),null;case 26:return i=a.memoizedState,t===null?(pa(a),i!==null?(Vt(a),Wv(a,i)):(Vt(a),a.flags&=-16777217)):i?i!==t.memoizedState?(pa(a),Vt(a),Wv(a,i)):(Vt(a),a.flags&=-16777217):(t.memoizedProps!==o&&pa(a),Vt(a),a.flags&=-16777217),null;case 27:Be(a),i=ye.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==o&&pa(a);else{if(!o){if(a.stateNode===null)throw Error(l(166));return Vt(a),null}t=ce.current,Bl(a)?Ax(a):(t=Wy(d,o,i),a.stateNode=t,pa(a))}return Vt(a),null;case 5:if(Be(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&pa(a);else{if(!o){if(a.stateNode===null)throw Error(l(166));return Vt(a),null}if(t=ce.current,Bl(a))Ax(a);else{switch(d=iu(ye.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}t[_s]=a,t[Us]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(ws(t,i,o),i){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pa(a)}}return Vt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&pa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(l(166));if(t=ye.current,Bl(a)){if(t=a.stateNode,i=a.memoizedProps,o=null,d=Ms,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[_s]=a,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Hy(t.nodeValue,i)),t||_r(a)}else t=iu(t).createTextNode(o),t[_s]=a,a.stateNode=t}return Vt(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Bl(a),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[_s]=a}else Il(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),d=!1}else d=kx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(ma(a),a):(ma(a),null)}if(ma(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=o!==null,t=t!==null&&t.memoizedState!==null,i){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)}return i!==t&&i&&(a.child.flags|=8192),Qc(a,a.updateQueue),Vt(a),null;case 4:return Ne(),t===null&&Lm(a.stateNode.containerInfo),Vt(a),null;case 10:return da(a.type),Vt(a),null;case 19:if(V(os),d=a.memoizedState,d===null)return Vt(a),null;if(o=(a.flags&128)!==0,h=d.rendering,h===null)if(o)Jl(d,!1);else{if(Qt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(h=Vc(t),h!==null){for(a.flags|=128,Jl(d,!1),t=h.updateQueue,a.updateQueue=t,Qc(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)Tx(i,t),i=i.sibling;return J(os,os.current&1|2),a.child}t=t.sibling}d.tail!==null&&ds()>Zc&&(a.flags|=128,o=!0,Jl(d,!1),a.lanes=4194304)}else{if(!o)if(t=Vc(h),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,Qc(a,t),Jl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!jt)return Vt(a),null}else 2*ds()-d.renderingStartTime>Zc&&i!==536870912&&(a.flags|=128,o=!0,Jl(d,!1),a.lanes=4194304);d.isBackwards?(h.sibling=a.child,a.child=h):(t=d.last,t!==null?t.sibling=h:a.child=h,d.last=h)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ds(),a.sibling=null,t=os.current,J(os,o?t&1|2:t&1),a):(Vt(a),null);case 22:case 23:return ma(a),Uf(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(i&536870912)!==0&&(a.flags&128)===0&&(Vt(a),a.subtreeFlags&6&&(a.flags|=8192)):Vt(a),i=a.updateQueue,i!==null&&Qc(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048),t!==null&&V(kr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),da(ls),Vt(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function p2(t,a){switch(_f(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return da(ls),Ne(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Be(a),null;case 13:if(ma(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(l(340));Il()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return V(os),null;case 4:return Ne(),null;case 10:return da(a.type),null;case 22:case 23:return ma(a),Uf(),t!==null&&V(kr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return da(ls),null;case 25:return null;default:return null}}function Jv(t,a){switch(_f(a),a.tag){case 3:da(ls),Ne();break;case 26:case 27:case 5:Be(a);break;case 4:Ne();break;case 13:ma(a);break;case 19:V(os);break;case 10:da(a.type);break;case 22:case 23:ma(a),Uf(),t!==null&&V(kr);break;case 24:da(ls)}}function eo(t,a){try{var i=a.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&t)===t){o=void 0;var h=i.create,N=i.inst;o=h(),N.destroy=o}i=i.next}while(i!==d)}}catch(A){Rt(a,a.return,A)}}function Fa(t,a,i){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var N=o.inst,A=N.destroy;if(A!==void 0){N.destroy=void 0,d=a;var I=i,K=A;try{K()}catch(ue){Rt(d,I,ue)}}}o=o.next}while(o!==h)}}catch(ue){Rt(a,a.return,ue)}}function ey(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{Ux(a,i)}catch(o){Rt(t,t.return,o)}}}function ty(t,a,i){i.props=Or(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Rt(t,a,o)}}function to(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(d){Rt(t,a,d)}}function Hn(t,a){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Rt(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Rt(t,a,d)}else i.current=null}function sy(t){var a=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Rt(t,t.return,d)}}function pm(t,a,i){try{var o=t.stateNode;B2(o,t.type,i,a),o[Us]=a}catch(d){Rt(t,t.return,d)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ka(t.type)||t.tag===4}function gm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ka(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xm(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=ru));else if(o!==4&&(o===27&&Ka(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(xm(t,a,i),t=t.sibling;t!==null;)xm(t,a,i),t=t.sibling}function Kc(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(o!==4&&(o===27&&Ka(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Kc(t,a,i),t=t.sibling;t!==null;)Kc(t,a,i),t=t.sibling}function ay(t){var a=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);ws(a,o,i),a[_s]=t,a[Us]=i}catch(h){Rt(t,t.return,h)}}var ga=!1,Xt=!1,vm=!1,ry=typeof WeakSet=="function"?WeakSet:Set,hs=null;function g2(t,a){if(t=t.containerInfo,Vm=fu,t=gx(t),gf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var N=0,A=-1,I=-1,K=0,ue=0,he=t,ee=null;t:for(;;){for(var te;he!==i||d!==0&&he.nodeType!==3||(A=N+d),he!==h||o!==0&&he.nodeType!==3||(I=N+o),he.nodeType===3&&(N+=he.nodeValue.length),(te=he.firstChild)!==null;)ee=he,he=te;for(;;){if(he===t)break t;if(ee===i&&++K===d&&(A=N),ee===h&&++ue===o&&(I=N),(te=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=te}i=A===-1||I===-1?null:{start:A,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(qm={focusedElem:t,selectionRange:i},fu=!1,hs=a;hs!==null;)if(a=hs,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,hs=t;else for(;hs!==null;){switch(a=hs,h=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=a,d=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var We=Or(i.type,d,i.elementType===i.type);t=o.getSnapshotBeforeUpdate(We,h),o.__reactInternalSnapshotBeforeUpdate=t}catch($e){Rt(i,i.return,$e)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Gm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=a.sibling,t!==null){t.return=a.return,hs=t;break}hs=a.return}}function iy(t,a,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ua(t,i),o&4&&eo(5,i);break;case 1:if(Ua(t,i),o&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(N){Rt(i,i.return,N)}else{var d=Or(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Rt(i,i.return,N)}}o&64&&ey(i),o&512&&to(i,i.return);break;case 3:if(Ua(t,i),o&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Ux(t,a)}catch(N){Rt(i,i.return,N)}}break;case 27:a===null&&o&4&&ay(i);case 26:case 5:Ua(t,i),a===null&&o&4&&sy(i),o&512&&to(i,i.return);break;case 12:Ua(t,i);break;case 13:Ua(t,i),o&4&&cy(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=C2.bind(null,i),q2(t,i))));break;case 22:if(o=i.memoizedState!==null||ga,!o){a=a!==null&&a.memoizedState!==null||Xt,d=ga;var h=Xt;ga=o,(Xt=a)&&!h?Va(t,i,(i.subtreeFlags&8772)!==0):Ua(t,i),ga=d,Xt=h}break;case 30:break;default:Ua(t,i)}}function ly(t){var a=t.alternate;a!==null&&(t.alternate=null,ly(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Zd(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,$s=!1;function xa(t,a,i){for(i=i.child;i!==null;)oy(t,a,i),i=i.sibling}function oy(t,a,i){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ke,i)}catch{}switch(i.tag){case 26:Xt||Hn(i,a),xa(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Xt||Hn(i,a);var o=Ft,d=$s;Ka(i.type)&&(Ft=i.stateNode,$s=!1),xa(t,a,i),uo(i.stateNode),Ft=o,$s=d;break;case 5:Xt||Hn(i,a);case 6:if(o=Ft,d=$s,Ft=null,xa(t,a,i),Ft=o,$s=d,Ft!==null)if($s)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(i.stateNode)}catch(h){Rt(i,a,h)}else try{Ft.removeChild(i.stateNode)}catch(h){Rt(i,a,h)}break;case 18:Ft!==null&&($s?(t=Ft,Zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),yo(t)):Zy(Ft,i.stateNode));break;case 4:o=Ft,d=$s,Ft=i.stateNode.containerInfo,$s=!0,xa(t,a,i),Ft=o,$s=d;break;case 0:case 11:case 14:case 15:Xt||Fa(2,i,a),Xt||Fa(4,i,a),xa(t,a,i);break;case 1:Xt||(Hn(i,a),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ty(i,a,o)),xa(t,a,i);break;case 21:xa(t,a,i);break;case 22:Xt=(o=Xt)||i.memoizedState!==null,xa(t,a,i),Xt=o;break;default:xa(t,a,i)}}function cy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(i){Rt(a,a.return,i)}}function x2(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new ry),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new ry),a;default:throw Error(l(435,t.tag))}}function ym(t,a){var i=x2(t);a.forEach(function(o){var d=T2.bind(null,t,o);i.has(o)||(i.add(o),o.then(d,d))})}function Ws(t,a){var i=a.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],h=t,N=a,A=N;e:for(;A!==null;){switch(A.tag){case 27:if(Ka(A.type)){Ft=A.stateNode,$s=!1;break e}break;case 5:Ft=A.stateNode,$s=!1;break e;case 3:case 4:Ft=A.stateNode.containerInfo,$s=!0;break e}A=A.return}if(Ft===null)throw Error(l(160));oy(h,N,d),Ft=null,$s=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)uy(a,t),a=a.sibling}var _n=null;function uy(t,a){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ws(a,t),Js(t),o&4&&(Fa(3,t,t.return),eo(3,t),Fa(5,t,t.return));break;case 1:Ws(a,t),Js(t),o&512&&(Xt||i===null||Hn(i,i.return)),o&64&&ga&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=_n;if(Ws(a,t),Js(t),o&512&&(Xt||i===null||Hn(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Cl]||h[_s]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),ws(h,o,i),h[_s]=t,fs(h),o=h;break e;case"link":var N=ab("link","href",d).get(o+(i.href||""));if(N){for(var A=0;A<N.length;A++)if(h=N[A],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(A,1);break t}}h=d.createElement(o),ws(h,o,i),d.head.appendChild(h);break;case"meta":if(N=ab("meta","content",d).get(o+(i.content||""))){for(A=0;A<N.length;A++)if(h=N[A],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(A,1);break t}}h=d.createElement(o),ws(h,o,i),d.head.appendChild(h);break;default:throw Error(l(468,o))}h[_s]=t,fs(h),o=h}t.stateNode=o}else rb(d,t.type,t.stateNode);else t.stateNode=nb(d,o,t.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?rb(d,t.type,t.stateNode):nb(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pm(t,t.memoizedProps,i.memoizedProps)}break;case 27:Ws(a,t),Js(t),o&512&&(Xt||i===null||Hn(i,i.return)),i!==null&&o&4&&pm(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Ws(a,t),Js(t),o&512&&(Xt||i===null||Hn(i,i.return)),t.flags&32){d=t.stateNode;try{li(d,"")}catch(te){Rt(t,t.return,te)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,pm(t,d,i!==null?i.memoizedProps:d)),o&1024&&(vm=!0);break;case 6:if(Ws(a,t),Js(t),o&4){if(t.stateNode===null)throw Error(l(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(te){Rt(t,t.return,te)}}break;case 3:if(cu=null,d=_n,_n=lu(a.containerInfo),Ws(a,t),_n=d,Js(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{yo(a.containerInfo)}catch(te){Rt(t,t.return,te)}vm&&(vm=!1,dy(t));break;case 4:o=_n,_n=lu(t.stateNode.containerInfo),Ws(a,t),Js(t),_n=o;break;case 12:Ws(a,t),Js(t);break;case 13:Ws(a,t),Js(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cm=ds()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ym(t,o)));break;case 22:d=t.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,K=ga,ue=Xt;if(ga=K||d,Xt=ue||I,Ws(a,t),Xt=ue,ga=K,Js(t),o&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(i===null||I||ga||Xt||Mr(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){I=i=a;try{if(h=I.stateNode,d)N=h.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{A=I.stateNode;var he=I.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;A.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Rt(I,I.return,te)}}}else if(a.tag===6){if(i===null){I=a;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(te){Rt(I,I.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,ym(t,i))));break;case 19:Ws(a,t),Js(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ym(t,o)));break;case 30:break;case 21:break;default:Ws(a,t),Js(t)}}function Js(t){var a=t.flags;if(a&2){try{for(var i,o=t.return;o!==null;){if(ny(o)){i=o;break}o=o.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var d=i.stateNode,h=gm(t);Kc(t,h,d);break;case 5:var N=i.stateNode;i.flags&32&&(li(N,""),i.flags&=-33);var A=gm(t);Kc(t,A,N);break;case 3:case 4:var I=i.stateNode.containerInfo,K=gm(t);xm(t,K,I);break;default:throw Error(l(161))}}catch(ue){Rt(t,t.return,ue)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;dy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ua(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)iy(t,a.alternate,a),a=a.sibling}function Mr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Fa(4,a,a.return),Mr(a);break;case 1:Hn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&ty(a,a.return,i),Mr(a);break;case 27:uo(a.stateNode);case 26:case 5:Hn(a,a.return),Mr(a);break;case 22:a.memoizedState===null&&Mr(a);break;case 30:Mr(a);break;default:Mr(a)}t=t.sibling}}function Va(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=t,h=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:Va(d,h,i),eo(4,h);break;case 1:if(Va(d,h,i),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Rt(o,o.return,K)}if(o=h,d=o.updateQueue,d!==null){var A=o.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Fx(I[d],A)}catch(K){Rt(o,o.return,K)}}i&&N&64&&ey(h),to(h,h.return);break;case 27:ay(h);case 26:case 5:Va(d,h,i),i&&o===null&&N&4&&sy(h),to(h,h.return);break;case 12:Va(d,h,i);break;case 13:Va(d,h,i),i&&N&4&&cy(d,h);break;case 22:h.memoizedState===null&&Va(d,h,i),to(h,h.return);break;case 30:break;default:Va(d,h,i)}a=a.sibling}}function bm(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Fl(i))}function jm(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Fl(t))}function Gn(t,a,i,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fy(t,a,i,o),a=a.sibling}function fy(t,a,i,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(t,a,i,o),d&2048&&eo(9,a);break;case 1:Gn(t,a,i,o);break;case 3:Gn(t,a,i,o),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Fl(t)));break;case 12:if(d&2048){Gn(t,a,i,o),t=a.stateNode;try{var h=a.memoizedProps,N=h.id,A=h.onPostCommit;typeof A=="function"&&A(N,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Rt(a,a.return,I)}}else Gn(t,a,i,o);break;case 13:Gn(t,a,i,o);break;case 23:break;case 22:h=a.stateNode,N=a.alternate,a.memoizedState!==null?h._visibility&2?Gn(t,a,i,o):so(t,a):h._visibility&2?Gn(t,a,i,o):(h._visibility|=2,Ti(t,a,i,o,(a.subtreeFlags&10256)!==0)),d&2048&&bm(N,a);break;case 24:Gn(t,a,i,o),d&2048&&jm(a.alternate,a);break;default:Gn(t,a,i,o)}}function Ti(t,a,i,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var h=t,N=a,A=i,I=o,K=N.flags;switch(N.tag){case 0:case 11:case 15:Ti(h,N,A,I,d),eo(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Ti(h,N,A,I,d):so(h,N):(ue._visibility|=2,Ti(h,N,A,I,d)),d&&K&2048&&bm(N.alternate,N);break;case 24:Ti(h,N,A,I,d),d&&K&2048&&jm(N.alternate,N);break;default:Ti(h,N,A,I,d)}a=a.sibling}}function so(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,o=a,d=o.flags;switch(o.tag){case 22:so(i,o),d&2048&&bm(o.alternate,o);break;case 24:so(i,o),d&2048&&jm(o.alternate,o);break;default:so(i,o)}a=a.sibling}}var no=8192;function _i(t){if(t.subtreeFlags&no)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 26:_i(t),t.flags&no&&t.memoizedState!==null&&s_(_n,t.memoizedState,t.memoizedProps);break;case 5:_i(t);break;case 3:case 4:var a=_n;_n=lu(t.stateNode.containerInfo),_i(t),_n=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=no,no=16777216,_i(t),no=a):_i(t));break;default:_i(t)}}function hy(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ao(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];hs=o,gy(o,t)}hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:ao(t),t.flags&2048&&Fa(9,t,t.return);break;case 3:ao(t);break;case 12:ao(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Yc(t)):ao(t);break;default:ao(t)}}function Yc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];hs=o,gy(o,t)}hy(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Fa(8,a,a.return),Yc(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Yc(a));break;default:Yc(a)}t=t.sibling}}function gy(t,a){for(;hs!==null;){var i=hs;switch(i.tag){case 0:case 11:case 15:Fa(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fl(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,hs=o;else e:for(i=t;hs!==null;){o=hs;var d=o.sibling,h=o.return;if(ly(o),o===i){hs=null;break e}if(d!==null){d.return=h,hs=d;break e}hs=h}}}var v2={getCacheForType:function(t){var a=As(ls),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i}},y2=typeof WeakMap=="function"?WeakMap:Map,St=0,Dt=null,dt=null,gt=0,Ct=0,en=null,qa=!1,Ai=!1,Nm=!1,va=0,Qt=0,$a=0,Dr=0,wm=0,vn=0,Ei=0,ro=null,Hs=null,Sm=!1,Cm=0,Zc=1/0,Xc=null,Ha=null,Ns=0,Ga=null,ki=null,Ri=0,Tm=0,_m=null,xy=null,io=0,Am=null;function tn(){if((St&2)!==0&&gt!==0)return gt&-gt;if(R.T!==null){var t=vi;return t!==0?t:Pm()}return Mg()}function vy(){vn===0&&(vn=(gt&536870912)===0||jt?Eg():536870912);var t=xn.current;return t!==null&&(t.flags|=32),vn}function sn(t,a,i){(t===Dt&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)&&(Oi(t,0),Qa(t,gt,vn,!1)),Sl(t,i),((St&2)===0||t!==Dt)&&(t===Dt&&((St&2)===0&&(Dr|=i),Qt===4&&Qa(t,gt,vn,!1)),Qn(t))}function yy(t,a,i){if((St&6)!==0)throw Error(l(327));var o=!i&&(a&124)===0&&(a&t.expiredLanes)===0||Vn(t,a),d=o?N2(t,a):Rm(t,a,!0),h=o;do{if(d===0){Ai&&!o&&Qa(t,a,0,!1);break}else{if(i=t.current.alternate,h&&!b2(i)){d=Rm(t,a,!1),h=!1;continue}if(d===2){if(h=a,t.errorRecoveryDisabledLanes&h)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var A=t;d=ro;var I=A.current.memoizedState.isDehydrated;if(I&&(Oi(A,N).flags|=256),N=Rm(A,N,!1),N!==2){if(Nm&&!I){A.errorRecoveryDisabledLanes|=h,Dr|=h,d=4;break e}h=Hs,Hs=d,h!==null&&(Hs===null?Hs=h:Hs.push.apply(Hs,h))}d=N}if(h=!1,d!==2)continue}}if(d===1){Oi(t,0),Qa(t,a,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:Qa(o,a,vn,!qa);break e;case 2:Hs=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(d=Cm+300-ds(),10<d)){if(Qa(o,a,vn,!qa),Nt(o,0,!0)!==0)break e;o.timeoutHandle=Ky(by.bind(null,o,i,Hs,Xc,Sm,a,vn,Dr,Ei,qa,h,2,-0,0),d);break e}by(o,i,Hs,Xc,Sm,a,vn,Dr,Ei,qa,h,0,-0,0)}}break}while(!0);Qn(t)}function by(t,a,i,o,d,h,N,A,I,K,ue,he,ee,te){if(t.timeoutHandle=-1,he=a.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:t_},my(a),he=n_(),he!==null)){t.cancelPendingCommit=he(_y.bind(null,t,a,h,i,o,d,N,A,I,ue,1,ee,te)),Qa(t,h,N,!K);return}_y(t,a,h,i,o,d,N,A,I)}function b2(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],h=d.getSnapshot;d=d.value;try{if(!Zs(h(),d))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qa(t,a,i,o){a&=~wm,a&=~Dr,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var d=a;0<d;){var h=31-bt(d),N=1<<h;o[h]=-1,d&=~N}i!==0&&Rg(t,i,a)}function Wc(){return(St&6)===0?(lo(0),!1):!0}function Em(){if(dt!==null){if(Ct===0)var t=dt.return;else t=dt,ua=Ar=null,Gf(t),Si=null,Xl=0,t=dt;for(;t!==null;)Jv(t.alternate,t),t=t.return;dt=null}}function Oi(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,z2(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Em(),Dt=t,dt=i=la(t.current,null),gt=a,Ct=0,en=null,qa=!1,Ai=Vn(t,a),Nm=!1,Ei=vn=wm=Dr=$a=Qt=0,Hs=ro=null,Sm=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var d=31-bt(o),h=1<<d;a|=t[d],o&=~h}return va=a,bc(),i}function jy(t,a){ot=null,R.H=Lc,a===Vl||a===Ec?(a=zx(),Ct=3):a===Px?(a=zx(),Ct=4):Ct=a===Lv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,en=a,dt===null&&(Qt=1,$c(t,mn(a,t.current)))}function Ny(){var t=R.H;return R.H=Lc,t===null?Lc:t}function wy(){var t=R.A;return R.A=v2,t}function km(){Qt=4,qa||(gt&4194048)!==gt&&xn.current!==null||(Ai=!0),($a&134217727)===0&&(Dr&134217727)===0||Dt===null||Qa(Dt,gt,vn,!1)}function Rm(t,a,i){var o=St;St|=2;var d=Ny(),h=wy();(Dt!==t||gt!==a)&&(Xc=null,Oi(t,a)),a=!1;var N=Qt;e:do try{if(Ct!==0&&dt!==null){var A=dt,I=en;switch(Ct){case 8:Em(),N=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(a=!0);var K=Ct;if(Ct=0,en=null,Mi(t,A,I,K),i&&Ai){N=0;break e}break;default:K=Ct,Ct=0,en=null,Mi(t,A,I,K)}}j2(),N=Qt;break}catch(ue){jy(t,ue)}while(!0);return a&&t.shellSuspendCounter++,ua=Ar=null,St=o,R.H=d,R.A=h,dt===null&&(Dt=null,gt=0,bc()),N}function j2(){for(;dt!==null;)Sy(dt)}function N2(t,a){var i=St;St|=2;var o=Ny(),d=wy();Dt!==t||gt!==a?(Xc=null,Zc=ds()+500,Oi(t,a)):Ai=Vn(t,a);e:do try{if(Ct!==0&&dt!==null){a=dt;var h=en;t:switch(Ct){case 1:Ct=0,en=null,Mi(t,a,h,1);break;case 2:case 9:if(Bx(h)){Ct=0,en=null,Cy(a);break}a=function(){Ct!==2&&Ct!==9||Dt!==t||(Ct=7),Qn(t)},h.then(a,a);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Bx(h)?(Ct=0,en=null,Cy(a)):(Ct=0,en=null,Mi(t,a,h,7));break;case 5:var N=null;switch(dt.tag){case 26:N=dt.memoizedState;case 5:case 27:var A=dt;if(!N||ib(N)){Ct=0,en=null;var I=A.sibling;if(I!==null)dt=I;else{var K=A.return;K!==null?(dt=K,Jc(K)):dt=null}break t}}Ct=0,en=null,Mi(t,a,h,5);break;case 6:Ct=0,en=null,Mi(t,a,h,6);break;case 8:Em(),Qt=6;break e;default:throw Error(l(462))}}w2();break}catch(ue){jy(t,ue)}while(!0);return ua=Ar=null,R.H=o,R.A=d,St=i,dt!==null?0:(Dt=null,gt=0,bc(),Qt)}function w2(){for(;dt!==null&&!un();)Sy(dt)}function Sy(t){var a=Xv(t.alternate,t,va);t.memoizedProps=t.pendingProps,a===null?Jc(t):dt=a}function Cy(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=Hv(i,a,a.pendingProps,a.type,void 0,gt);break;case 11:a=Hv(i,a,a.pendingProps,a.type.render,a.ref,gt);break;case 5:Gf(a);default:Jv(i,a),a=dt=Tx(a,va),a=Xv(i,a,va)}t.memoizedProps=t.pendingProps,a===null?Jc(t):dt=a}function Mi(t,a,i,o){ua=Ar=null,Gf(a),Si=null,Xl=0;var d=a.return;try{if(f2(t,d,a,i,gt)){Qt=1,$c(t,mn(i,t.current)),dt=null;return}}catch(h){if(d!==null)throw dt=d,h;Qt=1,$c(t,mn(i,t.current)),dt=null;return}a.flags&32768?(jt||o===1?t=!0:Ai||(gt&536870912)!==0?t=!1:(qa=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(a,t)):Jc(a)}function Jc(t){var a=t;do{if((a.flags&32768)!==0){Ty(a,qa);return}t=a.return;var i=h2(a.alternate,a,va);if(i!==null){dt=i;return}if(a=a.sibling,a!==null){dt=a;return}dt=a=t}while(a!==null);Qt===0&&(Qt=5)}function Ty(t,a){do{var i=p2(t.alternate,t);if(i!==null){i.flags&=32767,dt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){dt=t;return}dt=t=i}while(t!==null);Qt=6,dt=null}function _y(t,a,i,o,d,h,N,A,I){t.cancelPendingCommit=null;do eu();while(Ns!==0);if((St&6)!==0)throw Error(l(327));if(a!==null){if(a===t.current)throw Error(l(177));if(h=a.lanes|a.childLanes,h|=jf,tT(t,i,h,N,A,I),t===Dt&&(dt=Dt=null,gt=0),ki=a,Ga=t,Ri=i,Tm=h,_m=d,xy=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_2(H,function(){return Oy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,d=S.p,S.p=2,N=St,St|=4;try{g2(t,a,i)}finally{St=N,S.p=d,R.T=o}}Ns=1,Ay(),Ey(),ky()}}function Ay(){if(Ns===1){Ns=0;var t=Ga,a=ki,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var o=S.p;S.p=2;var d=St;St|=4;try{uy(a,t);var h=qm,N=gx(t.containerInfo),A=h.focusedElem,I=h.selectionRange;if(N!==A&&A&&A.ownerDocument&&px(A.ownerDocument.documentElement,A)){if(I!==null&&gf(A)){var K=I.start,ue=I.end;if(ue===void 0&&(ue=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ue,A.value.length);else{var he=A.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),We=A.textContent.length,$e=Math.min(I.start,We),At=I.end===void 0?$e:Math.min(I.end,We);!te.extend&&$e>At&&(N=At,At=$e,$e=N);var q=hx(A,$e),F=hx(A,At);if(q&&F&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var G=he.createRange();G.setStart(q.node,q.offset),te.removeAllRanges(),$e>At?(te.addRange(G),te.extend(F.node,F.offset)):(G.setEnd(F.node,F.offset),te.addRange(G))}}}}for(he=[],te=A;te=te.parentNode;)te.nodeType===1&&he.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<he.length;A++){var fe=he[A];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}fu=!!Vm,qm=Vm=null}finally{St=d,S.p=o,R.T=i}}t.current=a,Ns=2}}function Ey(){if(Ns===2){Ns=0;var t=Ga,a=ki,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var o=S.p;S.p=2;var d=St;St|=4;try{iy(t,a.alternate,a)}finally{St=d,S.p=o,R.T=i}}Ns=3}}function ky(){if(Ns===4||Ns===3){Ns=0,Cn();var t=Ga,a=ki,i=Ri,o=xy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ns=5:(Ns=0,ki=Ga=null,Ry(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ha=null),Kd(i),a=a.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ke,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=R.T,d=S.p,S.p=2,R.T=null;try{for(var h=t.onRecoverableError,N=0;N<o.length;N++){var A=o[N];h(A.value,{componentStack:A.stack})}}finally{R.T=a,S.p=d}}(Ri&3)!==0&&eu(),Qn(t),d=t.pendingLanes,(i&4194090)!==0&&(d&42)!==0?t===Am?io++:(io=0,Am=t):io=0,lo(0)}}function Ry(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Fl(a)))}function eu(t){return Ay(),Ey(),ky(),Oy()}function Oy(){if(Ns!==5)return!1;var t=Ga,a=Tm;Tm=0;var i=Kd(Ri),o=R.T,d=S.p;try{S.p=32>i?32:i,R.T=null,i=_m,_m=null;var h=Ga,N=Ri;if(Ns=0,ki=Ga=null,Ri=0,(St&6)!==0)throw Error(l(331));var A=St;if(St|=4,py(h.current),fy(h,h.current,N,i),St=A,lo(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ke,h)}catch{}return!0}finally{S.p=d,R.T=o,Ry(t,a)}}function My(t,a,i){a=mn(i,a),a=im(t.stateNode,a,2),t=Ba(t,a,2),t!==null&&(Sl(t,2),Qn(t))}function Rt(t,a,i){if(t.tag===3)My(t,t,i);else for(;a!==null;){if(a.tag===3){My(a,t,i);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ha===null||!Ha.has(o))){t=mn(i,t),i=Iv(2),o=Ba(a,i,2),o!==null&&(zv(i,o,a,t),Sl(o,2),Qn(o));break}}a=a.return}}function Om(t,a,i){var o=t.pingCache;if(o===null){o=t.pingCache=new y2;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(i)||(Nm=!0,d.add(i),t=S2.bind(null,t,a,i),a.then(t,t))}function S2(t,a,i){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Dt===t&&(gt&i)===i&&(Qt===4||Qt===3&&(gt&62914560)===gt&&300>ds()-Cm?(St&2)===0&&Oi(t,0):wm|=i,Ei===gt&&(Ei=0)),Qn(t)}function Dy(t,a){a===0&&(a=kg()),t=hi(t,a),t!==null&&(Sl(t,a),Qn(t))}function C2(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),Dy(t,i)}function T2(t,a){var i=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(a),Dy(t,i)}function _2(t,a){return is(t,a)}var tu=null,Di=null,Mm=!1,su=!1,Dm=!1,Pr=0;function Qn(t){t!==Di&&t.next===null&&(Di===null?tu=Di=t:Di=Di.next=t),su=!0,Mm||(Mm=!0,E2())}function lo(t,a){if(!Dm&&su){Dm=!0;do for(var i=!1,o=tu;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var N=o.suspendedLanes,A=o.pingedLanes;h=(1<<31-bt(42|t)+1)-1,h&=d&~(N&~A),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,zy(o,h))}else h=gt,h=Nt(o,o===Dt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Vn(o,h)||(i=!0,zy(o,h));o=o.next}while(i);Dm=!1}}function A2(){Py()}function Py(){su=Mm=!1;var t=0;Pr!==0&&(I2()&&(t=Pr),Pr=0);for(var a=ds(),i=null,o=tu;o!==null;){var d=o.next,h=By(o,a);h===0?(o.next=null,i===null?tu=d:i.next=d,d===null&&(Di=i)):(i=o,(t!==0||(h&3)!==0)&&(su=!0)),o=d}lo(t)}function By(t,a){for(var i=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var N=31-bt(h),A=1<<N,I=d[N];I===-1?((A&i)===0||(A&o)!==0)&&(d[N]=ka(A,a)):I<=a&&(t.expiredLanes|=A),h&=~A}if(a=Dt,i=gt,i=Nt(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===a&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&nt(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Vn(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(o!==null&&nt(o),Kd(i)){case 2:case 8:i=L;break;case 32:i=H;break;case 268435456:i=Se;break;default:i=H}return o=Iy.bind(null,t),i=is(i,o),t.callbackPriority=a,t.callbackNode=i,a}return o!==null&&o!==null&&nt(o),t.callbackPriority=2,t.callbackNode=null,2}function Iy(t,a){if(Ns!==0&&Ns!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(eu()&&t.callbackNode!==i)return null;var o=gt;return o=Nt(t,t===Dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(yy(t,o,a),By(t,ds()),t.callbackNode!=null&&t.callbackNode===i?Iy.bind(null,t):null)}function zy(t,a){if(eu())return null;yy(t,a,!0)}function E2(){L2(function(){(St&6)!==0?is(vr,A2):Py()})}function Pm(){return Pr===0&&(Pr=Eg()),Pr}function Ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mc(""+t)}function Fy(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function k2(t,a,i,o,d){if(a==="submit"&&i&&i.stateNode===d){var h=Ly((d[Us]||null).action),N=o.submitter;N&&(a=(a=N[Us]||null)?Ly(a.formAction):N.getAttribute("formAction"),a!==null&&(h=a,N=null));var A=new xc("action","action",null,o,d);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pr!==0){var I=N?Fy(d,N):new FormData(d);tm(i,{pending:!0,data:I,method:d.method,action:h},null,I)}}else typeof h=="function"&&(A.preventDefault(),I=N?Fy(d,N):new FormData(d),tm(i,{pending:!0,data:I,method:d.method,action:h},h,I))},currentTarget:d}]})}}for(var Bm=0;Bm<bf.length;Bm++){var Im=bf[Bm],R2=Im.toLowerCase(),O2=Im[0].toUpperCase()+Im.slice(1);Tn(R2,"on"+O2)}Tn(yx,"onAnimationEnd"),Tn(bx,"onAnimationIteration"),Tn(jx,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(YT,"onTransitionRun"),Tn(ZT,"onTransitionStart"),Tn(XT,"onTransitionCancel"),Tn(Nx,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Uy(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],d=o.event;o=o.listeners;e:{var h=void 0;if(a)for(var N=o.length-1;0<=N;N--){var A=o[N],I=A.instance,K=A.currentTarget;if(A=A.listener,I!==h&&d.isPropagationStopped())break e;h=A,d.currentTarget=K;try{h(d)}catch(ue){qc(ue)}d.currentTarget=null,h=I}else for(N=0;N<o.length;N++){if(A=o[N],I=A.instance,K=A.currentTarget,A=A.listener,I!==h&&d.isPropagationStopped())break e;h=A,d.currentTarget=K;try{h(d)}catch(ue){qc(ue)}d.currentTarget=null,h=I}}}}function ft(t,a){var i=a[Yd];i===void 0&&(i=a[Yd]=new Set);var o=t+"__bubble";i.has(o)||(Vy(a,t,2,!1),i.add(o))}function zm(t,a,i){var o=0;a&&(o|=4),Vy(i,t,o,a)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Lm(t){if(!t[nu]){t[nu]=!0,Pg.forEach(function(i){i!=="selectionchange"&&(M2.has(i)||zm(i,!1,t),zm(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[nu]||(a[nu]=!0,zm("selectionchange",!1,a))}}function Vy(t,a,i,o){switch(fb(a)){case 2:var d=i_;break;case 8:d=l_;break;default:d=Jm}i=d.bind(null,a,i,t),d=void 0,!lf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(a,i,{capture:!0,passive:d}):t.addEventListener(a,i,!0):d!==void 0?t.addEventListener(a,i,{passive:d}):t.addEventListener(a,i,!1)}function Fm(t,a,i,o,d){var h=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var N=o.tag;if(N===3||N===4){var A=o.stateNode.containerInfo;if(A===d)break;if(N===4)for(N=o.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===d)return;N=N.return}for(;A!==null;){if(N=ti(A),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){o=h=N;continue e}A=A.parentNode}}o=o.return}Yg(function(){var K=h,ue=af(i),he=[];e:{var ee=wx.get(t);if(ee!==void 0){var te=xc,We=t;switch(t){case"keypress":if(pc(i)===0)break e;case"keydown":case"keyup":te=_T;break;case"focusin":We="focus",te=df;break;case"focusout":We="blur",te=df;break;case"beforeblur":case"afterblur":te=df;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=pT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=kT;break;case yx:case bx:case jx:te=vT;break;case Nx:te=OT;break;case"scroll":case"scrollend":te=mT;break;case"wheel":te=DT;break;case"copy":case"cut":case"paste":te=bT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ex;break;case"toggle":case"beforetoggle":te=BT}var $e=(a&4)!==0,At=!$e&&(t==="scroll"||t==="scrollend"),q=$e?ee!==null?ee+"Capture":null:ee;$e=[];for(var F=K,G;F!==null;){var fe=F;if(G=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||G===null||q===null||(fe=_l(F,q),fe!=null&&$e.push(co(F,fe,G))),At)break;F=F.return}0<$e.length&&(ee=new te(ee,We,null,i,ue),he.push({event:ee,listeners:$e}))}}if((a&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&i!==nf&&(We=i.relatedTarget||i.fromElement)&&(ti(We)||We[ei]))break e;if((te||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(We=i.relatedTarget||i.toElement,te=K,We=We?ti(We):null,We!==null&&(At=u(We),$e=We.tag,We!==At||$e!==5&&$e!==27&&$e!==6)&&(We=null)):(te=null,We=K),te!==We)){if($e=Wg,fe="onMouseLeave",q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&($e=ex,fe="onPointerLeave",q="onPointerEnter",F="pointer"),At=te==null?ee:Tl(te),G=We==null?ee:Tl(We),ee=new $e(fe,F+"leave",te,i,ue),ee.target=At,ee.relatedTarget=G,fe=null,ti(ue)===K&&($e=new $e(q,F+"enter",We,i,ue),$e.target=G,$e.relatedTarget=At,fe=$e),At=fe,te&&We)t:{for($e=te,q=We,F=0,G=$e;G;G=Pi(G))F++;for(G=0,fe=q;fe;fe=Pi(fe))G++;for(;0<F-G;)$e=Pi($e),F--;for(;0<G-F;)q=Pi(q),G--;for(;F--;){if($e===q||q!==null&&$e===q.alternate)break t;$e=Pi($e),q=Pi(q)}$e=null}else $e=null;te!==null&&qy(he,ee,te,$e,!1),We!==null&&At!==null&&qy(he,At,We,$e,!0)}}e:{if(ee=K?Tl(K):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Oe=ox;else if(ix(ee))if(cx)Oe=GT;else{Oe=$T;var ut=qT}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?K&&sf(K.elementType)&&(Oe=ox):Oe=HT;if(Oe&&(Oe=Oe(t,K))){lx(he,Oe,i,ue);break e}ut&&ut(t,ee,K),t==="focusout"&&K&&ee.type==="number"&&K.memoizedProps.value!=null&&tf(ee,"number",ee.value)}switch(ut=K?Tl(K):window,t){case"focusin":(ix(ut)||ut.contentEditable==="true")&&(di=ut,xf=K,Pl=null);break;case"focusout":Pl=xf=di=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,xx(he,i,ue);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":xx(he,i,ue)}var Fe;if(mf)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ui?ax(t,i)&&(Qe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Qe="onCompositionStart");Qe&&(tx&&i.locale!=="ko"&&(ui||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ui&&(Fe=Zg()):(Oa=ue,of="value"in Oa?Oa.value:Oa.textContent,ui=!0)),ut=au(K,Qe),0<ut.length&&(Qe=new Jg(Qe,t,null,i,ue),he.push({event:Qe,listeners:ut}),Fe?Qe.data=Fe:(Fe=rx(i),Fe!==null&&(Qe.data=Fe)))),(Fe=zT?LT(t,i):FT(t,i))&&(Qe=au(K,"onBeforeInput"),0<Qe.length&&(ut=new Jg("onBeforeInput","beforeinput",null,i,ue),he.push({event:ut,listeners:Qe}),ut.data=Fe)),k2(he,t,K,i,ue)}Uy(he,a)})}function co(t,a,i){return{instance:t,listener:a,currentTarget:i}}function au(t,a){for(var i=a+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=_l(t,i),d!=null&&o.unshift(co(t,d,h)),d=_l(t,a),d!=null&&o.push(co(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qy(t,a,i,o,d){for(var h=a._reactName,N=[];i!==null&&i!==o;){var A=i,I=A.alternate,K=A.stateNode;if(A=A.tag,I!==null&&I===o)break;A!==5&&A!==26&&A!==27||K===null||(I=K,d?(K=_l(i,h),K!=null&&N.unshift(co(i,K,I))):d||(K=_l(i,h),K!=null&&N.push(co(i,K,I)))),i=i.return}N.length!==0&&t.push({event:a,listeners:N})}var D2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(D2,`
`).replace(P2,"")}function Hy(t,a){return a=$y(a),$y(t)===a}function ru(){}function _t(t,a,i,o,d,h){switch(i){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||li(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&li(t,""+o);break;case"className":uc(t,"class",o);break;case"tabIndex":uc(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":uc(t,i,o);break;case"style":Qg(t,o,h);break;case"data":if(a!=="object"){uc(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=mc(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(a!=="input"&&_t(t,a,"name",d.name,d,null),_t(t,a,"formEncType",d.formEncType,d,null),_t(t,a,"formMethod",d.formMethod,d,null),_t(t,a,"formTarget",d.formTarget,d,null)):(_t(t,a,"encType",d.encType,d,null),_t(t,a,"method",d.method,d,null),_t(t,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=mc(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=ru);break;case"onScroll":o!=null&&ft("scroll",t);break;case"onScrollEnd":o!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=mc(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":ft("beforetoggle",t),ft("toggle",t),cc(t,"popover",o);break;case"xlinkActuate":ra(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ra(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ra(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ra(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ra(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ra(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ra(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ra(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ra(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cc(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=dT.get(i)||i,cc(t,i,o))}}function Um(t,a,i,o,d,h){switch(i){case"style":Qg(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof o=="string"?li(t,o):(typeof o=="number"||typeof o=="bigint")&&li(t,""+o);break;case"onScroll":o!=null&&ft("scroll",t);break;case"onScrollEnd":o!=null&&ft("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bg.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),a=i.slice(2,d?i.length-7:void 0),h=t[Us]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(a,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,o,d);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):cc(t,i,o)}}}function ws(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var o=!1,d=!1,h;for(h in i)if(i.hasOwnProperty(h)){var N=i[h];if(N!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:_t(t,a,h,N,i,null)}}d&&_t(t,a,"srcSet",i.srcSet,i,null),o&&_t(t,a,"src",i.src,i,null);return;case"input":ft("invalid",t);var A=h=N=d=null,I=null,K=null;for(o in i)if(i.hasOwnProperty(o)){var ue=i[o];if(ue!=null)switch(o){case"name":d=ue;break;case"type":N=ue;break;case"checked":I=ue;break;case"defaultChecked":K=ue;break;case"value":h=ue;break;case"defaultValue":A=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,a));break;default:_t(t,a,o,ue,i,null)}}qg(t,h,A,I,K,N,d,!1),dc(t);return;case"select":ft("invalid",t),o=N=h=null;for(d in i)if(i.hasOwnProperty(d)&&(A=i[d],A!=null))switch(d){case"value":h=A;break;case"defaultValue":N=A;break;case"multiple":o=A;default:_t(t,a,d,A,i,null)}a=h,i=N,t.multiple=!!o,a!=null?ii(t,!!o,a,!1):i!=null&&ii(t,!!o,i,!0);return;case"textarea":ft("invalid",t),h=d=o=null;for(N in i)if(i.hasOwnProperty(N)&&(A=i[N],A!=null))switch(N){case"value":o=A;break;case"defaultValue":d=A;break;case"children":h=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:_t(t,a,N,A,i,null)}Hg(t,o,d,h),dc(t);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(o=i[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:_t(t,a,I,o,i,null)}return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(o=0;o<oo.length;o++)ft(oo[o],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in i)if(i.hasOwnProperty(K)&&(o=i[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:_t(t,a,K,o,i,null)}return;default:if(sf(a)){for(ue in i)i.hasOwnProperty(ue)&&(o=i[ue],o!==void 0&&Um(t,a,ue,o,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(o=i[A],o!=null&&_t(t,a,A,o,i,null))}function B2(t,a,i,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,N=null,A=null,I=null,K=null,ue=null;for(te in i){var he=i[te];if(i.hasOwnProperty(te)&&he!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":I=he;default:o.hasOwnProperty(te)||_t(t,a,te,null,o,he)}}for(var ee in o){var te=o[ee];if(he=i[ee],o.hasOwnProperty(ee)&&(te!=null||he!=null))switch(ee){case"type":h=te;break;case"name":d=te;break;case"checked":K=te;break;case"defaultChecked":ue=te;break;case"value":N=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,a));break;default:te!==he&&_t(t,a,ee,te,o,he)}}ef(t,N,A,I,K,ue,h,d);return;case"select":te=N=A=ee=null;for(h in i)if(I=i[h],i.hasOwnProperty(h)&&I!=null)switch(h){case"value":break;case"multiple":te=I;default:o.hasOwnProperty(h)||_t(t,a,h,null,o,I)}for(d in o)if(h=o[d],I=i[d],o.hasOwnProperty(d)&&(h!=null||I!=null))switch(d){case"value":ee=h;break;case"defaultValue":A=h;break;case"multiple":N=h;default:h!==I&&_t(t,a,d,h,o,I)}a=A,i=N,o=te,ee!=null?ii(t,!!i,ee,!1):!!o!=!!i&&(a!=null?ii(t,!!i,a,!0):ii(t,!!i,i?[]:"",!1));return;case"textarea":te=ee=null;for(A in i)if(d=i[A],i.hasOwnProperty(A)&&d!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:_t(t,a,A,null,o,d)}for(N in o)if(d=o[N],h=i[N],o.hasOwnProperty(N)&&(d!=null||h!=null))switch(N){case"value":ee=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&_t(t,a,N,d,o,h)}$g(t,ee,te);return;case"option":for(var We in i)if(ee=i[We],i.hasOwnProperty(We)&&ee!=null&&!o.hasOwnProperty(We))switch(We){case"selected":t.selected=!1;break;default:_t(t,a,We,null,o,ee)}for(I in o)if(ee=o[I],te=i[I],o.hasOwnProperty(I)&&ee!==te&&(ee!=null||te!=null))switch(I){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:_t(t,a,I,ee,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in i)ee=i[$e],i.hasOwnProperty($e)&&ee!=null&&!o.hasOwnProperty($e)&&_t(t,a,$e,null,o,ee);for(K in o)if(ee=o[K],te=i[K],o.hasOwnProperty(K)&&ee!==te&&(ee!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,a));break;default:_t(t,a,K,ee,o,te)}return;default:if(sf(a)){for(var At in i)ee=i[At],i.hasOwnProperty(At)&&ee!==void 0&&!o.hasOwnProperty(At)&&Um(t,a,At,void 0,o,ee);for(ue in o)ee=o[ue],te=i[ue],!o.hasOwnProperty(ue)||ee===te||ee===void 0&&te===void 0||Um(t,a,ue,ee,o,te);return}}for(var q in i)ee=i[q],i.hasOwnProperty(q)&&ee!=null&&!o.hasOwnProperty(q)&&_t(t,a,q,null,o,ee);for(he in o)ee=o[he],te=i[he],!o.hasOwnProperty(he)||ee===te||ee==null&&te==null||_t(t,a,he,ee,o,te)}var Vm=null,qm=null;function iu(t){return t.nodeType===9?t:t.ownerDocument}function Gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function $m(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hm=null;function I2(){var t=window.event;return t&&t.type==="popstate"?t===Hm?!1:(Hm=t,!0):(Hm=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,z2=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(F2)}:Ky;function F2(t){setTimeout(function(){throw t})}function Ka(t){return t==="head"}function Zy(t,a){var i=a,o=0,d=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<o&&8>o){i=o;var N=t.ownerDocument;if(i&1&&uo(N.documentElement),i&2&&uo(N.body),i&4)for(i=N.head,uo(i),N=i.firstChild;N;){var A=N.nextSibling,I=N.nodeName;N[Cl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||i.removeChild(N),N=A}}if(d===0){t.removeChild(h),yo(a);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:o=i.charCodeAt(0)-48;else o=0;i=h}while(i);yo(a)}function Gm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gm(i),Zd(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function U2(t,a,i,o){for(;t.nodeType===1;){var d=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Cl])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function V2(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=An(t.nextSibling),t===null))return null;return t}function Qm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function q2(t,a){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")a();else{var o=function(){a(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function An(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Km=null;function Xy(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return t;a--}else i==="/$"&&a++}t=t.previousSibling}return null}function Wy(t,a,i){switch(a=iu(i),t){case"html":if(t=a.documentElement,!t)throw Error(l(452));return t;case"head":if(t=a.head,!t)throw Error(l(453));return t;case"body":if(t=a.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function uo(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Zd(t)}var yn=new Map,Jy=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ya=S.d;S.d={f:$2,r:H2,D:G2,C:Q2,L:K2,m:Y2,X:X2,S:Z2,M:W2};function $2(){var t=ya.f(),a=Wc();return t||a}function H2(t){var a=si(t);a!==null&&a.tag===5&&a.type==="form"?yv(a):ya.r(t)}var Bi=typeof document>"u"?null:document;function eb(t,a,i){var o=Bi;if(o&&typeof a=="string"&&a){var d=fn(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Jy.has(d)||(Jy.add(d),t={rel:t,crossOrigin:i,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),ws(a,"link",t),fs(a),o.head.appendChild(a)))}}function G2(t){ya.D(t),eb("dns-prefetch",t,null)}function Q2(t,a){ya.C(t,a),eb("preconnect",t,a)}function K2(t,a,i){ya.L(t,a,i);var o=Bi;if(o&&t&&a){var d='link[rel="preload"][as="'+fn(a)+'"]';a==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+fn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+fn(i.imageSizes)+'"]')):d+='[href="'+fn(t)+'"]';var h=d;switch(a){case"style":h=Ii(t);break;case"script":h=zi(t)}yn.has(h)||(t=x({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),yn.set(h,t),o.querySelector(d)!==null||a==="style"&&o.querySelector(fo(h))||a==="script"&&o.querySelector(mo(h))||(a=o.createElement("link"),ws(a,"link",t),fs(a),o.head.appendChild(a)))}}function Y2(t,a){ya.m(t,a);var i=Bi;if(i&&t){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=zi(t)}if(!yn.has(h)&&(t=x({rel:"modulepreload",href:t},a),yn.set(h,t),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(mo(h)))return}o=i.createElement("link"),ws(o,"link",t),fs(o),i.head.appendChild(o)}}}function Z2(t,a,i){ya.S(t,a,i);var o=Bi;if(o&&t){var d=ni(o).hoistableStyles,h=Ii(t);a=a||"default";var N=d.get(h);if(!N){var A={loading:0,preload:null};if(N=o.querySelector(fo(h)))A.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":a},i),(i=yn.get(h))&&Ym(t,i);var I=N=o.createElement("link");fs(I),ws(I,"link",t),I._p=new Promise(function(K,ue){I.onload=K,I.onerror=ue}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ou(N,a,o)}N={type:"stylesheet",instance:N,count:1,state:A},d.set(h,N)}}}function X2(t,a){ya.X(t,a);var i=Bi;if(i&&t){var o=ni(i).hoistableScripts,d=zi(t),h=o.get(d);h||(h=i.querySelector(mo(d)),h||(t=x({src:t,async:!0},a),(a=yn.get(d))&&Zm(t,a),h=i.createElement("script"),fs(h),ws(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function W2(t,a){ya.M(t,a);var i=Bi;if(i&&t){var o=ni(i).hoistableScripts,d=zi(t),h=o.get(d);h||(h=i.querySelector(mo(d)),h||(t=x({src:t,async:!0,type:"module"},a),(a=yn.get(d))&&Zm(t,a),h=i.createElement("script"),fs(h),ws(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function tb(t,a,i,o){var d=(d=ye.current)?lu(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Ii(i.href),i=ni(d).hoistableStyles,o=i.get(a),o||(o={type:"style",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ii(i.href);var h=ni(d).hoistableStyles,N=h.get(t);if(N||(d=d.ownerDocument||d,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,N),(h=d.querySelector(fo(t)))&&!h._p&&(N.instance=h,N.state.loading=5),yn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},yn.set(t,i),h||J2(d,t,i,N.state))),a&&o===null)throw Error(l(528,""));return N}if(a&&o!==null)throw Error(l(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zi(i),i=ni(d).hoistableScripts,o=i.get(a),o||(o={type:"script",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Ii(t){return'href="'+fn(t)+'"'}function fo(t){return'link[rel="stylesheet"]['+t+"]"}function sb(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function J2(t,a,i,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),ws(a,"link",i),fs(a),t.head.appendChild(a))}function zi(t){return'[src="'+fn(t)+'"]'}function mo(t){return"script[async]"+t}function nb(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+fn(i.href)+'"]');if(o)return a.instance=o,fs(o),o;var d=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),fs(o),ws(o,"style",d),ou(o,i.precedence,t),a.instance=o;case"stylesheet":d=Ii(i.href);var h=t.querySelector(fo(d));if(h)return a.state.loading|=4,a.instance=h,fs(h),h;o=sb(i),(d=yn.get(d))&&Ym(o,d),h=(t.ownerDocument||t).createElement("link"),fs(h);var N=h;return N._p=new Promise(function(A,I){N.onload=A,N.onerror=I}),ws(h,"link",o),a.state.loading|=4,ou(h,i.precedence,t),a.instance=h;case"script":return h=zi(i.src),(d=t.querySelector(mo(h)))?(a.instance=d,fs(d),d):(o=i,(d=yn.get(h))&&(o=x({},i),Zm(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),fs(d),ws(d,"link",o),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,ou(o,i.precedence,t));return a.instance}function ou(t,a,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,N=0;N<o.length;N++){var A=o[N];if(A.dataset.precedence===a)h=A;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function Ym(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Zm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var cu=null;function ab(t,a,i){if(cu===null){var o=new Map,d=cu=new Map;d.set(i,o)}else d=cu,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),d=0;d<i.length;d++){var h=i[d];if(!(h[Cl]||h[_s]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var N=h.getAttribute(a)||"";N=t+N;var A=o.get(N);A?A.push(h):o.set(N,[h])}}return o}function rb(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function e_(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ib(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ho=null;function t_(){}function s_(t,a,i){if(ho===null)throw Error(l(475));var o=ho;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Ii(i.href),h=t.querySelector(fo(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=uu.bind(o),t.then(o,o)),a.state.loading|=4,a.instance=h,fs(h);return}h=t.ownerDocument||t,i=sb(i),(d=yn.get(d))&&Ym(i,d),h=h.createElement("link"),fs(h);var N=h;N._p=new Promise(function(A,I){N.onload=A,N.onerror=I}),ws(h,"link",i),a.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=uu.bind(o),t.addEventListener("load",a),t.addEventListener("error",a))}}function n_(){if(ho===null)throw Error(l(475));var t=ho;return t.stylesheets&&t.count===0&&Xm(t,t.stylesheets),0<t.count?function(a){var i=setTimeout(function(){if(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i)}}:null}function uu(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var du=null;function Xm(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,du=new Map,a.forEach(a_,t),du=null,uu.call(t))}function a_(t,a){if(!(a.state.loading&4)){var i=du.get(t);if(i)var o=i.get(null);else{i=new Map,du.set(t,i);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var N=d[h];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),o=N)}o&&i.set(null,o)}d=a.instance,N=d.getAttribute("data-precedence"),h=i.get(N)||o,h===o&&i.set(null,d),i.set(N,d),this.count++,o=uu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var po={$$typeof:B,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function r_(t,a,i,o,d,h,N,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.hiddenUpdates=Gd(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function lb(t,a,i,o,d,h,N,A,I,K,ue,he){return t=new r_(t,a,i,N,A,I,K,he),a=1,h===!0&&(a|=24),h=Xs(3,null,null,a),t.current=h,h.stateNode=t,a=Of(),a.refCount++,t.pooledCache=a,a.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:a},Bf(h),t}function ob(t){return t?(t=pi,t):pi}function cb(t,a,i,o,d,h){d=ob(d),o.context===null?o.context=d:o.pendingContext=d,o=Pa(a),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ba(t,o,a),i!==null&&(sn(i,t,a),$l(i,t,a))}function ub(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Wm(t,a){ub(t,a),(t=t.alternate)&&ub(t,a)}function db(t){if(t.tag===13){var a=hi(t,67108864);a!==null&&sn(a,t,67108864),Wm(t,67108864)}}var fu=!0;function i_(t,a,i,o){var d=R.T;R.T=null;var h=S.p;try{S.p=2,Jm(t,a,i,o)}finally{S.p=h,R.T=d}}function l_(t,a,i,o){var d=R.T;R.T=null;var h=S.p;try{S.p=8,Jm(t,a,i,o)}finally{S.p=h,R.T=d}}function Jm(t,a,i,o){if(fu){var d=eh(o);if(d===null)Fm(t,a,o,mu,i),mb(t,o);else if(c_(d,t,a,i,o))o.stopPropagation();else if(mb(t,o),a&4&&-1<o_.indexOf(t)){for(;d!==null;){var h=si(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var N=Je(h.pendingLanes);if(N!==0){var A=h;for(A.pendingLanes|=2,A.entangledLanes|=2;N;){var I=1<<31-bt(N);A.entanglements[1]|=I,N&=~I}Qn(h),(St&6)===0&&(Zc=ds()+500,lo(0))}}break;case 13:A=hi(h,2),A!==null&&sn(A,h,2),Wc(),Wm(h,2)}if(h=eh(o),h===null&&Fm(t,a,o,mu,i),h===d)break;d=h}d!==null&&o.stopPropagation()}else Fm(t,a,o,null,i)}}function eh(t){return t=af(t),th(t)}var mu=null;function th(t){if(mu=null,t=ti(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=f(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return mu=t,null}function fb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oc()){case vr:return 2;case L:return 8;case H:case ne:return 32;case Se:return 268435456;default:return 32}default:return 32}}var sh=!1,Ya=null,Za=null,Xa=null,go=new Map,xo=new Map,Wa=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(t,a){switch(t){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":go.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(a.pointerId)}}function vo(t,a,i,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:a,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},a!==null&&(a=si(a),a!==null&&db(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function c_(t,a,i,o,d){switch(a){case"focusin":return Ya=vo(Ya,t,a,i,o,d),!0;case"dragenter":return Za=vo(Za,t,a,i,o,d),!0;case"mouseover":return Xa=vo(Xa,t,a,i,o,d),!0;case"pointerover":var h=d.pointerId;return go.set(h,vo(go.get(h)||null,t,a,i,o,d)),!0;case"gotpointercapture":return h=d.pointerId,xo.set(h,vo(xo.get(h)||null,t,a,i,o,d)),!0}return!1}function hb(t){var a=ti(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=f(i),a!==null){t.blockedOn=a,sT(t.priority,function(){if(i.tag===13){var o=tn();o=Qd(o);var d=hi(i,o);d!==null&&sn(d,i,o),Wm(i,o)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=eh(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);nf=o,i.target.dispatchEvent(o),nf=null}else return a=si(i),a!==null&&db(a),t.blockedOn=i,!1;a.shift()}return!0}function pb(t,a,i){hu(t)&&i.delete(a)}function u_(){sh=!1,Ya!==null&&hu(Ya)&&(Ya=null),Za!==null&&hu(Za)&&(Za=null),Xa!==null&&hu(Xa)&&(Xa=null),go.forEach(pb),xo.forEach(pb)}function pu(t,a){t.blockedOn===a&&(t.blockedOn=null,sh||(sh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,u_)))}var gu=null;function gb(t){gu!==t&&(gu=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var a=0;a<t.length;a+=3){var i=t[a],o=t[a+1],d=t[a+2];if(typeof o!="function"){if(th(o||i)===null)continue;break}var h=si(i);h!==null&&(t.splice(a,3),a-=3,tm(h,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function yo(t){function a(I){return pu(I,t)}Ya!==null&&pu(Ya,t),Za!==null&&pu(Za,t),Xa!==null&&pu(Xa,t),go.forEach(a),xo.forEach(a);for(var i=0;i<Wa.length;i++){var o=Wa[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wa.length&&(i=Wa[0],i.blockedOn===null);)hb(i),i.blockedOn===null&&Wa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],h=i[o+1],N=d[Us]||null;if(typeof h=="function")N||gb(i);else if(N){var A=null;if(h&&h.hasAttribute("formAction")){if(d=h,N=h[Us]||null)A=N.formAction;else if(th(d)!==null)continue}else A=N.action;typeof A=="function"?i[o+1]=A:(i.splice(o,3),o-=3),gb(i)}}}function nh(t){this._internalRoot=t}xu.prototype.render=nh.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(l(409));var i=a.current,o=tn();cb(i,o,t,a,null,null)},xu.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;cb(t.current,2,null,t,null,null),Wc(),a[ei]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var a=Mg();t={blockedOn:null,target:t,priority:a};for(var i=0;i<Wa.length&&a!==0&&a<Wa[i].priority;i++);Wa.splice(i,0,t),i===0&&hb(t)}};var xb=s.version;if(xb!=="19.1.1")throw Error(l(527,xb,"19.1.1"));S.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var d_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{ke=vu.inject(d_),tt=vu}catch{}}return jo.createRoot=function(t,a){if(!c(t))throw Error(l(299));var i=!1,o="",d=Mv,h=Dv,N=Pv,A=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=lb(t,1,!1,null,null,i,o,d,h,N,A,null),t[ei]=a.current,Lm(t),new nh(a)},jo.hydrateRoot=function(t,a,i){if(!c(t))throw Error(l(299));var o=!1,d="",h=Mv,N=Dv,A=Pv,I=null,K=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks),i.formState!==void 0&&(K=i.formState)),a=lb(t,1,!0,a,i??null,o,d,h,N,A,I,K),a.context=ob(null),i=a.current,o=tn(),o=Qd(o),d=Pa(o),d.callback=null,Ba(i,d,o),i=o,a.current.lanes=i,Sl(a,i),Qn(a),t[ei]=a.current,Lm(t),new xu(a)},jo.version="19.1.1",jo}var _b;function j_(){if(_b)return ih.exports;_b=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),ih.exports=b_(),ih.exports}var N_=j_();function w_(e,s){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,l,c,u,f=[],m="",g=e.split("/");for(g[0]||g.shift();c=g.shift();)r=c[0],r==="*"?(f.push(r),m+=c[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(l=c.indexOf("?",1),u=c.indexOf(".",1),f.push(c.substring(1,~l?l:~u?u:c.length)),m+=~l&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(m+=(~l?"?":"")+"\\"+c.substring(u))):m+="/"+c;return{keys:f,pattern:new RegExp("^"+m+(s?"(?=$|/)":"/?$"),"i")}}var uh={exports:{}},dh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function S_(){if(Ab)return dh;Ab=1;var e=rd();function s(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var r=typeof Object.is=="function"?Object.is:s,l=e.useState,c=e.useEffect,u=e.useLayoutEffect,f=e.useDebugValue;function m(y,w){var C=w(),T=l({inst:{value:C,getSnapshot:w}}),j=T[0].inst,b=T[1];return u(function(){j.value=C,j.getSnapshot=w,g(j)&&b({inst:j})},[y,C,w]),c(function(){return g(j)&&b({inst:j}),y(function(){g(j)&&b({inst:j})})},[y]),f(C),C}function g(y){var w=y.getSnapshot;y=y.value;try{var C=w();return!r(y,C)}catch{return!0}}function p(y,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return dh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,dh}var Eb;function C_(){return Eb||(Eb=1,uh.exports=S_()),uh.exports}var T_=C_();const __=Np.useInsertionEffect,A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E_=A_?v.useLayoutEffect:v.useEffect,k_=__||E_,pj=e=>{const s=v.useRef([e,(...r)=>s[0](...r)]).current;return k_(()=>{s[0]=e}),s[1]},R_="popstate",wp="pushState",Sp="replaceState",O_="hashchange",kb=[R_,wp,Sp,O_],M_=e=>{for(const s of kb)addEventListener(s,e);return()=>{for(const s of kb)removeEventListener(s,e)}},gj=(e,s)=>T_.useSyncExternalStore(M_,e,s),D_=()=>location.search,P_=({ssrSearch:e=""}={})=>gj(D_,()=>e),Rb=()=>location.pathname,B_=({ssrPath:e}={})=>gj(Rb,e?()=>e:Rb),I_=(e,{replace:s=!1,state:r=null}={})=>history[s?Sp:wp](r,"",e),z_=(e={})=>[B_(e),I_],Ob=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ob]>"u"){for(const e of[wp,Sp]){const s=history[e];history[e]=function(){const r=s.apply(this,arguments),l=new Event(e);return l.arguments=arguments,dispatchEvent(l),r}}Object.defineProperty(window,Ob,{value:!0})}const L_=(e,s)=>s.toLowerCase().indexOf(e.toLowerCase())?"~"+s:s.slice(e.length)||"/",xj=(e="")=>e==="/"?"":e,F_=(e,s)=>e[0]==="~"?e.slice(1):xj(s)+e,U_=(e="",s)=>L_(Mb(xj(e)),Mb(s)),Mb=e=>{try{return decodeURI(e)}catch{return e}},vj={hook:z_,searchHook:P_,parser:w_,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},yj=v.createContext(vj),Zo=()=>v.useContext(yj),bj={},jj=v.createContext(bj),V_=()=>v.useContext(jj),id=e=>{const[s,r]=e.hook(e);return[U_(e.base,s),pj((l,c)=>r(F_(l,e.base),c))]},Nj=()=>id(Zo()),wj=(e,s,r,l)=>{const{pattern:c,keys:u}=s instanceof RegExp?{keys:!1,pattern:s}:e(s||"*",l),f=c.exec(r)||[],[m,...g]=f;return m!==void 0?[!0,(()=>{const p=u!==!1?Object.fromEntries(u.map((y,w)=>[y,g[w]])):f.groups;let x={...g};return p&&Object.assign(x,p),x})(),...l?[m]:[]]:[!1,null]},q_=({children:e,...s})=>{const r=Zo(),l=s.hook?vj:r;let c=l;const[u,f]=s.ssrPath?.split("?")??[];f&&(s.ssrSearch=f,s.ssrPath=u),s.hrefs=s.hrefs??s.hook?.hrefs;let m=v.useRef({}),g=m.current,p=g;for(let x in l){const y=x==="base"?l[x]+(s[x]||""):s[x]||l[x];g===p&&y!==p[x]&&(m.current=p={...p}),p[x]=y,(y!==l[x]||y!==c[x])&&(c=p)}return v.createElement(yj.Provider,{value:c,children:e})},Db=({children:e,component:s},r)=>s?v.createElement(s,{params:r}):typeof e=="function"?e(r):e,$_=e=>{let s=v.useRef(bj);const r=s.current;return s.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([l,c])=>c!==r[l])?e:r},er=({path:e,nest:s,match:r,...l})=>{const c=Zo(),[u]=id(c),[f,m,g]=r??wj(c.parser,e,u,s),p=$_({...V_(),...m});if(!f)return null;const x=g?v.createElement(q_,{base:g},Db(l,p)):Db(l,p);return v.createElement(jj.Provider,{value:p,children:x})},Pu=v.forwardRef((e,s)=>{const r=Zo(),[l,c]=id(r),{to:u="",href:f=u,onClick:m,asChild:g,children:p,className:x,replace:y,state:w,...C}=e,T=pj(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(m?.(b),b.defaultPrevented||(b.preventDefault(),c(f,e)))}),j=r.hrefs(f[0]==="~"?f.slice(1):r.base+f,r);return g&&v.isValidElement(p)?v.cloneElement(p,{onClick:T,href:j}):v.createElement("a",{...C,onClick:T,href:j,className:x?.call?x(l===f):x,children:p,ref:s})}),Sj=e=>Array.isArray(e)?e.flatMap(s=>Sj(s&&s.type===v.Fragment?s.props.children:s)):[e],H_=({children:e,location:s})=>{const r=Zo(),[l]=id(r);for(const c of Sj(e)){let u=0;if(v.isValidElement(c)&&(u=wj(r.parser,c.props.path,s||l,c.props.nest))[0])return v.cloneElement(c,{match:u})}return null};var pl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},G_={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Q_=class{#e=G_;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},Ir=new Q_;function K_(e){setTimeout(e,0)}var Fr=typeof window>"u"||"Deno"in globalThis;function Ds(){}function Y_(e,s){return typeof e=="function"?e(s):e}function zh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cj(e,s){return Math.max(e+(s||0)-Date.now(),0)}function rr(e,s){return typeof e=="function"?e(s):e}function bn(e,s){return typeof e=="function"?e(s):e}function Pb(e,s){const{type:r="all",exact:l,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(l){if(s.queryHash!==Cp(f,s.options))return!1}else if(!Eo(s.queryKey,f))return!1}if(r!=="all"){const g=s.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&s.isStale()!==m||c&&c!==s.state.fetchStatus||u&&!u(s))}function Bb(e,s){const{exact:r,status:l,predicate:c,mutationKey:u}=e;if(u){if(!s.options.mutationKey)return!1;if(r){if(Ur(s.options.mutationKey)!==Ur(u))return!1}else if(!Eo(s.options.mutationKey,u))return!1}return!(l&&s.state.status!==l||c&&!c(s))}function Cp(e,s){return(s?.queryKeyHashFn||Ur)(e)}function Ur(e){return JSON.stringify(e,(s,r)=>Lh(r)?Object.keys(r).sort().reduce((l,c)=>(l[c]=r[c],l),{}):r)}function Eo(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>Eo(e[r],s[r])):!1}var Z_=Object.prototype.hasOwnProperty;function Tj(e,s){if(e===s)return e;const r=Ib(e)&&Ib(s);if(!r&&!(Lh(e)&&Lh(s)))return s;const c=(r?e:Object.keys(e)).length,u=r?s:Object.keys(s),f=u.length,m=r?new Array(f):{};let g=0;for(let p=0;p<f;p++){const x=r?p:u[p],y=e[x],w=s[x];if(y===w){m[x]=y,(r?p<c:Z_.call(e,x))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[x]=w;continue}const C=Tj(y,w);m[x]=C,C===y&&g++}return c===f&&g===c?e:m}function Bu(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function Ib(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lh(e){if(!zb(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!zb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zb(e){return Object.prototype.toString.call(e)==="[object Object]"}function X_(e){return new Promise(s=>{Ir.setTimeout(s,e)})}function Fh(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?Tj(e,s):s}function W_(e,s,r=0){const l=[...e,s];return r&&l.length>r?l.slice(1):l}function J_(e,s,r=0){const l=[s,...e];return r&&l.length>r?l.slice(0,-1):l}var Tp=Symbol();function _j(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===Tp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Aj(e,s){return typeof e=="function"?e(...s):!!e}var eA=class extends pl{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!Fr&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_p=new eA;function Uh(){let e,s;const r=new Promise((c,u)=>{e=c,s=u});r.status="pending",r.catch(()=>{});function l(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},r.reject=c=>{l({status:"rejected",reason:c}),s(c)},r}var tA=K_;function sA(){let e=[],s=0,r=m=>{m()},l=m=>{m()},c=tA;const u=m=>{s?e.push(m):c(()=>{r(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{l(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;s++;try{g=m()}finally{s--,s||f()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{l=m},setScheduler:m=>{c=m}}}var us=sA(),nA=class extends pl{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!Fr&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Iu=new nA;function aA(e){return Math.min(1e3*2**e,3e4)}function Ej(e){return(e??"online")==="online"?Iu.isOnline():!0}var Vh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function kj(e){let s=!1,r=0,l;const c=Uh(),u=()=>c.status!=="pending",f=j=>{if(!u()){const b=new Vh(j);w(b),e.onCancel?.(b)}},m=()=>{s=!0},g=()=>{s=!1},p=()=>_p.isFocused()&&(e.networkMode==="always"||Iu.isOnline())&&e.canRun(),x=()=>Ej(e.networkMode)&&e.canRun(),y=j=>{u()||(l?.(),c.resolve(j))},w=j=>{u()||(l?.(),c.reject(j))},C=()=>new Promise(j=>{l=b=>{(u()||p())&&j(b)},e.onPause?.()}).then(()=>{l=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let j;const b=r===0?e.initialPromise:void 0;try{j=b??e.fn()}catch(_){j=Promise.reject(_)}Promise.resolve(j).then(y).catch(_=>{if(u())return;const E=e.retry??(Fr?0:3),B=e.retryDelay??aA,D=typeof B=="function"?B(r,_):B,z=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,_);if(s||!z){w(_);return}r++,e.onFail?.(r,_),X_(D).then(()=>p()?void 0:C()).then(()=>{s?w(_):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(l?.(),c),cancelRetry:m,continueRetry:g,canStart:x,start:()=>(x()?T():C().then(T),c)}}var Rj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zh(this.gcTime)&&(this.#e=Ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ir.clearTimeout(this.#e),this.#e=void 0)}},rA=class extends Rj{#e;#t;#s;#a;#n;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#s=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Lb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Lb(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,s){const r=Fh(this.state.data,e,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),r}setState(e,s){this.#r({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#n?.promise;return this.#n?.cancel(e),s?s.then(Ds).catch(Ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>rr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Cj(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},c=()=>{const m=_j(this.options,s),p=(()=>{const x={client:this.#a,queryKey:this.queryKey,meta:this.meta};return l(x),x})();return this.#l=!1,this.options.persister?this.options.persister(m,p,this):m(p)},f=(()=>{const m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return l(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#n=kj({initialPromise:s?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Vh&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{this.#r({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#n.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#s.config.onSuccess?.(m,this),this.#s.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Vh){if(m.silent)return this.#n.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#s.config.onError?.(m,this),this.#s.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Oj(r.data,this.options),fetchMeta:e.meta??null};case"success":const l={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),us.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Oj(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ej(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lb(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,l=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var iA=class extends pl{constructor(e,s){super(),this.options=s,this.#e=e,this.#r=null,this.#l=Uh(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#a=void 0;#n;#i;#l;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Fb(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!Bu(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Ub(this.#t,r,this.options,s)&&this.#d(),this.updateResult(),l&&(this.#t!==r||bn(this.options.enabled,this.#t)!==bn(s.enabled,this.#t)||rr(this.options.staleTime,this.#t)!==rr(s.staleTime,this.#t))&&this.#g();const c=this.#x();l&&(this.#t!==r||bn(this.options.enabled,this.#t)!==bn(s.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(s,e);return oA(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,s){return new Proxy(e,{get:(r,l)=>(this.trackProp(l),s?.(l),l==="promise"&&!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#N();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(Ds)),s}#g(){this.#b();const e=rr(this.options.staleTime,this.#t);if(Fr||this.#a.isStale||!zh(e))return;const r=Cj(this.#a.dataUpdatedAt,e)+1;this.#c=Ir.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#o=e,!(Fr||bn(this.options.enabled,this.#t)===!1||!zh(this.#o)||this.#o===0)&&(this.#u=Ir.setInterval(()=>{(this.options.refetchIntervalInBackground||_p.isFocused())&&this.#d()},this.#o))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(Ir.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(Ir.clearInterval(this.#u),this.#u=void 0)}createResult(e,s){const r=this.#t,l=this.options,c=this.#a,u=this.#n,f=this.#i,g=e!==r?e.state:this.#s,{state:p}=e;let x={...p},y=!1,w;if(s._optimisticResults){const Y=this.hasListeners(),W=!Y&&Fb(e,s),ae=Y&&Ub(e,r,s,l);(W||ae)&&(x={...x,...Oj(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:C,errorUpdatedAt:T,status:j}=x;w=x.data;let b=!1;if(s.placeholderData!==void 0&&w===void 0&&j==="pending"){let Y;c?.isPlaceholderData&&s.placeholderData===f?.placeholderData?(Y=c.data,b=!0):Y=typeof s.placeholderData=="function"?s.placeholderData(this.#m?.state.data,this.#m):s.placeholderData,Y!==void 0&&(j="success",w=Fh(c?.data,Y,s),y=!0)}if(s.select&&w!==void 0&&!b)if(c&&w===u?.data&&s.select===this.#p)w=this.#f;else try{this.#p=s.select,w=s.select(w),w=Fh(c?.data,w,s),this.#f=w,this.#r=null}catch(Y){this.#r=Y}this.#r&&(C=this.#r,w=this.#f,T=Date.now(),j="error");const _=x.fetchStatus==="fetching",E=j==="pending",B=j==="error",D=E&&_,z=w!==void 0,$={status:j,fetchStatus:x.fetchStatus,isPending:E,isSuccess:j==="success",isError:B,isInitialLoading:D,isLoading:D,data:w,dataUpdatedAt:x.dataUpdatedAt,error:C,errorUpdatedAt:T,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>g.dataUpdateCount||x.errorUpdateCount>g.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:B&&!z,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:B&&z,isStale:Ap(e,s),refetch:this.refetch,promise:this.#l,isEnabled:bn(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Y=de=>{$.status==="error"?de.reject($.error):$.data!==void 0&&de.resolve($.data)},W=()=>{const de=this.#l=$.promise=Uh();Y(de)},ae=this.#l;switch(ae.status){case"pending":e.queryHash===r.queryHash&&Y(ae);break;case"fulfilled":($.status==="error"||$.data!==ae.value)&&W();break;case"rejected":($.status!=="error"||$.error!==ae.reason)&&W();break}}return $}updateResult(){const e=this.#a,s=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#m=this.#t),Bu(s,e))return;this.#a=s;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const u=new Set(c??this.#h);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#w({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(e){us.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lA(e,s){return bn(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function Fb(e,s){return lA(e,s)||e.state.data!==void 0&&qh(e,s,s.refetchOnMount)}function qh(e,s,r){if(bn(s.enabled,e)!==!1&&rr(s.staleTime,e)!=="static"){const l=typeof r=="function"?r(e):r;return l==="always"||l!==!1&&Ap(e,s)}return!1}function Ub(e,s,r,l){return(e!==s||bn(l.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ap(e,r)}function Ap(e,s){return bn(s.enabled,e)!==!1&&e.isStaleByTime(rr(s.staleTime,e))}function oA(e,s){return!Bu(e.getCurrentResult(),s)}function Vb(e){return{onFetch:(s,r)=>{const l=s.options,c=s.fetchOptions?.meta?.fetchMore?.direction,u=s.state.data?.pages||[],f=s.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const p=async()=>{let x=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},w=_j(s.options,s.fetchOptions),C=async(T,j,b)=>{if(x)return Promise.reject();if(j==null&&T.pages.length)return Promise.resolve(T);const E=(()=>{const Z={client:s.client,queryKey:s.queryKey,pageParam:j,direction:b?"backward":"forward",meta:s.options.meta};return y(Z),Z})(),B=await w(E),{maxPages:D}=s.options,z=b?J_:W_;return{pages:z(T.pages,B,D),pageParams:z(T.pageParams,j,D)}};if(c&&u.length){const T=c==="backward",j=T?cA:qb,b={pages:u,pageParams:f},_=j(l,b);m=await C(b,_,T)}else{const T=e??u.length;do{const j=g===0?f[0]??l.initialPageParam:qb(l,m);if(g>0&&j==null)break;m=await C(m,j),g++}while(g<T)}return m};s.options.persister?s.fetchFn=()=>s.options.persister?.(p,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r):s.fetchFn=p}}}function qb(e,{pages:s,pageParams:r}){const l=s.length-1;return s.length>0?e.getNextPageParam(s[l],s,r[l],r):void 0}function cA(e,{pages:s,pageParams:r}){return s.length>0?e.getPreviousPageParam?.(s[0],s,r[0],r):void 0}var uA=class extends Rj{#e;#t;#s;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||Mj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=kj({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#n({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#n({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const l=this.state.status==="pending",c=!this.#a.canStart();try{if(l)s();else{this.#n({type:"pending",variables:e,isPaused:c}),await this.#s.config.onMutate?.(e,this,r);const f=await this.options.onMutate?.(e,r);f!==this.state.context&&this.#n({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#s.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#s.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#n({type:"success",data:u}),u}catch(u){try{throw await this.#s.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#s.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#n({type:"error",error:u})}}finally{this.#s.runNext(this)}}#n(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),us.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function Mj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dA=class extends pl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,s,r){const l=new uA({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(s),state:r});return this.add(l),l}add(e){this.#e.add(e);const s=yu(e);if(typeof s=="string"){const r=this.#t.get(s);r?r.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=yu(e);if(typeof s=="string"){const r=this.#t.get(s);if(r)if(r.length>1){const l=r.indexOf(e);l!==-1&&r.splice(l,1)}else r[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=yu(e);if(typeof s=="string"){const l=this.#t.get(s)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const s=yu(e);return typeof s=="string"?this.#t.get(s)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){us.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Bb(s,r))}findAll(e={}){return this.getAll().filter(s=>Bb(e,s))}notify(e){us.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return us.batch(()=>Promise.all(e.map(s=>s.continue().catch(Ds))))}};function yu(e){return e.options.scope?.id}var fA=class extends pl{#e;#t=void 0;#s;#a;constructor(s,r){super(),this.#e=s,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const r=this.options;this.options=this.#e.defaultMutationOptions(s),Bu(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ur(r.mutationKey)!==Ur(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#n(),this.#i(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(s,r){return this.#a=r,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#n(){const s=this.#s?.state??Mj();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#i(s){us.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};s?.type==="success"?(this.#a.onSuccess?.(s.data,r,l,c),this.#a.onSettled?.(s.data,null,r,l,c)):s?.type==="error"&&(this.#a.onError?.(s.error,r,l,c),this.#a.onSettled?.(void 0,s.error,r,l,c))}this.listeners.forEach(r=>{r(this.#t)})})}},mA=class extends pl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,r){const l=s.queryKey,c=s.queryHash??Cp(l,s);let u=this.get(c);return u||(u=new rA({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){us.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Pb(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Pb(e,r)):s}notify(e){us.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){us.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){us.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hA=class{#e;#t;#s;#a;#n;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new mA,this.#t=e.mutationCache||new dA,this.#s=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=_p.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Iu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=this.#e.build(this,s),l=r.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:r})=>{const l=r.data;return[s,l]})}setQueryData(e,s,r){const l=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(l.queryHash)?.state.data,f=Y_(s,u);if(f!==void 0)return this.#e.build(this,l).setData(f,{...r,manual:!0})}setQueriesData(e,s,r){return us.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,s,r)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;us.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=this.#e;return us.batch(()=>(r.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},l=us.batch(()=>this.#e.findAll(e).map(c=>c.cancel(r)));return Promise.all(l).then(Ds).catch(Ds)}invalidateQueries(e,s={}){return us.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},l=us.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(Ds)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(l).then(Ds)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=this.#e.build(this,s);return r.isStaleByTime(rr(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ds).catch(Ds)}fetchInfiniteQuery(e){return e.behavior=Vb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ds).catch(Ds)}ensureInfiniteQueryData(e){return e.behavior=Vb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Iu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,s){this.#a.set(Ur(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#a.values()],r={};return s.forEach(l=>{Eo(e,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(e,s){this.#n.set(Ur(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#n.values()],r={};return s.forEach(l=>{Eo(e,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=Cp(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Tp&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Dj=v.createContext(void 0),Os=e=>{const s=v.useContext(Dj);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},pA=({client:e,children:s})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Dj.Provider,{value:e,children:s})),Pj=v.createContext(!1),gA=()=>v.useContext(Pj);Pj.Provider;function xA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vA=v.createContext(xA()),yA=()=>v.useContext(vA),bA=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},jA=e=>{v.useEffect(()=>{e.clearReset()},[e])},NA=({result:e,errorResetBoundary:s,throwOnError:r,query:l,suspense:c})=>e.isError&&!s.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Aj(r,[e.error,l])),wA=e=>{if(e.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>r(l(...c)):r(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},SA=(e,s)=>e.isLoading&&e.isFetching&&!s,CA=(e,s)=>e?.suspense&&s.isPending,$b=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function TA(e,s,r){const l=gA(),c=yA(),u=Os(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=l?"isRestoring":"optimistic",wA(f),bA(f,c),jA(c);const m=!u.getQueryCache().get(f.queryHash),[g]=v.useState(()=>new s(u,f)),p=g.getOptimisticResult(f),x=!l&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const w=x?g.subscribe(us.batchCalls(y)):Ds;return g.updateResult(),w},[g,x]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),v.useEffect(()=>{g.setOptions(f)},[f,g]),CA(f,p))throw $b(f,g,c);if(NA({result:p,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!Fr&&SA(p,l)&&(m?$b(f,g,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(Ds).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?p:g.trackResult(p)}function wt(e,s){return TA(e,iA)}function qe(e,s){const r=Os(),[l]=v.useState(()=>new fA(r,e));v.useEffect(()=>{l.setOptions(e)},[l,e]);const c=v.useSyncExternalStore(v.useCallback(f=>l.subscribe(us.batchCalls(f)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=v.useCallback((f,m)=>{l.mutate(f,m).catch(Ds)},[l]);if(c.error&&Aj(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}async function Bj(e){if(!e.ok){const s=await e.text()||e.statusText;throw new Error(`${e.status}: ${s}`)}}async function Mt(e,s,r){const l={};r&&(l["Content-Type"]="application/json");const c=localStorage.getItem("auth_token");c&&(l.Authorization=`Bearer ${c}`);const u=await fetch(s,{method:e,headers:l,body:r?JSON.stringify(r):void 0,credentials:"include"});return await Bj(u),u}const _A=({on401:e})=>async({queryKey:s})=>{const r={},l=localStorage.getItem("auth_token");l&&(r.Authorization=`Bearer ${l}`);const c=await fetch(s.join("/"),{headers:r,credentials:"include"});return await Bj(c),await c.json()},ks=new hA({defaultOptions:{queries:{queryFn:_A({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AA=1,EA=1e6;let fh=0;function kA(){return fh=(fh+1)%Number.MAX_SAFE_INTEGER,fh.toString()}const mh=new Map,Hb=e=>{if(mh.has(e))return;const s=setTimeout(()=>{mh.delete(e),To({type:"REMOVE_TOAST",toastId:e})},EA);mh.set(e,s)},RA=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,AA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?Hb(r):e.toasts.forEach(l=>{Hb(l.id)}),{...e,toasts:e.toasts.map(l=>l.id===r||r===void 0?{...l,open:!1}:l)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==s.toastId)}}},ku=[];let Ru={toasts:[]};function To(e){Ru=RA(Ru,e),ku.forEach(s=>{s(Ru)})}function OA({...e}){const s=kA(),r=c=>To({type:"UPDATE_TOAST",toast:{...c,id:s}}),l=()=>To({type:"DISMISS_TOAST",toastId:s});return To({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:c=>{c||l()}}}),{id:s,dismiss:l,update:r}}function es(){const[e,s]=v.useState(Ru);return v.useEffect(()=>(ku.push(s),()=>{const r=ku.indexOf(s);r>-1&&ku.splice(r,1)}),[e]),{...e,toast:OA,dismiss:r=>To({type:"DISMISS_TOAST",toastId:r})}}var gl=hj();const MA=mj(gl);function Ie(e,s,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e?.(c),r===!1||!c.defaultPrevented)return s?.(c)}}function Gb(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function Vr(...e){return s=>{let r=!1;const l=e.map(c=>{const u=Gb(c,s);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let c=0;c<l.length;c++){const u=l[c];typeof u=="function"?u():Gb(e[c],null)}}}}function mt(...e){return v.useCallback(Vr(...e),e)}function DA(e,s){const r=v.createContext(s),l=u=>{const{children:f,...m}=u,g=v.useMemo(()=>m,Object.values(m));return n.jsx(r.Provider,{value:g,children:f})};l.displayName=e+"Provider";function c(u){const f=v.useContext(r);if(f)return f;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[l,c]}function Fs(e,s=[]){let r=[];function l(u,f){const m=v.createContext(f),g=r.length;r=[...r,f];const p=y=>{const{scope:w,children:C,...T}=y,j=w?.[e]?.[g]||m,b=v.useMemo(()=>T,Object.values(T));return n.jsx(j.Provider,{value:b,children:C})};p.displayName=u+"Provider";function x(y,w){const C=w?.[e]?.[g]||m,T=v.useContext(C);if(T)return T;if(f!==void 0)return f;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[p,x]}const c=()=>{const u=r.map(f=>v.createContext(f));return function(m){const g=m?.[e]||u;return v.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return c.scopeName=e,[l,PA(c,...s)]}function PA(...e){const s=e[0];if(e.length===1)return s;const r=()=>{const l=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const f=l.reduce((m,{useScope:g,scopeName:p})=>{const y=g(u)[`__scope${p}`];return{...m,...y}},{});return v.useMemo(()=>({[`__scope${s.scopeName}`]:f}),[f])}};return r.scopeName=s.scopeName,r}function qr(e){const s=IA(e),r=v.forwardRef((l,c)=>{const{children:u,...f}=l,m=v.Children.toArray(u),g=m.find(zA);if(g){const p=g.props.children,x=m.map(y=>y===g?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:y);return n.jsx(s,{...f,ref:c,children:v.isValidElement(p)?v.cloneElement(p,void 0,x):null})}return n.jsx(s,{...f,ref:c,children:u})});return r.displayName=`${e}.Slot`,r}var BA=qr("Slot");function IA(e){const s=v.forwardRef((r,l)=>{const{children:c,...u}=r;if(v.isValidElement(c)){const f=FA(c),m=LA(u,c.props);return c.type!==v.Fragment&&(m.ref=l?Vr(l,f):f),v.cloneElement(c,m)}return v.Children.count(c)>1?v.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var Ij=Symbol("radix.slottable");function zj(e){const s=({children:r})=>n.jsx(n.Fragment,{children:r});return s.displayName=`${e}.Slottable`,s.__radixId=Ij,s}function zA(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ij}function LA(e,s){const r={...s};for(const l in s){const c=e[l],u=s[l];/^on[A-Z]/.test(l)?c&&u?r[l]=(...m)=>{const g=u(...m);return c(...m),g}:c&&(r[l]=c):l==="style"?r[l]={...c,...u}:l==="className"&&(r[l]=[c,u].filter(Boolean).join(" "))}return{...e,...r}}function FA(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ep(e){const s=e+"CollectionProvider",[r,l]=Fs(s),[c,u]=r(s,{collectionRef:{current:null},itemMap:new Map}),f=j=>{const{scope:b,children:_}=j,E=Wt.useRef(null),B=Wt.useRef(new Map).current;return n.jsx(c,{scope:b,itemMap:B,collectionRef:E,children:_})};f.displayName=s;const m=e+"CollectionSlot",g=qr(m),p=Wt.forwardRef((j,b)=>{const{scope:_,children:E}=j,B=u(m,_),D=mt(b,B.collectionRef);return n.jsx(g,{ref:D,children:E})});p.displayName=m;const x=e+"CollectionItemSlot",y="data-radix-collection-item",w=qr(x),C=Wt.forwardRef((j,b)=>{const{scope:_,children:E,...B}=j,D=Wt.useRef(null),z=mt(b,D),Z=u(x,_);return Wt.useEffect(()=>(Z.itemMap.set(D,{ref:D,...B}),()=>void Z.itemMap.delete(D))),n.jsx(w,{[y]:"",ref:z,children:E})});C.displayName=x;function T(j){const b=u(e+"CollectionConsumer",j);return Wt.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const B=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(b.itemMap.values()).sort((Z,$)=>B.indexOf(Z.ref.current)-B.indexOf($.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:f,Slot:p,ItemSlot:C},T,l]}var UA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=UA.reduce((e,s)=>{const r=qr(`Primitive.${s}`),l=v.forwardRef((c,u)=>{const{asChild:f,...m}=c,g=f?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(g,{...m,ref:u})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{});function Lj(e,s){e&&gl.flushSync(()=>e.dispatchEvent(s))}function Sn(e){const s=v.useRef(e);return v.useEffect(()=>{s.current=e}),v.useMemo(()=>(...r)=>s.current?.(...r),[])}function VA(e,s=globalThis?.document){const r=Sn(e);v.useEffect(()=>{const l=c=>{c.key==="Escape"&&r(c)};return s.addEventListener("keydown",l,{capture:!0}),()=>s.removeEventListener("keydown",l,{capture:!0})},[r,s])}var qA="DismissableLayer",$h="dismissableLayer.update",$A="dismissableLayer.pointerDownOutside",HA="dismissableLayer.focusOutside",Qb,Fj=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xl=v.forwardRef((e,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,onDismiss:m,...g}=e,p=v.useContext(Fj),[x,y]=v.useState(null),w=x?.ownerDocument??globalThis?.document,[,C]=v.useState({}),T=mt(s,$=>y($)),j=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=j.indexOf(b),E=x?j.indexOf(x):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,D=E>=_,z=QA($=>{const Y=$.target,W=[...p.branches].some(ae=>ae.contains(Y));!D||W||(c?.($),f?.($),$.defaultPrevented||m?.())},w),Z=KA($=>{const Y=$.target;[...p.branches].some(ae=>ae.contains(Y))||(u?.($),f?.($),$.defaultPrevented||m?.())},w);return VA($=>{E===p.layers.size-1&&(l?.($),!$.defaultPrevented&&m&&($.preventDefault(),m()))},w),v.useEffect(()=>{if(x)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Qb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),Kb(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Qb)}},[x,w,r,p]),v.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),Kb())},[x,p]),v.useEffect(()=>{const $=()=>C({});return document.addEventListener($h,$),()=>document.removeEventListener($h,$)},[]),n.jsx(ze.div,{...g,ref:T,style:{pointerEvents:B?D?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,z.onPointerDownCapture)})});xl.displayName=qA;var GA="DismissableLayerBranch",Uj=v.forwardRef((e,s)=>{const r=v.useContext(Fj),l=v.useRef(null),c=mt(s,l);return v.useEffect(()=>{const u=l.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),n.jsx(ze.div,{...e,ref:c})});Uj.displayName=GA;function QA(e,s=globalThis?.document){const r=Sn(e),l=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const u=m=>{if(m.target&&!l.current){let g=function(){Vj($A,r,p,{discrete:!0})};const p={originalEvent:m};m.pointerType==="touch"?(s.removeEventListener("click",c.current),c.current=g,s.addEventListener("click",c.current,{once:!0})):g()}else s.removeEventListener("click",c.current);l.current=!1},f=window.setTimeout(()=>{s.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(f),s.removeEventListener("pointerdown",u),s.removeEventListener("click",c.current)}},[s,r]),{onPointerDownCapture:()=>l.current=!0}}function KA(e,s=globalThis?.document){const r=Sn(e),l=v.useRef(!1);return v.useEffect(()=>{const c=u=>{u.target&&!l.current&&Vj(HA,r,{originalEvent:u},{discrete:!1})};return s.addEventListener("focusin",c),()=>s.removeEventListener("focusin",c)},[s,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function Kb(){const e=new CustomEvent($h);document.dispatchEvent(e)}function Vj(e,s,r,{discrete:l}){const c=r.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});s&&c.addEventListener(e,s,{once:!0}),l?Lj(c,u):c.dispatchEvent(u)}var YA=xl,ZA=Uj,Cs=globalThis?.document?v.useLayoutEffect:()=>{},XA="Portal",Xo=v.forwardRef((e,s)=>{const{container:r,...l}=e,[c,u]=v.useState(!1);Cs(()=>u(!0),[]);const f=r||c&&globalThis?.document?.body;return f?MA.createPortal(n.jsx(ze.div,{...l,ref:s}),f):null});Xo.displayName=XA;function WA(e,s){return v.useReducer((r,l)=>s[r][l]??r,e)}var zn=e=>{const{present:s,children:r}=e,l=JA(s),c=typeof r=="function"?r({present:l.isPresent}):v.Children.only(r),u=mt(l.ref,eE(c));return typeof r=="function"||l.isPresent?v.cloneElement(c,{ref:u}):null};zn.displayName="Presence";function JA(e){const[s,r]=v.useState(),l=v.useRef(null),c=v.useRef(e),u=v.useRef("none"),f=e?"mounted":"unmounted",[m,g]=WA(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const p=bu(l.current);u.current=m==="mounted"?p:"none"},[m]),Cs(()=>{const p=l.current,x=c.current;if(x!==e){const w=u.current,C=bu(p);e?g("MOUNT"):C==="none"||p?.display==="none"?g("UNMOUNT"):g(x&&w!==C?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),Cs(()=>{if(s){let p;const x=s.ownerDocument.defaultView??window,y=C=>{const j=bu(l.current).includes(CSS.escape(C.animationName));if(C.target===s&&j&&(g("ANIMATION_END"),!c.current)){const b=s.style.animationFillMode;s.style.animationFillMode="forwards",p=x.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=b)})}},w=C=>{C.target===s&&(u.current=bu(l.current))};return s.addEventListener("animationstart",w),s.addEventListener("animationcancel",y),s.addEventListener("animationend",y),()=>{x.clearTimeout(p),s.removeEventListener("animationstart",w),s.removeEventListener("animationcancel",y),s.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[s,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:v.useCallback(p=>{l.current=p?getComputedStyle(p):null,r(p)},[])}}function bu(e){return e?.animationName||"none"}function eE(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tE=Np[" useInsertionEffect ".trim().toString()]||Cs;function Jn({prop:e,defaultProp:s,onChange:r=()=>{},caller:l}){const[c,u,f]=sE({defaultProp:s,onChange:r}),m=e!==void 0,g=m?e:c;{const x=v.useRef(e!==void 0);v.useEffect(()=>{const y=x.current;y!==m&&console.warn(`${l} is changing from ${y?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=m},[m,l])}const p=v.useCallback(x=>{if(m){const y=nE(x)?x(e):x;y!==e&&f.current?.(y)}else u(x)},[m,e,u,f]);return[g,p]}function sE({defaultProp:e,onChange:s}){const[r,l]=v.useState(e),c=v.useRef(r),u=v.useRef(s);return tE(()=>{u.current=s},[s]),v.useEffect(()=>{c.current!==r&&(u.current?.(r),c.current=r)},[r,c]),[r,l,u]}function nE(e){return typeof e=="function"}var qj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aE="VisuallyHidden",ld=v.forwardRef((e,s)=>n.jsx(ze.span,{...e,ref:s,style:{...qj,...e.style}}));ld.displayName=aE;var rE=ld,kp="ToastProvider",[Rp,iE,lE]=Ep("Toast"),[$j]=Fs("Toast",[lE]),[oE,od]=$j(kp),Hj=e=>{const{__scopeToast:s,label:r="Notification",duration:l=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:f}=e,[m,g]=v.useState(null),[p,x]=v.useState(0),y=v.useRef(!1),w=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${kp}\`. Expected non-empty \`string\`.`),n.jsx(Rp.Provider,{scope:s,children:n.jsx(oE,{scope:s,label:r,duration:l,swipeDirection:c,swipeThreshold:u,toastCount:p,viewport:m,onViewportChange:g,onToastAdd:v.useCallback(()=>x(C=>C+1),[]),onToastRemove:v.useCallback(()=>x(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:f})})};Hj.displayName=kp;var Gj="ToastViewport",cE=["F8"],Hh="toast.viewportPause",Gh="toast.viewportResume",Qj=v.forwardRef((e,s)=>{const{__scopeToast:r,hotkey:l=cE,label:c="Notifications ({hotkey})",...u}=e,f=od(Gj,r),m=iE(r),g=v.useRef(null),p=v.useRef(null),x=v.useRef(null),y=v.useRef(null),w=mt(s,y,f.onViewportChange),C=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=f.toastCount>0;v.useEffect(()=>{const b=_=>{l.length!==0&&l.every(B=>_[B]||_.code===B)&&y.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[l]),v.useEffect(()=>{const b=g.current,_=y.current;if(T&&b&&_){const E=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent(Hh);_.dispatchEvent(Z),f.isClosePausedRef.current=!0}},B=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(Gh);_.dispatchEvent(Z),f.isClosePausedRef.current=!1}},D=Z=>{!b.contains(Z.relatedTarget)&&B()},z=()=>{b.contains(document.activeElement)||B()};return b.addEventListener("focusin",E),b.addEventListener("focusout",D),b.addEventListener("pointermove",E),b.addEventListener("pointerleave",z),window.addEventListener("blur",E),window.addEventListener("focus",B),()=>{b.removeEventListener("focusin",E),b.removeEventListener("focusout",D),b.removeEventListener("pointermove",E),b.removeEventListener("pointerleave",z),window.removeEventListener("blur",E),window.removeEventListener("focus",B)}}},[T,f.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:b})=>{const E=m().map(B=>{const D=B.ref.current,z=[D,...NE(D)];return b==="forwards"?z:z.reverse()});return(b==="forwards"?E.reverse():E).flat()},[m]);return v.useEffect(()=>{const b=y.current;if(b){const _=E=>{const B=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!B){const z=document.activeElement,Z=E.shiftKey;if(E.target===b&&Z){p.current?.focus();return}const W=j({tabbingDirection:Z?"backwards":"forwards"}),ae=W.findIndex(de=>de===z);hh(W.slice(ae+1))?E.preventDefault():Z?p.current?.focus():x.current?.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[m,j]),n.jsxs(ZA,{ref:g,role:"region","aria-label":c.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&n.jsx(Qh,{ref:p,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"forwards"});hh(b)}}),n.jsx(Rp.Slot,{scope:r,children:n.jsx(ze.ol,{tabIndex:-1,...u,ref:w})}),T&&n.jsx(Qh,{ref:x,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"backwards"});hh(b)}})]})});Qj.displayName=Gj;var Kj="ToastFocusProxy",Qh=v.forwardRef((e,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:l,...c}=e,u=od(Kj,r);return n.jsx(ld,{tabIndex:0,...c,ref:s,style:{position:"fixed"},onFocus:f=>{const m=f.relatedTarget;!u.viewport?.contains(m)&&l()}})});Qh.displayName=Kj;var Wo="Toast",uE="toast.swipeStart",dE="toast.swipeMove",fE="toast.swipeCancel",mE="toast.swipeEnd",Yj=v.forwardRef((e,s)=>{const{forceMount:r,open:l,defaultOpen:c,onOpenChange:u,...f}=e,[m,g]=Jn({prop:l,defaultProp:c??!0,onChange:u,caller:Wo});return n.jsx(zn,{present:r||m,children:n.jsx(gE,{open:m,...f,ref:s,onClose:()=>g(!1),onPause:Sn(e.onPause),onResume:Sn(e.onResume),onSwipeStart:Ie(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,p=>{const{x,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,p=>{const{x,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),g(!1)})})})});Yj.displayName=Wo;var[hE,pE]=$j(Wo,{onClose(){}}),gE=v.forwardRef((e,s)=>{const{__scopeToast:r,type:l="foreground",duration:c,open:u,onClose:f,onEscapeKeyDown:m,onPause:g,onResume:p,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:C,...T}=e,j=od(Wo,r),[b,_]=v.useState(null),E=mt(s,U=>_(U)),B=v.useRef(null),D=v.useRef(null),z=c||j.duration,Z=v.useRef(0),$=v.useRef(z),Y=v.useRef(0),{onToastAdd:W,onToastRemove:ae}=j,de=Sn(()=>{b?.contains(document.activeElement)&&j.viewport?.focus(),f()}),re=v.useCallback(U=>{!U||U===1/0||(window.clearTimeout(Y.current),Z.current=new Date().getTime(),Y.current=window.setTimeout(de,U))},[de]);v.useEffect(()=>{const U=j.viewport;if(U){const ie=()=>{re($.current),p?.()},R=()=>{const S=new Date().getTime()-Z.current;$.current=$.current-S,window.clearTimeout(Y.current),g?.()};return U.addEventListener(Hh,R),U.addEventListener(Gh,ie),()=>{U.removeEventListener(Hh,R),U.removeEventListener(Gh,ie)}}},[j.viewport,z,g,p,re]),v.useEffect(()=>{u&&!j.isClosePausedRef.current&&re(z)},[u,z,j.isClosePausedRef,re]),v.useEffect(()=>(W(),()=>ae()),[W,ae]);const oe=v.useMemo(()=>b?sN(b):null,[b]);return j.viewport?n.jsxs(n.Fragment,{children:[oe&&n.jsx(xE,{__scopeToast:r,role:"status","aria-live":l==="foreground"?"assertive":"polite",children:oe}),n.jsx(hE,{scope:r,onClose:de,children:gl.createPortal(n.jsx(Rp.ItemSlot,{scope:r,children:n.jsx(YA,{asChild:!0,onEscapeKeyDown:Ie(m,()=>{j.isFocusedToastEscapeKeyDownRef.current||de(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ze.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":j.swipeDirection,...T,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,U=>{U.key==="Escape"&&(m?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,de()))}),onPointerDown:Ie(e.onPointerDown,U=>{U.button===0&&(B.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ie(e.onPointerMove,U=>{if(!B.current)return;const ie=U.clientX-B.current.x,R=U.clientY-B.current.y,S=!!D.current,O=["left","right"].includes(j.swipeDirection),le=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,P=O?le(0,ie):0,se=O?0:le(0,R),V=U.pointerType==="touch"?10:2,J={x:P,y:se},ce={originalEvent:U,delta:J};S?(D.current=J,ju(dE,y,ce,{discrete:!1})):Yb(J,j.swipeDirection,V)?(D.current=J,ju(uE,x,ce,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(ie)>V||Math.abs(R)>V)&&(B.current=null)}),onPointerUp:Ie(e.onPointerUp,U=>{const ie=D.current,R=U.target;if(R.hasPointerCapture(U.pointerId)&&R.releasePointerCapture(U.pointerId),D.current=null,B.current=null,ie){const S=U.currentTarget,O={originalEvent:U,delta:ie};Yb(ie,j.swipeDirection,j.swipeThreshold)?ju(mE,C,O,{discrete:!0}):ju(fE,w,O,{discrete:!0}),S.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),xE=e=>{const{__scopeToast:s,children:r,...l}=e,c=od(Wo,s),[u,f]=v.useState(!1),[m,g]=v.useState(!1);return bE(()=>f(!0)),v.useEffect(()=>{const p=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(p)},[]),m?null:n.jsx(Xo,{asChild:!0,children:n.jsx(ld,{...l,children:u&&n.jsxs(n.Fragment,{children:[c.label," ",r]})})})},vE="ToastTitle",Zj=v.forwardRef((e,s)=>{const{__scopeToast:r,...l}=e;return n.jsx(ze.div,{...l,ref:s})});Zj.displayName=vE;var yE="ToastDescription",Xj=v.forwardRef((e,s)=>{const{__scopeToast:r,...l}=e;return n.jsx(ze.div,{...l,ref:s})});Xj.displayName=yE;var Wj="ToastAction",Jj=v.forwardRef((e,s)=>{const{altText:r,...l}=e;return r.trim()?n.jsx(tN,{altText:r,asChild:!0,children:n.jsx(Op,{...l,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wj}\`. Expected non-empty \`string\`.`),null)});Jj.displayName=Wj;var eN="ToastClose",Op=v.forwardRef((e,s)=>{const{__scopeToast:r,...l}=e,c=pE(eN,r);return n.jsx(tN,{asChild:!0,children:n.jsx(ze.button,{type:"button",...l,ref:s,onClick:Ie(e.onClick,c.onClose)})})});Op.displayName=eN;var tN=v.forwardRef((e,s)=>{const{__scopeToast:r,altText:l,...c}=e;return n.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":l||void 0,...c,ref:s})});function sN(e){const s=[];return Array.from(e.childNodes).forEach(l=>{if(l.nodeType===l.TEXT_NODE&&l.textContent&&s.push(l.textContent),jE(l)){const c=l.ariaHidden||l.hidden||l.style.display==="none",u=l.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const f=l.dataset.radixToastAnnounceAlt;f&&s.push(f)}else s.push(...sN(l))}}),s}function ju(e,s,r,{discrete:l}){const c=r.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});s&&c.addEventListener(e,s,{once:!0}),l?Lj(c,u):c.dispatchEvent(u)}var Yb=(e,s,r=0)=>{const l=Math.abs(e.x),c=Math.abs(e.y),u=l>c;return s==="left"||s==="right"?u&&l>r:!u&&c>r};function bE(e=()=>{}){const s=Sn(e);Cs(()=>{let r=0,l=0;return r=window.requestAnimationFrame(()=>l=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(l)}},[s])}function jE(e){return e.nodeType===e.ELEMENT_NODE}function NE(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const c=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||c?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function hh(e){const s=document.activeElement;return e.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var wE=Hj,nN=Qj,aN=Yj,rN=Zj,iN=Xj,lN=Jj,oN=Op;function cN(e){var s,r,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(s=0;s<c;s++)e[s]&&(r=cN(e[s]))&&(l&&(l+=" "),l+=r)}else for(r in e)e[r]&&(l&&(l+=" "),l+=r);return l}function uN(){for(var e,s,r=0,l="",c=arguments.length;r<c;r++)(e=arguments[r])&&(s=cN(e))&&(l&&(l+=" "),l+=s);return l}const Zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xb=uN,Jo=(e,s)=>r=>{var l;if(s?.variants==null)return Xb(e,r?.class,r?.className);const{variants:c,defaultVariants:u}=s,f=Object.keys(c).map(p=>{const x=r?.[p],y=u?.[p];if(x===null)return null;const w=Zb(x)||Zb(y);return c[p][w]}),m=r&&Object.entries(r).reduce((p,x)=>{let[y,w]=x;return w===void 0||(p[y]=w),p},{}),g=s==null||(l=s.compoundVariants)===null||l===void 0?void 0:l.reduce((p,x)=>{let{class:y,className:w,...C}=x;return Object.entries(C).every(T=>{let[j,b]=T;return Array.isArray(b)?b.includes({...u,...m}[j]):{...u,...m}[j]===b})?[...p,y,w]:p},[]);return Xb(e,f,g,r?.class,r?.className)};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,l)=>l?l.toUpperCase():r.toLowerCase()),Wb=e=>{const s=CE(e);return s.charAt(0).toUpperCase()+s.slice(1)},dN=(...e)=>e.filter((s,r,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===r).join(" ").trim(),TE=e=>{for(const s in e)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=v.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:f,...m},g)=>v.createElement("svg",{ref:g,..._E,width:s,height:s,stroke:e,strokeWidth:l?Number(r)*24/Number(s):r,className:dN("lucide",c),...!u&&!TE(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,x])=>v.createElement(p,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,s)=>{const r=v.forwardRef(({className:l,...c},u)=>v.createElement(AE,{ref:u,iconNode:s,className:dN(`lucide-${SE(Wb(e))}`,`lucide-${e}`,l),...c}));return r.displayName=Wb(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Mp=ht("activity",EE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jb=ht("arrow-left",kE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e0=ht("arrow-right",RE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Sa=ht("bot",OE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DE=ht("chart-column",ME);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dp=ht("check",PE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pp=ht("chevron-down",BE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zE=ht("chevron-up",IE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kh=ht("circle-alert",LE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=ht("circle-check-big",FE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VE=ht("circle",UE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],t0=ht("credit-card",qE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],s0=ht("database",$E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zu=ht("external-link",HE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],n0=ht("eye-off",GE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a0=ht("eye",QE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ko=ht("loader-circle",KE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZE=ht("log-out",YE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ph=ht("network",XE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zi=ht("phone",WE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$r=ht("play",JE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jn=ht("refresh-cw",ek);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xi=ht("search",tk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Wi=ht("server",sk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fN=ht("settings",nk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],r0=ht("shield-x",ak);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rn=ht("shield",rk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rl=ht("square",ik);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mN=ht("trash-2",lk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nn=ht("triangle-alert",ok);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uk=ht("upload",ck);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fk=ht("users",dk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hk=ht("wifi-off",mk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],gk=ht("wifi",pk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hN=ht("x",xk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yk=ht("zap",vk),Bp="-",bk=e=>{const s=Nk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=e;return{getClassGroupId:f=>{const m=f.split(Bp);return m[0]===""&&m.length!==1&&m.shift(),pN(m,s)||jk(f)},getConflictingClassGroupIds:(f,m)=>{const g=r[f]||[];return m&&l[f]?[...g,...l[f]]:g}}},pN=(e,s)=>{if(e.length===0)return s.classGroupId;const r=e[0],l=s.nextPart.get(r),c=l?pN(e.slice(1),l):void 0;if(c)return c;if(s.validators.length===0)return;const u=e.join(Bp);return s.validators.find(({validator:f})=>f(u))?.classGroupId},i0=/^\[(.+)\]$/,jk=e=>{if(i0.test(e)){const s=i0.exec(e)[1],r=s?.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Nk=e=>{const{theme:s,classGroups:r}=e,l={nextPart:new Map,validators:[]};for(const c in r)Yh(r[c],l,c,s);return l},Yh=(e,s,r,l)=>{e.forEach(c=>{if(typeof c=="string"){const u=c===""?s:l0(s,c);u.classGroupId=r;return}if(typeof c=="function"){if(wk(c)){Yh(c(l),s,r,l);return}s.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([u,f])=>{Yh(f,l0(s,u),r,l)})})},l0=(e,s)=>{let r=e;return s.split(Bp).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},wk=e=>e.isThemeGetter,Sk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,l=new Map;const c=(u,f)=>{r.set(u,f),s++,s>e&&(s=0,l=r,r=new Map)};return{get(u){let f=r.get(u);if(f!==void 0)return f;if((f=l.get(u))!==void 0)return c(u,f),f},set(u,f){r.has(u)?r.set(u,f):c(u,f)}}},Zh="!",Xh=":",Ck=Xh.length,Tk=e=>{const{prefix:s,experimentalParseClassName:r}=e;let l=c=>{const u=[];let f=0,m=0,g=0,p;for(let T=0;T<c.length;T++){let j=c[T];if(f===0&&m===0){if(j===Xh){u.push(c.slice(g,T)),g=T+Ck;continue}if(j==="/"){p=T;continue}}j==="["?f++:j==="]"?f--:j==="("?m++:j===")"&&m--}const x=u.length===0?c:c.substring(g),y=_k(x),w=y!==x,C=p&&p>g?p-g:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:C}};if(s){const c=s+Xh,u=l;l=f=>f.startsWith(c)?u(f.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(r){const c=l;l=u=>r({className:u,parseClassName:c})}return l},_k=e=>e.endsWith(Zh)?e.substring(0,e.length-1):e.startsWith(Zh)?e.substring(1):e,Ak=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(l=>[l,!0]));return l=>{if(l.length<=1)return l;const c=[];let u=[];return l.forEach(f=>{f[0]==="["||s[f]?(c.push(...u.sort(),f),u=[]):u.push(f)}),c.push(...u.sort()),c}},Ek=e=>({cache:Sk(e.cacheSize),parseClassName:Tk(e),sortModifiers:Ak(e),...bk(e)}),kk=/\s+/,Rk=(e,s)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:c,sortModifiers:u}=s,f=[],m=e.trim().split(kk);let g="";for(let p=m.length-1;p>=0;p-=1){const x=m[p],{isExternal:y,modifiers:w,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:j}=r(x);if(y){g=x+(g.length>0?" "+g:g);continue}let b=!!j,_=l(b?T.substring(0,j):T);if(!_){if(!b){g=x+(g.length>0?" "+g:g);continue}if(_=l(T),!_){g=x+(g.length>0?" "+g:g);continue}b=!1}const E=u(w).join(":"),B=C?E+Zh:E,D=B+_;if(f.includes(D))continue;f.push(D);const z=c(_,b);for(let Z=0;Z<z.length;++Z){const $=z[Z];f.push(B+$)}g=x+(g.length>0?" "+g:g)}return g};function Ok(){let e=0,s,r,l="";for(;e<arguments.length;)(s=arguments[e++])&&(r=gN(s))&&(l&&(l+=" "),l+=r);return l}const gN=e=>{if(typeof e=="string")return e;let s,r="";for(let l=0;l<e.length;l++)e[l]&&(s=gN(e[l]))&&(r&&(r+=" "),r+=s);return r};function Mk(e,...s){let r,l,c,u=f;function f(g){const p=s.reduce((x,y)=>y(x),e());return r=Ek(p),l=r.cache.get,c=r.cache.set,u=m,m(g)}function m(g){const p=l(g);if(p)return p;const x=Rk(g,r);return c(g,x),x}return function(){return u(Ok.apply(null,arguments))}}const cs=e=>{const s=r=>r[e]||[];return s.isThemeGetter=!0,s},xN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dk=/^\d+\/\d+$/,Pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ik=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>Dk.test(e),ct=e=>!!e&&!Number.isNaN(Number(e)),tr=e=>!!e&&Number.isInteger(Number(e)),gh=e=>e.endsWith("%")&&ct(e.slice(0,-1)),ba=e=>Pk.test(e),Fk=()=>!0,Uk=e=>Bk.test(e)&&!Ik.test(e),yN=()=>!1,Vk=e=>zk.test(e),qk=e=>Lk.test(e),$k=e=>!Me(e)&&!De(e),Hk=e=>vl(e,NN,yN),Me=e=>xN.test(e),Br=e=>vl(e,wN,Uk),xh=e=>vl(e,Zk,ct),o0=e=>vl(e,bN,yN),Gk=e=>vl(e,jN,qk),Nu=e=>vl(e,SN,Vk),De=e=>vN.test(e),No=e=>yl(e,wN),Qk=e=>yl(e,Xk),c0=e=>yl(e,bN),Kk=e=>yl(e,NN),Yk=e=>yl(e,jN),wu=e=>yl(e,SN,!0),vl=(e,s,r)=>{const l=xN.exec(e);return l?l[1]?s(l[1]):r(l[2]):!1},yl=(e,s,r=!1)=>{const l=vN.exec(e);return l?l[1]?s(l[1]):r:!1},bN=e=>e==="position"||e==="percentage",jN=e=>e==="image"||e==="url",NN=e=>e==="length"||e==="size"||e==="bg-size",wN=e=>e==="length",Zk=e=>e==="number",Xk=e=>e==="family-name",SN=e=>e==="shadow",Wk=()=>{const e=cs("color"),s=cs("font"),r=cs("text"),l=cs("font-weight"),c=cs("tracking"),u=cs("leading"),f=cs("breakpoint"),m=cs("container"),g=cs("spacing"),p=cs("radius"),x=cs("shadow"),y=cs("inset-shadow"),w=cs("text-shadow"),C=cs("drop-shadow"),T=cs("blur"),j=cs("perspective"),b=cs("aspect"),_=cs("ease"),E=cs("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...D(),De,Me],Z=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],Y=()=>[De,Me,g],W=()=>[Li,"full","auto",...Y()],ae=()=>[tr,"none","subgrid",De,Me],de=()=>["auto",{span:["full",tr,De,Me]},tr,De,Me],re=()=>[tr,"auto",De,Me],oe=()=>["auto","min","max","fr",De,Me],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...Y()],S=()=>[Li,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],O=()=>[e,De,Me],le=()=>[...D(),c0,o0,{position:[De,Me]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",Kk,Hk,{size:[De,Me]}],V=()=>[gh,No,Br],J=()=>["","none","full",p,De,Me],ce=()=>["",ct,No,Br],me=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>[ct,gh,c0,o0],X=()=>["","none",T,De,Me],Ne=()=>["none",ct,De,Me],Ce=()=>["none",ct,De,Me],Be=()=>[ct,De,Me],Ge=()=>[Li,"full",...Y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ba],breakpoint:[ba],color:[Fk],container:[ba],"drop-shadow":[ba],ease:["in","out","in-out"],font:[$k],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ba],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ba],shadow:[ba],spacing:["px",ct],text:[ba],"text-shadow":[ba],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Li,Me,De,b]}],container:["container"],columns:[{columns:[ct,Me,De,m]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[tr,"auto",De,Me]}],basis:[{basis:[Li,"full","auto",m,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,Li,"auto","initial","none",Me]}],grow:[{grow:["",ct,De,Me]}],shrink:[{shrink:["",ct,De,Me]}],order:[{order:[tr,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":ae()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":ae()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[m,"screen",...S()]}],"min-w":[{"min-w":[m,"screen","none",...S()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...S()]}],h:[{h:["screen","lh",...S()]}],"min-h":[{"min-h":["screen","lh","none",...S()]}],"max-h":[{"max-h":["screen","lh",...S()]}],"font-size":[{text:["base",r,No,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,De,xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gh,Me]}],"font-family":[{font:[Qk,Me,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,De,Me]}],"line-clamp":[{"line-clamp":[ct,"none",De,xh]}],leading:[{leading:[u,...Y()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",De,Br]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[ct,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tr,De,Me],radial:["",De,Me],conic:[tr,De,Me]},Yk,Gk]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,De,Me]}],"outline-w":[{outline:["",ct,No,Br]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",x,wu,Nu]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",y,wu,Nu]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[ct,Br]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",w,wu,Nu]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[ct,De,Me]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:X()}],brightness:[{brightness:[ct,De,Me]}],contrast:[{contrast:[ct,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",C,wu,Nu]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",ct,De,Me]}],"hue-rotate":[{"hue-rotate":[ct,De,Me]}],invert:[{invert:["",ct,De,Me]}],saturate:[{saturate:[ct,De,Me]}],sepia:[{sepia:["",ct,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[ct,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ct,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",ct,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ct,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ct,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",De,Me]}],ease:[{ease:["linear","initial",_,De,Me]}],delay:[{delay:[ct,De,Me]}],animate:[{animate:["none",E,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,De,Me]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[ct,No,Br,xh]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jk=Mk(Wk);function _e(...e){return Jk(uN(e))}const eR=wE,CN=v.forwardRef(({className:e,...s},r)=>n.jsx(nN,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));CN.displayName=nN.displayName;const tR=Jo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TN=v.forwardRef(({className:e,variant:s,...r},l)=>n.jsx(aN,{ref:l,className:_e(tR({variant:s}),e),...r}));TN.displayName=aN.displayName;const sR=v.forwardRef(({className:e,...s},r)=>n.jsx(lN,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));sR.displayName=lN.displayName;const _N=v.forwardRef(({className:e,...s},r)=>n.jsx(oN,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:n.jsx(hN,{className:"h-4 w-4"})}));_N.displayName=oN.displayName;const AN=v.forwardRef(({className:e,...s},r)=>n.jsx(rN,{ref:r,className:_e("text-sm font-semibold",e),...s}));AN.displayName=rN.displayName;const EN=v.forwardRef(({className:e,...s},r)=>n.jsx(iN,{ref:r,className:_e("text-sm opacity-90",e),...s}));EN.displayName=iN.displayName;function nR(){const{toasts:e}=es();return n.jsxs(eR,{children:[e.map(function({id:s,title:r,description:l,action:c,...u}){return n.jsxs(TN,{...u,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(AN,{children:r}),l&&n.jsx(EN,{children:l})]}),c,n.jsx(_N,{})]},s)}),n.jsx(CN,{})]})}var aR=Np[" useId ".trim().toString()]||(()=>{}),rR=0;function zs(e){const[s,r]=v.useState(aR());return Cs(()=>{r(l=>l??String(rR++))},[e]),s?`radix-${s}`:""}const iR=["top","right","bottom","left"],lr=Math.min,nn=Math.max,Lu=Math.round,Su=Math.floor,Xn=e=>({x:e,y:e}),lR={left:"right",right:"left",bottom:"top",top:"bottom"},oR={start:"end",end:"start"};function Wh(e,s,r){return nn(e,lr(s,r))}function Ca(e,s){return typeof e=="function"?e(s):e}function Ta(e){return e.split("-")[0]}function bl(e){return e.split("-")[1]}function Ip(e){return e==="x"?"y":"x"}function zp(e){return e==="y"?"height":"width"}const cR=new Set(["top","bottom"]);function Zn(e){return cR.has(Ta(e))?"y":"x"}function Lp(e){return Ip(Zn(e))}function uR(e,s,r){r===void 0&&(r=!1);const l=bl(e),c=Lp(e),u=zp(c);let f=c==="x"?l===(r?"end":"start")?"right":"left":l==="start"?"bottom":"top";return s.reference[u]>s.floating[u]&&(f=Fu(f)),[f,Fu(f)]}function dR(e){const s=Fu(e);return[Jh(e),s,Jh(s)]}function Jh(e){return e.replace(/start|end/g,s=>oR[s])}const u0=["left","right"],d0=["right","left"],fR=["top","bottom"],mR=["bottom","top"];function hR(e,s,r){switch(e){case"top":case"bottom":return r?s?d0:u0:s?u0:d0;case"left":case"right":return s?fR:mR;default:return[]}}function pR(e,s,r,l){const c=bl(e);let u=hR(Ta(e),r==="start",l);return c&&(u=u.map(f=>f+"-"+c),s&&(u=u.concat(u.map(Jh)))),u}function Fu(e){return e.replace(/left|right|bottom|top/g,s=>lR[s])}function gR(e){return{top:0,right:0,bottom:0,left:0,...e}}function kN(e){return typeof e!="number"?gR(e):{top:e,right:e,bottom:e,left:e}}function Uu(e){const{x:s,y:r,width:l,height:c}=e;return{width:l,height:c,top:r,left:s,right:s+l,bottom:r+c,x:s,y:r}}function f0(e,s,r){let{reference:l,floating:c}=e;const u=Zn(s),f=Lp(s),m=zp(f),g=Ta(s),p=u==="y",x=l.x+l.width/2-c.width/2,y=l.y+l.height/2-c.height/2,w=l[m]/2-c[m]/2;let C;switch(g){case"top":C={x,y:l.y-c.height};break;case"bottom":C={x,y:l.y+l.height};break;case"right":C={x:l.x+l.width,y};break;case"left":C={x:l.x-c.width,y};break;default:C={x:l.x,y:l.y}}switch(bl(s)){case"start":C[f]-=w*(r&&p?-1:1);break;case"end":C[f]+=w*(r&&p?-1:1);break}return C}const xR=async(e,s,r)=>{const{placement:l="bottom",strategy:c="absolute",middleware:u=[],platform:f}=r,m=u.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(s));let p=await f.getElementRects({reference:e,floating:s,strategy:c}),{x,y}=f0(p,l,g),w=l,C={},T=0;for(let j=0;j<m.length;j++){const{name:b,fn:_}=m[j],{x:E,y:B,data:D,reset:z}=await _({x,y,initialPlacement:l,placement:w,strategy:c,middlewareData:C,rects:p,platform:f,elements:{reference:e,floating:s}});x=E??x,y=B??y,C={...C,[b]:{...C[b],...D}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(w=z.placement),z.rects&&(p=z.rects===!0?await f.getElementRects({reference:e,floating:s,strategy:c}):z.rects),{x,y}=f0(p,w,g)),j=-1)}return{x,y,placement:w,strategy:c,middlewareData:C}};async function Ro(e,s){var r;s===void 0&&(s={});const{x:l,y:c,platform:u,rects:f,elements:m,strategy:g}=e,{boundary:p="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:w=!1,padding:C=0}=Ca(s,e),T=kN(C),b=m[w?y==="floating"?"reference":"floating":y],_=Uu(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(b)))==null||r?b:b.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:x,strategy:g})),E=y==="floating"?{x:l,y:c,width:f.floating.width,height:f.floating.height}:f.reference,B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),D=await(u.isElement==null?void 0:u.isElement(B))?await(u.getScale==null?void 0:u.getScale(B))||{x:1,y:1}:{x:1,y:1},z=Uu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:E,offsetParent:B,strategy:g}):E);return{top:(_.top-z.top+T.top)/D.y,bottom:(z.bottom-_.bottom+T.bottom)/D.y,left:(_.left-z.left+T.left)/D.x,right:(z.right-_.right+T.right)/D.x}}const vR=e=>({name:"arrow",options:e,async fn(s){const{x:r,y:l,placement:c,rects:u,platform:f,elements:m,middlewareData:g}=s,{element:p,padding:x=0}=Ca(e,s)||{};if(p==null)return{};const y=kN(x),w={x:r,y:l},C=Lp(c),T=zp(C),j=await f.getDimensions(p),b=C==="y",_=b?"top":"left",E=b?"bottom":"right",B=b?"clientHeight":"clientWidth",D=u.reference[T]+u.reference[C]-w[C]-u.floating[T],z=w[C]-u.reference[C],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p));let $=Z?Z[B]:0;(!$||!await(f.isElement==null?void 0:f.isElement(Z)))&&($=m.floating[B]||u.floating[T]);const Y=D/2-z/2,W=$/2-j[T]/2-1,ae=lr(y[_],W),de=lr(y[E],W),re=ae,oe=$-j[T]-de,U=$/2-j[T]/2+Y,ie=Wh(re,U,oe),R=!g.arrow&&bl(c)!=null&&U!==ie&&u.reference[T]/2-(U<re?ae:de)-j[T]/2<0,S=R?U<re?U-re:U-oe:0;return{[C]:w[C]+S,data:{[C]:ie,centerOffset:U-ie-S,...R&&{alignmentOffset:S}},reset:R}}}),yR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var r,l;const{placement:c,middlewareData:u,rects:f,initialPlacement:m,platform:g,elements:p}=s,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:j=!0,...b}=Ca(e,s);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const _=Ta(c),E=Zn(m),B=Ta(m)===m,D=await(g.isRTL==null?void 0:g.isRTL(p.floating)),z=w||(B||!j?[Fu(m)]:dR(m)),Z=T!=="none";!w&&Z&&z.push(...pR(m,j,T,D));const $=[m,...z],Y=await Ro(s,b),W=[];let ae=((l=u.flip)==null?void 0:l.overflows)||[];if(x&&W.push(Y[_]),y){const U=uR(c,f,D);W.push(Y[U[0]],Y[U[1]])}if(ae=[...ae,{placement:c,overflows:W}],!W.every(U=>U<=0)){var de,re;const U=(((de=u.flip)==null?void 0:de.index)||0)+1,ie=$[U];if(ie&&(!(y==="alignment"?E!==Zn(ie):!1)||ae.every(O=>Zn(O.placement)===E?O.overflows[0]>0:!0)))return{data:{index:U,overflows:ae},reset:{placement:ie}};let R=(re=ae.filter(S=>S.overflows[0]<=0).sort((S,O)=>S.overflows[1]-O.overflows[1])[0])==null?void 0:re.placement;if(!R)switch(C){case"bestFit":{var oe;const S=(oe=ae.filter(O=>{if(Z){const le=Zn(O.placement);return le===E||le==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(le=>le>0).reduce((le,P)=>le+P,0)]).sort((O,le)=>O[1]-le[1])[0])==null?void 0:oe[0];S&&(R=S);break}case"initialPlacement":R=m;break}if(c!==R)return{reset:{placement:R}}}return{}}}};function m0(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function h0(e){return iR.some(s=>e[s]>=0)}const bR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:r}=s,{strategy:l="referenceHidden",...c}=Ca(e,s);switch(l){case"referenceHidden":{const u=await Ro(s,{...c,elementContext:"reference"}),f=m0(u,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:h0(f)}}}case"escaped":{const u=await Ro(s,{...c,altBoundary:!0}),f=m0(u,r.floating);return{data:{escapedOffsets:f,escaped:h0(f)}}}default:return{}}}}},RN=new Set(["left","top"]);async function jR(e,s){const{placement:r,platform:l,elements:c}=e,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),f=Ta(r),m=bl(r),g=Zn(r)==="y",p=RN.has(f)?-1:1,x=u&&g?-1:1,y=Ca(s,e);let{mainAxis:w,crossAxis:C,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return m&&typeof T=="number"&&(C=m==="end"?T*-1:T),g?{x:C*x,y:w*p}:{x:w*p,y:C*x}}const NR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var r,l;const{x:c,y:u,placement:f,middlewareData:m}=s,g=await jR(s,e);return f===((r=m.offset)==null?void 0:r.placement)&&(l=m.arrow)!=null&&l.alignmentOffset?{}:{x:c+g.x,y:u+g.y,data:{...g,placement:f}}}}},wR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:r,y:l,placement:c}=s,{mainAxis:u=!0,crossAxis:f=!1,limiter:m={fn:b=>{let{x:_,y:E}=b;return{x:_,y:E}}},...g}=Ca(e,s),p={x:r,y:l},x=await Ro(s,g),y=Zn(Ta(c)),w=Ip(y);let C=p[w],T=p[y];if(u){const b=w==="y"?"top":"left",_=w==="y"?"bottom":"right",E=C+x[b],B=C-x[_];C=Wh(E,C,B)}if(f){const b=y==="y"?"top":"left",_=y==="y"?"bottom":"right",E=T+x[b],B=T-x[_];T=Wh(E,T,B)}const j=m.fn({...s,[w]:C,[y]:T});return{...j,data:{x:j.x-r,y:j.y-l,enabled:{[w]:u,[y]:f}}}}}},SR=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:r,y:l,placement:c,rects:u,middlewareData:f}=s,{offset:m=0,mainAxis:g=!0,crossAxis:p=!0}=Ca(e,s),x={x:r,y:l},y=Zn(c),w=Ip(y);let C=x[w],T=x[y];const j=Ca(m,s),b=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const B=w==="y"?"height":"width",D=u.reference[w]-u.floating[B]+b.mainAxis,z=u.reference[w]+u.reference[B]-b.mainAxis;C<D?C=D:C>z&&(C=z)}if(p){var _,E;const B=w==="y"?"width":"height",D=RN.has(Ta(c)),z=u.reference[y]-u.floating[B]+(D&&((_=f.offset)==null?void 0:_[y])||0)+(D?0:b.crossAxis),Z=u.reference[y]+u.reference[B]+(D?0:((E=f.offset)==null?void 0:E[y])||0)-(D?b.crossAxis:0);T<z?T=z:T>Z&&(T=Z)}return{[w]:C,[y]:T}}}},CR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var r,l;const{placement:c,rects:u,platform:f,elements:m}=s,{apply:g=()=>{},...p}=Ca(e,s),x=await Ro(s,p),y=Ta(c),w=bl(c),C=Zn(c)==="y",{width:T,height:j}=u.floating;let b,_;y==="top"||y==="bottom"?(b=y,_=w===(await(f.isRTL==null?void 0:f.isRTL(m.floating))?"start":"end")?"left":"right"):(_=y,b=w==="end"?"top":"bottom");const E=j-x.top-x.bottom,B=T-x.left-x.right,D=lr(j-x[b],E),z=lr(T-x[_],B),Z=!s.middlewareData.shift;let $=D,Y=z;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(Y=B),(l=s.middlewareData.shift)!=null&&l.enabled.y&&($=E),Z&&!w){const ae=nn(x.left,0),de=nn(x.right,0),re=nn(x.top,0),oe=nn(x.bottom,0);C?Y=T-2*(ae!==0||de!==0?ae+de:nn(x.left,x.right)):$=j-2*(re!==0||oe!==0?re+oe:nn(x.top,x.bottom))}await g({...s,availableWidth:Y,availableHeight:$});const W=await f.getDimensions(m.floating);return T!==W.width||j!==W.height?{reset:{rects:!0}}:{}}}};function cd(){return typeof window<"u"}function jl(e){return ON(e)?(e.nodeName||"").toLowerCase():"#document"}function on(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function na(e){var s;return(s=(ON(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function ON(e){return cd()?e instanceof Node||e instanceof on(e).Node:!1}function Pn(e){return cd()?e instanceof Element||e instanceof on(e).Element:!1}function ea(e){return cd()?e instanceof HTMLElement||e instanceof on(e).HTMLElement:!1}function p0(e){return!cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof on(e).ShadowRoot}const TR=new Set(["inline","contents"]);function ec(e){const{overflow:s,overflowX:r,overflowY:l,display:c}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(s+l+r)&&!TR.has(c)}const _R=new Set(["table","td","th"]);function AR(e){return _R.has(jl(e))}const ER=[":popover-open",":modal"];function ud(e){return ER.some(s=>{try{return e.matches(s)}catch{return!1}})}const kR=["transform","translate","scale","rotate","perspective"],RR=["transform","translate","scale","rotate","perspective","filter"],OR=["paint","layout","strict","content"];function Fp(e){const s=Up(),r=Pn(e)?Bn(e):e;return kR.some(l=>r[l]?r[l]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||RR.some(l=>(r.willChange||"").includes(l))||OR.some(l=>(r.contain||"").includes(l))}function MR(e){let s=or(e);for(;ea(s)&&!il(s);){if(Fp(s))return s;if(ud(s))return null;s=or(s)}return null}function Up(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DR=new Set(["html","body","#document"]);function il(e){return DR.has(jl(e))}function Bn(e){return on(e).getComputedStyle(e)}function dd(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function or(e){if(jl(e)==="html")return e;const s=e.assignedSlot||e.parentNode||p0(e)&&e.host||na(e);return p0(s)?s.host:s}function MN(e){const s=or(e);return il(s)?e.ownerDocument?e.ownerDocument.body:e.body:ea(s)&&ec(s)?s:MN(s)}function Oo(e,s,r){var l;s===void 0&&(s=[]),r===void 0&&(r=!0);const c=MN(e),u=c===((l=e.ownerDocument)==null?void 0:l.body),f=on(c);if(u){const m=ep(f);return s.concat(f,f.visualViewport||[],ec(c)?c:[],m&&r?Oo(m):[])}return s.concat(c,Oo(c,[],r))}function ep(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DN(e){const s=Bn(e);let r=parseFloat(s.width)||0,l=parseFloat(s.height)||0;const c=ea(e),u=c?e.offsetWidth:r,f=c?e.offsetHeight:l,m=Lu(r)!==u||Lu(l)!==f;return m&&(r=u,l=f),{width:r,height:l,$:m}}function Vp(e){return Pn(e)?e:e.contextElement}function Ji(e){const s=Vp(e);if(!ea(s))return Xn(1);const r=s.getBoundingClientRect(),{width:l,height:c,$:u}=DN(s);let f=(u?Lu(r.width):r.width)/l,m=(u?Lu(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const PR=Xn(0);function PN(e){const s=on(e);return!Up()||!s.visualViewport?PR:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function BR(e,s,r){return s===void 0&&(s=!1),!r||s&&r!==on(e)?!1:s}function Hr(e,s,r,l){s===void 0&&(s=!1),r===void 0&&(r=!1);const c=e.getBoundingClientRect(),u=Vp(e);let f=Xn(1);s&&(l?Pn(l)&&(f=Ji(l)):f=Ji(e));const m=BR(u,r,l)?PN(u):Xn(0);let g=(c.left+m.x)/f.x,p=(c.top+m.y)/f.y,x=c.width/f.x,y=c.height/f.y;if(u){const w=on(u),C=l&&Pn(l)?on(l):l;let T=w,j=ep(T);for(;j&&l&&C!==T;){const b=Ji(j),_=j.getBoundingClientRect(),E=Bn(j),B=_.left+(j.clientLeft+parseFloat(E.paddingLeft))*b.x,D=_.top+(j.clientTop+parseFloat(E.paddingTop))*b.y;g*=b.x,p*=b.y,x*=b.x,y*=b.y,g+=B,p+=D,T=on(j),j=ep(T)}}return Uu({width:x,height:y,x:g,y:p})}function fd(e,s){const r=dd(e).scrollLeft;return s?s.left+r:Hr(na(e)).left+r}function BN(e,s){const r=e.getBoundingClientRect(),l=r.left+s.scrollLeft-fd(e,r),c=r.top+s.scrollTop;return{x:l,y:c}}function IR(e){let{elements:s,rect:r,offsetParent:l,strategy:c}=e;const u=c==="fixed",f=na(l),m=s?ud(s.floating):!1;if(l===f||m&&u)return r;let g={scrollLeft:0,scrollTop:0},p=Xn(1);const x=Xn(0),y=ea(l);if((y||!y&&!u)&&((jl(l)!=="body"||ec(f))&&(g=dd(l)),ea(l))){const C=Hr(l);p=Ji(l),x.x=C.x+l.clientLeft,x.y=C.y+l.clientTop}const w=f&&!y&&!u?BN(f,g):Xn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-g.scrollLeft*p.x+x.x+w.x,y:r.y*p.y-g.scrollTop*p.y+x.y+w.y}}function zR(e){return Array.from(e.getClientRects())}function LR(e){const s=na(e),r=dd(e),l=e.ownerDocument.body,c=nn(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),u=nn(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight);let f=-r.scrollLeft+fd(e);const m=-r.scrollTop;return Bn(l).direction==="rtl"&&(f+=nn(s.clientWidth,l.clientWidth)-c),{width:c,height:u,x:f,y:m}}const g0=25;function FR(e,s){const r=on(e),l=na(e),c=r.visualViewport;let u=l.clientWidth,f=l.clientHeight,m=0,g=0;if(c){u=c.width,f=c.height;const x=Up();(!x||x&&s==="fixed")&&(m=c.offsetLeft,g=c.offsetTop)}const p=fd(l);if(p<=0){const x=l.ownerDocument,y=x.body,w=getComputedStyle(y),C=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,T=Math.abs(l.clientWidth-y.clientWidth-C);T<=g0&&(u-=T)}else p<=g0&&(u+=p);return{width:u,height:f,x:m,y:g}}const UR=new Set(["absolute","fixed"]);function VR(e,s){const r=Hr(e,!0,s==="fixed"),l=r.top+e.clientTop,c=r.left+e.clientLeft,u=ea(e)?Ji(e):Xn(1),f=e.clientWidth*u.x,m=e.clientHeight*u.y,g=c*u.x,p=l*u.y;return{width:f,height:m,x:g,y:p}}function x0(e,s,r){let l;if(s==="viewport")l=FR(e,r);else if(s==="document")l=LR(na(e));else if(Pn(s))l=VR(s,r);else{const c=PN(e);l={x:s.x-c.x,y:s.y-c.y,width:s.width,height:s.height}}return Uu(l)}function IN(e,s){const r=or(e);return r===s||!Pn(r)||il(r)?!1:Bn(r).position==="fixed"||IN(r,s)}function qR(e,s){const r=s.get(e);if(r)return r;let l=Oo(e,[],!1).filter(m=>Pn(m)&&jl(m)!=="body"),c=null;const u=Bn(e).position==="fixed";let f=u?or(e):e;for(;Pn(f)&&!il(f);){const m=Bn(f),g=Fp(f);!g&&m.position==="fixed"&&(c=null),(u?!g&&!c:!g&&m.position==="static"&&!!c&&UR.has(c.position)||ec(f)&&!g&&IN(e,f))?l=l.filter(x=>x!==f):c=m,f=or(f)}return s.set(e,l),l}function $R(e){let{element:s,boundary:r,rootBoundary:l,strategy:c}=e;const f=[...r==="clippingAncestors"?ud(s)?[]:qR(s,this._c):[].concat(r),l],m=f[0],g=f.reduce((p,x)=>{const y=x0(s,x,c);return p.top=nn(y.top,p.top),p.right=lr(y.right,p.right),p.bottom=lr(y.bottom,p.bottom),p.left=nn(y.left,p.left),p},x0(s,m,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function HR(e){const{width:s,height:r}=DN(e);return{width:s,height:r}}function GR(e,s,r){const l=ea(s),c=na(s),u=r==="fixed",f=Hr(e,!0,u,s);let m={scrollLeft:0,scrollTop:0};const g=Xn(0);function p(){g.x=fd(c)}if(l||!l&&!u)if((jl(s)!=="body"||ec(c))&&(m=dd(s)),l){const C=Hr(s,!0,u,s);g.x=C.x+s.clientLeft,g.y=C.y+s.clientTop}else c&&p();u&&!l&&c&&p();const x=c&&!l&&!u?BN(c,m):Xn(0),y=f.left+m.scrollLeft-g.x-x.x,w=f.top+m.scrollTop-g.y-x.y;return{x:y,y:w,width:f.width,height:f.height}}function vh(e){return Bn(e).position==="static"}function v0(e,s){if(!ea(e)||Bn(e).position==="fixed")return null;if(s)return s(e);let r=e.offsetParent;return na(e)===r&&(r=r.ownerDocument.body),r}function zN(e,s){const r=on(e);if(ud(e))return r;if(!ea(e)){let c=or(e);for(;c&&!il(c);){if(Pn(c)&&!vh(c))return c;c=or(c)}return r}let l=v0(e,s);for(;l&&AR(l)&&vh(l);)l=v0(l,s);return l&&il(l)&&vh(l)&&!Fp(l)?r:l||MR(e)||r}const QR=async function(e){const s=this.getOffsetParent||zN,r=this.getDimensions,l=await r(e.floating);return{reference:GR(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function KR(e){return Bn(e).direction==="rtl"}const YR={convertOffsetParentRelativeRectToViewportRelativeRect:IR,getDocumentElement:na,getClippingRect:$R,getOffsetParent:zN,getElementRects:QR,getClientRects:zR,getDimensions:HR,getScale:Ji,isElement:Pn,isRTL:KR};function LN(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function ZR(e,s){let r=null,l;const c=na(e);function u(){var m;clearTimeout(l),(m=r)==null||m.disconnect(),r=null}function f(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),u();const p=e.getBoundingClientRect(),{left:x,top:y,width:w,height:C}=p;if(m||s(),!w||!C)return;const T=Su(y),j=Su(c.clientWidth-(x+w)),b=Su(c.clientHeight-(y+C)),_=Su(x),B={rootMargin:-T+"px "+-j+"px "+-b+"px "+-_+"px",threshold:nn(0,lr(1,g))||1};let D=!0;function z(Z){const $=Z[0].intersectionRatio;if($!==g){if(!D)return f();$?f(!1,$):l=setTimeout(()=>{f(!1,1e-7)},1e3)}$===1&&!LN(p,e.getBoundingClientRect())&&f(),D=!1}try{r=new IntersectionObserver(z,{...B,root:c.ownerDocument})}catch{r=new IntersectionObserver(z,B)}r.observe(e)}return f(!0),u}function XR(e,s,r,l){l===void 0&&(l={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=l,p=Vp(e),x=c||u?[...p?Oo(p):[],...Oo(s)]:[];x.forEach(_=>{c&&_.addEventListener("scroll",r,{passive:!0}),u&&_.addEventListener("resize",r)});const y=p&&m?ZR(p,r):null;let w=-1,C=null;f&&(C=new ResizeObserver(_=>{let[E]=_;E&&E.target===p&&C&&(C.unobserve(s),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var B;(B=C)==null||B.observe(s)})),r()}),p&&!g&&C.observe(p),C.observe(s));let T,j=g?Hr(e):null;g&&b();function b(){const _=Hr(e);j&&!LN(j,_)&&r(),j=_,T=requestAnimationFrame(b)}return r(),()=>{var _;x.forEach(E=>{c&&E.removeEventListener("scroll",r),u&&E.removeEventListener("resize",r)}),y?.(),(_=C)==null||_.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const WR=NR,JR=wR,e4=yR,t4=CR,s4=bR,y0=vR,n4=SR,a4=(e,s,r)=>{const l=new Map,c={platform:YR,...r},u={...c.platform,_c:l};return xR(e,s,{...c,platform:u})};var r4=typeof document<"u",i4=function(){},Ou=r4?v.useLayoutEffect:i4;function Vu(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let r,l,c;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==s.length)return!1;for(l=r;l--!==0;)if(!Vu(e[l],s[l]))return!1;return!0}if(c=Object.keys(e),r=c.length,r!==Object.keys(s).length)return!1;for(l=r;l--!==0;)if(!{}.hasOwnProperty.call(s,c[l]))return!1;for(l=r;l--!==0;){const u=c[l];if(!(u==="_owner"&&e.$$typeof)&&!Vu(e[u],s[u]))return!1}return!0}return e!==e&&s!==s}function FN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b0(e,s){const r=FN(e);return Math.round(s*r)/r}function yh(e){const s=v.useRef(e);return Ou(()=>{s.current=e}),s}function l4(e){e===void 0&&(e={});const{placement:s="bottom",strategy:r="absolute",middleware:l=[],platform:c,elements:{reference:u,floating:f}={},transform:m=!0,whileElementsMounted:g,open:p}=e,[x,y]=v.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[w,C]=v.useState(l);Vu(w,l)||C(l);const[T,j]=v.useState(null),[b,_]=v.useState(null),E=v.useCallback(O=>{O!==Z.current&&(Z.current=O,j(O))},[]),B=v.useCallback(O=>{O!==$.current&&($.current=O,_(O))},[]),D=u||T,z=f||b,Z=v.useRef(null),$=v.useRef(null),Y=v.useRef(x),W=g!=null,ae=yh(g),de=yh(c),re=yh(p),oe=v.useCallback(()=>{if(!Z.current||!$.current)return;const O={placement:s,strategy:r,middleware:w};de.current&&(O.platform=de.current),a4(Z.current,$.current,O).then(le=>{const P={...le,isPositioned:re.current!==!1};U.current&&!Vu(Y.current,P)&&(Y.current=P,gl.flushSync(()=>{y(P)}))})},[w,s,r,de,re]);Ou(()=>{p===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,y(O=>({...O,isPositioned:!1})))},[p]);const U=v.useRef(!1);Ou(()=>(U.current=!0,()=>{U.current=!1}),[]),Ou(()=>{if(D&&(Z.current=D),z&&($.current=z),D&&z){if(ae.current)return ae.current(D,z,oe);oe()}},[D,z,oe,ae,W]);const ie=v.useMemo(()=>({reference:Z,floating:$,setReference:E,setFloating:B}),[E,B]),R=v.useMemo(()=>({reference:D,floating:z}),[D,z]),S=v.useMemo(()=>{const O={position:r,left:0,top:0};if(!R.floating)return O;const le=b0(R.floating,x.x),P=b0(R.floating,x.y);return m?{...O,transform:"translate("+le+"px, "+P+"px)",...FN(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:P}},[r,m,R.floating,x.x,x.y]);return v.useMemo(()=>({...x,update:oe,refs:ie,elements:R,floatingStyles:S}),[x,oe,ie,R,S])}const o4=e=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:l,padding:c}=typeof e=="function"?e(r):e;return l&&s(l)?l.current!=null?y0({element:l.current,padding:c}).fn(r):{}:l?y0({element:l,padding:c}).fn(r):{}}}},c4=(e,s)=>({...WR(e),options:[e,s]}),u4=(e,s)=>({...JR(e),options:[e,s]}),d4=(e,s)=>({...n4(e),options:[e,s]}),f4=(e,s)=>({...e4(e),options:[e,s]}),m4=(e,s)=>({...t4(e),options:[e,s]}),h4=(e,s)=>({...s4(e),options:[e,s]}),p4=(e,s)=>({...o4(e),options:[e,s]});var g4="Arrow",UN=v.forwardRef((e,s)=>{const{children:r,width:l=10,height:c=5,...u}=e;return n.jsx(ze.svg,{...u,ref:s,width:l,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});UN.displayName=g4;var x4=UN;function md(e){const[s,r]=v.useState(void 0);return Cs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let f,m;if("borderBoxSize"in u){const g=u.borderBoxSize,p=Array.isArray(g)?g[0]:g;f=p.inlineSize,m=p.blockSize}else f=e.offsetWidth,m=e.offsetHeight;r({width:f,height:m})});return l.observe(e,{box:"border-box"}),()=>l.unobserve(e)}else r(void 0)},[e]),s}var qp="Popper",[VN,Nl]=Fs(qp),[v4,qN]=VN(qp),$N=e=>{const{__scopePopper:s,children:r}=e,[l,c]=v.useState(null);return n.jsx(v4,{scope:s,anchor:l,onAnchorChange:c,children:r})};$N.displayName=qp;var HN="PopperAnchor",GN=v.forwardRef((e,s)=>{const{__scopePopper:r,virtualRef:l,...c}=e,u=qN(HN,r),f=v.useRef(null),m=mt(s,f),g=v.useRef(null);return v.useEffect(()=>{const p=g.current;g.current=l?.current||f.current,p!==g.current&&u.onAnchorChange(g.current)}),l?null:n.jsx(ze.div,{...c,ref:m})});GN.displayName=HN;var $p="PopperContent",[y4,b4]=VN($p),QN=v.forwardRef((e,s)=>{const{__scopePopper:r,side:l="bottom",sideOffset:c=0,align:u="center",alignOffset:f=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:T,...j}=e,b=qN($p,r),[_,E]=v.useState(null),B=mt(s,M=>E(M)),[D,z]=v.useState(null),Z=md(D),$=Z?.width??0,Y=Z?.height??0,W=l+(u!=="center"?"-"+u:""),ae=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},de=Array.isArray(p)?p:[p],re=de.length>0,oe={padding:ae,boundary:de.filter(N4),altBoundary:re},{refs:U,floatingStyles:ie,placement:R,isPositioned:S,middlewareData:O}=l4({strategy:"fixed",placement:W,whileElementsMounted:(...M)=>XR(...M,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[c4({mainAxis:c+Y,alignmentAxis:f}),g&&u4({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?d4():void 0,...oe}),g&&f4({...oe}),m4({...oe,apply:({elements:M,rects:X,availableWidth:Ne,availableHeight:Ce})=>{const{width:Be,height:Ge}=X.reference,is=M.floating.style;is.setProperty("--radix-popper-available-width",`${Ne}px`),is.setProperty("--radix-popper-available-height",`${Ce}px`),is.setProperty("--radix-popper-anchor-width",`${Be}px`),is.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),D&&p4({element:D,padding:m}),w4({arrowWidth:$,arrowHeight:Y}),w&&h4({strategy:"referenceHidden",...oe})]}),[le,P]=ZN(R),se=Sn(T);Cs(()=>{S&&se?.()},[S,se]);const V=O.arrow?.x,J=O.arrow?.y,ce=O.arrow?.centerOffset!==0,[me,ye]=v.useState();return Cs(()=>{_&&ye(window.getComputedStyle(_).zIndex)},[_]),n.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:S?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(y4,{scope:r,placedSide:le,onArrowChange:z,arrowX:V,arrowY:J,shouldHideArrow:ce,children:n.jsx(ze.div,{"data-side":le,"data-align":P,...j,ref:B,style:{...j.style,animation:S?void 0:"none"}})})})});QN.displayName=$p;var KN="PopperArrow",j4={top:"bottom",right:"left",bottom:"top",left:"right"},YN=v.forwardRef(function(s,r){const{__scopePopper:l,...c}=s,u=b4(KN,l),f=j4[u.placedSide];return n.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:n.jsx(x4,{...c,ref:r,style:{...c.style,display:"block"}})})});YN.displayName=KN;function N4(e){return e!==null}var w4=e=>({name:"transformOrigin",options:e,fn(s){const{placement:r,rects:l,middlewareData:c}=s,f=c.arrow?.centerOffset!==0,m=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[p,x]=ZN(r),y={start:"0%",center:"50%",end:"100%"}[x],w=(c.arrow?.x??0)+m/2,C=(c.arrow?.y??0)+g/2;let T="",j="";return p==="bottom"?(T=f?y:`${w}px`,j=`${-g}px`):p==="top"?(T=f?y:`${w}px`,j=`${l.floating.height+g}px`):p==="right"?(T=`${-g}px`,j=f?y:`${C}px`):p==="left"&&(T=`${l.floating.width+g}px`,j=f?y:`${C}px`),{data:{x:T,y:j}}}});function ZN(e){const[s,r="center"]=e.split("-");return[s,r]}var XN=$N,hd=GN,Hp=QN,Gp=YN,[pd]=Fs("Tooltip",[Nl]),Qp=Nl(),WN="TooltipProvider",S4=700,j0="tooltip.open",[C4,JN]=pd(WN),ew=e=>{const{__scopeTooltip:s,delayDuration:r=S4,skipDelayDuration:l=300,disableHoverableContent:c=!1,children:u}=e,f=v.useRef(!0),m=v.useRef(!1),g=v.useRef(0);return v.useEffect(()=>{const p=g.current;return()=>window.clearTimeout(p)},[]),n.jsx(C4,{scope:s,isOpenDelayedRef:f,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(g.current),f.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>f.current=!0,l)},[l]),isPointerInTransitRef:m,onPointerInTransitChange:v.useCallback(p=>{m.current=p},[]),disableHoverableContent:c,children:u})};ew.displayName=WN;var tw="Tooltip",[bI,gd]=pd(tw),tp="TooltipTrigger",T4=v.forwardRef((e,s)=>{const{__scopeTooltip:r,...l}=e,c=gd(tp,r),u=JN(tp,r),f=Qp(r),m=v.useRef(null),g=mt(s,m,c.onTriggerChange),p=v.useRef(!1),x=v.useRef(!1),y=v.useCallback(()=>p.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),n.jsx(hd,{asChild:!0,...f,children:n.jsx(ze.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...l,ref:g,onPointerMove:Ie(e.onPointerMove,w=>{w.pointerType!=="touch"&&!x.current&&!u.isPointerInTransitRef.current&&(c.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{c.onTriggerLeave(),x.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{c.open&&c.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ie(e.onFocus,()=>{p.current||c.onOpen()}),onBlur:Ie(e.onBlur,c.onClose),onClick:Ie(e.onClick,c.onClose)})})});T4.displayName=tp;var _4="TooltipPortal",[jI,A4]=pd(_4,{forceMount:void 0}),ll="TooltipContent",sw=v.forwardRef((e,s)=>{const r=A4(ll,e.__scopeTooltip),{forceMount:l=r.forceMount,side:c="top",...u}=e,f=gd(ll,e.__scopeTooltip);return n.jsx(zn,{present:l||f.open,children:f.disableHoverableContent?n.jsx(nw,{side:c,...u,ref:s}):n.jsx(E4,{side:c,...u,ref:s})})}),E4=v.forwardRef((e,s)=>{const r=gd(ll,e.__scopeTooltip),l=JN(ll,e.__scopeTooltip),c=v.useRef(null),u=mt(s,c),[f,m]=v.useState(null),{trigger:g,onClose:p}=r,x=c.current,{onPointerInTransitChange:y}=l,w=v.useCallback(()=>{m(null),y(!1)},[y]),C=v.useCallback((T,j)=>{const b=T.currentTarget,_={x:T.clientX,y:T.clientY},E=D4(_,b.getBoundingClientRect()),B=P4(_,E),D=B4(j.getBoundingClientRect()),z=z4([...B,...D]);m(z),y(!0)},[y]);return v.useEffect(()=>()=>w(),[w]),v.useEffect(()=>{if(g&&x){const T=b=>C(b,x),j=b=>C(b,g);return g.addEventListener("pointerleave",T),x.addEventListener("pointerleave",j),()=>{g.removeEventListener("pointerleave",T),x.removeEventListener("pointerleave",j)}}},[g,x,C,w]),v.useEffect(()=>{if(f){const T=j=>{const b=j.target,_={x:j.clientX,y:j.clientY},E=g?.contains(b)||x?.contains(b),B=!I4(_,f);E?w():B&&(w(),p())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[g,x,f,p,w]),n.jsx(nw,{...e,ref:u})}),[k4,R4]=pd(tw,{isInside:!1}),O4=zj("TooltipContent"),nw=v.forwardRef((e,s)=>{const{__scopeTooltip:r,children:l,"aria-label":c,onEscapeKeyDown:u,onPointerDownOutside:f,...m}=e,g=gd(ll,r),p=Qp(r),{onClose:x}=g;return v.useEffect(()=>(document.addEventListener(j0,x),()=>document.removeEventListener(j0,x)),[x]),v.useEffect(()=>{if(g.trigger){const y=w=>{w.target?.contains(g.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[g.trigger,x]),n.jsx(xl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:n.jsxs(Hp,{"data-state":g.stateAttribute,...p,...m,ref:s,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(O4,{children:l}),n.jsx(k4,{scope:r,isInside:!0,children:n.jsx(rE,{id:g.contentId,role:"tooltip",children:c||l})})]})})});sw.displayName=ll;var aw="TooltipArrow",M4=v.forwardRef((e,s)=>{const{__scopeTooltip:r,...l}=e,c=Qp(r);return R4(aw,r).isInside?null:n.jsx(Gp,{...c,...l,ref:s})});M4.displayName=aw;function D4(e,s){const r=Math.abs(s.top-e.y),l=Math.abs(s.bottom-e.y),c=Math.abs(s.right-e.x),u=Math.abs(s.left-e.x);switch(Math.min(r,l,c,u)){case u:return"left";case c:return"right";case r:return"top";case l:return"bottom";default:throw new Error("unreachable")}}function P4(e,s,r=5){const l=[];switch(s){case"top":l.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":l.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":l.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":l.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return l}function B4(e){const{top:s,right:r,bottom:l,left:c}=e;return[{x:c,y:s},{x:r,y:s},{x:r,y:l},{x:c,y:l}]}function I4(e,s){const{x:r,y:l}=e;let c=!1;for(let u=0,f=s.length-1;u<s.length;f=u++){const m=s[u],g=s[f],p=m.x,x=m.y,y=g.x,w=g.y;x>l!=w>l&&r<(y-p)*(l-x)/(w-x)+p&&(c=!c)}return c}function z4(e){const s=e.slice();return s.sort((r,l)=>r.x<l.x?-1:r.x>l.x?1:r.y<l.y?-1:r.y>l.y?1:0),L4(s)}function L4(e){if(e.length<=1)return e.slice();const s=[];for(let l=0;l<e.length;l++){const c=e[l];for(;s.length>=2;){const u=s[s.length-1],f=s[s.length-2];if((u.x-f.x)*(c.y-f.y)>=(u.y-f.y)*(c.x-f.x))s.pop();else break}s.push(c)}s.pop();const r=[];for(let l=e.length-1;l>=0;l--){const c=e[l];for(;r.length>=2;){const u=r[r.length-1],f=r[r.length-2];if((u.x-f.x)*(c.y-f.y)>=(u.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var F4=ew,rw=sw;const U4=F4,V4=v.forwardRef(({className:e,sideOffset:s=4,...r},l)=>n.jsx(rw,{ref:l,sideOffset:s,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));V4.displayName=rw.displayName;const ge=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));ge.displayName="Card";const Ue=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...s}));Ue.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...s}));Ve.displayName="CardTitle";const at=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("text-sm text-muted-foreground",e),...s}));at.displayName="CardDescription";const xe=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...s}));xe.displayName="CardContent";const q4=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...s}));q4.displayName="CardFooter";const Kp=Jo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=v.forwardRef(({className:e,variant:s,size:r,asChild:l=!1,...c},u)=>{const f=l?BA:"button";return n.jsx(f,{className:_e(Kp({variant:s,size:r,className:e})),ref:u,...c})});Q.displayName="Button";var bh="focusScope.autoFocusOnMount",jh="focusScope.autoFocusOnUnmount",N0={bubbles:!1,cancelable:!0},$4="FocusScope",xd=v.forwardRef((e,s)=>{const{loop:r=!1,trapped:l=!1,onMountAutoFocus:c,onUnmountAutoFocus:u,...f}=e,[m,g]=v.useState(null),p=Sn(c),x=Sn(u),y=v.useRef(null),w=mt(s,j=>g(j)),C=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(l){let j=function(B){if(C.paused||!m)return;const D=B.target;m.contains(D)?y.current=D:sr(y.current,{select:!0})},b=function(B){if(C.paused||!m)return;const D=B.relatedTarget;D!==null&&(m.contains(D)||sr(y.current,{select:!0}))},_=function(B){if(document.activeElement===document.body)for(const z of B)z.removedNodes.length>0&&sr(m)};document.addEventListener("focusin",j),document.addEventListener("focusout",b);const E=new MutationObserver(_);return m&&E.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",b),E.disconnect()}}},[l,m,C.paused]),v.useEffect(()=>{if(m){S0.add(C);const j=document.activeElement;if(!m.contains(j)){const _=new CustomEvent(bh,N0);m.addEventListener(bh,p),m.dispatchEvent(_),_.defaultPrevented||(H4(Z4(iw(m)),{select:!0}),document.activeElement===j&&sr(m))}return()=>{m.removeEventListener(bh,p),setTimeout(()=>{const _=new CustomEvent(jh,N0);m.addEventListener(jh,x),m.dispatchEvent(_),_.defaultPrevented||sr(j??document.body,{select:!0}),m.removeEventListener(jh,x),S0.remove(C)},0)}}},[m,p,x,C]);const T=v.useCallback(j=>{if(!r&&!l||C.paused)return;const b=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,_=document.activeElement;if(b&&_){const E=j.currentTarget,[B,D]=G4(E);B&&D?!j.shiftKey&&_===D?(j.preventDefault(),r&&sr(B,{select:!0})):j.shiftKey&&_===B&&(j.preventDefault(),r&&sr(D,{select:!0})):_===E&&j.preventDefault()}},[r,l,C.paused]);return n.jsx(ze.div,{tabIndex:-1,...f,ref:w,onKeyDown:T})});xd.displayName=$4;function H4(e,{select:s=!1}={}){const r=document.activeElement;for(const l of e)if(sr(l,{select:s}),document.activeElement!==r)return}function G4(e){const s=iw(e),r=w0(s,e),l=w0(s.reverse(),e);return[r,l]}function iw(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const c=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||c?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function w0(e,s){for(const r of e)if(!Q4(r,{upTo:s}))return r}function Q4(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function K4(e){return e instanceof HTMLInputElement&&"select"in e}function sr(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&K4(e)&&s&&e.select()}}var S0=Y4();function Y4(){let e=[];return{add(s){const r=e[0];s!==r&&r?.pause(),e=C0(e,s),e.unshift(s)},remove(s){e=C0(e,s),e[0]?.resume()}}}function C0(e,s){const r=[...e],l=r.indexOf(s);return l!==-1&&r.splice(l,1),r}function Z4(e){return e.filter(s=>s.tagName!=="A")}var Nh=0;function Yp(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??T0()),document.body.insertAdjacentElement("beforeend",e[1]??T0()),Nh++,()=>{Nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Nh--}},[])}function T0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yn=function(){return Yn=Object.assign||function(s){for(var r,l=1,c=arguments.length;l<c;l++){r=arguments[l];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])}return s},Yn.apply(this,arguments)};function lw(e,s){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(r[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(e);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(e,l[c])&&(r[l[c]]=e[l[c]]);return r}function X4(e,s,r){if(r||arguments.length===2)for(var l=0,c=s.length,u;l<c;l++)(u||!(l in s))&&(u||(u=Array.prototype.slice.call(s,0,l)),u[l]=s[l]);return e.concat(u||Array.prototype.slice.call(s))}var Mu="right-scroll-bar-position",Du="width-before-scroll-bar",W4="with-scroll-bars-hidden",J4="--removed-body-scroll-bar-size";function wh(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function eO(e,s){var r=v.useState(function(){return{value:e,callback:s,facade:{get current(){return r.value},set current(l){var c=r.value;c!==l&&(r.value=l,r.callback(l,c))}}}})[0];return r.callback=s,r.facade}var tO=typeof window<"u"?v.useLayoutEffect:v.useEffect,_0=new WeakMap;function sO(e,s){var r=eO(null,function(l){return e.forEach(function(c){return wh(c,l)})});return tO(function(){var l=_0.get(r);if(l){var c=new Set(l),u=new Set(e),f=r.current;c.forEach(function(m){u.has(m)||wh(m,null)}),u.forEach(function(m){c.has(m)||wh(m,f)})}_0.set(r,e)},[e]),r}function nO(e){return e}function aO(e,s){s===void 0&&(s=nO);var r=[],l=!1,c={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var f=s(u,l);return r.push(f),function(){r=r.filter(function(m){return m!==f})}},assignSyncMedium:function(u){for(l=!0;r.length;){var f=r;r=[],f.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){l=!0;var f=[];if(r.length){var m=r;r=[],m.forEach(u),f=r}var g=function(){var x=f;f=[],x.forEach(u)},p=function(){return Promise.resolve().then(g)};p(),r={push:function(x){f.push(x),p()},filter:function(x){return f=f.filter(x),r}}}};return c}function rO(e){e===void 0&&(e={});var s=aO(null);return s.options=Yn({async:!0,ssr:!1},e),s}var ow=function(e){var s=e.sideCar,r=lw(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=s.read();if(!l)throw new Error("Sidecar medium not found");return v.createElement(l,Yn({},r))};ow.isSideCarExport=!0;function iO(e,s){return e.useMedium(s),ow}var cw=rO(),Sh=function(){},vd=v.forwardRef(function(e,s){var r=v.useRef(null),l=v.useState({onScrollCapture:Sh,onWheelCapture:Sh,onTouchMoveCapture:Sh}),c=l[0],u=l[1],f=e.forwardProps,m=e.children,g=e.className,p=e.removeScrollBar,x=e.enabled,y=e.shards,w=e.sideCar,C=e.noRelative,T=e.noIsolation,j=e.inert,b=e.allowPinchZoom,_=e.as,E=_===void 0?"div":_,B=e.gapMode,D=lw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=w,Z=sO([r,s]),$=Yn(Yn({},D),c);return v.createElement(v.Fragment,null,x&&v.createElement(z,{sideCar:cw,removeScrollBar:p,shards:y,noRelative:C,noIsolation:T,inert:j,setCallbacks:u,allowPinchZoom:!!b,lockRef:r,gapMode:B}),f?v.cloneElement(v.Children.only(m),Yn(Yn({},$),{ref:Z})):v.createElement(E,Yn({},$,{className:g,ref:Z}),m))});vd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vd.classNames={fullWidth:Du,zeroRight:Mu};var lO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=lO();return s&&e.setAttribute("nonce",s),e}function cO(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function uO(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var dO=function(){var e=0,s=null;return{add:function(r){e==0&&(s=oO())&&(cO(s,r),uO(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},fO=function(){var e=dO();return function(s,r){v.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&r])}},uw=function(){var e=fO(),s=function(r){var l=r.styles,c=r.dynamic;return e(l,c),null};return s},mO={left:0,top:0,right:0,gap:0},Ch=function(e){return parseInt(e||"",10)||0},hO=function(e){var s=window.getComputedStyle(document.body),r=s[e==="padding"?"paddingLeft":"marginLeft"],l=s[e==="padding"?"paddingTop":"marginTop"],c=s[e==="padding"?"paddingRight":"marginRight"];return[Ch(r),Ch(l),Ch(c)]},pO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mO;var s=hO(e),r=document.documentElement.clientWidth,l=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,l-r+s[2]-s[0])}},gO=uw(),el="data-scroll-locked",xO=function(e,s,r,l){var c=e.left,u=e.top,f=e.right,m=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(W4,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(m,"px ").concat(l,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(l,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(l,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mu,` {
    right: `).concat(m,"px ").concat(l,`;
  }
  
  .`).concat(Du,` {
    margin-right: `).concat(m,"px ").concat(l,`;
  }
  
  .`).concat(Mu," .").concat(Mu,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(Du," .").concat(Du,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(el,`] {
    `).concat(J4,": ").concat(m,`px;
  }
`)},A0=function(){var e=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(e)?e:0},vO=function(){v.useEffect(function(){return document.body.setAttribute(el,(A0()+1).toString()),function(){var e=A0()-1;e<=0?document.body.removeAttribute(el):document.body.setAttribute(el,e.toString())}},[])},yO=function(e){var s=e.noRelative,r=e.noImportant,l=e.gapMode,c=l===void 0?"margin":l;vO();var u=v.useMemo(function(){return pO(c)},[c]);return v.createElement(gO,{styles:xO(u,!s,c,r?"":"!important")})},sp=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{sp=!1}var Fi=sp?{passive:!1}:!1,bO=function(e){return e.tagName==="TEXTAREA"},dw=function(e,s){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!bO(e)&&r[s]==="visible")},jO=function(e){return dw(e,"overflowY")},NO=function(e){return dw(e,"overflowX")},E0=function(e,s){var r=s.ownerDocument,l=s;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var c=fw(e,l);if(c){var u=mw(e,l),f=u[1],m=u[2];if(f>m)return!0}l=l.parentNode}while(l&&l!==r.body);return!1},wO=function(e){var s=e.scrollTop,r=e.scrollHeight,l=e.clientHeight;return[s,r,l]},SO=function(e){var s=e.scrollLeft,r=e.scrollWidth,l=e.clientWidth;return[s,r,l]},fw=function(e,s){return e==="v"?jO(s):NO(s)},mw=function(e,s){return e==="v"?wO(s):SO(s)},CO=function(e,s){return e==="h"&&s==="rtl"?-1:1},TO=function(e,s,r,l,c){var u=CO(e,window.getComputedStyle(s).direction),f=u*l,m=r.target,g=s.contains(m),p=!1,x=f>0,y=0,w=0;do{if(!m)break;var C=mw(e,m),T=C[0],j=C[1],b=C[2],_=j-b-u*T;(T||_)&&fw(e,m)&&(y+=_,w+=T);var E=m.parentNode;m=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!g&&m!==document.body||g&&(s.contains(m)||s===m));return(x&&Math.abs(y)<1||!x&&Math.abs(w)<1)&&(p=!0),p},Tu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},k0=function(e){return[e.deltaX,e.deltaY]},R0=function(e){return e&&"current"in e?e.current:e},_O=function(e,s){return e[0]===s[0]&&e[1]===s[1]},AO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EO=0,Ui=[];function kO(e){var s=v.useRef([]),r=v.useRef([0,0]),l=v.useRef(),c=v.useState(EO++)[0],u=v.useState(uw)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=X4([e.lockRef.current],(e.shards||[]).map(R0),!0).filter(Boolean);return j.forEach(function(b){return b.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var m=v.useCallback(function(j,b){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var _=Tu(j),E=r.current,B="deltaX"in j?j.deltaX:E[0]-_[0],D="deltaY"in j?j.deltaY:E[1]-_[1],z,Z=j.target,$=Math.abs(B)>Math.abs(D)?"h":"v";if("touches"in j&&$==="h"&&Z.type==="range")return!1;var Y=E0($,Z);if(!Y)return!0;if(Y?z=$:(z=$==="v"?"h":"v",Y=E0($,Z)),!Y)return!1;if(!l.current&&"changedTouches"in j&&(B||D)&&(l.current=z),!z)return!0;var W=l.current||z;return TO(W,b,j,W==="h"?B:D)},[]),g=v.useCallback(function(j){var b=j;if(!(!Ui.length||Ui[Ui.length-1]!==u)){var _="deltaY"in b?k0(b):Tu(b),E=s.current.filter(function(z){return z.name===b.type&&(z.target===b.target||b.target===z.shadowParent)&&_O(z.delta,_)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var B=(f.current.shards||[]).map(R0).filter(Boolean).filter(function(z){return z.contains(b.target)}),D=B.length>0?m(b,B[0]):!f.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),p=v.useCallback(function(j,b,_,E){var B={name:j,delta:b,target:_,should:E,shadowParent:RO(_)};s.current.push(B),setTimeout(function(){s.current=s.current.filter(function(D){return D!==B})},1)},[]),x=v.useCallback(function(j){r.current=Tu(j),l.current=void 0},[]),y=v.useCallback(function(j){p(j.type,k0(j),j.target,m(j,e.lockRef.current))},[]),w=v.useCallback(function(j){p(j.type,Tu(j),j.target,m(j,e.lockRef.current))},[]);v.useEffect(function(){return Ui.push(u),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",g,Fi),document.addEventListener("touchmove",g,Fi),document.addEventListener("touchstart",x,Fi),function(){Ui=Ui.filter(function(j){return j!==u}),document.removeEventListener("wheel",g,Fi),document.removeEventListener("touchmove",g,Fi),document.removeEventListener("touchstart",x,Fi)}},[]);var C=e.removeScrollBar,T=e.inert;return v.createElement(v.Fragment,null,T?v.createElement(u,{styles:AO(c)}):null,C?v.createElement(yO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RO(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const OO=iO(cw,kO);var yd=v.forwardRef(function(e,s){return v.createElement(vd,Yn({},e,{ref:s,sideCar:OO}))});yd.classNames=vd.classNames;var MO=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},Vi=new WeakMap,_u=new WeakMap,Au={},Th=0,hw=function(e){return e&&(e.host||hw(e.parentNode))},DO=function(e,s){return s.map(function(r){if(e.contains(r))return r;var l=hw(r);return l&&e.contains(l)?l:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PO=function(e,s,r,l){var c=DO(s,Array.isArray(e)?e:[e]);Au[r]||(Au[r]=new WeakMap);var u=Au[r],f=[],m=new Set,g=new Set(c),p=function(y){!y||m.has(y)||(m.add(y),p(y.parentNode))};c.forEach(p);var x=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(w){if(m.has(w))x(w);else try{var C=w.getAttribute(l),T=C!==null&&C!=="false",j=(Vi.get(w)||0)+1,b=(u.get(w)||0)+1;Vi.set(w,j),u.set(w,b),f.push(w),j===1&&T&&_u.set(w,!0),b===1&&w.setAttribute(r,"true"),T||w.setAttribute(l,"true")}catch(_){console.error("aria-hidden: cannot operate on ",w,_)}})};return x(s),m.clear(),Th++,function(){f.forEach(function(y){var w=Vi.get(y)-1,C=u.get(y)-1;Vi.set(y,w),u.set(y,C),w||(_u.has(y)||y.removeAttribute(l),_u.delete(y)),C||y.removeAttribute(r)}),Th--,Th||(Vi=new WeakMap,Vi=new WeakMap,_u=new WeakMap,Au={})}},Zp=function(e,s,r){r===void 0&&(r="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),c=MO(e);return c?(l.push.apply(l,Array.from(c.querySelectorAll("[aria-live], script"))),PO(l,c,r,"aria-hidden")):function(){return null}},bd="Dialog",[pw,gw]=Fs(bd),[BO,Ln]=pw(bd),xw=e=>{const{__scopeDialog:s,children:r,open:l,defaultOpen:c,onOpenChange:u,modal:f=!0}=e,m=v.useRef(null),g=v.useRef(null),[p,x]=Jn({prop:l,defaultProp:c??!1,onChange:u,caller:bd});return n.jsx(BO,{scope:s,triggerRef:m,contentRef:g,contentId:zs(),titleId:zs(),descriptionId:zs(),open:p,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(y=>!y),[x]),modal:f,children:r})};xw.displayName=bd;var vw="DialogTrigger",yw=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,c=Ln(vw,r),u=mt(s,c.triggerRef);return n.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Jp(c.open),...l,ref:u,onClick:Ie(e.onClick,c.onOpenToggle)})});yw.displayName=vw;var Xp="DialogPortal",[IO,bw]=pw(Xp,{forceMount:void 0}),jw=e=>{const{__scopeDialog:s,forceMount:r,children:l,container:c}=e,u=Ln(Xp,s);return n.jsx(IO,{scope:s,forceMount:r,children:v.Children.map(l,f=>n.jsx(zn,{present:r||u.open,children:n.jsx(Xo,{asChild:!0,container:c,children:f})}))})};jw.displayName=Xp;var qu="DialogOverlay",Nw=v.forwardRef((e,s)=>{const r=bw(qu,e.__scopeDialog),{forceMount:l=r.forceMount,...c}=e,u=Ln(qu,e.__scopeDialog);return u.modal?n.jsx(zn,{present:l||u.open,children:n.jsx(LO,{...c,ref:s})}):null});Nw.displayName=qu;var zO=qr("DialogOverlay.RemoveScroll"),LO=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,c=Ln(qu,r);return n.jsx(yd,{as:zO,allowPinchZoom:!0,shards:[c.contentRef],children:n.jsx(ze.div,{"data-state":Jp(c.open),...l,ref:s,style:{pointerEvents:"auto",...l.style}})})}),Gr="DialogContent",ww=v.forwardRef((e,s)=>{const r=bw(Gr,e.__scopeDialog),{forceMount:l=r.forceMount,...c}=e,u=Ln(Gr,e.__scopeDialog);return n.jsx(zn,{present:l||u.open,children:u.modal?n.jsx(FO,{...c,ref:s}):n.jsx(UO,{...c,ref:s})})});ww.displayName=Gr;var FO=v.forwardRef((e,s)=>{const r=Ln(Gr,e.__scopeDialog),l=v.useRef(null),c=mt(s,r.contentRef,l);return v.useEffect(()=>{const u=l.current;if(u)return Zp(u)},[]),n.jsx(Sw,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,u=>{u.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0;(f.button===2||m)&&u.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,u=>u.preventDefault())})}),UO=v.forwardRef((e,s)=>{const r=Ln(Gr,e.__scopeDialog),l=v.useRef(!1),c=v.useRef(!1);return n.jsx(Sw,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(l.current||r.triggerRef.current?.focus(),u.preventDefault()),l.current=!1,c.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(l.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=u.target;r.triggerRef.current?.contains(f)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),Sw=v.forwardRef((e,s)=>{const{__scopeDialog:r,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,...f}=e,m=Ln(Gr,r),g=v.useRef(null),p=mt(s,g);return Yp(),n.jsxs(n.Fragment,{children:[n.jsx(xd,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:c,onUnmountAutoFocus:u,children:n.jsx(xl,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Jp(m.open),...f,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(qO,{titleId:m.titleId}),n.jsx(HO,{contentRef:g,descriptionId:m.descriptionId})]})]})}),Wp="DialogTitle",Cw=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,c=Ln(Wp,r);return n.jsx(ze.h2,{id:c.titleId,...l,ref:s})});Cw.displayName=Wp;var Tw="DialogDescription",_w=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,c=Ln(Tw,r);return n.jsx(ze.p,{id:c.descriptionId,...l,ref:s})});_w.displayName=Tw;var Aw="DialogClose",Ew=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,c=Ln(Aw,r);return n.jsx(ze.button,{type:"button",...l,ref:s,onClick:Ie(e.onClick,()=>c.onOpenChange(!1))})});Ew.displayName=Aw;function Jp(e){return e?"open":"closed"}var kw="DialogTitleWarning",[VO,Rw]=DA(kw,{contentName:Gr,titleName:Wp,docsSlug:"dialog"}),qO=({titleId:e})=>{const s=Rw(kw),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$O="DialogDescriptionWarning",HO=({contentRef:e,descriptionId:s})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rw($O).contentName}}.`;return v.useEffect(()=>{const c=e.current?.getAttribute("aria-describedby");s&&c&&(document.getElementById(s)||console.warn(l))},[l,e,s]),null},eg=xw,Ow=yw,tg=jw,jd=Nw,Nd=ww,sg=Cw,ng=_w,ag=Ew;const Ut=eg,GO=Ow,QO=tg,Mw=v.forwardRef(({className:e,...s},r)=>n.jsx(jd,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));Mw.displayName=jd.displayName;const Bt=v.forwardRef(({className:e,children:s,...r},l)=>n.jsxs(QO,{children:[n.jsx(Mw,{}),n.jsxs(Nd,{ref:l,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[s,n.jsxs(ag,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(hN,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bt.displayName=Nd.displayName;const It=({className:e,...s})=>n.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});It.displayName="DialogHeader";const zt=v.forwardRef(({className:e,...s},r)=>n.jsx(sg,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...s}));zt.displayName=sg.displayName;const Mo=v.forwardRef(({className:e,...s},r)=>n.jsx(ng,{ref:r,className:_e("text-sm text-muted-foreground",e),...s}));Mo.displayName=ng.displayName;function wd(e){const s=v.useRef({value:e,previous:e});return v.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Sd="Checkbox",[KO]=Fs(Sd),[YO,rg]=KO(Sd);function ZO(e){const{__scopeCheckbox:s,checked:r,children:l,defaultChecked:c,disabled:u,form:f,name:m,onCheckedChange:g,required:p,value:x="on",internal_do_not_use_render:y}=e,[w,C]=Jn({prop:r,defaultProp:c??!1,onChange:g,caller:Sd}),[T,j]=v.useState(null),[b,_]=v.useState(null),E=v.useRef(!1),B=T?!!f||!!T.closest("form"):!0,D={checked:w,disabled:u,setChecked:C,control:T,setControl:j,name:m,form:f,value:x,hasConsumerStoppedPropagationRef:E,required:p,defaultChecked:ir(c)?!1:c,isFormControl:B,bubbleInput:b,setBubbleInput:_};return n.jsx(YO,{scope:s,...D,children:XO(y)?y(D):l})}var Dw="CheckboxTrigger",Pw=v.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...l},c)=>{const{control:u,value:f,disabled:m,checked:g,required:p,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:C,bubbleInput:T}=rg(Dw,e),j=mt(c,x),b=v.useRef(g);return v.useEffect(()=>{const _=u?.form;if(_){const E=()=>y(b.current);return _.addEventListener("reset",E),()=>_.removeEventListener("reset",E)}},[u,y]),n.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":ir(g)?"mixed":g,"aria-required":p,"data-state":Fw(g),"data-disabled":m?"":void 0,disabled:m,value:f,...l,ref:j,onKeyDown:Ie(s,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ie(r,_=>{y(E=>ir(E)?!0:!E),T&&C&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})})});Pw.displayName=Dw;var ig=v.forwardRef((e,s)=>{const{__scopeCheckbox:r,name:l,checked:c,defaultChecked:u,required:f,disabled:m,value:g,onCheckedChange:p,form:x,...y}=e;return n.jsx(ZO,{__scopeCheckbox:r,checked:c,defaultChecked:u,disabled:m,required:f,onCheckedChange:p,name:l,form:x,value:g,internal_do_not_use_render:({isFormControl:w})=>n.jsxs(n.Fragment,{children:[n.jsx(Pw,{...y,ref:s,__scopeCheckbox:r}),w&&n.jsx(Lw,{__scopeCheckbox:r})]})})});ig.displayName=Sd;var Bw="CheckboxIndicator",Iw=v.forwardRef((e,s)=>{const{__scopeCheckbox:r,forceMount:l,...c}=e,u=rg(Bw,r);return n.jsx(zn,{present:l||ir(u.checked)||u.checked===!0,children:n.jsx(ze.span,{"data-state":Fw(u.checked),"data-disabled":u.disabled?"":void 0,...c,ref:s,style:{pointerEvents:"none",...e.style}})})});Iw.displayName=Bw;var zw="CheckboxBubbleInput",Lw=v.forwardRef(({__scopeCheckbox:e,...s},r)=>{const{control:l,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:f,required:m,disabled:g,name:p,value:x,form:y,bubbleInput:w,setBubbleInput:C}=rg(zw,e),T=mt(r,C),j=wd(u),b=md(l);v.useEffect(()=>{const E=w;if(!E)return;const B=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(B,"checked").set,Z=!c.current;if(j!==u&&z){const $=new Event("click",{bubbles:Z});E.indeterminate=ir(u),z.call(E,ir(u)?!1:u),E.dispatchEvent($)}},[w,j,u,c]);const _=v.useRef(ir(u)?!1:u);return n.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??_.current,required:m,disabled:g,name:p,value:x,form:y,...s,tabIndex:-1,ref:T,style:{...s.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Lw.displayName=zw;function XO(e){return typeof e=="function"}function ir(e){return e==="indeterminate"}function Fw(e){return ir(e)?"indeterminate":e?"checked":"unchecked"}const ln=v.forwardRef(({className:e,...s},r)=>n.jsx(ig,{ref:r,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:n.jsx(Iw,{className:_e("flex items-center justify-center text-current"),children:n.jsx(Dp,{className:"h-4 w-4"})})}));ln.displayName=ig.displayName;var WO="Label",Uw=v.forwardRef((e,s)=>n.jsx(ze.label,{...e,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Uw.displayName=WO;var Vw=Uw;const JO=Jo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=v.forwardRef(({className:e,...s},r)=>n.jsx(Vw,{ref:r,className:_e(JO(),e),...s}));Ae.displayName=Vw.displayName;function qw(){const e=Os(),{toast:s}=es(),r=v.useRef(null),l=v.useRef(null);return v.useEffect(()=>{const c=()=>{const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,g=new WebSocket(m);r.current=g,g.onopen=()=>{console.log("WebSocket connected")},g.onmessage=p=>{try{const x=JSON.parse(p.data);u(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},g.onclose=()=>{console.log("WebSocket disconnected"),l.current=setTimeout(c,3e3)},g.onerror=p=>{console.error("WebSocket error:",p)}},u=f=>{switch(f.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":s({title:"Bot Error",description:f.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":s({title:"Bot Connected",description:`${f.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",f.type)}};return c(),()=>{l.current&&clearTimeout(l.current),r.current&&r.current.close()}},[e,s]),r.current}const $w=v.createContext(void 0);function eM({children:e}){const[s,r]=v.useState(null),[l,c]=v.useState(null);v.useEffect(()=>{const g=localStorage.getItem("auth_token"),p=localStorage.getItem("user");if(g&&p)try{const x=JSON.parse(p);c(g),r(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const m={user:s,token:l,login:(g,p)=>{c(g),r(p),localStorage.setItem("auth_token",g),localStorage.setItem("user",JSON.stringify(p))},logout:()=>{c(null),r(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!l,isAdmin:!!s?.isAdmin};return n.jsx($w.Provider,{value:m,children:e})}function tc(){const e=v.useContext($w);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Lt=v.forwardRef(({className:e,type:s,...r},l)=>n.jsx("input",{type:s,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...r}));Lt.displayName="Input";function O0(e,[s,r]){return Math.min(r,Math.max(s,e))}var tM=v.createContext(void 0);function Cd(e){const s=v.useContext(tM);return e||s||"ltr"}var sM=[" ","Enter","ArrowUp","ArrowDown"],nM=[" ","Enter"],Qr="Select",[Td,_d,aM]=Ep(Qr),[wl]=Fs(Qr,[aM,Nl]),Ad=Nl(),[rM,hr]=wl(Qr),[iM,lM]=wl(Qr),Hw=e=>{const{__scopeSelect:s,children:r,open:l,defaultOpen:c,onOpenChange:u,value:f,defaultValue:m,onValueChange:g,dir:p,name:x,autoComplete:y,disabled:w,required:C,form:T}=e,j=Ad(s),[b,_]=v.useState(null),[E,B]=v.useState(null),[D,z]=v.useState(!1),Z=Cd(p),[$,Y]=Jn({prop:l,defaultProp:c??!1,onChange:u,caller:Qr}),[W,ae]=Jn({prop:f,defaultProp:m,onChange:g,caller:Qr}),de=v.useRef(null),re=b?T||!!b.closest("form"):!0,[oe,U]=v.useState(new Set),ie=Array.from(oe).map(R=>R.props.value).join(";");return n.jsx(XN,{...j,children:n.jsxs(rM,{required:C,scope:s,trigger:b,onTriggerChange:_,valueNode:E,onValueNodeChange:B,valueNodeHasChildren:D,onValueNodeHasChildrenChange:z,contentId:zs(),value:W,onValueChange:ae,open:$,onOpenChange:Y,dir:Z,triggerPointerDownPosRef:de,disabled:w,children:[n.jsx(Td.Provider,{scope:s,children:n.jsx(iM,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(R=>{U(S=>new Set(S).add(R))},[]),onNativeOptionRemove:v.useCallback(R=>{U(S=>{const O=new Set(S);return O.delete(R),O})},[]),children:r})}),re?n.jsxs(pS,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:W,onChange:R=>ae(R.target.value),disabled:w,form:T,children:[W===void 0?n.jsx("option",{value:""}):null,Array.from(oe)]},ie):null]})})};Hw.displayName=Qr;var Gw="SelectTrigger",Qw=v.forwardRef((e,s)=>{const{__scopeSelect:r,disabled:l=!1,...c}=e,u=Ad(r),f=hr(Gw,r),m=f.disabled||l,g=mt(s,f.onTriggerChange),p=_d(r),x=v.useRef("touch"),[y,w,C]=xS(j=>{const b=p().filter(B=>!B.disabled),_=b.find(B=>B.value===f.value),E=vS(b,j,_);E!==void 0&&f.onValueChange(E.value)}),T=j=>{m||(f.onOpenChange(!0),C()),j&&(f.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return n.jsx(hd,{asChild:!0,...u,children:n.jsx(ze.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":gS(f.value)?"":void 0,...c,ref:g,onClick:Ie(c.onClick,j=>{j.currentTarget.focus(),x.current!=="mouse"&&T(j)}),onPointerDown:Ie(c.onPointerDown,j=>{x.current=j.pointerType;const b=j.target;b.hasPointerCapture(j.pointerId)&&b.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(T(j),j.preventDefault())}),onKeyDown:Ie(c.onKeyDown,j=>{const b=y.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(b&&j.key===" ")&&sM.includes(j.key)&&(T(),j.preventDefault())})})})});Qw.displayName=Gw;var Kw="SelectValue",Yw=v.forwardRef((e,s)=>{const{__scopeSelect:r,className:l,style:c,children:u,placeholder:f="",...m}=e,g=hr(Kw,r),{onValueNodeHasChildrenChange:p}=g,x=u!==void 0,y=mt(s,g.onValueNodeChange);return Cs(()=>{p(x)},[p,x]),n.jsx(ze.span,{...m,ref:y,style:{pointerEvents:"none"},children:gS(g.value)?n.jsx(n.Fragment,{children:f}):u})});Yw.displayName=Kw;var oM="SelectIcon",Zw=v.forwardRef((e,s)=>{const{__scopeSelect:r,children:l,...c}=e;return n.jsx(ze.span,{"aria-hidden":!0,...c,ref:s,children:l||"▼"})});Zw.displayName=oM;var cM="SelectPortal",Xw=e=>n.jsx(Xo,{asChild:!0,...e});Xw.displayName=cM;var Kr="SelectContent",Ww=v.forwardRef((e,s)=>{const r=hr(Kr,e.__scopeSelect),[l,c]=v.useState();if(Cs(()=>{c(new DocumentFragment)},[]),!r.open){const u=l;return u?gl.createPortal(n.jsx(Jw,{scope:e.__scopeSelect,children:n.jsx(Td.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),u):null}return n.jsx(eS,{...e,ref:s})});Ww.displayName=Kr;var En=10,[Jw,pr]=wl(Kr),uM="SelectContentImpl",dM=qr("SelectContent.RemoveScroll"),eS=v.forwardRef((e,s)=>{const{__scopeSelect:r,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,side:m,sideOffset:g,align:p,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:T,hideWhenDetached:j,avoidCollisions:b,..._}=e,E=hr(Kr,r),[B,D]=v.useState(null),[z,Z]=v.useState(null),$=mt(s,M=>D(M)),[Y,W]=v.useState(null),[ae,de]=v.useState(null),re=_d(r),[oe,U]=v.useState(!1),ie=v.useRef(!1);v.useEffect(()=>{if(B)return Zp(B)},[B]),Yp();const R=v.useCallback(M=>{const[X,...Ne]=re().map(Ge=>Ge.ref.current),[Ce]=Ne.slice(-1),Be=document.activeElement;for(const Ge of M)if(Ge===Be||(Ge?.scrollIntoView({block:"nearest"}),Ge===X&&z&&(z.scrollTop=0),Ge===Ce&&z&&(z.scrollTop=z.scrollHeight),Ge?.focus(),document.activeElement!==Be))return},[re,z]),S=v.useCallback(()=>R([Y,B]),[R,Y,B]);v.useEffect(()=>{oe&&S()},[oe,S]);const{onOpenChange:O,triggerPointerDownPosRef:le}=E;v.useEffect(()=>{if(B){let M={x:0,y:0};const X=Ce=>{M={x:Math.abs(Math.round(Ce.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(le.current?.y??0))}},Ne=Ce=>{M.x<=10&&M.y<=10?Ce.preventDefault():B.contains(Ce.target)||O(!1),document.removeEventListener("pointermove",X),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[B,O,le]),v.useEffect(()=>{const M=()=>O(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[O]);const[P,se]=xS(M=>{const X=re().filter(Be=>!Be.disabled),Ne=X.find(Be=>Be.ref.current===document.activeElement),Ce=vS(X,M,Ne);Ce&&setTimeout(()=>Ce.ref.current.focus())}),V=v.useCallback((M,X,Ne)=>{const Ce=!ie.current&&!Ne;(E.value!==void 0&&E.value===X||Ce)&&(W(M),Ce&&(ie.current=!0))},[E.value]),J=v.useCallback(()=>B?.focus(),[B]),ce=v.useCallback((M,X,Ne)=>{const Ce=!ie.current&&!Ne;(E.value!==void 0&&E.value===X||Ce)&&de(M)},[E.value]),me=l==="popper"?np:tS,ye=me===np?{side:m,sideOffset:g,align:p,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:T,hideWhenDetached:j,avoidCollisions:b}:{};return n.jsx(Jw,{scope:r,content:B,viewport:z,onViewportChange:Z,itemRefCallback:V,selectedItem:Y,onItemLeave:J,itemTextRefCallback:ce,focusSelectedItem:S,selectedItemText:ae,position:l,isPositioned:oe,searchRef:P,children:n.jsx(yd,{as:dM,allowPinchZoom:!0,children:n.jsx(xd,{asChild:!0,trapped:E.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:Ie(c,M=>{E.trigger?.focus({preventScroll:!0}),M.preventDefault()}),children:n.jsx(xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(me,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:M=>M.preventDefault(),..._,...ye,onPlaced:()=>U(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ie(_.onKeyDown,M=>{const X=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!X&&M.key.length===1&&se(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let Ce=re().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(M.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const Be=M.target,Ge=Ce.indexOf(Be);Ce=Ce.slice(Ge+1)}setTimeout(()=>R(Ce)),M.preventDefault()}})})})})})})});eS.displayName=uM;var fM="SelectItemAlignedPosition",tS=v.forwardRef((e,s)=>{const{__scopeSelect:r,onPlaced:l,...c}=e,u=hr(Kr,r),f=pr(Kr,r),[m,g]=v.useState(null),[p,x]=v.useState(null),y=mt(s,$=>x($)),w=_d(r),C=v.useRef(!1),T=v.useRef(!0),{viewport:j,selectedItem:b,selectedItemText:_,focusSelectedItem:E}=f,B=v.useCallback(()=>{if(u.trigger&&u.valueNode&&m&&p&&j&&b&&_){const $=u.trigger.getBoundingClientRect(),Y=p.getBoundingClientRect(),W=u.valueNode.getBoundingClientRect(),ae=_.getBoundingClientRect();if(u.dir!=="rtl"){const Be=ae.left-Y.left,Ge=W.left-Be,is=$.left-Ge,nt=$.width+is,un=Math.max(nt,Y.width),Cn=window.innerWidth-En,ds=O0(Ge,[En,Math.max(En,Cn-un)]);m.style.minWidth=nt+"px",m.style.left=ds+"px"}else{const Be=Y.right-ae.right,Ge=window.innerWidth-W.right-Be,is=window.innerWidth-$.right-Ge,nt=$.width+is,un=Math.max(nt,Y.width),Cn=window.innerWidth-En,ds=O0(Ge,[En,Math.max(En,Cn-un)]);m.style.minWidth=nt+"px",m.style.right=ds+"px"}const de=w(),re=window.innerHeight-En*2,oe=j.scrollHeight,U=window.getComputedStyle(p),ie=parseInt(U.borderTopWidth,10),R=parseInt(U.paddingTop,10),S=parseInt(U.borderBottomWidth,10),O=parseInt(U.paddingBottom,10),le=ie+R+oe+O+S,P=Math.min(b.offsetHeight*5,le),se=window.getComputedStyle(j),V=parseInt(se.paddingTop,10),J=parseInt(se.paddingBottom,10),ce=$.top+$.height/2-En,me=re-ce,ye=b.offsetHeight/2,M=b.offsetTop+ye,X=ie+R+M,Ne=le-X;if(X<=ce){const Be=de.length>0&&b===de[de.length-1].ref.current;m.style.bottom="0px";const Ge=p.clientHeight-j.offsetTop-j.offsetHeight,is=Math.max(me,ye+(Be?J:0)+Ge+S),nt=X+is;m.style.height=nt+"px"}else{const Be=de.length>0&&b===de[0].ref.current;m.style.top="0px";const is=Math.max(ce,ie+j.offsetTop+(Be?V:0)+ye)+Ne;m.style.height=is+"px",j.scrollTop=X-ce+j.offsetTop}m.style.margin=`${En}px 0`,m.style.minHeight=P+"px",m.style.maxHeight=re+"px",l?.(),requestAnimationFrame(()=>C.current=!0)}},[w,u.trigger,u.valueNode,m,p,j,b,_,u.dir,l]);Cs(()=>B(),[B]);const[D,z]=v.useState();Cs(()=>{p&&z(window.getComputedStyle(p).zIndex)},[p]);const Z=v.useCallback($=>{$&&T.current===!0&&(B(),E?.(),T.current=!1)},[B,E]);return n.jsx(hM,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:C,onScrollButtonChange:Z,children:n.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:n.jsx(ze.div,{...c,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});tS.displayName=fM;var mM="SelectPopperPosition",np=v.forwardRef((e,s)=>{const{__scopeSelect:r,align:l="start",collisionPadding:c=En,...u}=e,f=Ad(r);return n.jsx(Hp,{...f,...u,ref:s,align:l,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});np.displayName=mM;var[hM,lg]=wl(Kr,{}),ap="SelectViewport",sS=v.forwardRef((e,s)=>{const{__scopeSelect:r,nonce:l,...c}=e,u=pr(ap,r),f=lg(ap,r),m=mt(s,u.onViewportChange),g=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),n.jsx(Td.Slot,{scope:r,children:n.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Ie(c.onScroll,p=>{const x=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=f;if(w?.current&&y){const C=Math.abs(g.current-x.scrollTop);if(C>0){const T=window.innerHeight-En*2,j=parseFloat(y.style.minHeight),b=parseFloat(y.style.height),_=Math.max(j,b);if(_<T){const E=_+C,B=Math.min(T,E),D=E-B;y.style.height=B+"px",y.style.bottom==="0px"&&(x.scrollTop=D>0?D:0,y.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});sS.displayName=ap;var nS="SelectGroup",[pM,gM]=wl(nS),xM=v.forwardRef((e,s)=>{const{__scopeSelect:r,...l}=e,c=zs();return n.jsx(pM,{scope:r,id:c,children:n.jsx(ze.div,{role:"group","aria-labelledby":c,...l,ref:s})})});xM.displayName=nS;var aS="SelectLabel",rS=v.forwardRef((e,s)=>{const{__scopeSelect:r,...l}=e,c=gM(aS,r);return n.jsx(ze.div,{id:c.id,...l,ref:s})});rS.displayName=aS;var $u="SelectItem",[vM,iS]=wl($u),lS=v.forwardRef((e,s)=>{const{__scopeSelect:r,value:l,disabled:c=!1,textValue:u,...f}=e,m=hr($u,r),g=pr($u,r),p=m.value===l,[x,y]=v.useState(u??""),[w,C]=v.useState(!1),T=mt(s,E=>g.itemRefCallback?.(E,l,c)),j=zs(),b=v.useRef("touch"),_=()=>{c||(m.onValueChange(l),m.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(vM,{scope:r,value:l,disabled:c,textId:j,isSelected:p,onItemTextChange:v.useCallback(E=>{y(B=>B||(E?.textContent??"").trim())},[]),children:n.jsx(Td.ItemSlot,{scope:r,value:l,disabled:c,textValue:x,children:n.jsx(ze.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:T,onFocus:Ie(f.onFocus,()=>C(!0)),onBlur:Ie(f.onBlur,()=>C(!1)),onClick:Ie(f.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:Ie(f.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:Ie(f.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:Ie(f.onPointerMove,E=>{b.current=E.pointerType,c?g.onItemLeave?.():b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(f.onPointerLeave,E=>{E.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Ie(f.onKeyDown,E=>{g.searchRef?.current!==""&&E.key===" "||(nM.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});lS.displayName=$u;var Co="SelectItemText",oS=v.forwardRef((e,s)=>{const{__scopeSelect:r,className:l,style:c,...u}=e,f=hr(Co,r),m=pr(Co,r),g=iS(Co,r),p=lM(Co,r),[x,y]=v.useState(null),w=mt(s,_=>y(_),g.onItemTextChange,_=>m.itemTextRefCallback?.(_,g.value,g.disabled)),C=x?.textContent,T=v.useMemo(()=>n.jsx("option",{value:g.value,disabled:g.disabled,children:C},g.value),[g.disabled,g.value,C]),{onNativeOptionAdd:j,onNativeOptionRemove:b}=p;return Cs(()=>(j(T),()=>b(T)),[j,b,T]),n.jsxs(n.Fragment,{children:[n.jsx(ze.span,{id:g.textId,...u,ref:w}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?gl.createPortal(u.children,f.valueNode):null]})});oS.displayName=Co;var cS="SelectItemIndicator",uS=v.forwardRef((e,s)=>{const{__scopeSelect:r,...l}=e;return iS(cS,r).isSelected?n.jsx(ze.span,{"aria-hidden":!0,...l,ref:s}):null});uS.displayName=cS;var rp="SelectScrollUpButton",dS=v.forwardRef((e,s)=>{const r=pr(rp,e.__scopeSelect),l=lg(rp,e.__scopeSelect),[c,u]=v.useState(!1),f=mt(s,l.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let m=function(){const p=g.scrollTop>0;u(p)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),c?n.jsx(mS,{...e,ref:f,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop-g.offsetHeight)}}):null});dS.displayName=rp;var ip="SelectScrollDownButton",fS=v.forwardRef((e,s)=>{const r=pr(ip,e.__scopeSelect),l=lg(ip,e.__scopeSelect),[c,u]=v.useState(!1),f=mt(s,l.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let m=function(){const p=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<p;u(x)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),c?n.jsx(mS,{...e,ref:f,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop+g.offsetHeight)}}):null});fS.displayName=ip;var mS=v.forwardRef((e,s)=>{const{__scopeSelect:r,onAutoScroll:l,...c}=e,u=pr("SelectScrollButton",r),f=v.useRef(null),m=_d(r),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),Cs(()=>{m().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),n.jsx(ze.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:Ie(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(l,50))}),onPointerMove:Ie(c.onPointerMove,()=>{u.onItemLeave?.(),f.current===null&&(f.current=window.setInterval(l,50))}),onPointerLeave:Ie(c.onPointerLeave,()=>{g()})})}),yM="SelectSeparator",hS=v.forwardRef((e,s)=>{const{__scopeSelect:r,...l}=e;return n.jsx(ze.div,{"aria-hidden":!0,...l,ref:s})});hS.displayName=yM;var lp="SelectArrow",bM=v.forwardRef((e,s)=>{const{__scopeSelect:r,...l}=e,c=Ad(r),u=hr(lp,r),f=pr(lp,r);return u.open&&f.position==="popper"?n.jsx(Gp,{...c,...l,ref:s}):null});bM.displayName=lp;var jM="SelectBubbleInput",pS=v.forwardRef(({__scopeSelect:e,value:s,...r},l)=>{const c=v.useRef(null),u=mt(l,c),f=wd(s);return v.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==s&&x){const y=new Event("change",{bubbles:!0});x.call(m,s),m.dispatchEvent(y)}},[f,s]),n.jsx(ze.select,{...r,style:{...qj,...r.style},ref:u,defaultValue:s})});pS.displayName=jM;function gS(e){return e===""||e===void 0}function xS(e){const s=Sn(e),r=v.useRef(""),l=v.useRef(0),c=v.useCallback(f=>{const m=r.current+f;s(m),(function g(p){r.current=p,window.clearTimeout(l.current),p!==""&&(l.current=window.setTimeout(()=>g(""),1e3))})(m)},[s]),u=v.useCallback(()=>{r.current="",window.clearTimeout(l.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(l.current),[]),[r,c,u]}function vS(e,s,r){const c=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,u=r?e.indexOf(r):-1;let f=NM(e,Math.max(u,0));c.length===1&&(f=f.filter(p=>p!==r));const g=f.find(p=>p.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==r?g:void 0}function NM(e,s){return e.map((r,l)=>e[(s+l)%e.length])}var wM=Hw,yS=Qw,SM=Yw,CM=Zw,TM=Xw,bS=Ww,_M=sS,jS=rS,NS=lS,AM=oS,EM=uS,wS=dS,SS=fS,CS=hS;const Qs=wM,Ks=SM,Ps=v.forwardRef(({className:e,children:s,...r},l)=>n.jsxs(yS,{ref:l,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[s,n.jsx(CM,{asChild:!0,children:n.jsx(Pp,{className:"h-4 w-4 opacity-50"})})]}));Ps.displayName=yS.displayName;const TS=v.forwardRef(({className:e,...s},r)=>n.jsx(wS,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...s,children:n.jsx(zE,{className:"h-4 w-4"})}));TS.displayName=wS.displayName;const _S=v.forwardRef(({className:e,...s},r)=>n.jsx(SS,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...s,children:n.jsx(Pp,{className:"h-4 w-4"})}));_S.displayName=SS.displayName;const Bs=v.forwardRef(({className:e,children:s,position:r="popper",...l},c)=>n.jsx(TM,{children:n.jsxs(bS,{ref:c,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...l,children:[n.jsx(TS,{}),n.jsx(_M,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),n.jsx(_S,{})]})}));Bs.displayName=bS.displayName;const kM=v.forwardRef(({className:e,...s},r)=>n.jsx(jS,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));kM.displayName=jS.displayName;const He=v.forwardRef(({className:e,children:s,...r},l)=>n.jsxs(NS,{ref:l,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(EM,{children:n.jsx(Dp,{className:"h-4 w-4"})})}),n.jsx(AM,{children:s})]}));He.displayName=NS.displayName;const RM=v.forwardRef(({className:e,...s},r)=>n.jsx(CS,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...s}));RM.displayName=CS.displayName;var sc=e=>e.type==="checkbox",zr=e=>e instanceof Date,Is=e=>e==null;const AS=e=>typeof e=="object";var rs=e=>!Is(e)&&!Array.isArray(e)&&AS(e)&&!zr(e),OM=e=>rs(e)&&e.target?sc(e.target)?e.target.checked:e.target.value:e,MM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,DM=(e,s)=>e.has(MM(s)),PM=e=>{const s=e.constructor&&e.constructor.prototype;return rs(s)&&s.hasOwnProperty("isPrototypeOf")},og=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gs(e){let s;const r=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(og&&(e instanceof Blob||l))&&(r||rs(e)))if(s=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!PM(e))s=e;else for(const c in e)e.hasOwnProperty(c)&&(s[c]=gs(e[c]));else return e;return s}var Ed=e=>/^\w*$/.test(e),as=e=>e===void 0,cg=e=>Array.isArray(e)?e.filter(Boolean):[],ug=e=>cg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(e,s,r)=>{if(!s||!rs(e))return r;const l=(Ed(s)?[s]:ug(s)).reduce((c,u)=>Is(c)?c:c[u],e);return as(l)||l===e?as(e[s])?r:e[s]:l},Kn=e=>typeof e=="boolean",Ot=(e,s,r)=>{let l=-1;const c=Ed(s)?[s]:ug(s),u=c.length,f=u-1;for(;++l<u;){const m=c[l];let g=r;if(l!==f){const p=e[m];g=rs(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const M0={BLUR:"blur",FOCUS_OUT:"focusout"},Rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ja={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BM=Wt.createContext(null);BM.displayName="HookFormContext";var IM=(e,s,r,l=!0)=>{const c={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return s._proxyFormState[f]!==Rn.all&&(s._proxyFormState[f]=!l||Rn.all),e[f]}});return c};const zM=typeof window<"u"?Wt.useLayoutEffect:Wt.useEffect;var an=e=>typeof e=="string",LM=(e,s,r,l,c)=>an(e)?(l&&s.watch.add(e),Pe(r,e,c)):Array.isArray(e)?e.map(u=>(l&&s.watch.add(u),Pe(r,u))):(l&&(s.watchAll=!0),r),op=e=>Is(e)||!AS(e);function nr(e,s,r=new WeakSet){if(op(e)||op(s))return e===s;if(zr(e)&&zr(s))return e.getTime()===s.getTime();const l=Object.keys(e),c=Object.keys(s);if(l.length!==c.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const u of l){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=s[u];if(zr(f)&&zr(m)||rs(f)&&rs(m)||Array.isArray(f)&&Array.isArray(m)?!nr(f,m,r):f!==m)return!1}}return!0}var dg=(e,s,r,l,c)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[l]:c||!0}}:{},_o=e=>Array.isArray(e)?e:[e],D0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function ES(e,s){const r={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],u=s[l];if(c&&rs(c)&&u){const f=ES(c,u);rs(f)&&(r[l]=f)}else e[l]&&(r[l]=u)}return r}var Gs=e=>rs(e)&&!Object.keys(e).length,fg=e=>e.type==="file",On=e=>typeof e=="function",Hu=e=>{if(!og)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},kS=e=>e.type==="select-multiple",mg=e=>e.type==="radio",FM=e=>mg(e)||sc(e),_h=e=>Hu(e)&&e.isConnected;function UM(e,s){const r=s.slice(0,-1).length;let l=0;for(;l<r;)e=as(e)?l++:e[s[l++]];return e}function VM(e){for(const s in e)if(e.hasOwnProperty(s)&&!as(e[s]))return!1;return!0}function ns(e,s){const r=Array.isArray(s)?s:Ed(s)?[s]:ug(s),l=r.length===1?e:UM(e,r),c=r.length-1,u=r[c];return l&&delete l[u],c!==0&&(rs(l)&&Gs(l)||Array.isArray(l)&&VM(l))&&ns(e,r.slice(0,-1)),e}var qM=e=>{for(const s in e)if(On(e[s]))return!0;return!1};function RS(e){return Array.isArray(e)||rs(e)&&!qM(e)}function cp(e,s={}){for(const r in e)RS(e[r])?(s[r]=Array.isArray(e[r])?[]:{},cp(e[r],s[r])):Is(e[r])||(s[r]=!0);return s}function $i(e,s,r){r||(r=cp(s));for(const l in e)RS(e[l])?as(s)||op(r[l])?r[l]=cp(e[l],Array.isArray(e[l])?[]:{}):$i(e[l],Is(s)?{}:s[l],r[l]):r[l]=!nr(e[l],s[l]);return r}const P0={value:!1,isValid:!1},B0={value:!0,isValid:!0};var OS=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!as(e[0].attributes.value)?as(e[0].value)||e[0].value===""?B0:{value:e[0].value,isValid:!0}:B0:P0}return P0},MS=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:l})=>as(e)?e:s?e===""?NaN:e&&+e:r&&an(e)?new Date(e):l?l(e):e;const I0={isValid:!1,value:null};var DS=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,I0):I0;function z0(e){const s=e.ref;return fg(s)?s.files:mg(s)?DS(e.refs).value:kS(s)?[...s.selectedOptions].map(({value:r})=>r):sc(s)?OS(e.refs).value:MS(as(s.value)?e.ref.value:s.value,e)}var $M=(e,s,r,l)=>{const c={};for(const u of e){const f=Pe(s,u);f&&Ot(c,u,f._f)}return{criteriaMode:r,names:[...e],fields:c,shouldUseNativeValidation:l}},Gu=e=>e instanceof RegExp,wo=e=>as(e)?e:Gu(e)?e.source:rs(e)?Gu(e.value)?e.value.source:e.value:e,L0=e=>({isOnSubmit:!e||e===Rn.onSubmit,isOnBlur:e===Rn.onBlur,isOnChange:e===Rn.onChange,isOnAll:e===Rn.all,isOnTouch:e===Rn.onTouched});const F0="AsyncFunction";var HM=e=>!!e&&!!e.validate&&!!(On(e.validate)&&e.validate.constructor.name===F0||rs(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===F0)),GM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),U0=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const Ao=(e,s,r,l)=>{for(const c of r||Object.keys(e)){const u=Pe(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],c)&&!l)return!0;if(f.ref&&s(f.ref,f.name)&&!l)return!0;if(Ao(m,s))break}else if(rs(m)&&Ao(m,s))break}}};function V0(e,s,r){const l=Pe(e,r);if(l||Ed(r))return{error:l,name:r};const c=r.split(".");for(;c.length;){const u=c.join("."),f=Pe(s,u),m=Pe(e,u);if(f&&!Array.isArray(f)&&r!==u)return{name:r};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:r}}var QM=(e,s,r,l)=>{r(e);const{name:c,...u}=e;return Gs(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(f=>s[f]===(!l||Rn.all))},KM=(e,s,r)=>!e||!s||e===s||_o(e).some(l=>l&&(r?l===s:l.startsWith(s)||s.startsWith(l))),YM=(e,s,r,l,c)=>c.isOnAll?!1:!r&&c.isOnTouch?!(s||e):(r?l.isOnBlur:c.isOnBlur)?!e:(r?l.isOnChange:c.isOnChange)?e:!0,ZM=(e,s)=>!cg(Pe(e,s)).length&&ns(e,s),XM=(e,s,r)=>{const l=_o(Pe(e,r));return Ot(l,"root",s[r]),Ot(e,r,l),e};function q0(e,s,r="validate"){if(an(e)||Array.isArray(e)&&e.every(an)||Kn(e)&&!e)return{type:r,message:an(e)?e:"",ref:s}}var qi=e=>rs(e)&&!Gu(e)?e:{value:e,message:""},$0=async(e,s,r,l,c,u)=>{const{ref:f,refs:m,required:g,maxLength:p,minLength:x,min:y,max:w,pattern:C,validate:T,name:j,valueAsNumber:b,mount:_}=e._f,E=Pe(r,j);if(!_||s.has(j))return{};const B=m?m[0]:f,D=re=>{c&&B.reportValidity&&(B.setCustomValidity(Kn(re)?"":re||""),B.reportValidity())},z={},Z=mg(f),$=sc(f),Y=Z||$,W=(b||fg(f))&&as(f.value)&&as(E)||Hu(f)&&f.value===""||E===""||Array.isArray(E)&&!E.length,ae=dg.bind(null,j,l,z),de=(re,oe,U,ie=ja.maxLength,R=ja.minLength)=>{const S=re?oe:U;z[j]={type:re?ie:R,message:S,ref:f,...ae(re?ie:R,S)}};if(u?!Array.isArray(E)||!E.length:g&&(!Y&&(W||Is(E))||Kn(E)&&!E||$&&!OS(m).isValid||Z&&!DS(m).isValid)){const{value:re,message:oe}=an(g)?{value:!!g,message:g}:qi(g);if(re&&(z[j]={type:ja.required,message:oe,ref:B,...ae(ja.required,oe)},!l))return D(oe),z}if(!W&&(!Is(y)||!Is(w))){let re,oe;const U=qi(w),ie=qi(y);if(!Is(E)&&!isNaN(E)){const R=f.valueAsNumber||E&&+E;Is(U.value)||(re=R>U.value),Is(ie.value)||(oe=R<ie.value)}else{const R=f.valueAsDate||new Date(E),S=P=>new Date(new Date().toDateString()+" "+P),O=f.type=="time",le=f.type=="week";an(U.value)&&E&&(re=O?S(E)>S(U.value):le?E>U.value:R>new Date(U.value)),an(ie.value)&&E&&(oe=O?S(E)<S(ie.value):le?E<ie.value:R<new Date(ie.value))}if((re||oe)&&(de(!!re,U.message,ie.message,ja.max,ja.min),!l))return D(z[j].message),z}if((p||x)&&!W&&(an(E)||u&&Array.isArray(E))){const re=qi(p),oe=qi(x),U=!Is(re.value)&&E.length>+re.value,ie=!Is(oe.value)&&E.length<+oe.value;if((U||ie)&&(de(U,re.message,oe.message),!l))return D(z[j].message),z}if(C&&!W&&an(E)){const{value:re,message:oe}=qi(C);if(Gu(re)&&!E.match(re)&&(z[j]={type:ja.pattern,message:oe,ref:f,...ae(ja.pattern,oe)},!l))return D(oe),z}if(T){if(On(T)){const re=await T(E,r),oe=q0(re,B);if(oe&&(z[j]={...oe,...ae(ja.validate,oe.message)},!l))return D(oe.message),z}else if(rs(T)){let re={};for(const oe in T){if(!Gs(re)&&!l)break;const U=q0(await T[oe](E,r),B,oe);U&&(re={...U,...ae(oe,U.message)},D(U.message),l&&(z[j]=re))}if(!Gs(re)&&(z[j]={ref:B,...re},!l))return z}}return D(!0),z};const WM={mode:Rn.onSubmit,reValidateMode:Rn.onChange,shouldFocusError:!0};function JM(e={}){let s={...WM,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:On(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},l={},c=rs(s.defaultValues)||rs(s.values)?gs(s.defaultValues||s.values)||{}:{},u=s.shouldUnregister?{}:gs(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const w={array:D0(),state:D0()},C=s.criteriaMode===Rn.all,T=L=>H=>{clearTimeout(p),p=setTimeout(L,H)},j=async L=>{if(!s.disabled&&(x.isValid||y.isValid||L)){const H=s.resolver?Gs((await $()).errors):await W(l,!0);H!==r.isValid&&w.state.next({isValid:H})}},b=(L,H)=>{!s.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((L||Array.from(m.mount)).forEach(ne=>{ne&&(H?Ot(r.validatingFields,ne,H):ns(r.validatingFields,ne))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Gs(r.validatingFields)}))},_=(L,H=[],ne,Se,we=!0,ve=!0)=>{if(Se&&ne&&!s.disabled){if(f.action=!0,ve&&Array.isArray(Pe(l,L))){const ke=ne(Pe(l,L),Se.argA,Se.argB);we&&Ot(l,L,ke)}if(ve&&Array.isArray(Pe(r.errors,L))){const ke=ne(Pe(r.errors,L),Se.argA,Se.argB);we&&Ot(r.errors,L,ke),ZM(r.errors,L)}if((x.touchedFields||y.touchedFields)&&ve&&Array.isArray(Pe(r.touchedFields,L))){const ke=ne(Pe(r.touchedFields,L),Se.argA,Se.argB);we&&Ot(r.touchedFields,L,ke)}(x.dirtyFields||y.dirtyFields)&&(r.dirtyFields=$i(c,u)),w.state.next({name:L,isDirty:de(L,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ot(u,L,H)},E=(L,H)=>{Ot(r.errors,L,H),w.state.next({errors:r.errors})},B=L=>{r.errors=L,w.state.next({errors:r.errors,isValid:!1})},D=(L,H,ne,Se)=>{const we=Pe(l,L);if(we){const ve=Pe(u,L,as(ne)?Pe(c,L):ne);as(ve)||Se&&Se.defaultChecked||H?Ot(u,L,H?ve:z0(we._f)):U(L,ve),f.mount&&j()}},z=(L,H,ne,Se,we)=>{let ve=!1,ke=!1;const tt={name:L};if(!s.disabled){if(!ne||Se){(x.isDirty||y.isDirty)&&(ke=r.isDirty,r.isDirty=tt.isDirty=de(),ve=ke!==tt.isDirty);const Ze=nr(Pe(c,L),H);ke=!!Pe(r.dirtyFields,L),Ze?ns(r.dirtyFields,L):Ot(r.dirtyFields,L,!0),tt.dirtyFields=r.dirtyFields,ve=ve||(x.dirtyFields||y.dirtyFields)&&ke!==!Ze}if(ne){const Ze=Pe(r.touchedFields,L);Ze||(Ot(r.touchedFields,L,ne),tt.touchedFields=r.touchedFields,ve=ve||(x.touchedFields||y.touchedFields)&&Ze!==ne)}ve&&we&&w.state.next(tt)}return ve?tt:{}},Z=(L,H,ne,Se)=>{const we=Pe(r.errors,L),ve=(x.isValid||y.isValid)&&Kn(H)&&r.isValid!==H;if(s.delayError&&ne?(g=T(()=>E(L,ne)),g(s.delayError)):(clearTimeout(p),g=null,ne?Ot(r.errors,L,ne):ns(r.errors,L)),(ne?!nr(we,ne):we)||!Gs(Se)||ve){const ke={...Se,...ve&&Kn(H)?{isValid:H}:{},errors:r.errors,name:L};r={...r,...ke},w.state.next(ke)}},$=async L=>{b(L,!0);const H=await s.resolver(u,s.context,$M(L||m.mount,l,s.criteriaMode,s.shouldUseNativeValidation));return b(L),H},Y=async L=>{const{errors:H}=await $(L);if(L)for(const ne of L){const Se=Pe(H,ne);Se?Ot(r.errors,ne,Se):ns(r.errors,ne)}else r.errors=H;return H},W=async(L,H,ne={valid:!0})=>{for(const Se in L){const we=L[Se];if(we){const{_f:ve,...ke}=we;if(ve){const tt=m.array.has(ve.name),Ze=we._f&&HM(we._f);Ze&&x.validatingFields&&b([ve.name],!0);const bt=await $0(we,m.disabled,u,C,s.shouldUseNativeValidation&&!H,tt);if(Ze&&x.validatingFields&&b([ve.name]),bt[ve.name]&&(ne.valid=!1,H))break;!H&&(Pe(bt,ve.name)?tt?XM(r.errors,bt,ve.name):Ot(r.errors,ve.name,bt[ve.name]):ns(r.errors,ve.name))}!Gs(ke)&&await W(ke,H,ne)}}return ne.valid},ae=()=>{for(const L of m.unMount){const H=Pe(l,L);H&&(H._f.refs?H._f.refs.every(ne=>!_h(ne)):!_h(H._f.ref))&&M(L)}m.unMount=new Set},de=(L,H)=>!s.disabled&&(L&&H&&Ot(u,L,H),!nr(P(),c)),re=(L,H,ne)=>LM(L,m,{...f.mount?u:as(H)?c:an(L)?{[L]:H}:H},ne,H),oe=L=>cg(Pe(f.mount?u:c,L,s.shouldUnregister?Pe(c,L,[]):[])),U=(L,H,ne={})=>{const Se=Pe(l,L);let we=H;if(Se){const ve=Se._f;ve&&(!ve.disabled&&Ot(u,L,MS(H,ve)),we=Hu(ve.ref)&&Is(H)?"":H,kS(ve.ref)?[...ve.ref.options].forEach(ke=>ke.selected=we.includes(ke.value)):ve.refs?sc(ve.ref)?ve.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(we)?ke.checked=!!we.find(tt=>tt===ke.value):ke.checked=we===ke.value||!!we)}):ve.refs.forEach(ke=>ke.checked=ke.value===we):fg(ve.ref)?ve.ref.value="":(ve.ref.value=we,ve.ref.type||w.state.next({name:L,values:gs(u)})))}(ne.shouldDirty||ne.shouldTouch)&&z(L,we,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&le(L)},ie=(L,H,ne)=>{for(const Se in H){if(!H.hasOwnProperty(Se))return;const we=H[Se],ve=L+"."+Se,ke=Pe(l,ve);(m.array.has(L)||rs(we)||ke&&!ke._f)&&!zr(we)?ie(ve,we,ne):U(ve,we,ne)}},R=(L,H,ne={})=>{const Se=Pe(l,L),we=m.array.has(L),ve=gs(H);Ot(u,L,ve),we?(w.array.next({name:L,values:gs(u)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&ne.shouldDirty&&w.state.next({name:L,dirtyFields:$i(c,u),isDirty:de(L,ve)})):Se&&!Se._f&&!Is(ve)?ie(L,ve,ne):U(L,ve,ne),U0(L,m)&&w.state.next({...r,name:L}),w.state.next({name:f.mount?L:void 0,values:gs(u)})},S=async L=>{f.mount=!0;const H=L.target;let ne=H.name,Se=!0;const we=Pe(l,ne),ve=Ze=>{Se=Number.isNaN(Ze)||zr(Ze)&&isNaN(Ze.getTime())||nr(Ze,Pe(u,ne,Ze))},ke=L0(s.mode),tt=L0(s.reValidateMode);if(we){let Ze,bt;const Ea=H.type?z0(we._f):OM(L),bs=L.type===M0.BLUR||L.type===M0.FOCUS_OUT,k=!GM(we._f)&&!s.resolver&&!Pe(r.errors,ne)&&!we._f.deps||YM(bs,Pe(r.touchedFields,ne),r.isSubmitted,tt,ke),je=U0(ne,m,bs);Ot(u,ne,Ea),bs?(!H||!H.readOnly)&&(we._f.onBlur&&we._f.onBlur(L),g&&g(0)):we._f.onChange&&we._f.onChange(L);const Xe=z(ne,Ea,bs),Je=!Gs(Xe)||je;if(!bs&&w.state.next({name:ne,type:L.type,values:gs(u)}),k)return(x.isValid||y.isValid)&&(s.mode==="onBlur"?bs&&j():bs||j()),Je&&w.state.next({name:ne,...je?{}:Xe});if(!bs&&je&&w.state.next({...r}),s.resolver){const{errors:Nt}=await $([ne]);if(ve(Ea),Se){const Vn=V0(r.errors,l,ne),ka=V0(Nt,l,Vn.name||ne);Ze=ka.error,ne=ka.name,bt=Gs(Nt)}}else b([ne],!0),Ze=(await $0(we,m.disabled,u,C,s.shouldUseNativeValidation))[ne],b([ne]),ve(Ea),Se&&(Ze?bt=!1:(x.isValid||y.isValid)&&(bt=await W(l,!0)));Se&&(we._f.deps&&(!Array.isArray(we._f.deps)||we._f.deps.length>0)&&le(we._f.deps),Z(ne,bt,Ze,Xe))}},O=(L,H)=>{if(Pe(r.errors,H)&&L.focus)return L.focus(),1},le=async(L,H={})=>{let ne,Se;const we=_o(L);if(s.resolver){const ve=await Y(as(L)?L:we);ne=Gs(ve),Se=L?!we.some(ke=>Pe(ve,ke)):ne}else L?(Se=(await Promise.all(we.map(async ve=>{const ke=Pe(l,ve);return await W(ke&&ke._f?{[ve]:ke}:ke)}))).every(Boolean),!(!Se&&!r.isValid)&&j()):Se=ne=await W(l);return w.state.next({...!an(L)||(x.isValid||y.isValid)&&ne!==r.isValid?{}:{name:L},...s.resolver||!L?{isValid:ne}:{},errors:r.errors}),H.shouldFocus&&!Se&&Ao(l,O,L?we:m.mount),Se},P=(L,H)=>{let ne={...f.mount?u:c};return H&&(ne=ES(H.dirtyFields?r.dirtyFields:r.touchedFields,ne)),as(L)?ne:an(L)?Pe(ne,L):L.map(Se=>Pe(ne,Se))},se=(L,H)=>({invalid:!!Pe((H||r).errors,L),isDirty:!!Pe((H||r).dirtyFields,L),error:Pe((H||r).errors,L),isValidating:!!Pe(r.validatingFields,L),isTouched:!!Pe((H||r).touchedFields,L)}),V=L=>{L&&_o(L).forEach(H=>ns(r.errors,H)),w.state.next({errors:L?r.errors:{}})},J=(L,H,ne)=>{const Se=(Pe(l,L,{_f:{}})._f||{}).ref,we=Pe(r.errors,L)||{},{ref:ve,message:ke,type:tt,...Ze}=we;Ot(r.errors,L,{...Ze,...H,ref:Se}),w.state.next({name:L,errors:r.errors,isValid:!1}),ne&&ne.shouldFocus&&Se&&Se.focus&&Se.focus()},ce=(L,H)=>On(L)?w.state.subscribe({next:ne=>"values"in ne&&L(re(void 0,H),ne)}):re(L,H,!0),me=L=>w.state.subscribe({next:H=>{KM(L.name,H.name,L.exact)&&QM(H,L.formState||x,ds,L.reRenderRoot)&&L.callback({values:{...u},...r,...H,defaultValues:c})}}).unsubscribe,ye=L=>(f.mount=!0,y={...y,...L.formState},me({...L,formState:y})),M=(L,H={})=>{for(const ne of L?_o(L):m.mount)m.mount.delete(ne),m.array.delete(ne),H.keepValue||(ns(l,ne),ns(u,ne)),!H.keepError&&ns(r.errors,ne),!H.keepDirty&&ns(r.dirtyFields,ne),!H.keepTouched&&ns(r.touchedFields,ne),!H.keepIsValidating&&ns(r.validatingFields,ne),!s.shouldUnregister&&!H.keepDefaultValue&&ns(c,ne);w.state.next({values:gs(u)}),w.state.next({...r,...H.keepDirty?{isDirty:de()}:{}}),!H.keepIsValid&&j()},X=({disabled:L,name:H})=>{(Kn(L)&&f.mount||L||m.disabled.has(H))&&(L?m.disabled.add(H):m.disabled.delete(H))},Ne=(L,H={})=>{let ne=Pe(l,L);const Se=Kn(H.disabled)||Kn(s.disabled);return Ot(l,L,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:L}},name:L,mount:!0,...H}}),m.mount.add(L),ne?X({disabled:Kn(H.disabled)?H.disabled:s.disabled,name:L}):D(L,!0,H.value),{...Se?{disabled:H.disabled||s.disabled}:{},...s.progressive?{required:!!H.required,min:wo(H.min),max:wo(H.max),minLength:wo(H.minLength),maxLength:wo(H.maxLength),pattern:wo(H.pattern)}:{},name:L,onChange:S,onBlur:S,ref:we=>{if(we){Ne(L,H),ne=Pe(l,L);const ve=as(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,ke=FM(ve),tt=ne._f.refs||[];if(ke?tt.find(Ze=>Ze===ve):ve===ne._f.ref)return;Ot(l,L,{_f:{...ne._f,...ke?{refs:[...tt.filter(_h),ve,...Array.isArray(Pe(c,L))?[{}]:[]],ref:{type:ve.type,name:L}}:{ref:ve}}}),D(L,!1,void 0,ve)}else ne=Pe(l,L,{}),ne._f&&(ne._f.mount=!1),(s.shouldUnregister||H.shouldUnregister)&&!(DM(m.array,L)&&f.action)&&m.unMount.add(L)}}},Ce=()=>s.shouldFocusError&&Ao(l,O,m.mount),Be=L=>{Kn(L)&&(w.state.next({disabled:L}),Ao(l,(H,ne)=>{const Se=Pe(l,ne);Se&&(H.disabled=Se._f.disabled||L,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(we=>{we.disabled=Se._f.disabled||L}))},0,!1))},Ge=(L,H)=>async ne=>{let Se;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let we=gs(u);if(w.state.next({isSubmitting:!0}),s.resolver){const{errors:ve,values:ke}=await $();r.errors=ve,we=gs(ke)}else await W(l);if(m.disabled.size)for(const ve of m.disabled)ns(we,ve);if(ns(r.errors,"root"),Gs(r.errors)){w.state.next({errors:{}});try{await L(we,ne)}catch(ve){Se=ve}}else H&&await H({...r.errors},ne),Ce(),setTimeout(Ce);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gs(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},is=(L,H={})=>{Pe(l,L)&&(as(H.defaultValue)?R(L,gs(Pe(c,L))):(R(L,H.defaultValue),Ot(c,L,gs(H.defaultValue))),H.keepTouched||ns(r.touchedFields,L),H.keepDirty||(ns(r.dirtyFields,L),r.isDirty=H.defaultValue?de(L,gs(Pe(c,L))):de()),H.keepError||(ns(r.errors,L),x.isValid&&j()),w.state.next({...r}))},nt=(L,H={})=>{const ne=L?gs(L):c,Se=gs(ne),we=Gs(L),ve=we?c:Se;if(H.keepDefaultValues||(c=ne),!H.keepValues){if(H.keepDirtyValues){const ke=new Set([...m.mount,...Object.keys($i(c,u))]);for(const tt of Array.from(ke))Pe(r.dirtyFields,tt)?Ot(ve,tt,Pe(u,tt)):R(tt,Pe(ve,tt))}else{if(og&&as(L))for(const ke of m.mount){const tt=Pe(l,ke);if(tt&&tt._f){const Ze=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Hu(Ze)){const bt=Ze.closest("form");if(bt){bt.reset();break}}}}if(H.keepFieldsRef)for(const ke of m.mount)R(ke,Pe(ve,ke));else l={}}u=s.shouldUnregister?H.keepDefaultValues?gs(c):{}:gs(ve),w.array.next({values:{...ve}}),w.state.next({values:{...ve}})}m={mount:H.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!x.isValid||!!H.keepIsValid||!!H.keepDirtyValues,f.watch=!!s.shouldUnregister,w.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:we?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!nr(L,c)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:H.keepDirtyValues?H.keepDefaultValues&&u?$i(c,u):r.dirtyFields:H.keepDefaultValues&&L?$i(c,L):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},un=(L,H)=>nt(On(L)?L(u):L,H),Cn=(L,H={})=>{const ne=Pe(l,L),Se=ne&&ne._f;if(Se){const we=Se.refs?Se.refs[0]:Se.ref;we.focus&&(we.focus(),H.shouldSelect&&On(we.select)&&we.select())}},ds=L=>{r={...r,...L}},vr={control:{register:Ne,unregister:M,getFieldState:se,handleSubmit:Ge,setError:J,_subscribe:me,_runSchema:$,_focusError:Ce,_getWatch:re,_getDirty:de,_setValid:j,_setFieldArray:_,_setDisabledField:X,_setErrors:B,_getFieldArray:oe,_reset:nt,_resetDefaultValues:()=>On(s.defaultValues)&&s.defaultValues().then(L=>{un(L,s.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:Be,_subjects:w,_proxyFormState:x,get _fields(){return l},get _formValues(){return u},get _state(){return f},set _state(L){f=L},get _defaultValues(){return c},get _names(){return m},set _names(L){m=L},get _formState(){return r},get _options(){return s},set _options(L){s={...s,...L}}},subscribe:ye,trigger:le,register:Ne,handleSubmit:Ge,watch:ce,setValue:R,getValues:P,reset:un,resetField:is,clearErrors:V,unregister:M,setError:J,setFocus:Cn,getFieldState:se};return{...vr,formControl:vr}}function PS(e={}){const s=Wt.useRef(void 0),r=Wt.useRef(void 0),[l,c]=Wt.useState({isDirty:!1,isValidating:!1,isLoading:On(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:On(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:l},e.defaultValues&&!On(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=JM(e);s.current={...m,formState:l}}const u=s.current.control;return u._options=e,zM(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),Wt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),Wt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),Wt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),Wt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),Wt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==l.isDirty&&u._subjects.state.next({isDirty:f})}},[u,l.isDirty]),Wt.useEffect(()=>{e.values&&!nr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),Wt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),s.current.formState=IM(l,u),s.current}const H0=(e,s,r)=>{if(e&&"reportValidity"in e){const l=Pe(r,s);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},up=(e,s)=>{for(const r in s.fields){const l=s.fields[r];l&&l.ref&&"reportValidity"in l.ref?H0(l.ref,r,e):l&&l.refs&&l.refs.forEach(c=>H0(c,r,e))}},G0=(e,s)=>{s.shouldUseNativeValidation&&up(e,s);const r={};for(const l in e){const c=Pe(s.fields,l),u=Object.assign(e[l]||{},{ref:c&&c.ref});if(eD(s.names||Object.keys(e),l)){const f=Object.assign({},Pe(r,l));Ot(f,"root",u),Ot(r,l,f)}else Ot(r,l,u)}return r},eD=(e,s)=>{const r=Q0(s);return e.some(l=>Q0(l).match(`^${r}\\.\\d+`))};function Q0(e){return e.replace(/\]|\[/g,"")}function BS(e,s,r){function l(m,g){var p;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(p=m._zod).traits??(p.traits=new Set),m._zod.traits.add(e),s(m,g);for(const x in f.prototype)x in m||Object.defineProperty(m,x,{value:f.prototype[x].bind(m)});m._zod.constr=f,m._zod.def=g}const c=r?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var g;const p=r?.Parent?new u:this;l(p,m),(g=p._zod).deferred??(g.deferred=[]);for(const x of p._zod.deferred)x();return p}return Object.defineProperty(f,"init",{value:l}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class tD extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const sD={};function IS(e){return sD}function nD(e,s){return typeof s=="bigint"?s.toString():s}const zS=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Eu(e){return typeof e=="string"?e:e?.message}function LS(e,s,r){const l={...e,path:e.path??[]};if(!e.message){const c=Eu(e.inst?._zod.def?.error?.(e))??Eu(s?.error?.(e))??Eu(r.customError?.(e))??Eu(r.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,s?.reportInput||delete l.input,l}const FS=(e,s)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:s,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(s,nD,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},aD=BS("$ZodError",FS),US=BS("$ZodError",FS,{Parent:Error}),rD=e=>(s,r,l,c)=>{const u=l?Object.assign(l,{async:!1}):{async:!1},f=s._zod.run({value:r,issues:[]},u);if(f instanceof Promise)throw new tD;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>LS(g,u,IS())));throw zS(m,c?.callee),m}return f.value},iD=rD(US),lD=e=>async(s,r,l,c)=>{const u=l?Object.assign(l,{async:!0}):{async:!0};let f=s._zod.run({value:r,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>LS(g,u,IS())));throw zS(m,c?.callee),m}return f.value},oD=lD(US);function K0(e,s){try{var r=e()}catch(l){return s(l)}return r&&r.then?r.then(void 0,s):r}function cD(e,s){for(var r={};e.length;){var l=e[0],c=l.code,u=l.message,f=l.path.join(".");if(!r[f])if("unionErrors"in l){var m=l.unionErrors[0].errors[0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),s){var g=r[f].types,p=g&&g[l.code];r[f]=dg(f,s,r,c,p?[].concat(p,l.message):l.message)}e.shift()}return r}function uD(e,s){for(var r={};e.length;){var l=e[0],c=l.code,u=l.message,f=l.path.join(".");if(!r[f])if(l.code==="invalid_union"&&l.errors.length>0){var m=l.errors[0][0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(x){return x.forEach(function(y){return e.push(y)})}),s){var g=r[f].types,p=g&&g[l.code];r[f]=dg(f,s,r,c,p?[].concat(p,l.message):l.message)}e.shift()}return r}function VS(e,s,r){if(r===void 0&&(r={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,u){try{return Promise.resolve(K0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](l,s)).then(function(f){return u.shouldUseNativeValidation&&up({},u),{errors:{},values:r.raw?Object.assign({},l):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:G0(cD(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,u){try{return Promise.resolve(K0(function(){return Promise.resolve((r.mode==="sync"?iD:oD)(e,l,s)).then(function(f){return u.shouldUseNativeValidation&&up({},u),{errors:{},values:r.raw?Object.assign({},l):f}})},function(f){if((function(m){return m instanceof aD})(f))return{values:{},errors:G0(uD(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}const pe=Symbol.for("drizzle:entityKind");function xs(e,s){if(!e||typeof e!="object")return!1;if(e instanceof s)return!0;if(!Object.prototype.hasOwnProperty.call(s,pe))throw new Error(`Class "${s.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(pe in r&&r[pe]===s[pe])return!0;r=Object.getPrototypeOf(r)}return!1}class Do{constructor(s,r){this.table=s,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[pe]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(s){return s}mapToDriverValue(s){return s}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class dD{static[pe]="ColumnBuilder";config;constructor(s,r,l){this.config={name:s,keyAsName:s==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:l,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(s){return this.config.default=s,this.config.hasDefault=!0,this}$defaultFn(s){return this.config.defaultFn=s,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(s){return this.config.onUpdateFn=s,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(s){this.config.name===""&&(this.config.name=s)}}const tl=Symbol.for("drizzle:Name");class fD{static[pe]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(s,r){this.reference=()=>{const{name:l,columns:c,foreignColumns:u}=s();return{name:l,columns:c,foreignTable:u[0].table,foreignColumns:u}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(s){return this._onUpdate=s===void 0?"no action":s,this}onDelete(s){return this._onDelete=s===void 0?"no action":s,this}build(s){return new mD(s,this)}}class mD{constructor(s,r){this.table=s,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[pe]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:s,columns:r,foreignColumns:l}=this.reference(),c=r.map(m=>m.name),u=l.map(m=>m.name),f=[this.table[tl],...c,l[0].table[tl],...u];return s??`${f.join("_")}_fk`}}function hD(e,...s){return e(...s)}function pD(e,s){return`${e[tl]}_${s.join("_")}_unique`}function Y0(e,s,r){for(let l=s;l<e.length;l++){const c=e[l];if(c==="\\"){l++;continue}if(c==='"')return[e.slice(s,l).replace(/\\/g,""),l+1];if(!r&&(c===","||c==="}"))return[e.slice(s,l).replace(/\\/g,""),l]}return[e.slice(s).replace(/\\/g,""),e.length]}function qS(e,s=0){const r=[];let l=s,c=!1;for(;l<e.length;){const u=e[l];if(u===","){(c||l===s)&&r.push(""),c=!0,l++;continue}if(c=!1,u==="\\"){l+=2;continue}if(u==='"'){const[g,p]=Y0(e,l+1,!0);r.push(g),l=p;continue}if(u==="}")return[r,l+1];if(u==="{"){const[g,p]=qS(e,l+1);r.push(g),l=p;continue}const[f,m]=Y0(e,l,!1);r.push(f),l=m}return[r,l]}function gD(e){const[s]=qS(e,1);return s}function $S(e){return`{${e.map(s=>Array.isArray(s)?$S(s):typeof s=="string"?`"${s.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${s}`).join(",")}}`}class pt extends dD{foreignKeyConfigs=[];static[pe]="PgColumnBuilder";array(s){return new vD(this.config.name,this,s)}references(s,r={}){return this.foreignKeyConfigs.push({ref:s,actions:r}),this}unique(s,r){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,r){return this.foreignKeyConfigs.map(({ref:l,actions:c})=>hD((u,f)=>{const m=new fD(()=>{const g=u();return{columns:[s],foreignColumns:[g]}});return f.onUpdate&&m.onUpdate(f.onUpdate),f.onDelete&&m.onDelete(f.onDelete),m.build(r)},l,c))}buildExtraConfigColumn(s){return new xD(s,this.config)}}class st extends Do{constructor(s,r){r.uniqueName||(r.uniqueName=pD(s,[r.name])),super(s,r),this.table=s}static[pe]="PgColumn"}class xD extends st{static[pe]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}class vD extends pt{static[pe]="PgArrayBuilder";constructor(s,r,l){super(s,"array","PgArray"),this.config.baseBuilder=r,this.config.size=l}build(s){const r=this.config.baseBuilder.build(s);return new hg(s,this.config,r)}}class hg extends st{constructor(s,r,l,c){super(s,r),this.baseColumn=l,this.range=c,this.size=r.size}size;static[pe]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=gD(s)),s.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(s,r=!1){const l=s.map(c=>c===null?null:xs(this.baseColumn,hg)?this.baseColumn.mapToDriverValue(c,!0):this.baseColumn.mapToDriverValue(c));return r?l:$S(l)}}const Z0=Symbol.for("drizzle:isPgEnum");function yD(e){return!!e&&typeof e=="function"&&Z0 in e&&e[Z0]===!0}class HS{static[pe]="Subquery";constructor(s,r,l,c=!1,u=[]){this._={brand:"Subquery",sql:s,selectedFields:r,alias:l,isWith:c,usedTables:u}}}const bD={startActiveSpan(e,s){return s()}},sl=Symbol.for("drizzle:ViewBaseConfig"),Ah=Symbol.for("drizzle:Schema"),X0=Symbol.for("drizzle:Columns"),W0=Symbol.for("drizzle:ExtraConfigColumns"),Eh=Symbol.for("drizzle:OriginalName"),kh=Symbol.for("drizzle:BaseName"),Qu=Symbol.for("drizzle:IsAlias"),J0=Symbol.for("drizzle:ExtraConfigBuilder"),GS=Symbol.for("drizzle:IsDrizzleTable");let vs=class{static[pe]="Table";static Symbol={Name:tl,Schema:Ah,OriginalName:Eh,Columns:X0,ExtraConfigColumns:W0,BaseName:kh,IsAlias:Qu,ExtraConfigBuilder:J0};[tl];[Eh];[Ah];[X0];[W0];[kh];[Qu]=!1;[GS]=!0;[J0]=void 0;constructor(s,r,l){this[tl]=this[Eh]=s,this[Ah]=r,this[kh]=l}};function QS(e){return typeof e=="object"&&e!==null&&GS in e}function jD(e){return e!=null&&typeof e.getSQL=="function"}function ND(e){const s={sql:"",params:[]};for(const r of e)s.sql+=r.sql,s.params.push(...r.params),r.typings?.length&&(s.typings||(s.typings=[]),s.typings.push(...r.typings));return s}class kn{static[pe]="StringChunk";value;constructor(s){this.value=Array.isArray(s)?s:[s]}getSQL(){return new Yt([this])}}class Yt{constructor(s){this.queryChunks=s;for(const r of s)if(xs(r,vs)){const l=r[vs.Symbol.Schema];this.usedTables.push(l===void 0?r[vs.Symbol.Name]:l+"."+r[vs.Symbol.Name])}}static[pe]="SQL";decoder=KS;shouldInlineParams=!1;usedTables=[];append(s){return this.queryChunks.push(...s.queryChunks),this}toQuery(s){return bD.startActiveSpan("drizzle.buildSQL",r=>{const l=this.buildQueryFromSourceParams(this.queryChunks,s);return r?.setAttributes({"drizzle.query.text":l.sql,"drizzle.query.params":JSON.stringify(l.params)}),l})}buildQueryFromSourceParams(s,r){const l=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:c,escapeName:u,escapeParam:f,prepareTyping:m,inlineParams:g,paramStartIndex:p}=l;return ND(s.map(x=>{if(xs(x,kn))return{sql:x.value.join(""),params:[]};if(xs(x,dp))return{sql:u(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new kn("(")];for(const[w,C]of x.entries())y.push(C),w<x.length-1&&y.push(new kn(", "));return y.push(new kn(")")),this.buildQueryFromSourceParams(y,l)}if(xs(x,Yt))return this.buildQueryFromSourceParams(x.queryChunks,{...l,inlineParams:g||x.shouldInlineParams});if(xs(x,vs)){const y=x[vs.Symbol.Schema],w=x[vs.Symbol.Name];return{sql:y===void 0||x[Qu]?u(w):u(y)+"."+u(w),params:[]}}if(xs(x,Do)){const y=c.getColumnCasing(x);if(r.invokeSource==="indexes")return{sql:u(y),params:[]};const w=x.table[vs.Symbol.Schema];return{sql:x.table[Qu]||w===void 0?u(x.table[vs.Symbol.Name])+"."+u(y):u(w)+"."+u(x.table[vs.Symbol.Name])+"."+u(y),params:[]}}if(xs(x,wD)){const y=x[sl].schema,w=x[sl].name;return{sql:y===void 0||x[sl].isAlias?u(w):u(y)+"."+u(w),params:[]}}if(xs(x,ZS)){if(xs(x.value,fp))return{sql:f(p.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(xs(y,Yt))return this.buildQueryFromSourceParams([y],l);if(g)return{sql:this.mapInlineParam(y,l),params:[]};let w=["none"];return m&&(w=[m(x.encoder)]),{sql:f(p.value++,y),params:[y],typings:w}}return xs(x,fp)?{sql:f(p.value++,x),params:[x],typings:["none"]}:xs(x,Yt.Aliased)&&x.fieldAlias!==void 0?{sql:u(x.fieldAlias),params:[]}:xs(x,HS)?x._.isWith?{sql:u(x._.alias),params:[]}:this.buildQueryFromSourceParams([new kn("("),x._.sql,new kn(") "),new dp(x._.alias)],l):yD(x)?x.schema?{sql:u(x.schema)+"."+u(x.enumName),params:[]}:{sql:u(x.enumName),params:[]}:jD(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],l):this.buildQueryFromSourceParams([new kn("("),x.getSQL(),new kn(")")],l):g?{sql:this.mapInlineParam(x,l),params:[]}:{sql:f(p.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(s,{escapeString:r}){if(s===null)return"null";if(typeof s=="number"||typeof s=="boolean")return s.toString();if(typeof s=="string")return r(s);if(typeof s=="object"){const l=s.toString();return r(l==="[object Object]"?JSON.stringify(s):l)}throw new Error("Unexpected param value: "+s)}getSQL(){return this}as(s){return s===void 0?this:new Yt.Aliased(this,s)}mapWith(s){return this.decoder=typeof s=="function"?{mapFromDriverValue:s}:s,this}inlineParams(){return this.shouldInlineParams=!0,this}if(s){return s?this:void 0}}class dp{constructor(s){this.value=s}static[pe]="Name";brand;getSQL(){return new Yt([this])}}const KS={mapFromDriverValue:e=>e},YS={mapToDriverValue:e=>e};({...KS,...YS});class ZS{constructor(s,r=YS){this.value=s,this.encoder=r}static[pe]="Param";brand;getSQL(){return new Yt([this])}}function yt(e,...s){const r=[];(s.length>0||e.length>0&&e[0]!=="")&&r.push(new kn(e[0]));for(const[l,c]of s.entries())r.push(c,new kn(e[l+1]));return new Yt(r)}(e=>{function s(){return new Yt([])}e.empty=s;function r(g){return new Yt(g)}e.fromList=r;function l(g){return new Yt([new kn(g)])}e.raw=l;function c(g,p){const x=[];for(const[y,w]of g.entries())y>0&&p!==void 0&&x.push(p),x.push(w);return new Yt(x)}e.join=c;function u(g){return new dp(g)}e.identifier=u;function f(g){return new fp(g)}e.placeholder=f;function m(g,p){return new ZS(g,p)}e.param=m})(yt||(yt={}));(e=>{class s{constructor(l,c){this.sql=l,this.fieldAlias=c}static[pe]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}}e.Aliased=s})(Yt||(Yt={}));class fp{constructor(s){this.name=s}static[pe]="Placeholder";getSQL(){return new Yt([this])}}const XS=Symbol.for("drizzle:IsDrizzleView");class wD{static[pe]="View";[sl];[XS]=!0;constructor({name:s,schema:r,selectedFields:l,query:c}){this[sl]={name:s,originalName:s,schema:r,selectedFields:l,query:c,isExisting:!c,isAlias:!1}}getSQL(){return new Yt([this])}}function SD(e){return typeof e=="object"&&e!==null&&XS in e}Do.prototype.getSQL=function(){return new Yt([this])};vs.prototype.getSQL=function(){return new Yt([this])};HS.prototype.getSQL=function(){return new Yt([this])};function CD(e){return e[vs.Symbol.Columns]}function TD(e){return e[sl].selectedFields}function ys(e,s){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:s}}typeof TextDecoder>"u"||new TextDecoder;class kd extends pt{static[pe]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(s){if(s){const{name:r,...l}=s;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:l}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(s){if(s){const{name:r,...l}=s;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:l}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class _D extends kd{static[pe]="PgBigInt53Builder";constructor(s){super(s,"number","PgBigInt53")}build(s){return new AD(s,this.config)}}class AD extends st{static[pe]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}class ED extends kd{static[pe]="PgBigInt64Builder";constructor(s){super(s,"bigint","PgBigInt64")}build(s){return new kD(s,this.config)}}class kD extends st{static[pe]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(s){return BigInt(s)}}function RD(e,s){const{name:r,config:l}=ys(e,s);return l.mode==="number"?new _D(r):new ED(r)}class OD extends pt{static[pe]="PgBigSerial53Builder";constructor(s){super(s,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new MD(s,this.config)}}class MD extends st{static[pe]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}class DD extends pt{static[pe]="PgBigSerial64Builder";constructor(s){super(s,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(s){return new PD(s,this.config)}}class PD extends st{static[pe]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(s){return BigInt(s)}}function BD(e,s){const{name:r,config:l}=ys(e,s);return l.mode==="number"?new OD(r):new DD(r)}class ID extends pt{static[pe]="PgBooleanBuilder";constructor(s){super(s,"boolean","PgBoolean")}build(s){return new zD(s,this.config)}}class zD extends st{static[pe]="PgBoolean";getSQLType(){return"boolean"}}function Ss(e){return new ID(e??"")}class LD extends pt{static[pe]="PgCharBuilder";constructor(s,r){super(s,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(s){return new FD(s,this.config)}}class FD extends st{static[pe]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function UD(e,s={}){const{name:r,config:l}=ys(e,s);return new LD(r,l)}class VD extends pt{static[pe]="PgCidrBuilder";constructor(s){super(s,"string","PgCidr")}build(s){return new qD(s,this.config)}}class qD extends st{static[pe]="PgCidr";getSQLType(){return"cidr"}}function $D(e){return new VD(e??"")}class HD extends pt{static[pe]="PgCustomColumnBuilder";constructor(s,r,l){super(s,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=l}build(s){return new GD(s,this.config)}}class GD extends st{static[pe]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(s,r){super(s,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}function QD(e){return(s,r)=>{const{name:l,config:c}=ys(s,r);return new HD(l,c,e)}}class nc extends pt{static[pe]="PgDateColumnBaseBuilder";defaultNow(){return this.default(yt`now()`)}}class KD extends nc{static[pe]="PgDateBuilder";constructor(s){super(s,"date","PgDate")}build(s){return new YD(s,this.config)}}class YD extends st{static[pe]="PgDate";getSQLType(){return"date"}mapFromDriverValue(s){return new Date(s)}mapToDriverValue(s){return s.toISOString()}}class ZD extends nc{static[pe]="PgDateStringBuilder";constructor(s){super(s,"string","PgDateString")}build(s){return new XD(s,this.config)}}class XD extends st{static[pe]="PgDateString";getSQLType(){return"date"}}function WD(e,s){const{name:r,config:l}=ys(e,s);return l?.mode==="date"?new KD(r):new ZD(r)}class JD extends pt{static[pe]="PgDoublePrecisionBuilder";constructor(s){super(s,"number","PgDoublePrecision")}build(s){return new eP(s,this.config)}}class eP extends st{static[pe]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(s){return typeof s=="string"?Number.parseFloat(s):s}}function tP(e){return new JD(e??"")}class sP extends pt{static[pe]="PgInetBuilder";constructor(s){super(s,"string","PgInet")}build(s){return new nP(s,this.config)}}class nP extends st{static[pe]="PgInet";getSQLType(){return"inet"}}function aP(e){return new sP(e??"")}class rP extends kd{static[pe]="PgIntegerBuilder";constructor(s){super(s,"number","PgInteger")}build(s){return new iP(s,this.config)}}class iP extends st{static[pe]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(s){return typeof s=="string"?Number.parseInt(s):s}}function wn(e){return new rP(e??"")}class lP extends pt{static[pe]="PgIntervalBuilder";constructor(s,r){super(s,"string","PgInterval"),this.config.intervalConfig=r}build(s){return new oP(s,this.config)}}class oP extends st{static[pe]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const s=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${s}${r}`}}function cP(e,s={}){const{name:r,config:l}=ys(e,s);return new lP(r,l)}class uP extends pt{static[pe]="PgJsonBuilder";constructor(s){super(s,"json","PgJson")}build(s){return new dP(s,this.config)}}class dP extends st{static[pe]="PgJson";constructor(s,r){super(s,r)}getSQLType(){return"json"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}function fP(e){return new uP(e??"")}class mP extends pt{static[pe]="PgJsonbBuilder";constructor(s){super(s,"json","PgJsonb")}build(s){return new hP(s,this.config)}}class hP extends st{static[pe]="PgJsonb";constructor(s,r){super(s,r)}getSQLType(){return"jsonb"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}function ol(e){return new mP(e??"")}class pP extends pt{static[pe]="PgLineBuilder";constructor(s){super(s,"array","PgLine")}build(s){return new gP(s,this.config)}}class gP extends st{static[pe]="PgLine";getSQLType(){return"line"}mapFromDriverValue(s){const[r,l,c]=s.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(l),Number.parseFloat(c)]}mapToDriverValue(s){return`{${s[0]},${s[1]},${s[2]}}`}}class xP extends pt{static[pe]="PgLineABCBuilder";constructor(s){super(s,"json","PgLineABC")}build(s){return new vP(s,this.config)}}class vP extends st{static[pe]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(s){const[r,l,c]=s.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(l),c:Number.parseFloat(c)}}mapToDriverValue(s){return`{${s.a},${s.b},${s.c}}`}}function yP(e,s){const{name:r,config:l}=ys(e,s);return!l?.mode||l.mode==="tuple"?new pP(r):new xP(r)}class bP extends pt{static[pe]="PgMacaddrBuilder";constructor(s){super(s,"string","PgMacaddr")}build(s){return new jP(s,this.config)}}class jP extends st{static[pe]="PgMacaddr";getSQLType(){return"macaddr"}}function NP(e){return new bP(e??"")}class wP extends pt{static[pe]="PgMacaddr8Builder";constructor(s){super(s,"string","PgMacaddr8")}build(s){return new SP(s,this.config)}}class SP extends st{static[pe]="PgMacaddr8";getSQLType(){return"macaddr8"}}function CP(e){return new wP(e??"")}class TP extends pt{static[pe]="PgNumericBuilder";constructor(s,r,l){super(s,"string","PgNumeric"),this.config.precision=r,this.config.scale=l}build(s){return new _P(s,this.config)}}class _P extends st{static[pe]="PgNumeric";precision;scale;constructor(s,r){super(s,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(s){return typeof s=="string"?s:String(s)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class AP extends pt{static[pe]="PgNumericNumberBuilder";constructor(s,r,l){super(s,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=l}build(s){return new EP(s,this.config)}}class EP extends st{static[pe]="PgNumericNumber";precision;scale;constructor(s,r){super(s,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class kP extends pt{static[pe]="PgNumericBigIntBuilder";constructor(s,r,l){super(s,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=l}build(s){return new RP(s,this.config)}}class RP extends st{static[pe]="PgNumericBigInt";precision;scale;constructor(s,r){super(s,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function OP(e,s){const{name:r,config:l}=ys(e,s),c=l?.mode;return c==="number"?new AP(r,l?.precision,l?.scale):c==="bigint"?new kP(r,l?.precision,l?.scale):new TP(r,l?.precision,l?.scale)}class MP extends pt{static[pe]="PgPointTupleBuilder";constructor(s){super(s,"array","PgPointTuple")}build(s){return new DP(s,this.config)}}class DP extends st{static[pe]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[r,l]=s.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(l)]}return[s.x,s.y]}mapToDriverValue(s){return`(${s[0]},${s[1]})`}}class PP extends pt{static[pe]="PgPointObjectBuilder";constructor(s){super(s,"json","PgPointObject")}build(s){return new BP(s,this.config)}}class BP extends st{static[pe]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[r,l]=s.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(l)}}return s}mapToDriverValue(s){return`(${s.x},${s.y})`}}function IP(e,s){const{name:r,config:l}=ys(e,s);return!l?.mode||l.mode==="tuple"?new MP(r):new PP(r)}function zP(e){const s=[];for(let r=0;r<e.length;r+=2)s.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(s)}function ej(e,s){const r=new ArrayBuffer(8),l=new DataView(r);for(let c=0;c<8;c++)l.setUint8(c,e[s+c]);return l.getFloat64(0,!0)}function WS(e){const s=zP(e);let r=0;const l=s[r];r+=1;const c=new DataView(s.buffer),u=c.getUint32(r,l===1);if(r+=4,u&536870912&&(c.getUint32(r,l===1),r+=4),(u&65535)===1){const f=ej(s,r);r+=8;const m=ej(s,r);return r+=8,[f,m]}throw new Error("Unsupported geometry type")}class LP extends pt{static[pe]="PgGeometryBuilder";constructor(s){super(s,"array","PgGeometry")}build(s){return new FP(s,this.config)}}class FP extends st{static[pe]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(s){return WS(s)}mapToDriverValue(s){return`point(${s[0]} ${s[1]})`}}class UP extends pt{static[pe]="PgGeometryObjectBuilder";constructor(s){super(s,"json","PgGeometryObject")}build(s){return new VP(s,this.config)}}class VP extends st{static[pe]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(s){const r=WS(s);return{x:r[0],y:r[1]}}mapToDriverValue(s){return`point(${s.x} ${s.y})`}}function qP(e,s){const{name:r,config:l}=ys(e,s);return!l?.mode||l.mode==="tuple"?new LP(r):new UP(r)}class $P extends pt{static[pe]="PgRealBuilder";constructor(s,r){super(s,"number","PgReal"),this.config.length=r}build(s){return new HP(s,this.config)}}class HP extends st{static[pe]="PgReal";constructor(s,r){super(s,r)}getSQLType(){return"real"}mapFromDriverValue=s=>typeof s=="string"?Number.parseFloat(s):s}function GP(e){return new $P(e??"")}class QP extends pt{static[pe]="PgSerialBuilder";constructor(s){super(s,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new KP(s,this.config)}}class KP extends st{static[pe]="PgSerial";getSQLType(){return"serial"}}function YP(e){return new QP(e??"")}class ZP extends kd{static[pe]="PgSmallIntBuilder";constructor(s){super(s,"number","PgSmallInt")}build(s){return new XP(s,this.config)}}class XP extends st{static[pe]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=s=>typeof s=="string"?Number(s):s}function WP(e){return new ZP(e??"")}class JP extends pt{static[pe]="PgSmallSerialBuilder";constructor(s){super(s,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new e3(s,this.config)}}class e3 extends st{static[pe]="PgSmallSerial";getSQLType(){return"smallserial"}}function t3(e){return new JP(e??"")}class s3 extends pt{static[pe]="PgTextBuilder";constructor(s,r){super(s,"string","PgText"),this.config.enumValues=r.enum}build(s){return new n3(s,this.config)}}class n3 extends st{static[pe]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Re(e,s={}){const{name:r,config:l}=ys(e,s);return new s3(r,l)}class a3 extends nc{constructor(s,r,l){super(s,"string","PgTime"),this.withTimezone=r,this.precision=l,this.config.withTimezone=r,this.config.precision=l}static[pe]="PgTimeBuilder";build(s){return new r3(s,this.config)}}class r3 extends st{static[pe]="PgTime";withTimezone;precision;constructor(s,r){super(s,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function i3(e,s={}){const{name:r,config:l}=ys(e,s);return new a3(r,l.withTimezone??!1,l.precision)}class l3 extends nc{static[pe]="PgTimestampBuilder";constructor(s,r,l){super(s,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=l}build(s){return new o3(s,this.config)}}class o3 extends st{static[pe]="PgTimestamp";withTimezone;precision;constructor(s,r){super(s,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=s=>new Date(this.withTimezone?s:s+"+0000");mapToDriverValue=s=>s.toISOString()}class c3 extends nc{static[pe]="PgTimestampStringBuilder";constructor(s,r,l){super(s,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=l}build(s){return new u3(s,this.config)}}class u3 extends st{static[pe]="PgTimestampString";withTimezone;precision;constructor(s,r){super(s,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function kt(e,s={}){const{name:r,config:l}=ys(e,s);return l?.mode==="string"?new c3(r,l.withTimezone??!1,l.precision):new l3(r,l?.withTimezone??!1,l?.precision)}class d3 extends pt{static[pe]="PgUUIDBuilder";constructor(s){super(s,"string","PgUUID")}defaultRandom(){return this.default(yt`gen_random_uuid()`)}build(s){return new f3(s,this.config)}}class f3 extends st{static[pe]="PgUUID";getSQLType(){return"uuid"}}function m3(e){return new d3(e??"")}class h3 extends pt{static[pe]="PgVarcharBuilder";constructor(s,r){super(s,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(s){return new p3(s,this.config)}}class p3 extends st{static[pe]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Ts(e,s={}){const{name:r,config:l}=ys(e,s);return new h3(r,l)}class g3 extends pt{static[pe]="PgBinaryVectorBuilder";constructor(s,r){super(s,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(s){return new x3(s,this.config)}}class x3 extends st{static[pe]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function v3(e,s){const{name:r,config:l}=ys(e,s);return new g3(r,l)}class y3 extends pt{static[pe]="PgHalfVectorBuilder";constructor(s,r){super(s,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(s){return new b3(s,this.config)}}class b3 extends st{static[pe]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function j3(e,s){const{name:r,config:l}=ys(e,s);return new y3(r,l)}class N3 extends pt{static[pe]="PgSparseVectorBuilder";constructor(s,r){super(s,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(s){return new w3(s,this.config)}}class w3 extends st{static[pe]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function S3(e,s){const{name:r,config:l}=ys(e,s);return new N3(r,l)}class C3 extends pt{static[pe]="PgVectorBuilder";constructor(s,r){super(s,"array","PgVector"),this.config.dimensions=r.dimensions}build(s){return new T3(s,this.config)}}class T3 extends st{static[pe]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function _3(e,s){const{name:r,config:l}=ys(e,s);return new C3(r,l)}function A3(){return{bigint:RD,bigserial:BD,boolean:Ss,char:UD,cidr:$D,customType:QD,date:WD,doublePrecision:tP,inet:aP,integer:wn,interval:cP,json:fP,jsonb:ol,line:yP,macaddr:NP,macaddr8:CP,numeric:OP,point:IP,geometry:qP,real:GP,serial:YP,smallint:WP,smallserial:t3,text:Re,time:i3,timestamp:kt,uuid:m3,varchar:Ts,bit:v3,halfvec:j3,sparsevec:S3,vector:_3}}const mp=Symbol.for("drizzle:PgInlineForeignKeys"),tj=Symbol.for("drizzle:EnableRLS");class sj extends vs{static[pe]="PgTable";static Symbol=Object.assign({},vs.Symbol,{InlineForeignKeys:mp,EnableRLS:tj});[mp]=[];[tj]=!1;[vs.Symbol.ExtraConfigBuilder]=void 0;[vs.Symbol.ExtraConfigColumns]={}}function E3(e,s,r,l,c=e){const u=new sj(e,l,c),f=typeof s=="function"?s(A3()):s,m=Object.fromEntries(Object.entries(f).map(([x,y])=>{const w=y;w.setName(x);const C=w.build(u);return u[mp].push(...w.buildForeignKeys(C,u)),[x,C]})),g=Object.fromEntries(Object.entries(f).map(([x,y])=>{const w=y;w.setName(x);const C=w.buildExtraConfigColumn(u);return[x,C]})),p=Object.assign(u,m);return p[vs.Symbol.Columns]=m,p[vs.Symbol.ExtraConfigColumns]=g,Object.assign(p,{enableRLS:()=>(p[sj.Symbol.EnableRLS]=!0,p)})}const Fn=(e,s,r)=>E3(e,s,r,void 0);var xt;(function(e){e.assertEqual=c=>{};function s(c){}e.assertIs=s;function r(c){throw new Error}e.assertNever=r,e.arrayToEnum=c=>{const u={};for(const f of c)u[f]=f;return u},e.getValidEnumValues=c=>{const u=e.objectKeys(c).filter(m=>typeof c[c[m]]!="number"),f={};for(const m of u)f[m]=c[m];return e.objectValues(f)},e.objectValues=c=>e.objectKeys(c).map(function(u){return c[u]}),e.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const u=[];for(const f in c)Object.prototype.hasOwnProperty.call(c,f)&&u.push(f);return u},e.find=(c,u)=>{for(const f of c)if(u(f))return f},e.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&Number.isFinite(c)&&Math.floor(c)===c;function l(c,u=" | "){return c.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}e.joinValues=l,e.jsonStringifyReplacer=(c,u)=>typeof u=="bigint"?u.toString():u})(xt||(xt={}));var hp;(function(e){e.mergeShapes=(s,r)=>({...s,...r})})(hp||(hp={}));const Ee=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wa=e=>{switch(typeof e){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(e)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(e)?Ee.array:e===null?Ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ee.promise:typeof Map<"u"&&e instanceof Map?Ee.map:typeof Set<"u"&&e instanceof Set?Ee.set:typeof Date<"u"&&e instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},be=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),k3=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class cn extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(u){return u.message},l={_errors:[]},c=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(c);else if(f.code==="invalid_return_type")c(f.returnTypeError);else if(f.code==="invalid_arguments")c(f.argumentsError);else if(f.path.length===0)l._errors.push(r(f));else{let m=l,g=0;for(;g<f.path.length;){const p=f.path[g];g===f.path.length-1?(m[p]=m[p]||{_errors:[]},m[p]._errors.push(r(f))):m[p]=m[p]||{_errors:[]},m=m[p],g++}}};return c(this),l}static assert(s){if(!(s instanceof cn))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},l=[];for(const c of this.issues)if(c.path.length>0){const u=c.path[0];r[u]=r[u]||[],r[u].push(s(c))}else l.push(s(c));return{formErrors:l,fieldErrors:r}}get formErrors(){return this.flatten()}}cn.create=e=>new cn(e);const cl=(e,s)=>{let r;switch(e.code){case be.invalid_type:e.received===Ee.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,xt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:r=`Unrecognized key(s) in object: ${xt.joinValues(e.keys,", ")}`;break;case be.invalid_union:r="Invalid input";break;case be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xt.joinValues(e.options)}`;break;case be.invalid_enum_value:r=`Invalid enum value. Expected ${xt.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:r="Invalid function arguments";break;case be.invalid_return_type:r="Invalid function return type";break;case be.invalid_date:r="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:xt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case be.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case be.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case be.custom:r="Invalid input";break;case be.invalid_intersection_types:r="Intersection results could not be merged";break;case be.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:r="Number must be finite";break;default:r=s.defaultError,xt.assertNever(e)}return{message:r}};let JS=cl;function R3(e){JS=e}function Ku(){return JS}const Yu=e=>{const{data:s,path:r,errorMaps:l,issueData:c}=e,u=[...r,...c.path||[]],f={...c,path:u};if(c.message!==void 0)return{...c,path:u,message:c.message};let m="";const g=l.filter(p=>!!p).slice().reverse();for(const p of g)m=p(f,{data:s,defaultError:m}).message;return{...c,path:u,message:m}},O3=[];function Te(e,s){const r=Ku(),l=Yu({issueData:s,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===cl?void 0:cl].filter(c=>!!c)});e.common.issues.push(l)}class Rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const l=[];for(const c of r){if(c.status==="aborted")return Ke;c.status==="dirty"&&s.dirty(),l.push(c.value)}return{status:s.value,value:l}}static async mergeObjectAsync(s,r){const l=[];for(const c of r){const u=await c.key,f=await c.value;l.push({key:u,value:f})}return Rs.mergeObjectSync(s,l)}static mergeObjectSync(s,r){const l={};for(const c of r){const{key:u,value:f}=c;if(u.status==="aborted"||f.status==="aborted")return Ke;u.status==="dirty"&&s.dirty(),f.status==="dirty"&&s.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||c.alwaysSet)&&(l[u.value]=f.value)}return{status:s.value,value:l}}}const Ke=Object.freeze({status:"aborted"}),Ki=e=>({status:"dirty",value:e}),Ls=e=>({status:"valid",value:e}),pp=e=>e.status==="aborted",gp=e=>e.status==="dirty",Yr=e=>e.status==="valid",Po=e=>typeof Promise<"u"&&e instanceof Promise;var Le;(function(e){e.errToObj=s=>typeof s=="string"?{message:s}:s||{},e.toString=s=>typeof s=="string"?s:s?.message})(Le||(Le={}));class ta{constructor(s,r,l,c){this._cachedPath=[],this.parent=s,this.data=r,this._path=l,this._key=c}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nj=(e,s)=>{if(Yr(s))return{success:!0,data:s.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new cn(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:s,invalid_type_error:r,required_error:l,description:c}=e;if(s&&(r||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:c}:{errorMap:(f,m)=>{const{message:g}=e;return f.code==="invalid_enum_value"?{message:g??m.defaultError}:typeof m.data>"u"?{message:g??l??m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:g??r??m.defaultError}},description:c}}class lt{get description(){return this._def.description}_getType(s){return wa(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:wa(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Rs,ctx:{common:s.parent.common,data:s.data,parsedType:wa(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(Po(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const l=this.safeParse(s,r);if(l.success)return l.data;throw l.error}safeParse(s,r){const l={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:wa(s)},c=this._parseSync({data:s,path:l.path,parent:l});return nj(l,c)}"~validate"(s){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:wa(s)};if(!this["~standard"].async)try{const l=this._parseSync({data:s,path:[],parent:r});return Yr(l)?{value:l.value}:{issues:r.common.issues}}catch(l){l?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(l=>Yr(l)?{value:l.value}:{issues:r.common.issues})}async parseAsync(s,r){const l=await this.safeParseAsync(s,r);if(l.success)return l.data;throw l.error}async safeParseAsync(s,r){const l={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:wa(s)},c=this._parse({data:s,path:l.path,parent:l}),u=await(Po(c)?c:Promise.resolve(c));return nj(l,u)}refine(s,r){const l=c=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(c):r;return this._refinement((c,u)=>{const f=s(c),m=()=>u.addIssue({code:be.custom,...l(c)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(s,r){return this._refinement((l,c)=>s(l)?!0:(c.addIssue(typeof r=="function"?r(l,c):r),!1))}_refinement(s){return new In({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wn.create(this,this._def)}nullable(){return fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this)}promise(){return dl.create(this,this._def)}or(s){return Lo.create([this,s],this._def)}and(s){return Fo.create(this,s,this._def)}transform(s){return new In({...rt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new Ho({...rt(this._def),innerType:this,defaultValue:r,typeName:Ye.ZodDefault})}brand(){return new pg({typeName:Ye.ZodBranded,type:this,...rt(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new Go({...rt(this._def),innerType:this,catchValue:r,typeName:Ye.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return ac.create(this,s)}readonly(){return Qo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const M3=/^c[^\s-]{8,}$/i,D3=/^[0-9a-z]+$/,P3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I3=/^[a-z0-9_-]{21}$/i,z3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,L3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rh;const V3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Q3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,e1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",K3=new RegExp(`^${e1}$`);function t1(e){let s="[0-5]\\d";e.precision?s=`${s}\\.\\d{${e.precision}}`:e.precision==null&&(s=`${s}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function Y3(e){return new RegExp(`^${t1(e)}$`)}function s1(e){let s=`${e1}T${t1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function Z3(e,s){return!!((s==="v4"||!s)&&V3.test(e)||(s==="v6"||!s)&&$3.test(e))}function X3(e,s){if(!z3.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const l=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),c=JSON.parse(atob(l));return!(typeof c!="object"||c===null||"typ"in c&&c?.typ!=="JWT"||!c.alg||s&&c.alg!==s)}catch{return!1}}function W3(e,s){return!!((s==="v4"||!s)&&q3.test(e)||(s==="v6"||!s)&&H3.test(e))}class Mn extends lt{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==Ee.string){const u=this._getOrReturnCtx(s);return Te(u,{code:be.invalid_type,expected:Ee.string,received:u.parsedType}),Ke}const l=new Rs;let c;for(const u of this._def.checks)if(u.kind==="min")s.data.length<u.value&&(c=this._getOrReturnCtx(s,c),Te(c,{code:be.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if(u.kind==="max")s.data.length>u.value&&(c=this._getOrReturnCtx(s,c),Te(c,{code:be.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if(u.kind==="length"){const f=s.data.length>u.value,m=s.data.length<u.value;(f||m)&&(c=this._getOrReturnCtx(s,c),f?Te(c,{code:be.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):m&&Te(c,{code:be.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),l.dirty())}else if(u.kind==="email")F3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"email",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="emoji")Rh||(Rh=new RegExp(U3,"u")),Rh.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"emoji",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="uuid")B3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"uuid",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="nanoid")I3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"nanoid",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="cuid")M3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"cuid",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="cuid2")D3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"cuid2",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="ulid")P3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"ulid",code:be.invalid_string,message:u.message}),l.dirty());else if(u.kind==="url")try{new URL(s.data)}catch{c=this._getOrReturnCtx(s,c),Te(c,{validation:"url",code:be.invalid_string,message:u.message}),l.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"regex",code:be.invalid_string,message:u.message}),l.dirty())):u.kind==="trim"?s.data=s.data.trim():u.kind==="includes"?s.data.includes(u.value,u.position)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),l.dirty()):u.kind==="toLowerCase"?s.data=s.data.toLowerCase():u.kind==="toUpperCase"?s.data=s.data.toUpperCase():u.kind==="startsWith"?s.data.startsWith(u.value)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:{startsWith:u.value},message:u.message}),l.dirty()):u.kind==="endsWith"?s.data.endsWith(u.value)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:{endsWith:u.value},message:u.message}),l.dirty()):u.kind==="datetime"?s1(u).test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:"datetime",message:u.message}),l.dirty()):u.kind==="date"?K3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:"date",message:u.message}),l.dirty()):u.kind==="time"?Y3(u).test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{code:be.invalid_string,validation:"time",message:u.message}),l.dirty()):u.kind==="duration"?L3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"duration",code:be.invalid_string,message:u.message}),l.dirty()):u.kind==="ip"?Z3(s.data,u.version)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"ip",code:be.invalid_string,message:u.message}),l.dirty()):u.kind==="jwt"?X3(s.data,u.alg)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"jwt",code:be.invalid_string,message:u.message}),l.dirty()):u.kind==="cidr"?W3(s.data,u.version)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"cidr",code:be.invalid_string,message:u.message}),l.dirty()):u.kind==="base64"?G3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"base64",code:be.invalid_string,message:u.message}),l.dirty()):u.kind==="base64url"?Q3.test(s.data)||(c=this._getOrReturnCtx(s,c),Te(c,{validation:"base64url",code:be.invalid_string,message:u.message}),l.dirty()):xt.assertNever(u);return{status:l.value,value:s.data}}_regex(s,r,l){return this.refinement(c=>s.test(c),{validation:r,code:be.invalid_string,...Le.errToObj(l)})}_addCheck(s){return new Mn({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Le.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Le.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Le.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Le.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Le.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Le.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Le.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Le.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Le.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Le.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Le.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Le.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Le.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...Le.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...Le.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...Le.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Le.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r?.position,...Le.errToObj(r?.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Le.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Le.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Le.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Le.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Le.errToObj(r)})}nonempty(s){return this.min(1,Le.errToObj(s))}trim(){return new Mn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Mn.create=e=>new Mn({checks:[],typeName:Ye.ZodString,coerce:e?.coerce??!1,...rt(e)});function J3(e,s){const r=(e.toString().split(".")[1]||"").length,l=(s.toString().split(".")[1]||"").length,c=r>l?r:l,u=Number.parseInt(e.toFixed(c).replace(".","")),f=Number.parseInt(s.toFixed(c).replace(".",""));return u%f/10**c}class cr extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==Ee.number){const u=this._getOrReturnCtx(s);return Te(u,{code:be.invalid_type,expected:Ee.number,received:u.parsedType}),Ke}let l;const c=new Rs;for(const u of this._def.checks)u.kind==="int"?xt.isInteger(s.data)||(l=this._getOrReturnCtx(s,l),Te(l,{code:be.invalid_type,expected:"integer",received:"float",message:u.message}),c.dirty()):u.kind==="min"?(u.inclusive?s.data<u.value:s.data<=u.value)&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?s.data>u.value:s.data>=u.value)&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="multipleOf"?J3(s.data,u.value)!==0&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):u.kind==="finite"?Number.isFinite(s.data)||(l=this._getOrReturnCtx(s,l),Te(l,{code:be.not_finite,message:u.message}),c.dirty()):xt.assertNever(u);return{status:c.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Le.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Le.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Le.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Le.toString(r))}setLimit(s,r,l,c){return new cr({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:l,message:Le.toString(c)}]})}_addCheck(s){return new cr({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Le.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Le.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Le.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&xt.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(r===null||l.value>r)&&(r=l.value):l.kind==="max"&&(s===null||l.value<s)&&(s=l.value)}return Number.isFinite(r)&&Number.isFinite(s)}}cr.create=e=>new cr({checks:[],typeName:Ye.ZodNumber,coerce:e?.coerce||!1,...rt(e)});class ur extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==Ee.bigint)return this._getInvalidInput(s);let l;const c=new Rs;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?s.data<u.value:s.data<=u.value)&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?s.data>u.value:s.data>=u.value)&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="multipleOf"?s.data%u.value!==BigInt(0)&&(l=this._getOrReturnCtx(s,l),Te(l,{code:be.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):xt.assertNever(u);return{status:c.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return Te(r,{code:be.invalid_type,expected:Ee.bigint,received:r.parsedType}),Ke}gte(s,r){return this.setLimit("min",s,!0,Le.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Le.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Le.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Le.toString(r))}setLimit(s,r,l,c){return new ur({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:l,message:Le.toString(c)}]})}_addCheck(s){return new ur({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Le.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}ur.create=e=>new ur({checks:[],typeName:Ye.ZodBigInt,coerce:e?.coerce??!1,...rt(e)});class Bo extends lt{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==Ee.boolean){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.boolean,received:l.parsedType}),Ke}return Ls(s.data)}}Bo.create=e=>new Bo({typeName:Ye.ZodBoolean,coerce:e?.coerce||!1,...rt(e)});class Zr extends lt{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==Ee.date){const u=this._getOrReturnCtx(s);return Te(u,{code:be.invalid_type,expected:Ee.date,received:u.parsedType}),Ke}if(Number.isNaN(s.data.getTime())){const u=this._getOrReturnCtx(s);return Te(u,{code:be.invalid_date}),Ke}const l=new Rs;let c;for(const u of this._def.checks)u.kind==="min"?s.data.getTime()<u.value&&(c=this._getOrReturnCtx(s,c),Te(c,{code:be.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),l.dirty()):u.kind==="max"?s.data.getTime()>u.value&&(c=this._getOrReturnCtx(s,c),Te(c,{code:be.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),l.dirty()):xt.assertNever(u);return{status:l.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Zr({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Le.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Le.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}Zr.create=e=>new Zr({checks:[],coerce:e?.coerce||!1,typeName:Ye.ZodDate,...rt(e)});class Zu extends lt{_parse(s){if(this._getType(s)!==Ee.symbol){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.symbol,received:l.parsedType}),Ke}return Ls(s.data)}}Zu.create=e=>new Zu({typeName:Ye.ZodSymbol,...rt(e)});class Io extends lt{_parse(s){if(this._getType(s)!==Ee.undefined){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.undefined,received:l.parsedType}),Ke}return Ls(s.data)}}Io.create=e=>new Io({typeName:Ye.ZodUndefined,...rt(e)});class zo extends lt{_parse(s){if(this._getType(s)!==Ee.null){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.null,received:l.parsedType}),Ke}return Ls(s.data)}}zo.create=e=>new zo({typeName:Ye.ZodNull,...rt(e)});class ul extends lt{constructor(){super(...arguments),this._any=!0}_parse(s){return Ls(s.data)}}ul.create=e=>new ul({typeName:Ye.ZodAny,...rt(e)});class Lr extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Ls(s.data)}}Lr.create=e=>new Lr({typeName:Ye.ZodUnknown,...rt(e)});class _a extends lt{_parse(s){const r=this._getOrReturnCtx(s);return Te(r,{code:be.invalid_type,expected:Ee.never,received:r.parsedType}),Ke}}_a.create=e=>new _a({typeName:Ye.ZodNever,...rt(e)});class Xu extends lt{_parse(s){if(this._getType(s)!==Ee.undefined){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.void,received:l.parsedType}),Ke}return Ls(s.data)}}Xu.create=e=>new Xu({typeName:Ye.ZodVoid,...rt(e)});class Dn extends lt{_parse(s){const{ctx:r,status:l}=this._processInputParams(s),c=this._def;if(r.parsedType!==Ee.array)return Te(r,{code:be.invalid_type,expected:Ee.array,received:r.parsedType}),Ke;if(c.exactLength!==null){const f=r.data.length>c.exactLength.value,m=r.data.length<c.exactLength.value;(f||m)&&(Te(r,{code:f?be.too_big:be.too_small,minimum:m?c.exactLength.value:void 0,maximum:f?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),l.dirty())}if(c.minLength!==null&&r.data.length<c.minLength.value&&(Te(r,{code:be.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),l.dirty()),c.maxLength!==null&&r.data.length>c.maxLength.value&&(Te(r,{code:be.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),l.dirty()),r.common.async)return Promise.all([...r.data].map((f,m)=>c.type._parseAsync(new ta(r,f,r.path,m)))).then(f=>Rs.mergeArray(l,f));const u=[...r.data].map((f,m)=>c.type._parseSync(new ta(r,f,r.path,m)));return Rs.mergeArray(l,u)}get element(){return this._def.type}min(s,r){return new Dn({...this._def,minLength:{value:s,message:Le.toString(r)}})}max(s,r){return new Dn({...this._def,maxLength:{value:s,message:Le.toString(r)}})}length(s,r){return new Dn({...this._def,exactLength:{value:s,message:Le.toString(r)}})}nonempty(s){return this.min(1,s)}}Dn.create=(e,s)=>new Dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...rt(s)});function Hi(e){if(e instanceof Ht){const s={};for(const r in e.shape){const l=e.shape[r];s[r]=Wn.create(Hi(l))}return new Ht({...e._def,shape:()=>s})}else return e instanceof Dn?new Dn({...e._def,type:Hi(e.element)}):e instanceof Wn?Wn.create(Hi(e.unwrap())):e instanceof fr?fr.create(Hi(e.unwrap())):e instanceof sa?sa.create(e.items.map(s=>Hi(s))):e}class Ht extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=xt.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==Ee.object){const p=this._getOrReturnCtx(s);return Te(p,{code:be.invalid_type,expected:Ee.object,received:p.parsedType}),Ke}const{status:l,ctx:c}=this._processInputParams(s),{shape:u,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof _a&&this._def.unknownKeys==="strip"))for(const p in c.data)f.includes(p)||m.push(p);const g=[];for(const p of f){const x=u[p],y=c.data[p];g.push({key:{status:"valid",value:p},value:x._parse(new ta(c,y,c.path,p)),alwaysSet:p in c.data})}if(this._def.catchall instanceof _a){const p=this._def.unknownKeys;if(p==="passthrough")for(const x of m)g.push({key:{status:"valid",value:x},value:{status:"valid",value:c.data[x]}});else if(p==="strict")m.length>0&&(Te(c,{code:be.unrecognized_keys,keys:m}),l.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const x of m){const y=c.data[x];g.push({key:{status:"valid",value:x},value:p._parse(new ta(c,y,c.path,x)),alwaysSet:x in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const p=[];for(const x of g){const y=await x.key,w=await x.value;p.push({key:y,value:w,alwaysSet:x.alwaysSet})}return p}).then(p=>Rs.mergeObjectSync(l,p)):Rs.mergeObjectSync(l,g)}get shape(){return this._def.shape()}strict(s){return Le.errToObj,new Ht({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,l)=>{const c=this._def.errorMap?.(r,l).message??l.defaultError;return r.code==="unrecognized_keys"?{message:Le.errToObj(s).message??c}:{message:c}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(s){return new Ht({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Ht({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:Ye.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Ht({...this._def,catchall:s})}pick(s){const r={};for(const l of xt.objectKeys(s))s[l]&&this.shape[l]&&(r[l]=this.shape[l]);return new Ht({...this._def,shape:()=>r})}omit(s){const r={};for(const l of xt.objectKeys(this.shape))s[l]||(r[l]=this.shape[l]);return new Ht({...this._def,shape:()=>r})}deepPartial(){return Hi(this)}partial(s){const r={};for(const l of xt.objectKeys(this.shape)){const c=this.shape[l];s&&!s[l]?r[l]=c:r[l]=c.optional()}return new Ht({...this._def,shape:()=>r})}required(s){const r={};for(const l of xt.objectKeys(this.shape))if(s&&!s[l])r[l]=this.shape[l];else{let u=this.shape[l];for(;u instanceof Wn;)u=u._def.innerType;r[l]=u}return new Ht({...this._def,shape:()=>r})}keyof(){return n1(xt.objectKeys(this.shape))}}Ht.create=(e,s)=>new Ht({shape:()=>e,unknownKeys:"strip",catchall:_a.create(),typeName:Ye.ZodObject,...rt(s)});Ht.strictCreate=(e,s)=>new Ht({shape:()=>e,unknownKeys:"strict",catchall:_a.create(),typeName:Ye.ZodObject,...rt(s)});Ht.lazycreate=(e,s)=>new Ht({shape:e,unknownKeys:"strip",catchall:_a.create(),typeName:Ye.ZodObject,...rt(s)});class Lo extends lt{_parse(s){const{ctx:r}=this._processInputParams(s),l=this._def.options;function c(u){for(const m of u)if(m.result.status==="valid")return m.result;for(const m of u)if(m.result.status==="dirty")return r.common.issues.push(...m.ctx.common.issues),m.result;const f=u.map(m=>new cn(m.ctx.common.issues));return Te(r,{code:be.invalid_union,unionErrors:f}),Ke}if(r.common.async)return Promise.all(l.map(async u=>{const f={...r,common:{...r.common,issues:[]},parent:null};return{result:await u._parseAsync({data:r.data,path:r.path,parent:f}),ctx:f}})).then(c);{let u;const f=[];for(const g of l){const p={...r,common:{...r.common,issues:[]},parent:null},x=g._parseSync({data:r.data,path:r.path,parent:p});if(x.status==="valid")return x;x.status==="dirty"&&!u&&(u={result:x,ctx:p}),p.common.issues.length&&f.push(p.common.issues)}if(u)return r.common.issues.push(...u.ctx.common.issues),u.result;const m=f.map(g=>new cn(g));return Te(r,{code:be.invalid_union,unionErrors:m}),Ke}}get options(){return this._def.options}}Lo.create=(e,s)=>new Lo({options:e,typeName:Ye.ZodUnion,...rt(s)});const Na=e=>e instanceof Vo?Na(e.schema):e instanceof In?Na(e.innerType()):e instanceof qo?[e.value]:e instanceof dr?e.options:e instanceof $o?xt.objectValues(e.enum):e instanceof Ho?Na(e._def.innerType):e instanceof Io?[void 0]:e instanceof zo?[null]:e instanceof Wn?[void 0,...Na(e.unwrap())]:e instanceof fr?[null,...Na(e.unwrap())]:e instanceof pg||e instanceof Qo?Na(e.unwrap()):e instanceof Go?Na(e._def.innerType):[];class Rd extends lt{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ee.object)return Te(r,{code:be.invalid_type,expected:Ee.object,received:r.parsedType}),Ke;const l=this.discriminator,c=r.data[l],u=this.optionsMap.get(c);return u?r.common.async?u._parseAsync({data:r.data,path:r.path,parent:r}):u._parseSync({data:r.data,path:r.path,parent:r}):(Te(r,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[l]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,l){const c=new Map;for(const u of r){const f=Na(u.shape[s]);if(!f.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const m of f){if(c.has(m))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(m)}`);c.set(m,u)}}return new Rd({typeName:Ye.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:c,...rt(l)})}}function xp(e,s){const r=wa(e),l=wa(s);if(e===s)return{valid:!0,data:e};if(r===Ee.object&&l===Ee.object){const c=xt.objectKeys(s),u=xt.objectKeys(e).filter(m=>c.indexOf(m)!==-1),f={...e,...s};for(const m of u){const g=xp(e[m],s[m]);if(!g.valid)return{valid:!1};f[m]=g.data}return{valid:!0,data:f}}else if(r===Ee.array&&l===Ee.array){if(e.length!==s.length)return{valid:!1};const c=[];for(let u=0;u<e.length;u++){const f=e[u],m=s[u],g=xp(f,m);if(!g.valid)return{valid:!1};c.push(g.data)}return{valid:!0,data:c}}else return r===Ee.date&&l===Ee.date&&+e==+s?{valid:!0,data:e}:{valid:!1}}class Fo extends lt{_parse(s){const{status:r,ctx:l}=this._processInputParams(s),c=(u,f)=>{if(pp(u)||pp(f))return Ke;const m=xp(u.value,f.value);return m.valid?((gp(u)||gp(f))&&r.dirty(),{status:r.value,value:m.data}):(Te(l,{code:be.invalid_intersection_types}),Ke)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([u,f])=>c(u,f)):c(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}Fo.create=(e,s,r)=>new Fo({left:e,right:s,typeName:Ye.ZodIntersection,...rt(r)});class sa extends lt{_parse(s){const{status:r,ctx:l}=this._processInputParams(s);if(l.parsedType!==Ee.array)return Te(l,{code:be.invalid_type,expected:Ee.array,received:l.parsedType}),Ke;if(l.data.length<this._def.items.length)return Te(l,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&l.data.length>this._def.items.length&&(Te(l,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const u=[...l.data].map((f,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new ta(l,f,l.path,m)):null}).filter(f=>!!f);return l.common.async?Promise.all(u).then(f=>Rs.mergeArray(r,f)):Rs.mergeArray(r,u)}get items(){return this._def.items}rest(s){return new sa({...this._def,rest:s})}}sa.create=(e,s)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sa({items:e,typeName:Ye.ZodTuple,rest:null,...rt(s)})};class Uo extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:l}=this._processInputParams(s);if(l.parsedType!==Ee.object)return Te(l,{code:be.invalid_type,expected:Ee.object,received:l.parsedType}),Ke;const c=[],u=this._def.keyType,f=this._def.valueType;for(const m in l.data)c.push({key:u._parse(new ta(l,m,l.path,m)),value:f._parse(new ta(l,l.data[m],l.path,m)),alwaysSet:m in l.data});return l.common.async?Rs.mergeObjectAsync(r,c):Rs.mergeObjectSync(r,c)}get element(){return this._def.valueType}static create(s,r,l){return r instanceof lt?new Uo({keyType:s,valueType:r,typeName:Ye.ZodRecord,...rt(l)}):new Uo({keyType:Mn.create(),valueType:s,typeName:Ye.ZodRecord,...rt(r)})}}class Wu extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:l}=this._processInputParams(s);if(l.parsedType!==Ee.map)return Te(l,{code:be.invalid_type,expected:Ee.map,received:l.parsedType}),Ke;const c=this._def.keyType,u=this._def.valueType,f=[...l.data.entries()].map(([m,g],p)=>({key:c._parse(new ta(l,m,l.path,[p,"key"])),value:u._parse(new ta(l,g,l.path,[p,"value"]))}));if(l.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of f){const p=await g.key,x=await g.value;if(p.status==="aborted"||x.status==="aborted")return Ke;(p.status==="dirty"||x.status==="dirty")&&r.dirty(),m.set(p.value,x.value)}return{status:r.value,value:m}})}else{const m=new Map;for(const g of f){const p=g.key,x=g.value;if(p.status==="aborted"||x.status==="aborted")return Ke;(p.status==="dirty"||x.status==="dirty")&&r.dirty(),m.set(p.value,x.value)}return{status:r.value,value:m}}}}Wu.create=(e,s,r)=>new Wu({valueType:s,keyType:e,typeName:Ye.ZodMap,...rt(r)});class Xr extends lt{_parse(s){const{status:r,ctx:l}=this._processInputParams(s);if(l.parsedType!==Ee.set)return Te(l,{code:be.invalid_type,expected:Ee.set,received:l.parsedType}),Ke;const c=this._def;c.minSize!==null&&l.data.size<c.minSize.value&&(Te(l,{code:be.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),r.dirty()),c.maxSize!==null&&l.data.size>c.maxSize.value&&(Te(l,{code:be.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),r.dirty());const u=this._def.valueType;function f(g){const p=new Set;for(const x of g){if(x.status==="aborted")return Ke;x.status==="dirty"&&r.dirty(),p.add(x.value)}return{status:r.value,value:p}}const m=[...l.data.values()].map((g,p)=>u._parse(new ta(l,g,l.path,p)));return l.common.async?Promise.all(m).then(g=>f(g)):f(m)}min(s,r){return new Xr({...this._def,minSize:{value:s,message:Le.toString(r)}})}max(s,r){return new Xr({...this._def,maxSize:{value:s,message:Le.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Xr.create=(e,s)=>new Xr({valueType:e,minSize:null,maxSize:null,typeName:Ye.ZodSet,...rt(s)});class nl extends lt{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ee.function)return Te(r,{code:be.invalid_type,expected:Ee.function,received:r.parsedType}),Ke;function l(m,g){return Yu({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ku(),cl].filter(p=>!!p),issueData:{code:be.invalid_arguments,argumentsError:g}})}function c(m,g){return Yu({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ku(),cl].filter(p=>!!p),issueData:{code:be.invalid_return_type,returnTypeError:g}})}const u={errorMap:r.common.contextualErrorMap},f=r.data;if(this._def.returns instanceof dl){const m=this;return Ls(async function(...g){const p=new cn([]),x=await m._def.args.parseAsync(g,u).catch(C=>{throw p.addIssue(l(g,C)),p}),y=await Reflect.apply(f,this,x);return await m._def.returns._def.type.parseAsync(y,u).catch(C=>{throw p.addIssue(c(y,C)),p})})}else{const m=this;return Ls(function(...g){const p=m._def.args.safeParse(g,u);if(!p.success)throw new cn([l(g,p.error)]);const x=Reflect.apply(f,this,p.data),y=m._def.returns.safeParse(x,u);if(!y.success)throw new cn([c(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new nl({...this._def,args:sa.create(s).rest(Lr.create())})}returns(s){return new nl({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,r,l){return new nl({args:s||sa.create([]).rest(Lr.create()),returns:r||Lr.create(),typeName:Ye.ZodFunction,...rt(l)})}}class Vo extends lt{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Vo.create=(e,s)=>new Vo({getter:e,typeName:Ye.ZodLazy,...rt(s)});class qo extends lt{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return Te(r,{received:r.data,code:be.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:s.data}}get value(){return this._def.value}}qo.create=(e,s)=>new qo({value:e,typeName:Ye.ZodLiteral,...rt(s)});function n1(e,s){return new dr({values:e,typeName:Ye.ZodEnum,...rt(s)})}class dr extends lt{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),l=this._def.values;return Te(r,{expected:xt.joinValues(l),received:r.parsedType,code:be.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),l=this._def.values;return Te(r,{received:r.data,code:be.invalid_enum_value,options:l}),Ke}return Ls(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return dr.create(s,{...this._def,...r})}exclude(s,r=this._def){return dr.create(this.options.filter(l=>!s.includes(l)),{...this._def,...r})}}dr.create=n1;class $o extends lt{_parse(s){const r=xt.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(s);if(l.parsedType!==Ee.string&&l.parsedType!==Ee.number){const c=xt.objectValues(r);return Te(l,{expected:xt.joinValues(c),received:l.parsedType,code:be.invalid_type}),Ke}if(this._cache||(this._cache=new Set(xt.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const c=xt.objectValues(r);return Te(l,{received:l.data,code:be.invalid_enum_value,options:c}),Ke}return Ls(s.data)}get enum(){return this._def.values}}$o.create=(e,s)=>new $o({values:e,typeName:Ye.ZodNativeEnum,...rt(s)});class dl extends lt{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Ee.promise&&r.common.async===!1)return Te(r,{code:be.invalid_type,expected:Ee.promise,received:r.parsedType}),Ke;const l=r.parsedType===Ee.promise?r.data:Promise.resolve(r.data);return Ls(l.then(c=>this._def.type.parseAsync(c,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dl.create=(e,s)=>new dl({type:e,typeName:Ye.ZodPromise,...rt(s)});class In extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:l}=this._processInputParams(s),c=this._def.effect||null,u={addIssue:f=>{Te(l,f),f.fatal?r.abort():r.dirty()},get path(){return l.path}};if(u.addIssue=u.addIssue.bind(u),c.type==="preprocess"){const f=c.transform(l.data,u);if(l.common.async)return Promise.resolve(f).then(async m=>{if(r.value==="aborted")return Ke;const g=await this._def.schema._parseAsync({data:m,path:l.path,parent:l});return g.status==="aborted"?Ke:g.status==="dirty"||r.value==="dirty"?Ki(g.value):g});{if(r.value==="aborted")return Ke;const m=this._def.schema._parseSync({data:f,path:l.path,parent:l});return m.status==="aborted"?Ke:m.status==="dirty"||r.value==="dirty"?Ki(m.value):m}}if(c.type==="refinement"){const f=m=>{const g=c.refinement(m,u);if(l.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return m.status==="aborted"?Ke:(m.status==="dirty"&&r.dirty(),f(m.value),{status:r.value,value:m.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>m.status==="aborted"?Ke:(m.status==="dirty"&&r.dirty(),f(m.value).then(()=>({status:r.value,value:m.value}))))}if(c.type==="transform")if(l.common.async===!1){const f=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!Yr(f))return Ke;const m=c.transform(f.value,u);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:m}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(f=>Yr(f)?Promise.resolve(c.transform(f.value,u)).then(m=>({status:r.value,value:m})):Ke);xt.assertNever(c)}}In.create=(e,s,r)=>new In({schema:e,typeName:Ye.ZodEffects,effect:s,...rt(r)});In.createWithPreprocess=(e,s,r)=>new In({schema:s,effect:{type:"preprocess",transform:e},typeName:Ye.ZodEffects,...rt(r)});class Wn extends lt{_parse(s){return this._getType(s)===Ee.undefined?Ls(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Wn.create=(e,s)=>new Wn({innerType:e,typeName:Ye.ZodOptional,...rt(s)});class fr extends lt{_parse(s){return this._getType(s)===Ee.null?Ls(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}fr.create=(e,s)=>new fr({innerType:e,typeName:Ye.ZodNullable,...rt(s)});class Ho extends lt{_parse(s){const{ctx:r}=this._processInputParams(s);let l=r.data;return r.parsedType===Ee.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ho.create=(e,s)=>new Ho({innerType:e,typeName:Ye.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...rt(s)});class Go extends lt{_parse(s){const{ctx:r}=this._processInputParams(s),l={...r,common:{...r.common,issues:[]}},c=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return Po(c)?c.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new cn(l.common.issues)},input:l.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new cn(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}Go.create=(e,s)=>new Go({innerType:e,typeName:Ye.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...rt(s)});class Ju extends lt{_parse(s){if(this._getType(s)!==Ee.nan){const l=this._getOrReturnCtx(s);return Te(l,{code:be.invalid_type,expected:Ee.nan,received:l.parsedType}),Ke}return{status:"valid",value:s.data}}}Ju.create=e=>new Ju({typeName:Ye.ZodNaN,...rt(e)});const e6=Symbol("zod_brand");class pg extends lt{_parse(s){const{ctx:r}=this._processInputParams(s),l=r.data;return this._def.type._parse({data:l,path:r.path,parent:r})}unwrap(){return this._def.type}}class ac extends lt{_parse(s){const{status:r,ctx:l}=this._processInputParams(s);if(l.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return u.status==="aborted"?Ke:u.status==="dirty"?(r.dirty(),Ki(u.value)):this._def.out._parseAsync({data:u.value,path:l.path,parent:l})})();{const c=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?Ke:c.status==="dirty"?(r.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:l.path,parent:l})}}static create(s,r){return new ac({in:s,out:r,typeName:Ye.ZodPipeline})}}class Qo extends lt{_parse(s){const r=this._def.innerType._parse(s),l=c=>(Yr(c)&&(c.value=Object.freeze(c.value)),c);return Po(r)?r.then(c=>l(c)):l(r)}unwrap(){return this._def.innerType}}Qo.create=(e,s)=>new Qo({innerType:e,typeName:Ye.ZodReadonly,...rt(s)});function aj(e,s){const r=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function gg(e,s={},r){return e?ul.create().superRefine((l,c)=>{const u=e(l);if(u instanceof Promise)return u.then(f=>{if(!f){const m=aj(s,l),g=m.fatal??r??!0;c.addIssue({code:"custom",...m,fatal:g})}});if(!u){const f=aj(s,l),m=f.fatal??r??!0;c.addIssue({code:"custom",...f,fatal:m})}}):ul.create()}const t6={object:Ht.lazycreate};var Ye;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const s6=(e,s={message:`Input not instance of ${e.name}`})=>gg(r=>r instanceof e,s),Od=Mn.create,xg=cr.create,n6=Ju.create,a6=ur.create,vg=Bo.create,r6=Zr.create,i6=Zu.create,l6=Io.create,a1=zo.create,Ko=ul.create,o6=Lr.create,c6=_a.create,u6=Xu.create,r1=Dn.create,i1=Ht.create,d6=Ht.strictCreate,yg=Lo.create,f6=Rd.create,m6=Fo.create,h6=sa.create,l1=Uo.create,p6=Wu.create,g6=Xr.create,x6=nl.create,v6=Vo.create,y6=qo.create,b6=dr.create,j6=$o.create,N6=dl.create,rj=In.create,w6=Wn.create,S6=fr.create,C6=In.createWithPreprocess,T6=ac.create,_6=()=>Od().optional(),A6=()=>xg().optional(),E6=()=>vg().optional(),k6={string:(e=>Mn.create({...e,coerce:!0})),number:(e=>cr.create({...e,coerce:!0})),boolean:(e=>Bo.create({...e,coerce:!0})),bigint:(e=>ur.create({...e,coerce:!0})),date:(e=>Zr.create({...e,coerce:!0}))},R6=Ke,O6=Object.freeze(Object.defineProperty({__proto__:null,BRAND:e6,DIRTY:Ki,EMPTY_PATH:O3,INVALID:Ke,NEVER:R6,OK:Ls,ParseStatus:Rs,Schema:lt,ZodAny:ul,ZodArray:Dn,ZodBigInt:ur,ZodBoolean:Bo,ZodBranded:pg,ZodCatch:Go,ZodDate:Zr,ZodDefault:Ho,ZodDiscriminatedUnion:Rd,ZodEffects:In,ZodEnum:dr,ZodError:cn,get ZodFirstPartyTypeKind(){return Ye},ZodFunction:nl,ZodIntersection:Fo,ZodIssueCode:be,ZodLazy:Vo,ZodLiteral:qo,ZodMap:Wu,ZodNaN:Ju,ZodNativeEnum:$o,ZodNever:_a,ZodNull:zo,ZodNullable:fr,ZodNumber:cr,ZodObject:Ht,ZodOptional:Wn,ZodParsedType:Ee,ZodPipeline:ac,ZodPromise:dl,ZodReadonly:Qo,ZodRecord:Uo,ZodSchema:lt,ZodSet:Xr,ZodString:Mn,ZodSymbol:Zu,ZodTransformer:In,ZodTuple:sa,ZodType:lt,ZodUndefined:Io,ZodUnion:Lo,ZodUnknown:Lr,ZodVoid:Xu,addIssueToContext:Te,any:Ko,array:r1,bigint:a6,boolean:vg,coerce:k6,custom:gg,date:r6,datetimeRegex:s1,defaultErrorMap:cl,discriminatedUnion:f6,effect:rj,enum:b6,function:x6,getErrorMap:Ku,getParsedType:wa,instanceof:s6,intersection:m6,isAborted:pp,isAsync:Po,isDirty:gp,isValid:Yr,late:t6,lazy:v6,literal:y6,makeIssue:Yu,map:p6,nan:n6,nativeEnum:j6,never:c6,null:a1,nullable:S6,number:xg,object:i1,get objectUtil(){return hp},oboolean:E6,onumber:A6,optional:w6,ostring:_6,pipeline:T6,preprocess:C6,promise:N6,quotelessJson:k3,record:l1,set:g6,setErrorMap:R3,strictObject:d6,string:Od,symbol:i6,transformer:rj,tuple:h6,undefined:l6,union:yg,unknown:o6,get util(){return xt},void:u6},Symbol.toStringTag,{value:"Module"})),qt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Jt(e,s){return s.includes(e.columnType)}function M6(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const D6=yg([Od(),xg(),vg(),a1()]),P6=yg([D6,l1(Ko()),r1(Ko())]),B6=gg(e=>e instanceof Buffer);function o1(e,s){const r=s?.zodInstance??O6,l=s?.coerce??{};let c;return M6(e)&&(c=e.enumValues.length?r.enum(e.enumValues):r.string()),c||(Jt(e,["PgGeometry","PgPointTuple"])?c=r.tuple([r.number(),r.number()]):Jt(e,["PgGeometryObject","PgPointObject"])?c=r.object({x:r.number(),y:r.number()}):Jt(e,["PgHalfVector","PgVector"])?(c=r.array(r.number()),c=e.dimensions?c.length(e.dimensions):c):Jt(e,["PgLine"])?c=r.tuple([r.number(),r.number(),r.number()]):Jt(e,["PgLineABC"])?c=r.object({a:r.number(),b:r.number(),c:r.number()}):Jt(e,["PgArray"])?(c=r.array(o1(e.baseColumn,r)),c=e.size?c.length(e.size):c):e.dataType==="array"?c=r.array(r.any()):e.dataType==="number"?c=I6(e,r,l):e.dataType==="bigint"?c=z6(e,r,l):e.dataType==="boolean"?c=l===!0||l.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?c=l===!0||l.date?r.coerce.date():r.date():e.dataType==="string"?c=L6(e,r,l):e.dataType==="json"?c=P6:e.dataType==="custom"?c=r.any():e.dataType==="buffer"&&(c=B6)),c||(c=r.any()),c}function I6(e,s,r){let l=e.getSQLType().includes("unsigned"),c,u,f=!1;Jt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(c=l?0:qt.INT8_MIN,u=l?qt.INT8_UNSIGNED_MAX:qt.INT8_MAX,f=!0):Jt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(c=l?0:qt.INT16_MIN,u=l?qt.INT16_UNSIGNED_MAX:qt.INT16_MAX,f=!0):Jt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(c=l?0:qt.INT24_MIN,u=l?qt.INT24_UNSIGNED_MAX:qt.INT24_MAX,f=Jt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Jt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(c=l?0:qt.INT32_MIN,u=l?qt.INT32_UNSIGNED_MAX:qt.INT32_MAX,f=!0):Jt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(c=l?0:qt.INT48_MIN,u=l?qt.INT48_UNSIGNED_MAX:qt.INT48_MAX):Jt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(l=l||Jt(e,["MySqlSerial","SingleStoreSerial"]),c=l?0:Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,f=!0):Jt(e,["MySqlYear","SingleStoreYear"])?(c=1901,u=2155,f=!0):(c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER);let m=r===!0||r?.number?s.coerce.number():s.number();return m=m.min(c).max(u),f?m.int():m}function z6(e,s,r){const l=e.getSQLType().includes("unsigned"),c=l?0n:qt.INT64_MIN,u=l?qt.INT64_UNSIGNED_MAX:qt.INT64_MAX;return(r===!0||r?.bigint?s.coerce.bigint():s.bigint()).min(c).max(u)}function L6(e,s,r){if(Jt(e,["PgUUID"]))return s.string().uuid();let l,c,u=!1;Jt(e,["PgVarchar","SQLiteText"])?l=e.length:Jt(e,["MySqlVarChar","SingleStoreVarChar"])?l=e.length??qt.INT16_UNSIGNED_MAX:Jt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?l=qt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?l=qt.INT24_UNSIGNED_MAX:e.textType==="text"?l=qt.INT16_UNSIGNED_MAX:l=qt.INT8_UNSIGNED_MAX),Jt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(l=e.length,u=!0),Jt(e,["PgBinaryVector"])&&(c=/^[01]+$/,l=e.dimensions);let f=r===!0||r?.string?s.coerce.string():s.string();return f=c?f.regex(c):f,l&&u?f.length(l):l?f.max(l):f}function c1(e){return QS(e)?CD(e):TD(e)}function u1(e,s,r,l){const c={};for(const[u,f]of Object.entries(e)){if(!xs(f,Do)&&!xs(f,Yt)&&!xs(f,Yt.Aliased)&&typeof f=="object"){const y=QS(f)||SD(f)?c1(f):f;c[u]=u1(y,s[u]??{},r,l);continue}const m=s[u];if(m!==void 0&&typeof m!="function"){c[u]=m;continue}const g=xs(f,Do)?f:void 0,p=g?o1(g,l):Ko(),x=typeof m=="function"?m(p):p;r.never(g)||(c[u]=x,g&&(r.nullable(g)&&(c[u]=c[u].nullable()),r.optional(g)&&(c[u]=c[u].optional())))}return i1(c)}const F6={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Un=(e,s)=>{const r=c1(e);return u1(r,{},F6)},U6=Fn("god_register",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),phoneNumber:Re("phone_number").notNull().unique(),tenancyName:Re("tenancy_name").notNull(),registeredAt:kt("registered_at").default(yt`CURRENT_TIMESTAMP`)}),V6=Fn("server_registry",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),serverName:Re("server_name").notNull().unique(),maxBotCount:wn("max_bot_count").notNull(),currentBotCount:wn("current_bot_count").default(0),serverStatus:Re("server_status").default("active"),serverUrl:Re("server_url"),baseUrl:Re("base_url"),sharedSecret:Re("shared_secret"),description:Re("description"),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(yt`CURRENT_TIMESTAMP`)}),q6=Fn("users",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),username:Re("username").notNull().unique(),password:Re("password").notNull(),role:Re("role").notNull().default("user"),serverName:Re("server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`)}),$6=Fn("bot_instances",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),name:Re("name").notNull(),phoneNumber:Re("phone_number"),status:Re("status").notNull().default("offline"),credentials:ol("credentials"),settings:ol("settings").default({}),autoLike:Ss("auto_like").default(!0),autoViewStatus:Ss("auto_view_status").default(!0),autoReact:Ss("auto_react").default(!0),typingMode:Re("typing_mode").default("recording"),presenceMode:Re("presence_mode").default("available"),alwaysOnline:Ss("always_online").default(!1),presenceAutoSwitch:Ss("presence_auto_switch").default(!1),chatgptEnabled:Ss("chatgpt_enabled").default(!1),lastActivity:kt("last_activity"),messagesCount:wn("messages_count").default(0),commandsCount:wn("commands_count").default(0),approvalStatus:Re("approval_status").default("pending"),isGuest:Ss("is_guest").default(!1),approvalDate:Re("approval_date"),expirationMonths:wn("expiration_months"),autoStart:Ss("auto_start").default(!0),credentialVerified:Ss("credential_verified").default(!1),credentialPhone:Re("credential_phone"),invalidReason:Re("invalid_reason"),authMessageSentAt:kt("auth_message_sent_at"),uptimeStartedAt:kt("uptime_started_at"),totalUptimeSeconds:wn("total_uptime_seconds").default(0),lastUptimeUpdate:kt("last_uptime_update"),commandPrefix:Re("command_prefix").default("."),serverName:Re("server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(yt`CURRENT_TIMESTAMP`)}),H6=Fn("commands",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),name:Re("name").notNull(),description:Re("description").notNull(),response:Re("response"),isActive:Ss("is_active").default(!0),useChatGPT:Ss("use_chatgpt").default(!1),botInstanceId:Ts("bot_instance_id"),serverName:Re("server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`)}),G6=Fn("activities",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),botInstanceId:Ts("bot_instance_id"),type:Re("type").notNull(),description:Re("description").notNull(),metadata:ol("metadata").default({}),serverName:Re("server_name").notNull(),remoteTenancy:Re("remote_tenancy"),remoteBotId:Re("remote_bot_id"),phoneNumber:Re("phone_number"),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`)}),Q6=Fn("groups",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),whatsappId:Re("whatsapp_id").notNull().unique(),name:Re("name").notNull(),description:Re("description"),participantCount:wn("participant_count").default(0),botInstanceId:Ts("bot_instance_id").notNull(),isActive:Ss("is_active").default(!0),serverName:Re("server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`)}),K6=Fn("viewed_status_ids",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),botInstanceId:Ts("bot_instance_id").notNull(),statusId:Re("status_id").notNull(),statusSender:Re("status_sender").notNull(),viewedAt:kt("viewed_at").default(yt`CURRENT_TIMESTAMP`),expiresAt:kt("expires_at").notNull(),serverName:Re("server_name").notNull()}),Y6=Fn("external_bot_connections",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),phoneNumber:Re("phone_number").notNull(),ownerJid:Re("owner_jid").notNull(),originServerName:Re("origin_server_name").notNull(),remoteBotId:Re("remote_bot_id").notNull(),sessionData:ol("session_data"),credentialsValid:Ss("credentials_valid").default(!1),lastValidation:kt("last_validation"),connectionEstablishedAt:kt("connection_established_at"),notificationSentAt:kt("notification_sent_at"),features:ol("features").default({}),tempToken:Re("temp_token"),expiresAt:kt("expires_at").notNull().default(yt`CURRENT_TIMESTAMP + INTERVAL '24 hours'`),currentServerName:Re("current_server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(yt`CURRENT_TIMESTAMP`)}),Z6=Fn("offer_management",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),offerName:Re("offer_name").notNull().default("Special Offer"),isActive:Ss("is_active").default(!1),offerConfig:Re("offer_config"),durationDays:wn("duration_days").default(0),durationMonths:wn("duration_months").default(0),startTime:kt("start_time"),endTime:kt("end_time"),serverName:Re("server_name").notNull(),description:Re("description"),autoApproval:Ss("auto_approval").default(!0),maxBots:wn("max_bots"),currentUsage:wn("current_usage").default(0),createdBy:Re("created_by").default("admin"),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(yt`CURRENT_TIMESTAMP`)}),X6=Fn("stk_push_transactions",{id:Ts("id").primaryKey().default(yt`gen_random_uuid()`),phoneNumber:Re("phone_number").notNull(),amount:Re("amount").notNull(),accountReference:Re("account_reference").notNull(),description:Re("description"),checkoutRequestId:Re("checkout_request_id"),merchantRequestId:Re("merchant_request_id"),status:Re("status").default("pending"),resultCode:Re("result_code"),resultDesc:Re("result_desc"),mpesaReceiptNumber:Re("mpesa_receipt_number"),transactionDate:Re("transaction_date"),amountPaid:Re("amount_paid"),botInstanceId:Ts("bot_instance_id"),isGuestMode:Ss("is_guest_mode").default(!0),serverName:Re("server_name").notNull(),createdAt:kt("created_at").default(yt`CURRENT_TIMESTAMP`),updatedAt:kt("updated_at").default(yt`CURRENT_TIMESTAMP`)});Un(q6).pick({username:!0,password:!0,role:!0});const W6=Un($6).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),J6=Un(H6).omit({id:!0,createdAt:!0});Un(G6).omit({id:!0,createdAt:!0});Un(Q6).omit({id:!0,createdAt:!0});Un(U6).omit({id:!0,registeredAt:!0});Un(V6).omit({id:!0,createdAt:!0,updatedAt:!0});Un(K6).omit({id:!0,viewedAt:!0});Un(Y6).omit({id:!0,createdAt:!0,updatedAt:!0});Un(X6).omit({id:!0,createdAt:!0,updatedAt:!0});Un(Z6).omit({id:!0,createdAt:!0,updatedAt:!0});const aa=v.forwardRef(({className:e,...s},r)=>n.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));aa.displayName="Textarea";var Oh="rovingFocusGroup.onEntryFocus",eB={bubbles:!1,cancelable:!0},rc="RovingFocusGroup",[vp,d1,tB]=Ep(rc),[sB,Md]=Fs(rc,[tB]),[nB,aB]=sB(rc),f1=v.forwardRef((e,s)=>n.jsx(vp.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(vp.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(rB,{...e,ref:s})})}));f1.displayName=rc;var rB=v.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,orientation:l,loop:c=!1,dir:u,currentTabStopId:f,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:x=!1,...y}=e,w=v.useRef(null),C=mt(s,w),T=Cd(u),[j,b]=Jn({prop:f,defaultProp:m??null,onChange:g,caller:rc}),[_,E]=v.useState(!1),B=Sn(p),D=d1(r),z=v.useRef(!1),[Z,$]=v.useState(0);return v.useEffect(()=>{const Y=w.current;if(Y)return Y.addEventListener(Oh,B),()=>Y.removeEventListener(Oh,B)},[B]),n.jsx(nB,{scope:r,orientation:l,dir:T,loop:c,currentTabStopId:j,onItemFocus:v.useCallback(Y=>b(Y),[b]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>$(Y=>Y+1),[]),onFocusableItemRemove:v.useCallback(()=>$(Y=>Y-1),[]),children:n.jsx(ze.div,{tabIndex:_||Z===0?-1:0,"data-orientation":l,...y,ref:C,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{z.current=!0}),onFocus:Ie(e.onFocus,Y=>{const W=!z.current;if(Y.target===Y.currentTarget&&W&&!_){const ae=new CustomEvent(Oh,eB);if(Y.currentTarget.dispatchEvent(ae),!ae.defaultPrevented){const de=D().filter(R=>R.focusable),re=de.find(R=>R.active),oe=de.find(R=>R.id===j),ie=[re,oe,...de].filter(Boolean).map(R=>R.ref.current);p1(ie,x)}}z.current=!1}),onBlur:Ie(e.onBlur,()=>E(!1))})})}),m1="RovingFocusGroupItem",h1=v.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,focusable:l=!0,active:c=!1,tabStopId:u,children:f,...m}=e,g=zs(),p=u||g,x=aB(m1,r),y=x.currentTabStopId===p,w=d1(r),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:j}=x;return v.useEffect(()=>{if(l)return C(),()=>T()},[l,C,T]),n.jsx(vp.ItemSlot,{scope:r,id:p,focusable:l,active:c,children:n.jsx(ze.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...m,ref:s,onMouseDown:Ie(e.onMouseDown,b=>{l?x.onItemFocus(p):b.preventDefault()}),onFocus:Ie(e.onFocus,()=>x.onItemFocus(p)),onKeyDown:Ie(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){x.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=oB(b,x.orientation,x.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let B=w().filter(D=>D.focusable).map(D=>D.ref.current);if(_==="last")B.reverse();else if(_==="prev"||_==="next"){_==="prev"&&B.reverse();const D=B.indexOf(b.currentTarget);B=x.loop?cB(B,D+1):B.slice(D+1)}setTimeout(()=>p1(B))}}),children:typeof f=="function"?f({isCurrentTabStop:y,hasTabStop:j!=null}):f})})});h1.displayName=m1;var iB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lB(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oB(e,s,r){const l=lB(e.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return iB[l]}function p1(e,s=!1){const r=document.activeElement;for(const l of e)if(l===r||(l.focus({preventScroll:s}),document.activeElement!==r))return}function cB(e,s){return e.map((r,l)=>e[(s+l)%e.length])}var g1=f1,x1=h1,Dd="Tabs",[uB]=Fs(Dd,[Md]),v1=Md(),[dB,bg]=uB(Dd),y1=v.forwardRef((e,s)=>{const{__scopeTabs:r,value:l,onValueChange:c,defaultValue:u,orientation:f="horizontal",dir:m,activationMode:g="automatic",...p}=e,x=Cd(m),[y,w]=Jn({prop:l,onChange:c,defaultProp:u??"",caller:Dd});return n.jsx(dB,{scope:r,baseId:zs(),value:y,onValueChange:w,orientation:f,dir:x,activationMode:g,children:n.jsx(ze.div,{dir:x,"data-orientation":f,...p,ref:s})})});y1.displayName=Dd;var b1="TabsList",j1=v.forwardRef((e,s)=>{const{__scopeTabs:r,loop:l=!0,...c}=e,u=bg(b1,r),f=v1(r);return n.jsx(g1,{asChild:!0,...f,orientation:u.orientation,dir:u.dir,loop:l,children:n.jsx(ze.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:s})})});j1.displayName=b1;var N1="TabsTrigger",w1=v.forwardRef((e,s)=>{const{__scopeTabs:r,value:l,disabled:c=!1,...u}=e,f=bg(N1,r),m=v1(r),g=T1(f.baseId,l),p=_1(f.baseId,l),x=l===f.value;return n.jsx(x1,{asChild:!0,...m,focusable:!c,active:x,children:n.jsx(ze.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:g,...u,ref:s,onMouseDown:Ie(e.onMouseDown,y=>{!c&&y.button===0&&y.ctrlKey===!1?f.onValueChange(l):y.preventDefault()}),onKeyDown:Ie(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&f.onValueChange(l)}),onFocus:Ie(e.onFocus,()=>{const y=f.activationMode!=="manual";!x&&!c&&y&&f.onValueChange(l)})})})});w1.displayName=N1;var S1="TabsContent",C1=v.forwardRef((e,s)=>{const{__scopeTabs:r,value:l,forceMount:c,children:u,...f}=e,m=bg(S1,r),g=T1(m.baseId,l),p=_1(m.baseId,l),x=l===m.value,y=v.useRef(x);return v.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),n.jsx(zn,{present:c||x,children:({present:w})=>n.jsx(ze.div,{"data-state":x?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":g,hidden:!w,id:p,tabIndex:0,...f,ref:s,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&u})})});C1.displayName=S1;function T1(e,s){return`${e}-trigger-${s}`}function _1(e,s){return`${e}-content-${s}`}var fB=y1,A1=j1,E1=w1,k1=C1;const Jr=fB,gr=v.forwardRef(({className:e,...s},r)=>n.jsx(A1,{ref:r,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));gr.displayName=A1.displayName;const Pt=v.forwardRef(({className:e,...s},r)=>n.jsx(E1,{ref:r,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Pt.displayName=E1.displayName;const Et=v.forwardRef(({className:e,...s},r)=>n.jsx(k1,{ref:r,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));Et.displayName=k1.displayName;const mB=W6.extend({credentialsFile:Ko().optional(),credentialsBase64:Od().optional()});function R1({open:e,onClose:s}){const{toast:r}=es(),l=Os(),c=v.useRef(null),[u,f]=v.useState(null),[m,g]=v.useState(""),[p,x]=v.useState("file"),y=PS({resolver:VS(mB),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),w=qe({mutationFn:async b=>{const _=new FormData;Object.entries(b).forEach(([B,D])=>{B!=="credentialsFile"&&B!=="credentialsBase64"&&_.append(B,String(D))}),p==="file"&&u&&_.append("credentials",u),p==="base64"&&m.trim()&&_.append("credentialsBase64",m.trim());const E=await fetch("/api/bot-instances",{method:"POST",body:_});if(!E.ok){const B=await E.json();throw new Error(B.message||"Failed to create bot instance")}return E.json()},onSuccess:()=>{r({title:"Bot instance created successfully"}),l.invalidateQueries({queryKey:["/api/bot-instances"]}),l.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),f(null),g(""),s()},onError:b=>{r({title:"Failed to create bot instance",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),C=b=>{const _=b.target.files?.[0];if(_){if(!_.name.endsWith(".json")){r({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(_.size<10){r({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(_.size>5*1024*1024){r({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const E=new FileReader;E.onload=B=>{try{const D=B.target?.result,z=JSON.parse(D);if(typeof z!="object"||!z||Array.isArray(z))throw new Error("Invalid credentials format");if(Object.keys(z).length===0)throw new Error("Credentials file is empty");f(_),r({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{r({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),f(null)}},E.readAsText(_)}},T=b=>{if(g(b),b.trim())try{const _=atob(b.trim()),E=JSON.parse(_);if(typeof E!="object"||!E||Array.isArray(E))throw new Error("Invalid credentials format");if(Object.keys(E).length===0)throw new Error("Credentials file is empty");r({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{r({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},j=b=>{w.mutate(b)};return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),n.jsxs("form",{onSubmit:y.handleSubmit(j),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),n.jsx(Lt,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),n.jsxs(Jr,{value:p,onValueChange:b=>x(b),className:"w-full",children:[n.jsxs(gr,{className:"grid w-full grid-cols-2",children:[n.jsx(Pt,{value:"file",children:"Upload File"}),n.jsx(Pt,{value:"base64",children:"Paste Base64"})]}),n.jsxs(Et,{value:"file",className:"mt-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>c.current?.click(),"data-testid":"dropzone-credentials",children:[n.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:n.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),n.jsx("p",{className:"text-sm text-foreground font-medium",children:u?u.name:"Click to upload creds.json"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),n.jsx("input",{ref:c,type:"file",accept:".json",onChange:C,className:"hidden","data-testid":"input-credentials-file"})]}),n.jsx(Et,{value:"base64",className:"mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(aa,{placeholder:"Paste your base64-encoded credentials here...",value:m,onChange:b=>T(b.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"autoLike",checked:y.watch("autoLike")||!1,onCheckedChange:b=>y.setValue("autoLike",b),"data-testid":"checkbox-auto-like"}),n.jsx(Ae,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:b=>y.setValue("autoViewStatus",b),"data-testid":"checkbox-auto-view-status"}),n.jsx(Ae,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"autoReact",checked:y.watch("autoReact")||!1,onCheckedChange:b=>y.setValue("autoReact",b),"data-testid":"checkbox-auto-react"}),n.jsx(Ae,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),n.jsxs(Qs,{value:y.watch("typingMode")||"none",onValueChange:b=>y.setValue("typingMode",b),children:[n.jsx(Ps,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:n.jsx(Ks,{})}),n.jsxs(Bs,{className:"bg-popover border-border",children:[n.jsx(He,{value:"none",children:"None"}),n.jsx(He,{value:"typing",children:"Always Typing"}),n.jsx(He,{value:"recording",children:"Recording Audio"}),n.jsx(He,{value:"both",children:"Both (Switch)"})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:b=>y.setValue("chatgptEnabled",b),"data-testid":"checkbox-chatgpt-enabled"}),n.jsx(Ae,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(Q,{type:"button",variant:"ghost",onClick:s,"data-testid":"button-cancel",children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:w.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:w.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const hB=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],Mh=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond('❌ Please provide a search query!');
  return;
}

await respond(\`🔍 Searching for: *\${query}*\`);
// Your custom logic here
await respond(\`✅ Results for: *\${query}*\`);`;function pB({open:e,onClose:s}){const{toast:r}=es(),l=Os(),[c,u]=v.useState({name:"",description:"",category:"CUSTOM",code:Mh}),{data:f=[],isLoading:m}=wt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),g=qe({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to create command")}return y.json()},onSuccess:()=>{r({title:"Custom command created successfully"}),l.invalidateQueries({queryKey:["/api/commands"]}),u({name:"",description:"",category:"CUSTOM",code:Mh})},onError:x=>{r({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),p=x=>{if(x.preventDefault(),!c.name||!c.description||!c.code){r({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}g.mutate(c)};return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-xl font-bold",children:"🔧 TREKKER-MD Command Management"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"Create Custom Command"}),n.jsx(at,{children:"Add custom JavaScript code that will execute when users call your command"})]}),n.jsx(xe,{children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"name",children:"Command Name *"}),n.jsx(Lt,{id:"name",placeholder:"mycommand",value:c.name,onChange:x=>u(y=>({...y,name:x.target.value})),className:"font-mono"})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"description",children:"Description *"}),n.jsx(Lt,{id:"description",placeholder:"What does this command do?",value:c.description,onChange:x=>u(y=>({...y,description:x.target.value}))})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"category",children:"Category"}),n.jsxs(Qs,{value:c.category,onValueChange:x=>u(y=>({...y,category:x})),children:[n.jsx(Ps,{children:n.jsx(Ks,{})}),n.jsx(Bs,{children:hB.map(x=>n.jsx(He,{value:x,children:x},x))})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"code",children:"Command Code *"}),n.jsx(aa,{id:"code",placeholder:"Your JavaScript code here...",value:c.code,onChange:x=>u(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),n.jsx(Q,{type:"submit",disabled:g.isPending,className:"w-full",children:g.isPending?"Creating...":"Create Command"})]})})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{children:["Existing Commands (",f.length,")"]}),n.jsx(at,{children:"All commands available in your TREKKER-MD bot"})]}),n.jsx(xe,{children:m?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):n.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:f.map(x=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),n.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),n.jsxs(ge,{children:[n.jsx(Ue,{children:n.jsx(Ve,{children:"💡 Command Example"})}),n.jsx(xe,{children:n.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:Mh})})]})]})]})]})})}var jg="Radio",[gB,O1]=Fs(jg),[xB,vB]=gB(jg),M1=v.forwardRef((e,s)=>{const{__scopeRadio:r,name:l,checked:c=!1,required:u,disabled:f,value:m="on",onCheck:g,form:p,...x}=e,[y,w]=v.useState(null),C=mt(s,b=>w(b)),T=v.useRef(!1),j=y?p||!!y.closest("form"):!0;return n.jsxs(xB,{scope:r,checked:c,disabled:f,children:[n.jsx(ze.button,{type:"button",role:"radio","aria-checked":c,"data-state":I1(c),"data-disabled":f?"":void 0,disabled:f,value:m,...x,ref:C,onClick:Ie(e.onClick,b=>{c||g?.(),j&&(T.current=b.isPropagationStopped(),T.current||b.stopPropagation())})}),j&&n.jsx(B1,{control:y,bubbles:!T.current,name:l,value:m,checked:c,required:u,disabled:f,form:p,style:{transform:"translateX(-100%)"}})]})});M1.displayName=jg;var D1="RadioIndicator",P1=v.forwardRef((e,s)=>{const{__scopeRadio:r,forceMount:l,...c}=e,u=vB(D1,r);return n.jsx(zn,{present:l||u.checked,children:n.jsx(ze.span,{"data-state":I1(u.checked),"data-disabled":u.disabled?"":void 0,...c,ref:s})})});P1.displayName=D1;var yB="RadioBubbleInput",B1=v.forwardRef(({__scopeRadio:e,control:s,checked:r,bubbles:l=!0,...c},u)=>{const f=v.useRef(null),m=mt(f,u),g=wd(r),p=md(s);return v.useEffect(()=>{const x=f.current;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(g!==r&&C){const T=new Event("click",{bubbles:l});C.call(x,r),x.dispatchEvent(T)}},[g,r,l]),n.jsx(ze.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...c,tabIndex:-1,ref:m,style:{...c.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});B1.displayName=yB;function I1(e){return e?"checked":"unchecked"}var bB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pd="RadioGroup",[jB]=Fs(Pd,[Md,O1]),z1=Md(),L1=O1(),[NB,wB]=jB(Pd),F1=v.forwardRef((e,s)=>{const{__scopeRadioGroup:r,name:l,defaultValue:c,value:u,required:f=!1,disabled:m=!1,orientation:g,dir:p,loop:x=!0,onValueChange:y,...w}=e,C=z1(r),T=Cd(p),[j,b]=Jn({prop:u,defaultProp:c??null,onChange:y,caller:Pd});return n.jsx(NB,{scope:r,name:l,required:f,disabled:m,value:j,onValueChange:b,children:n.jsx(g1,{asChild:!0,...C,orientation:g,dir:T,loop:x,children:n.jsx(ze.div,{role:"radiogroup","aria-required":f,"aria-orientation":g,"data-disabled":m?"":void 0,dir:T,...w,ref:s})})})});F1.displayName=Pd;var U1="RadioGroupItem",V1=v.forwardRef((e,s)=>{const{__scopeRadioGroup:r,disabled:l,...c}=e,u=wB(U1,r),f=u.disabled||l,m=z1(r),g=L1(r),p=v.useRef(null),x=mt(s,p),y=u.value===c.value,w=v.useRef(!1);return v.useEffect(()=>{const C=j=>{bB.includes(j.key)&&(w.current=!0)},T=()=>w.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",T)}},[]),n.jsx(x1,{asChild:!0,...m,focusable:!f,active:y,children:n.jsx(M1,{disabled:f,required:u.required,checked:y,...g,...c,name:u.name,ref:x,onCheck:()=>u.onValueChange(c.value),onKeyDown:Ie(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:Ie(c.onFocus,()=>{w.current&&p.current?.click()})})})});V1.displayName=U1;var SB="RadioGroupIndicator",q1=v.forwardRef((e,s)=>{const{__scopeRadioGroup:r,...l}=e,c=L1(r);return n.jsx(P1,{...c,...l,ref:s})});q1.displayName=SB;var $1=F1,H1=V1,CB=q1;const Ng=v.forwardRef(({className:e,...s},r)=>n.jsx($1,{className:_e("grid gap-2",e),...s,ref:r}));Ng.displayName=$1.displayName;const Yo=v.forwardRef(({className:e,...s},r)=>n.jsx(H1,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:n.jsx(CB,{className:"flex items-center justify-center",children:n.jsx(VE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Yo.displayName=H1.displayName;function G1({open:e,onClose:s,botId:r,phoneNumber:l,guestToken:c,onSuccess:u,crossTenancyMode:f=!1,targetServer:m}){const{toast:g}=es(),p=v.useRef(null),x=v.useRef(null),[y,w]=v.useState("base64"),[C,T]=v.useState(""),[j,b]=v.useState(null),[_,E]=v.useState(!1),[B,D]=v.useState(null),[z,Z]=v.useState("idle"),[$,Y]=v.useState("");v.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const W=async oe=>{if(!oe.trim()){Z("idle"),Y("");return}Z("validating"),Y("Validating credentials format...");try{const U=atob(oe.trim()),ie=JSON.parse(U);if(!ie||typeof ie!="object")throw new Error("Invalid credentials format");if(!ie.me||!ie.me.id)throw new Error("Missing essential WhatsApp session data");const R=ie.me.id.match(/^(\d+):/);if(!R)throw new Error("Unable to extract phone number from credentials");const S=R[1],O=l.replace(/[\s\-\(\)\+]/g,"");if(S!==O){Z("invalid"),Y(`⚠️ Phone number mismatch. Credentials are for ${S}, but you're updating ${l}`);return}Z("valid"),Y("✅ Credentials format is valid and phone number matches")}catch(U){Z("invalid"),U instanceof Error?Y(`❌ ${U.message}`):Y("❌ Invalid base64 credentials format")}},ae=oe=>{const U=oe.target.files?.[0];if(U){if(!U.name.endsWith(".json")){g({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}b(U)}},de=async oe=>{if(oe.preventDefault(),y==="base64"){if(!C.trim()){g({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if(z==="invalid"){g({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if(z==="validating"){g({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if(z!=="valid"&&C.trim()){g({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(y==="file"&&!j){g({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!f&&!c){g({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}E(!0);try{const U=new FormData;U.append("phoneNumber",l),U.append("action","update_credentials"),U.append("credentialType",y),f||U.append("botId",r),f&&m&&U.append("targetServer",m),y==="base64"?U.append("sessionId",C):j&&U.append("credsFile",j);const ie=f?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",R={};c&&(R.Authorization=`Bearer ${c}`);const S=await fetch(ie,{method:"POST",headers:R,body:U}),O=await S.json();S.ok?O.crossTenancy&&O.nextSteps?(D(O),g({title:"Cross-Tenancy Update Initiated!",description:O.message})):(g({title:"Success!",description:O.message}),T(""),b(null),p.current&&(p.current.value=""),u?.(),s()):g({title:"Update Failed",description:O.message||"Failed to update credentials",variant:"destructive"})}catch(U){console.error("Error updating credentials:",U),g({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{E(!1)}},re=()=>{_||(T(""),b(null),D(null),p.current&&(p.current.value=""),s())};return n.jsx(Ut,{open:e,onOpenChange:re,children:n.jsxs(Bt,{className:"max-w-md",children:[n.jsxs(It,{children:[n.jsxs(zt,{children:["🔑 ",f?"Cross-Tenancy":""," Update Bot Credentials"]}),n.jsx(Mo,{children:f?`Update credentials across servers (Target: ${m})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),B?n.jsxs("div",{className:"space-y-4",children:[n.jsx(ge,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:n.jsxs(xe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:"✅"}),n.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),n.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:B.message}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Source:"}),n.jsx("div",{className:"text-muted-foreground",children:B.sourceServer})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Target:"}),n.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:B.targetServer})]})]})]})}),n.jsx(ge,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:n.jsxs(xe,{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),n.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:B.nextSteps?.map((oe,U)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),oe]},U))})]})}),n.jsx(Q,{onClick:re,className:"w-full",children:"✨ Awesome! Got It"})]}):n.jsxs("form",{onSubmit:de,className:"space-y-4",children:[n.jsx(ge,{className:`${f?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:n.jsxs(xe,{className:"p-3",children:[n.jsxs("p",{className:`text-sm ${f?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[n.jsx("strong",{children:"📱 Phone:"})," ",l,f&&n.jsxs(n.Fragment,{children:[n.jsx("br",{}),n.jsx("strong",{children:"🌐 Target Server:"})," ",m]})]}),n.jsx("p",{className:`text-xs mt-1 ${f?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:f?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-base font-medium",children:"Choose Credential Type *"}),n.jsxs(Ng,{value:y,onValueChange:oe=>w(oe),className:"mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Yo,{value:"base64",id:"base64"}),n.jsx(Ae,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Yo,{value:"file",id:"file"}),n.jsx(Ae,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),y==="base64"?n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"sessionId",children:"Base64 Session ID *"}),n.jsx(aa,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:C,onChange:oe=>{const U=oe.target.value;T(U),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{W(U)},1e3)},className:`min-h-[100px] text-xs ${z==="valid"?"border-green-500 bg-green-50/50":z==="invalid"?"border-red-500 bg-red-50/50":z==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),$&&n.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${z==="valid"?"text-green-700 bg-green-50 border-green-200":z==="invalid"?"text-red-700 bg-red-50 border-red-200":z==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:$}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"credsFile",children:"Upload creds.json File *"}),n.jsx(Lt,{id:"credsFile",type:"file",accept:".json",onChange:ae,ref:p,required:!0}),j&&n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["✅ Selected: ",j.name]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:re,disabled:_,className:"flex-1",children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:_,className:`flex-1 ${f?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:_?"Updating...":f?"🔄 Update Cross-Tenancy":"Update Credentials"})]})]})]})})}const TB=Jo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fl=v.forwardRef(({className:e,variant:s,...r},l)=>n.jsx("div",{ref:l,role:"alert",className:_e(TB({variant:s}),e),...r}));fl.displayName="Alert";const _B=v.forwardRef(({className:e,...s},r)=>n.jsx("h5",{ref:r,className:_e("mb-1 font-medium leading-none tracking-tight",e),...s}));_B.displayName="AlertTitle";const ml=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:_e("text-sm [&_p]:leading-relaxed",e),...s}));ml.displayName="AlertDescription";function Q1({open:e,onClose:s,phoneNumber:r="",botInstanceId:l,amount:c=100,onPaymentSuccess:u}){const{toast:f}=es(),[m,g]=v.useState(r),[p,x]=v.useState("form"),[y,w]=v.useState(""),[C,T]=v.useState(null),[j,b]=v.useState(0),_=(W,ae,de)=>{const re={checkoutRequestId:W,phoneNumber:ae,amount:de.toString(),timestamp:new Date().toISOString(),status:"pending"},oe=`stkdata_${W}`;localStorage.setItem(oe,JSON.stringify(re));const U=JSON.parse(localStorage.getItem("stkdata_transactions")||"[]");U.includes(W)||(U.push(W),localStorage.setItem("stkdata_transactions",JSON.stringify(U))),console.log(`💾 Transaction data saved to localStorage: ${oe}`)},E=(W,ae,de)=>{const re=`stkdata_${W}`,U={...JSON.parse(localStorage.getItem(re)||"{}"),status:ae,lastUpdated:new Date().toISOString(),...de};localStorage.setItem(re,JSON.stringify(U)),console.log(`📝 Transaction status updated: ${W} -> ${ae}`)},B=qe({mutationFn:async W=>{const ae=await fetch("/api/guest/stkpush/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:W.phoneNumber,amount:W.amount,botInstanceId:W.botInstanceId,description:"WhatsApp Bot Approval Payment"})});if(!ae.ok){const de=await ae.json();throw new Error(de.message||"Failed to initiate payment")}return ae.json()},onSuccess:W=>{console.log("Payment initiated successfully:",W);const ae=W.checkoutRequestId||W.checkoutRequestID||W.CheckoutRequestID;if(!ae){console.error("No checkout request ID in response:",W),x("failed"),f({title:"Payment Error",description:"Invalid response from payment gateway",variant:"destructive"});return}w(ae),T({...W,checkoutRequestId:ae}),x("processing"),_(ae,m,c),localStorage.setItem("stkpush_checkout_id",ae),localStorage.setItem("stkpush_phone",m),localStorage.setItem("stkpush_amount",c.toString()),ae?.startsWith("MOCK_")||W.message?.includes("Demo")||W.message?.includes("simulated")?(f({title:"Demo Payment",description:"Payment simulation started - will auto-complete in 10 seconds"}),setTimeout(()=>{const re={...W,status:"completed",amount:c.toString(),mpesaReceiptNumber:`DEMO${Date.now()}`,transactionDate:new Date().toISOString()};x("success"),T(re),E(y,"completed",{mpesaReceiptNumber:re.mpesaReceiptNumber,transactionDate:re.transactionDate})},1e4)):(f({title:"Payment Initiated",description:"Check your phone for M-Pesa payment prompt"}),z(ae))},onError:W=>{console.error("Payment initiation failed:",W),x("failed");let ae=W.message;W.message.includes("Invalid API key")?ae="Payment system not configured. Please contact administrator (+254704897825) to enable M-Pesa payments.":W.message.includes("Phone number must be in format")?ae="Please enter a valid Safaricom number starting with 254 (e.g., 254712345678)":W.message.includes("Network error")&&(ae="Network connection failed. Please check your internet and try again."),f({title:"Payment Failed",description:ae,variant:"destructive"})}}),D=qe({mutationFn:async W=>{if(!W)throw new Error("Checkout request ID is missing");console.log("🔍 Checking transaction status for:",W);const ae=await fetch("/api/guest/stkpush/transaction-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({CheckoutRequestID:W})});if(!ae.ok){const de=await ae.json();throw console.error("Transaction status check HTTP error:",ae.status,de),new Error(de.message||"Failed to check transaction status")}return ae.json()},onSuccess:W=>{if(console.log("📊 Transaction status response:",W),W.Body&&W.Body.stkCallback){const ae=W.Body.stkCallback,de=ae.ResultCode;if(de===0){const re=ae.CallbackMetadata?.Item||[],oe={status:"completed",resultCode:de.toString(),resultDesc:ae.ResultDesc,merchantRequestId:ae.MerchantRequestID,checkoutRequestId:ae.CheckoutRequestID};for(const ie of re)switch(ie.Name){case"Amount":oe.amount=ie.Value?.toString();break;case"MpesaReceiptNumber":oe.mpesaReceiptNumber=ie.Value;break;case"TransactionDate":oe.transactionDate=ie.Value?.toString();break;case"PhoneNumber":oe.phoneNumber=ie.Value?.toString();break}console.log("✅ Payment completed successfully:",oe);const U=JSON.parse(localStorage.getItem("stkdata")||"{}");U[y]&&(U[y]={...U[y],status:"completed",completedAt:new Date().toISOString(),mpesaReceiptNumber:oe.mpesaReceiptNumber,transactionDate:oe.transactionDate},localStorage.setItem("stkdata",JSON.stringify(U))),x("success"),T(oe),E(y,"completed",oe),f({title:"Payment Successful!",description:`Payment of KSh ${oe.amount} completed successfully`}),u&&u(oe)}else{let re=ae.ResultDesc||"Payment failed";switch(de){case 1032:re="Payment cancelled by user";break;case 1037:re="Request timeout - unable to reach user";break;case 1025:re="Error occurred while sending payment request";break;case 1:re="Insufficient balance for the transaction";break;case 1019:re="Transaction has expired";break;case 1001:re="Another transaction is already in process";break}const oe={status:"failed",resultCode:de.toString(),resultDesc:re};x("failed"),E(y,"failed",oe),f({title:"Payment Failed",description:re,variant:"destructive"})}}else if(W.ResponseCode&&W.ResponseCode!=="0"){const ae={status:"failed",resultCode:W.ResponseCode,resultDesc:W.ResponseDescription||"Transaction verification failed"};x("failed"),E(y,"failed",ae),f({title:"Payment Failed",description:ae.resultDesc,variant:"destructive"})}},onError:W=>{console.error("Transaction status check failed:",W)}}),z=W=>{if(!W){console.error("Cannot start polling without checkout ID"),x("failed");return}console.log("Starting payment status polling for:",W);let ae=0;const de=setInterval(()=>{if(ae++,b(ae),ae>=40){clearInterval(de),x("failed"),f({title:"Payment Timeout",description:"Payment verification timed out. Please contact support with reference: "+W.slice(-8),variant:"destructive"});return}if(p==="success"||p==="failed"){clearInterval(de);return}D.mutate(W)},3e3);return de},Z=()=>{const W=m.replace(/[\s\-\(\)\+]/g,"");if(!W||W.length<10){f({title:"Invalid Phone Number",description:"Please enter a valid phone number",variant:"destructive"});return}let ae=W;if(W.startsWith("0")?ae="254"+W.substring(1):(W.startsWith("7")||W.startsWith("1"))&&(ae="254"+W),!/^254\d{9}$/.test(ae)){f({title:"Invalid Phone Number",description:"Please enter a valid Safaricom number (e.g., 0712345678 or 254712345678)",variant:"destructive"});return}B.mutate({phoneNumber:ae,amount:c,botInstanceId:l})},$=()=>{x("form"),b(0),w(""),T(null)},Y=()=>{b(0),x("form"),w(""),T(null),s()};return n.jsx(Ut,{open:e,onOpenChange:Y,children:n.jsxs(Bt,{className:"max-w-md",children:[n.jsx(It,{children:n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(t0,{className:"h-5 w-5 text-green-600"}),"Bot Approval Payment"]})}),p==="form"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ge,{className:"border-green-200 bg-green-50/50",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsx(Ve,{className:"text-lg text-green-800",children:"Pay to Approve Bot"}),n.jsx(at,{className:"text-green-600",children:"Complete payment to activate your WhatsApp bot"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Amount:"}),n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["KSh ",c]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Service:"}),n.jsx("div",{className:"text-sm",children:"Bot Approval"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ae,{htmlFor:"paymentPhone",className:"flex items-center gap-2",children:[n.jsx(Zi,{className:"h-4 w-4"}),"M-Pesa Phone Number"]}),n.jsx(Lt,{id:"paymentPhone","data-testid":"input-payment-phone",placeholder:"254700000000",value:m,onChange:W=>g(W.target.value.replace(/[\s\-\(\)]/g,"")),className:"text-lg"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your M-Pesa phone number to receive payment prompt"})]})]})]}),n.jsx(Q,{onClick:Z,"data-testid":"button-approve-bot",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 text-lg",disabled:B.isPending,children:B.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"mr-2 h-4 w-4 animate-spin"}),"Initiating Payment..."]}):n.jsxs(n.Fragment,{children:[n.jsx(t0,{className:"mr-2 h-4 w-4"}),"Pay KSh ",c," & Approve Bot"]})})]}),p==="processing"&&n.jsxs("div",{className:"space-y-4 text-center py-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(ko,{className:"h-8 w-8 text-blue-600 animate-spin"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Processing Payment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Check your phone for M-Pesa payment prompt and enter your PIN"}),n.jsxs(fl,{children:[n.jsx(Kh,{className:"h-4 w-4"}),n.jsxs(ml,{children:["Payment request sent to ",m,". Please complete the M-Pesa transaction on your phone."]})]})]}),n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Transaction ID:"})," ",y]}),n.jsxs("div",{children:["Status checks: ",j," / 40"]}),n.jsx("div",{className:"text-xs",children:"This will automatically update when payment is completed"})]})]}),p==="success"&&n.jsxs("div",{className:"space-y-4 text-center py-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Dp,{className:"h-8 w-8 text-green-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Payment Successful!"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Your bot has been approved and is now active"}),n.jsx(ge,{className:"border-green-200 bg-green-50",children:n.jsx(xe,{className:"pt-4",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Amount Paid:"}),n.jsxs("span",{className:"font-medium",children:["KSh ",C?.amount]})]}),C?.mpesaReceiptNumber&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Receipt:"}),n.jsx("span",{className:"font-medium",children:C.mpesaReceiptNumber})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Status:"}),n.jsx("span",{className:"font-medium text-green-600",children:"Approved"})]})]})})})]}),n.jsx(Q,{onClick:Y,className:"w-full","data-testid":"button-payment-complete",children:"Continue to Bot Management"})]}),p==="failed"&&n.jsxs("div",{className:"space-y-4 text-center py-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(Kh,{className:"h-8 w-8 text-red-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Payment Failed"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The payment could not be completed. Please try again."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{onClick:$,variant:"outline",className:"w-full","data-testid":"button-retry-payment",children:"Try Again"}),n.jsx(Q,{onClick:Y,variant:"ghost",className:"w-full",children:"Cancel"})]})]})]})})}function K1({open:e,onClose:s}){const{toast:r}=es(),[l,c]=v.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),[u,f]=v.useState(1),[m,g]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState(null),[C,T]=v.useState(null),[j,b]=v.useState(!1),[_,E]=v.useState(!1),[B,D]=v.useState(null),[z,Z]=v.useState(!1),[$,Y]=v.useState(null),[W,ae]=v.useState(null),[de,re]=v.useState(""),[oe,U]=v.useState([]),ie=async()=>{try{const M=await fetch("/api/servers/available");if(M.ok){const X=await M.json();U(X.servers||[])}else console.error("Failed to fetch available servers"),U([])}catch(M){console.error("Error fetching servers:",M),U([])}},R=qe({mutationFn:async M=>{const X=M.replace(/[\s\-\(\)\+]/g,""),Ne=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:X})});if(!Ne.ok){let Be="Failed to check phone number";try{const Ge=await Ne.json();if(Ge.registeredTo&&Ge.message)return{registered:!0,currentServer:!1,registeredTo:Ge.registeredTo,message:Ge.message,serverMismatch:!0};Be=Ge.message||Be}catch{Be=Ne.statusText||Be}throw new Error(Be)}const Ce=Ne.headers.get("content-type");if(!Ce||!Ce.includes("application/json"))throw new Error("Invalid response format from server");return Ne.json()},onSuccess:M=>{ae(M),M.registered||M.serverMismatch?M.serverMismatch||!M.currentServer&&M.registeredTo?(x({details:{registeredTo:M.registeredTo},message:M.message,registeredTo:M.registeredTo,botDetails:M.botDetails||null}),f(9)):M.currentServer&&(M.hasBot?(g(M.bot),f(8)):(ie(),f(3))):(ie(),f(3))},onError:M=>{r({title:"Phone Check Failed",description:M.message,variant:"destructive"}),f(1)}}),S=qe({mutationFn:async M=>{const X=new FormData;if(X.append("botName",M.botName),X.append("phoneNumber",M.phoneNumber),X.append("credentialType",M.credentialType),X.append("features",JSON.stringify(M.features)),M.selectedServer&&X.append("selectedServer",M.selectedServer),M.credentialType==="base64"&&M.sessionId)try{const Ce=atob(M.sessionId.trim());JSON.parse(Ce),X.append("sessionId",M.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else M.credsFile&&X.append("credsFile",M.credsFile);const Ne=await fetch("/api/guest/register-bot",{method:"POST",body:X});if(!Ne.ok){const Ce=await Ne.json();throw new Error(Ce.message||"Failed to register bot")}return Ne.json()},onSuccess:M=>{if(M.type==="existing_bot_found")g(M.botDetails),f(8),r({title:"Existing Bot Found",description:M.message||"Welcome back! You have a bot on this server."});else if(M.type==="cross_tenancy_registered")T(M),f(11),r({title:"Auto-Distributed to Available Server",description:M.message||"Your bot has been registered on an available server!"});else{const X=M.botDetails?.approvalStatus==="approved";f(7),r(X?{title:"🎉 Bot Auto-Approved!",description:"Congratulations! Your bot has been automatically approved and will be activated shortly."}:{title:"Bot registration submitted",description:M.message||"Your bot is being validated and awaiting approval..."})}},onError:M=>{const X=M.message;if(X?.includes("server")&&X?.includes("registered to")){x({message:X}),f(9);return}f(u===6?5:4),r({title:"Registration failed",description:M instanceof Error?M.message:"Unknown error",variant:"destructive"})}}),O=M=>{if(M.preventDefault(),!l.phoneNumber){r({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}f(2),R.mutate(l.phoneNumber)},le=M=>{console.log("Selected server:",M),re(M.name),c(X=>({...X,selectedServer:M.name})),f(4),b(!1)},P=()=>{if(u===4){if(l.credentialType==="base64"&&!l.sessionId){r({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(l.credentialType==="file"&&!l.credsFile){r({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}f(5)}else u===5&&se()},se=()=>{if(!l.botName){r({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const M={...l,phoneNumber:l.phoneNumber.replace(/^\+/,""),selectedServer:de||l.selectedServer};f(6),S.mutate(M)},V=M=>{const X=M.target.files?.[0];X&&c(Ne=>({...Ne,credsFile:X}))};qe({mutationFn:async({action:M,botId:X,phoneNumber:Ne})=>{const Ce=new FormData;Ce.append("phoneNumber",Ne),Ce.append("action",M),Ce.append("botId",X);const Be=await fetch("/api/guest/manage-bot",{method:"POST",body:Ce});if(!Be.ok){const Ge=await Be.json();throw new Error(Ge.message||`Failed to ${M} bot`)}return Be.json()},onSuccess:async(M,X)=>{if(r({title:"Success!",description:M.message}),D(null),X.action==="update_credentials")try{r({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(Ce=>setTimeout(Ce,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(r({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{me()},2e3))}catch(Ne){console.error("Error switching back to default server:",Ne),r({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else J()},onError:(M,X)=>{r({title:`${X.action.charAt(0).toUpperCase()+X.action.slice(1)} Failed`,description:M.message,variant:"destructive"}),D(null)}});const J=()=>{r({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},ce=()=>{c({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),f(1)},me=()=>{ce(),g(null),x(null),T(null),E(!1),D(null),s()},ye=()=>{f(M=>Math.max(M-1,1))};return n.jsxs(Ut,{open:e,onOpenChange:me,children:[n.jsxs(Bt,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-2xl font-bold text-center",children:"🚀 Register Your TREKKER-MD Bot"})}),u===1&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),n.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:"📱"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),n.jsxs("form",{onSubmit:O,className:"space-y-6",children:[n.jsxs(ge,{className:"border-l-4 border-l-blue-500",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsx(Ve,{className:"text-lg",children:"Phone Number Verification"}),n.jsx(at,{children:"Enter your WhatsApp phone number to begin registration"})]}),n.jsx(xe,{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),n.jsx(Lt,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:l.phoneNumber,onChange:M=>{const X=M.target.value.replace(/[\s\-\(\)]/g,"");c(Ne=>({...Ne,phoneNumber:X}))},onPaste:M=>{M.preventDefault();const Ne=M.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");c(Ce=>({...Ce,phoneNumber:Ne}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),n.jsx(Q,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:R.isPending,children:R.isPending?"🔍 Checking...":"🔍 Check Phone Number"})]})]}),u===2&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),n.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🔍"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),u===3&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),n.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"🌍"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),n.jsxs(ge,{className:"border-l-4 border-l-green-500",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsx(Ve,{className:"text-lg",children:"Available Servers"}),n.jsx(at,{children:"Select a server with available bot slots"})]}),n.jsx(xe,{className:"space-y-4",children:n.jsx("div",{className:"grid gap-3",children:oe.map(M=>n.jsx("div",{onClick:()=>le(M),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${M.id}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:M.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-green-600",children:[M.availableSlots," slots available"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[M.currentBots,"/",M.maxBots," bots"]})]})]})},M.id))})})]}),n.jsx(Q,{onClick:ye,variant:"outline",className:"w-full","data-testid":"button-back-step-3",children:"← Back to Phone Number"})]}),u===4&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),n.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔐"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ge,{className:"border-l-4 border-l-purple-500",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsx(Ve,{className:"text-lg",children:"Bot Information"}),n.jsx(at,{children:"Enter your bot name and choose credential type"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),n.jsx(Lt,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:l.botName,onChange:M=>c(X=>({...X,botName:M.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Choose Credential Type *"}),n.jsxs(Ng,{value:l.credentialType,onValueChange:M=>c(X=>({...X,credentialType:M})),className:"mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[n.jsx(Yo,{value:"base64",id:"base64"}),n.jsx(Ae,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[n.jsx(Yo,{value:"file",id:"file"}),n.jsx(Ae,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),l.credentialType==="base64"?n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),n.jsx(aa,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:l.sessionId,onChange:M=>c(X=>({...X,sessionId:M.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),n.jsx(Lt,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:V,required:!0,className:"mt-1"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),n.jsx(Q,{onClick:P,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features →"})]})]}),u===5&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),n.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"})]})}),n.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"⚡"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),n.jsxs(ge,{className:"border-l-4 border-l-green-500",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsx(Ve,{className:"text-lg",children:"Bot Features (Optional)"}),n.jsx(at,{children:"Select the automation features you want for your bot"})]}),n.jsx(xe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[n.jsx(ln,{id:"autoLike","data-testid":"checkbox-auto-like",checked:l.features.autoLike,onCheckedChange:M=>c(X=>({...X,features:{...X.features,autoLike:!!M}})),className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[n.jsx(ln,{id:"autoReact","data-testid":"checkbox-auto-react",checked:l.features.autoReact,onCheckedChange:M=>c(X=>({...X,features:{...X.features,autoReact:!!M}})),className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[n.jsx(ln,{id:"autoView","data-testid":"checkbox-auto-view",checked:l.features.autoView,onCheckedChange:M=>c(X=>({...X,features:{...X.features,autoView:!!M}})),className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),n.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Presence Configuration"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),n.jsxs(Qs,{value:l.features.presenceMode,onValueChange:M=>c(X=>({...X,features:{...X.features,presenceMode:M}})),children:[n.jsx(Ps,{"data-testid":"select-presence-mode",children:n.jsx(Ks,{placeholder:"Select presence mode"})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"none",children:"None - Appear as normal"}),n.jsx(He,{value:"always_online",children:"Always Online"}),n.jsx(He,{value:"always_typing",children:"Always Typing"}),n.jsx(He,{value:"always_recording",children:"Always Recording"}),n.jsx(He,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),l.features.presenceMode==="auto_switch"&&n.jsxs("div",{className:"mt-3",children:[n.jsx(Ae,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),n.jsx(Lt,{type:"number",min:"5",max:"120",value:l.features.intervalSeconds,onChange:M=>c(X=>({...X,features:{...X.features,intervalSeconds:parseInt(M.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[n.jsx(ln,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:l.features.chatGPT,onCheckedChange:M=>c(X=>({...X,features:{...X.features,chatGPT:!!M}})),className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),n.jsx(Q,{onClick:P,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"🚀 Register Bot Now"})]}),u===6&&n.jsx("div",{className:"space-y-6 pb-4",children:n.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🚀"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),u===7&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl animate-bounce",children:"🎉"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Congratulations! You have successfully claimed your bot!"}),n.jsxs("div",{className:"bg-white/80 dark:bg-green-800/30 rounded-lg p-4 mt-4",children:[n.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-300 mb-2",children:"🎁 Special Offer Active!"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-200",children:"Your bot will be auto-approved - don't contact admin!"})]})]}),n.jsxs(ge,{className:"border-l-4 border-l-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-lg text-green-700 dark:text-green-300",children:"🚀 Your Bot is Ready!"}),n.jsx(at,{className:"text-green-600 dark:text-green-400",children:"Auto-approval is in progress"})]}),n.jsxs(xe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-green-500",children:"✅"}),n.jsx("span",{className:"font-medium text-sm",children:"Registration Complete"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Bot successfully registered and validated"})]}),n.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-green-500",children:"✅"}),n.jsx("span",{className:"font-medium text-sm",children:"Auto-Approval Active"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Your bot will be approved automatically"})]}),n.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-purple-500",children:"⚡"}),n.jsx("span",{className:"font-medium text-sm",children:"No Admin Contact Needed"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special offer - instant activation"})]}),n.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-orange-500",children:"🎁"}),n.jsx("span",{className:"font-medium text-sm",children:"Free Trial Period"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enjoy all premium features"})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"🎯 What's Next?"}),n.jsxs("ul",{className:"space-y-1 text-sm text-blue-600 dark:text-blue-400",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"Your bot will automatically start within a few minutes"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"You'll receive a WhatsApp confirmation message"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"All premium TREKKER-MD features are now available"]})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 mb-2",children:"🌟 Welcome to TREKKER-MD Lifetime Bot! 🌟"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Thank you for choosing our premium WhatsApp automation platform"})]})]})]}),n.jsx(Q,{onClick:me,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg","data-testid":"button-close-success",children:"🚀 Awesome! Let's Go"})]}),u===8&&m&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),n.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',m.name,'", please verify your ownership by uploading your credentials.']})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("span",{children:"🤖"}),m.name]}),n.jsxs(at,{children:["Phone: ",m.phoneNumber]})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Status:"}),n.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${m.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Approval:"}),n.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${m.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:m.approvalStatus})]})]}),m.isApproved&&m.timeRemaining&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-green-800",children:["⏰ ",n.jsxs("strong",{children:[m.timeRemaining," days"]})," remaining until expiry"]})}),m.isExpired&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Your bot has expired. Please contact admin for renewal."})}),n.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:"🔐"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),n.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Q,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{me(),r({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:"🔍 Go to Bot Search & Verification"}),n.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),n.jsx(Q,{onClick:me,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),u===9&&p&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔄"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),n.jsxs(ge,{className:"border-l-4 border-l-amber-500",children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-lg",children:"Server Information"}),n.jsx(at,{children:"Current vs. Registered Server"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[n.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),n.jsx("p",{className:"text-lg font-bold",children:"default-server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[n.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.registeredTo}),n.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsx(Q,{onClick:async M=>{M.preventDefault(),M.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",p);try{r({title:"Switching Server",description:`Switching to ${p.registeredTo}...`}),console.log("Making server configure call...");const X=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:p.registeredTo,description:`Switched to ${p.registeredTo} for bot management`})});if(console.log("Server configure response:",X.status),!X.ok){const Be=await X.json();throw console.error("Server configure error:",Be),new Error(Be.message||"Failed to switch server")}const Ne=await X.json();console.log("Server configure result:",Ne),r({title:"Server Switched",description:`Successfully switched to ${p.registeredTo}`}),await new Promise(Be=>setTimeout(Be,1e3)),console.log("Checking registration on new server...");const Ce=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:l.phoneNumber})});if(console.log("Check registration response:",Ce.status),Ce.ok){const Be=await Ce.json();console.log("Check registration data:",Be),Be.hasBot&&Be.bot?(g(Be.bot),re(p.registeredTo),f(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),r({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const Be=await Ce.text();console.error("Check registration failed:",Be),r({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(X){console.error("Server switch error:",X),r({title:"Server Switch Failed",description:X instanceof Error?X.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"🔄 Switch to Registered Server"}),n.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",p.registeredTo]})]})}),n.jsx(Q,{variant:"outline",onClick:()=>{f(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"📱 Use Different Phone Number"}),n.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]}),n.jsx(Q,{onClick:ye,variant:"outline",className:"w-full","data-testid":"button-back-step-9",children:"← Back to Phone Number"})]}),u===11&&C&&n.jsxs("div",{className:"space-y-6 pb-4",children:[n.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:"🌍"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),n.jsxs(ge,{className:"border-l-4 border-l-purple-500",children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-lg",children:"🎯 Server Assignment"}),n.jsx(at,{children:"Your bot has been optimally placed"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[n.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),n.jsx("p",{className:"text-lg font-bold text-purple-600",children:C.assignedServer}),n.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"✅ What happens next:"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is registered on ",C.assignedServer]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 for activation"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-500 mt-0.5",children:"🔄"}),"Switch to ",C.assignedServer," to manage your bot"]})]})]})]})]}),n.jsxs(Q,{onClick:()=>{re(C.assignedServer),me()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:["🔄 Switch to ",C.assignedServer]})]}),u===7&&C&&n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl text-white",children:"🔄"})}),n.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),n.jsx("p",{className:"text-muted-foreground",children:C.message})]}),n.jsxs(ge,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[n.jsx("span",{children:"🤖"}),C.botDetails?.name]}),n.jsxs(at,{children:["Phone: ",C.botDetails?.phoneNumber]})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Original Server:"}),n.jsx("div",{className:"text-muted-foreground",children:C.originalServer})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Assigned To:"}),n.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:C.assignedServer})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Available Slots:"}),n.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[C.botDetails?.availableSlots," remaining"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Registration Type:"}),n.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),C.serverUrl&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🌐 ",n.jsx("strong",{children:"Server URL:"})," ",C.serverUrl]})})]})]}),n.jsx(ge,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:n.jsxs(xe,{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),n.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:C.nextSteps?.map((M,X)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),M]},X))})]})}),n.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[n.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:"✨ Cross-Tenancy Benefits"}),n.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),n.jsx(Q,{onClick:me,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:"🚀 Awesome! Let's Go"})]})]}),m&&n.jsx(G1,{open:_,onClose:()=>E(!1),botId:m.id,phoneNumber:m.phoneNumber,crossTenancyMode:!!p,targetServer:p?.details?.registeredTo,onSuccess:()=>{J()}}),n.jsx(Q1,{open:z,onClose:()=>Z(!1),phoneNumber:$?.phoneNumber||l.phoneNumber,botInstanceId:$?.botId,amount:100,onPaymentSuccess:M=>{console.log("Payment successful:",M),Z(!1),r({title:"Bot Approved!",description:"Your bot has been approved and activated successfully"}),setTimeout(()=>{me()},2e3)}})]})}const AB=Jo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et({className:e,variant:s,...r}){return n.jsx("div",{className:_e(AB({variant:s}),e),...r})}function EB({open:e,onClose:s}){const[r,l]=v.useState("pending"),[c,u]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null),[x,y]=v.useState("3"),[w,C]=v.useState(""),[T,j]=v.useState(""),b=Os(),{data:_=[],isLoading:E}=wt({queryKey:["/api/bots/pending"],enabled:e&&r==="pending"}),{data:B=[],isLoading:D}=wt({queryKey:["/api/bots/approved"],enabled:e&&r==="approved"}),z=qe({mutationFn:async({botId:R,duration:S})=>(await Mt("POST",`/api/bots/${R}/approve`,{expirationMonths:S})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),b.invalidateQueries({queryKey:["/api/bots/approved"]}),u(!1),p(null)}}),Z=qe({mutationFn:async({botId:R,reason:S})=>(await Mt("POST",`/api/bots/${R}/reject`,{reason:S})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),j("")}}),$=qe({mutationFn:async({botId:R,message:S})=>(await Mt("POST",`/api/admin/send-message/${R}`,{message:S})).json(),onSuccess:()=>{m(!1),C(""),p(null)}}),Y=R=>{p(R),u(!0)},W=()=>{g&&x&&z.mutate({botId:g.id,duration:parseInt(x)})},ae=(R,S)=>{Z.mutate({botId:R.id,reason:S})},de=R=>{p(R),m(!0)},re=()=>{g&&w.trim()&&$.mutate({botId:g.id,message:w})},oe=R=>new Date(R).toLocaleDateString(),U=(R,S)=>{const O=new Date(R);return O.setMonth(O.getMonth()+S),O.toLocaleDateString()},ie=(R,S)=>{const O=new Date(R);return O.setMonth(O.getMonth()+S),(O.getTime()-Date.now())/(1e3*60*60*24)<=7};return n.jsxs(n.Fragment,{children:[n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-xl font-bold",children:"🔧 Admin Bot Management"})}),n.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[n.jsxs("button",{onClick:()=>l("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${r==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["🔄 Pending Bots (",_.length,")"]}),n.jsxs("button",{onClick:()=>l("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${r==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["✅ Approved Bots (",B.length,")"]})]}),r==="pending"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),E?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):_.length===0?n.jsx(ge,{children:n.jsx(xe,{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):n.jsx("div",{className:"grid gap-4",children:_.map(R=>n.jsx(ge,{className:"border-orange-200",children:n.jsx(xe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-clock text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:R.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",R.phoneNumber||"No phone number"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",oe(R.createdAt)]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(et,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Q,{size:"sm",onClick:()=>Y(R),className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const S=prompt("Rejection reason:");S&&ae(R,S)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[n.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},R.id))})]}),r==="approved"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),D?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):B.length===0?n.jsx(ge,{children:n.jsx(xe,{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):n.jsx("div",{className:"grid gap-4",children:B.map(R=>n.jsx(ge,{className:"border-green-200",children:n.jsx(xe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-check-circle text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:R.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",R.phoneNumber||"No phone number"]}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:["✅ Approved: ",oe(R.approvalDate)]}),n.jsxs("span",{children:["⏰ Expires: ",U(R.approvalDate,R.expirationMonths)]}),n.jsxs("span",{children:["📅 Duration: ",R.expirationMonths," months"]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(et,{variant:R.status==="online"?"default":"secondary",className:R.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:R.status==="online"?"🟢 Online":"⚪ Offline"}),ie(R.approvalDate,R.expirationMonths)&&n.jsx(et,{variant:"destructive",className:"text-red-600 bg-red-100",children:"⚠️ Expiring Soon"}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>de(R),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[n.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},R.id))})]})]})}),n.jsx(Ut,{open:c,onOpenChange:u,children:n.jsxs(Bt,{children:[n.jsx(It,{children:n.jsx(zt,{children:"✅ Approve Bot Registration"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:"Bot Name"}),n.jsx("p",{className:"font-medium",children:g?.name})]}),n.jsxs("div",{children:[n.jsx(Ae,{children:"Phone Number"}),n.jsx("p",{className:"font-medium",children:g?.phoneNumber})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"duration",children:"Approval Duration *"}),n.jsxs(Qs,{value:x,onValueChange:y,children:[n.jsx(Ps,{children:n.jsx(Ks,{})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"1",children:"1 Month"}),n.jsx(He,{value:"2",children:"2 Months"}),n.jsx(He,{value:"3",children:"3 Months"}),n.jsx(He,{value:"6",children:"6 Months"}),n.jsx(He,{value:"12",children:"12 Months"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{onClick:W,disabled:z.isPending,className:"bg-green-600 hover:bg-green-700",children:z.isPending?"Approving...":"Approve Bot"}),n.jsx(Q,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]})}),n.jsx(Ut,{open:f,onOpenChange:m,children:n.jsxs(Bt,{children:[n.jsx(It,{children:n.jsx(zt,{children:"📱 Send Message to Bot User"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:"Bot"}),n.jsxs("p",{className:"font-medium",children:[g?.name," (",g?.phoneNumber,")"]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"message",children:"Message *"}),n.jsx(aa,{id:"message",value:w,onChange:R=>C(R.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{onClick:re,disabled:$.isPending||!w.trim(),className:"bg-blue-600 hover:bg-blue-700",children:$.isPending?"Sending...":"Send Message"}),n.jsx(Q,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})})]})}function kB(){const{isAdmin:e}=tc(),{toast:s}=es(),[r,l]=v.useState(!1),[c,u]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(!1),[x,y]=v.useState(!1),[w,C]=v.useState(null),[T,j]=v.useState(null),[b,_]=v.useState(!1),[E,B]=v.useState(new Date),{data:D={},isLoading:z}=wt({queryKey:["/api/dashboard/stats"]}),{data:Z={},isLoading:$}=wt({queryKey:["/api/server/info"]}),{data:Y=[],isLoading:W}=wt({queryKey:["/api/bot-instances"],enabled:e}),{data:ae=[],isLoading:de}=wt({queryKey:["/api/bots/pending"],enabled:e}),{data:re=[],isLoading:oe}=wt({queryKey:["/api/bots/approved"],enabled:e}),{data:U=[],isLoading:ie}=wt({queryKey:["/api/activities"]}),{data:R=[],isLoading:S}=wt({queryKey:["/api/commands"],enabled:e}),{data:O,isLoading:le}=wt({queryKey:["/api/offer/current"],refetchInterval:1e3}),{data:P=[],isLoading:se}=wt({queryKey:["/api/admin/god-registry"],enabled:e});qw();const V=qe({mutationFn:({id:M,expirationMonths:X})=>Mt("POST",`/api/bots/${M}/approve`,{expirationMonths:X}),onSuccess:()=>{s({title:"Bot approved successfully!"}),ks.invalidateQueries({queryKey:["/api/bots/pending"]}),ks.invalidateQueries({queryKey:["/api/bots/approved"]}),ks.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{s({title:"Failed to approve bot",variant:"destructive"})}}),J=qe({mutationFn:M=>Mt("POST",`/api/bots/${M}/reject`),onSuccess:()=>{s({title:"Bot rejected and removed"}),ks.invalidateQueries({queryKey:["/api/bots/pending"]}),ks.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{s({title:"Failed to reject bot",variant:"destructive"})}}),ce=qe({mutationFn:({botId:M,feature:X,enabled:Ne})=>Mt("POST",`/api/bot-instances/${M}/toggle-feature`,{feature:X,enabled:Ne}),onSuccess:()=>{s({title:"Feature updated successfully!"}),ks.invalidateQueries({queryKey:["/api/bots/approved"]}),ks.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{s({title:"Failed to update feature",variant:"destructive"})}});qe({mutationFn:M=>Mt("POST",`/api/bot-instances/${M}/revoke`),onSuccess:()=>{s({title:"Bot approval revoked",description:"Bot returned to pending status"}),ks.invalidateQueries({queryKey:["/api/bots/approved"]}),ks.invalidateQueries({queryKey:["/api/bots/pending"]}),ks.invalidateQueries({queryKey:["/api/bot-instances"]}),ks.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{s({title:"Failed to revoke approval",variant:"destructive"})}}),qe({mutationFn:M=>Mt("POST",`/api/bot-instances/${M}/restart`),onSuccess:()=>{s({title:"Bot restarted successfully"}),ks.invalidateQueries({queryKey:["/api/bots/approved"]}),ks.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{s({title:"Failed to restart bot",variant:"destructive"})}});const me=qe({mutationFn:({phoneNumber:M,tenancyName:X})=>Mt("PUT",`/api/admin/god-registry/${encodeURIComponent(M)}`,{tenancyName:X}),onSuccess:()=>{s({title:"Registration updated successfully!"}),ks.invalidateQueries({queryKey:["/api/admin/god-registry"]}),j(null)},onError:()=>{s({title:"Failed to update registration",variant:"destructive"})}}),ye=qe({mutationFn:M=>Mt("DELETE",`/api/admin/god-registry/${encodeURIComponent(M)}`),onSuccess:()=>{s({title:"Registration deleted successfully!"}),ks.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{s({title:"Failed to delete registration",variant:"destructive"})}});return v.useEffect(()=>{const M=setInterval(()=>{B(new Date)},1e3);return()=>clearInterval(M)},[]),v.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),n.jsxs("div",{children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["🤖 ",Z.serverName||"TREKKER-MD"," Dashboard"]})}),n.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",Z.serverName&&n.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[Z.currentBots,"/",Z.maxBots," slots used"]}),!Z.hasSecretConfig&&Z.serverName==="default-server"&&n.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"⚠️ Default server name - Configure recommended"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[e&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"🔧 Manage Commands"}),n.jsx(Q,{onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"👥 Manage Bots"}),n.jsx(Q,{onClick:()=>y(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📱 God Registry"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:n.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),n.jsxs("div",{className:"p-6",children:[e&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ge,{className:"bg-card border-border",children:n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Bots"}),n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-total-bots",children:z||W?"...":D?.totalBots||0})]}),n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-robot text-primary text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsxs("span",{className:"text-green-400 text-sm",children:["+",D?.activeBots||0]}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"instances"})]})]})}),n.jsx(ge,{className:"bg-card border-border",children:n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm",children:"Active Bots"}),n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-active-bots",children:z||W?"...":D?.activeBots||0})]}),n.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-check-circle text-green-400 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsxs("span",{className:"text-green-400 text-sm",children:[D?.totalBots?Math.round(D.activeBots/D.totalBots*100):0,"%"]}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"uptime"})]})]})}),n.jsx(ge,{className:"bg-card border-border",children:n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm",children:"Messages Today"}),n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-messages",children:z?"...":D?.messagesCount||0})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-comment text-blue-400 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsx("span",{className:"text-green-400 text-sm",children:"+12.5%"}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"vs yesterday"})]})]})}),n.jsx(ge,{className:"bg-card border-border",children:n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm",children:"Commands Executed"}),n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-commands",children:z?"...":D?.commandsCount||0})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-terminal text-purple-400 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsx("span",{className:"text-green-400 text-sm",children:"+8.2%"}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"from last hour"})]})]})})]}),!le&&O?.isActive&&n.jsx(ge,{className:"bg-gradient-to-r from-green-600 to-emerald-600 border-none mb-6 text-white",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🎁 SPECIAL OFFER ACTIVE!"}),n.jsxs("p",{className:"text-green-100 mb-4",children:[O.offer?.name," - Limited Time Only!"]}),O.offer?.endTime&&(()=>{const X=new Date(O.offer.endTime).getTime()-E.getTime();if(X<=0)return n.jsx("div",{className:"bg-white/20 rounded-lg p-4 text-center",children:n.jsx("p",{className:"text-lg font-bold text-red-200",children:"Offer Expired"})});const Ne=Math.floor(X/(1e3*60*60*24)),Ce=Math.floor(X%(1e3*60*60*24)/(1e3*60*60)),Be=Math.floor(X%(1e3*60*60)/(1e3*60)),Ge=Math.floor(X%(1e3*60)/1e3);return n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Ne}),n.jsx("div",{className:"text-sm text-green-100",children:"Days"})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Ce}),n.jsx("div",{className:"text-sm text-green-100",children:"Hours"})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Be}),n.jsx("div",{className:"text-sm text-green-100",children:"Minutes"})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Ge}),n.jsx("div",{className:"text-sm text-green-100",children:"Seconds"})]})]})})(),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold text-lg",children:"🚀 Register now and get instant approval!"}),n.jsxs("p",{className:"text-sm text-green-100 mt-1",children:["All bots registered during this offer period will be automatically approved for ",O.offer?.durationMonths," month",O.offer?.durationMonths!==1?"s":"","!"]})]})]})})}),!e&&n.jsx(ge,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 mb-6",children:n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"🚀 Get Your Bot Running in 3 Easy Steps"}),n.jsx("p",{className:"text-muted-foreground",children:"Follow these simple steps to get your TREKKER-MD bot up and running"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"1"}),n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Generate Session ID"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get fresh WhatsApp credentials for your bot"}),n.jsxs(Q,{onClick:()=>window.open("https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/","_blank"),variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-50","data-testid":"dashboard-generate-session",children:[n.jsx("i",{className:"fas fa-key mr-2"}),"Generate Session ID"]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"2"}),n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Register Your Bot"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload credentials and register your bot instance"}),n.jsxs(Q,{onClick:()=>m(!0),className:"w-full bg-green-600 hover:bg-green-700 text-white","data-testid":"dashboard-register-bot",children:[n.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"3"}),n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Pay & Approve"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete payment for instant bot approval"}),n.jsxs(Q,{onClick:()=>_(!0),className:"w-full bg-purple-600 hover:bg-purple-700 text-white","data-testid":"dashboard-pay-approve",children:[n.jsx("i",{className:"fas fa-credit-card mr-2"}),"Pay & Approve Bot"]})]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(Pu,{href:"/guest/bot-management",children:n.jsxs(Q,{variant:"outline",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white border-none hover:from-blue-700 hover:to-purple-700",children:[n.jsx("i",{className:"fas fa-robot mr-2"}),"Manage My Bots"]})})})]})}),e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ge,{className:"bg-card border-border",children:[n.jsxs(Ue,{className:"border-b border-border",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:"⏳ Pending Bot Registrations"}),n.jsx(Q,{onClick:()=>u(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"🔧 Manage Commands"})]}),n.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),n.jsx(xe,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:de?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):ae.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):ae.map(M=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${M.id}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-clock text-yellow-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:M.phoneNumber||"No phone number"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(M.createdAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{size:"sm",onClick:()=>V.mutate({id:M.id,expirationMonths:12}),disabled:V.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${M.id}`,children:"✅ Approve"}),n.jsx(Q,{size:"sm",onClick:()=>J.mutate(M.id),disabled:J.isPending,variant:"destructive","data-testid":`button-reject-${M.id}`,children:"❌ Reject"})]})]},M.id))})})]}),e&&n.jsxs(ge,{className:"bg-card border-border",children:[n.jsxs(Ue,{className:"border-b border-border",children:[n.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:"✅ Approved Bot Instances"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),n.jsx(xe,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:oe?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):re.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):re.map(M=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${M.id}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-robot text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:M.phoneNumber||"No phone number"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500",children:"APPROVED"}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:M.status?.toUpperCase()||"UNKNOWN"})]})]},M.id))})})]})]}):n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs(ge,{className:"bg-card border-border",children:[n.jsxs(Ue,{className:"border-b border-border",children:[n.jsx(Ve,{className:"text-lg font-semibold text-foreground",children:"📊 Your Bot Status"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Overview of your registered bots and their current status"})]}),n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:n.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Bots Registered Yet"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Use the steps above to get your first TREKKER-MD bot running"}),n.jsx(Pu,{href:"/guest/bot-management",children:n.jsxs(Q,{className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-view-bots",children:[n.jsx("i",{className:"fas fa-eye mr-2"}),"View My Bots"]})})]})})]})}),n.jsx(ge,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mt-8 text-white",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🚀 TREKKER-MD LIFETIME BOT"}),n.jsx("p",{className:"text-blue-100 mb-4",children:"Ultra fast WhatsApp automation - No expiry, Lifetime access"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-sm",children:[n.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("i",{className:"fab fa-telegram text-xl"})}),n.jsx("p",{className:"font-medium",children:"Telegram"}),n.jsx("p",{className:"text-xs text-blue-100",children:"@trekkermd_"})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("i",{className:"fab fa-whatsapp text-xl"})}),n.jsx("p",{className:"font-medium",children:"WhatsApp"}),n.jsx("p",{className:"text-xs text-blue-100",children:"+254704897825"})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("i",{className:"fab fa-instagram text-xl"})}),n.jsx("p",{className:"font-medium",children:"Instagram"}),n.jsx("p",{className:"text-xs text-blue-100",children:"@nicholaso_tesla"})]})]}),n.jsx("p",{className:"text-xs text-blue-200 mt-4",children:e?"Admin access - Full system control":"Upload base64 credentials to deploy your bot instantly"})]})})})]}),n.jsx(R1,{open:r,onClose:()=>l(!1)}),n.jsx(pB,{open:c,onClose:()=>u(!1)}),n.jsx(K1,{open:f,onClose:()=>m(!1)}),e&&n.jsx(EB,{open:g,onClose:()=>p(!1)}),n.jsx(Q1,{open:b,onClose:()=>_(!1)}),w&&n.jsx(Ut,{open:!!w,onOpenChange:()=>C(null),children:n.jsxs(Bt,{className:"max-w-md",children:[n.jsx(It,{children:n.jsxs(zt,{className:"text-lg font-semibold",children:["Manage Bot Features - ",w.name]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),n.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(M=>{const X=w.settings?.features?.[M.key]||!1;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{className:"text-sm font-medium",children:M.label}),n.jsx("p",{className:"text-xs text-muted-foreground",children:M.description})]}),n.jsx(ln,{checked:X,onCheckedChange:Ne=>{ce.mutate({botId:w.id,feature:M.key,enabled:!!Ne}),C(Ce=>Ce?{...Ce,settings:{...Ce.settings,features:{...Ce.settings?.features,[M.key]:!!Ne}}}:null)},disabled:ce.isPending})]},M.key)})}),n.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:n.jsx(Q,{variant:"outline",onClick:()=>C(null),children:"Close"})})]})]})}),x&&n.jsx(Ut,{open:x,onOpenChange:()=>y(!1),children:n.jsxs(Bt,{className:"max-w-4xl",children:[n.jsxs(It,{children:[n.jsx(zt,{children:"📱 God Registry Management"}),n.jsx(Mo,{children:"Manage global phone number registrations across all tenants"})]}),n.jsx("div",{className:"space-y-4",children:se?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):P.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):n.jsx("div",{className:"space-y-2",children:P.map(M=>n.jsx("div",{className:"border border-border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-foreground",children:["📱 ",M.phoneNumber]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",M.tenancyName]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(M.registeredAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{variant:"outline",size:"sm",onClick:()=>j(M),"data-testid":`button-edit-${M.phoneNumber}`,children:"✏️ Edit"}),n.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${M.phoneNumber}?`)&&ye.mutate(M.phoneNumber)},disabled:ye.isPending,"data-testid":`button-delete-${M.phoneNumber}`,children:ye.isPending?"...":"🗑️ Delete"})]})]})},M.phoneNumber))})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Q,{onClick:()=>y(!1),children:"Close"})})]})}),T&&n.jsx(Ut,{open:!!T,onOpenChange:()=>j(null),children:n.jsxs(Bt,{children:[n.jsxs(It,{children:[n.jsx(zt,{children:"✏️ Edit Registration"}),n.jsxs(Mo,{children:["Update the tenant assignment for ",T.phoneNumber]})]}),n.jsxs("form",{onSubmit:M=>{M.preventDefault();const Ne=new FormData(M.currentTarget).get("tenancyName");Ne.trim()&&me.mutate({phoneNumber:T.phoneNumber,tenancyName:Ne.trim()})},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",value:T.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),n.jsx("input",{type:"text",name:"tenancyName",defaultValue:T.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:()=>j(null),children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:me.isPending,"data-testid":"button-update-registration",children:me.isPending?"Updating...":"Update"})]})]})]})})]})}var RB="Separator",ij="horizontal",OB=["horizontal","vertical"],Y1=v.forwardRef((e,s)=>{const{decorative:r,orientation:l=ij,...c}=e,u=MB(l)?l:ij,m=r?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return n.jsx(ze.div,{"data-orientation":u,...m,...c,ref:s})});Y1.displayName=RB;function MB(e){return OB.includes(e)}var Z1=Y1;const ed=v.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...l},c)=>n.jsx(Z1,{ref:c,decorative:r,orientation:s,className:_e("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...l}));ed.displayName=Z1.displayName;function DB({bot:e,isOpen:s,onClose:r}){const{toast:l}=es(),c=Os(),[u,f]=v.useState(()=>({autoLike:e.autoLike||!1,autoReact:e.autoReact||!1,autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),m=qe({mutationFn:({feature:C,enabled:T})=>Mt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:C,enabled:T}),onSuccess:(C,{feature:T,enabled:j})=>{f(b=>({...b,[T]:j})),c.invalidateQueries({queryKey:["/api/bots/pending"]}),c.invalidateQueries({queryKey:["/api/bots/approved"]}),c.invalidateQueries({queryKey:["/api/bot-instances"]}),l({title:"Feature updated successfully"})},onError:C=>{l({title:"Failed to update feature",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),g=(C,T)=>{m.mutate({feature:C,enabled:T})},p=[{id:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates",apiKey:"autoLike",getValue:()=>u.autoLike},{id:"autoReact",label:"Auto React",description:"Automatically react to messages",apiKey:"autoReact",getValue:()=>u.autoReact},{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>u.autoView}],x=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>u.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>u.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>u.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>u.presenceAutoSwitch}],y=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>u.chatGPT}],w=(C,T)=>n.jsxs("div",{className:"space-y-3","data-testid":`section-${C.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx("h4",{className:"font-medium text-sm text-foreground",children:C}),n.jsx("div",{className:"space-y-3",children:T.map(j=>n.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${j.id}`,children:[n.jsx(ln,{id:j.id,checked:j.getValue(e),onCheckedChange:b=>g(j.apiKey,!!b),disabled:m.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${j.id}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{htmlFor:j.id,className:"text-sm font-medium cursor-pointer",children:j.label}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.description})]})]},j.id))})]});return n.jsx(Ut,{open:s,onOpenChange:r,children:n.jsxs(Bt,{className:"max-w-md","data-testid":"modal-bot-features",children:[n.jsx(It,{children:n.jsxs(zt,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),n.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Bot must be approved before features can be managed"})}),w("Automation",p),n.jsx(ed,{}),w("Presence",x),n.jsx(ed,{}),w("AI Integration",y),n.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:n.jsx(Q,{variant:"outline",onClick:r,"data-testid":"button-close",children:"Close"})})]})]})})}function PB(e){if(!e||e.length<8)return e;const s=e.slice(0,7),r=e.slice(-2),l="*".repeat(Math.max(0,e.length-9));return`${s}${l}${r}`}function lj({bot:e}){const{toast:s}=es(),r=Os(),{isAdmin:l,token:c}=tc(),[u,f]=v.useState(!1),m=qe({mutationFn:({feature:j,enabled:b})=>Mt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:j,enabled:b}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]}),s({title:"Feature updated successfully"})},onError:j=>{s({title:"Failed to update feature",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),g=qe({mutationFn:()=>Mt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]}),s({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:j=>{s({title:"Failed to approve bot",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),p=qe({mutationFn:()=>Mt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]}),s({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:j=>{s({title:"Failed to revoke approval",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),x=qe({mutationFn:()=>{if(!l)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to start bot");return j.json()})},onSuccess:()=>{s({title:"Bot started successfully"}),r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{s({title:"Failed to start bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=qe({mutationFn:()=>{if(!l)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to stop bot");return j.json()})},onSuccess:()=>{s({title:"Bot stopped successfully"}),r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{s({title:"Failed to stop bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),w=qe({mutationFn:()=>{if(!l)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to restart bot");return j.json()})},onSuccess:()=>{s({title:"Bot restarted successfully"}),r.invalidateQueries({queryKey:["/api/bots/pending"]}),r.invalidateQueries({queryKey:["/api/bots/approved"]}),r.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{s({title:"Failed to restart bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),C=j=>{switch(j){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},T=()=>l?e.status==="online"?n.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:y.isPending?"Stopping...":"Stop"}):e.status==="error"?n.jsx("button",{onClick:()=>w.mutate(),disabled:w.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:w.isPending?"Restarting...":"Restart"}):n.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:x.isPending?"Starting...":"Start"}):n.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:"🔒 Admin Only"});return n.jsxs(ge,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[n.jsxs(xe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:n.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?l?e.phoneNumber:PB(e.phoneNumber):"Not connected"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${C(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),n.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:n.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"⏳ Awaiting Approval"}),n.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),n.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:g.isPending?"⏳":"✅ Approve"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),n.jsx("button",{onClick:()=>m.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),n.jsx("button",{onClick:()=>m.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),n.jsx("button",{onClick:()=>m.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),n.jsx("button",{onClick:()=>m.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Typing"}),n.jsx("button",{onClick:()=>m.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:m.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&n.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[T(),l&&n.jsxs(n.Fragment,{children:[e.approvalStatus==="pending"&&n.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:g.isPending?"Approving...":"✓ Approve"}),e.approvalStatus==="approved"&&n.jsx("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:p.isPending?"Revoking...":"↓ Normal"})]}),n.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:n.jsx("i",{className:"fas fa-chart-line"})}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[n.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),n.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:n.jsx("i",{className:"fas fa-cog"})})]})]}),n.jsx(DB,{bot:e,isOpen:u,onClose:()=>f(!1)})]})}function BB(){const[e,s]=v.useState(!1),[r,l]=v.useState("pending"),{data:c=[],isLoading:u}=wt({queryKey:["/api/bots/pending"]}),{data:f=[],isLoading:m}=wt({queryKey:["/api/bots/approved"]}),g=c||[],p=f||[];return qw(),n.jsxs("div",{children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),n.jsxs(Q,{onClick:()=>s(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[n.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs(Jr,{value:r,onValueChange:x=>l(x),children:[n.jsxs(gr,{className:"grid w-full grid-cols-2",children:[n.jsx(Pt,{value:"pending",className:"relative","data-testid":"tab-pending",children:n.jsxs("span",{className:"flex items-center gap-2",children:["⏳ Pending Approval",g.length>0&&n.jsx(et,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:g.length})]})}),n.jsx(Pt,{value:"approved",className:"relative","data-testid":"tab-approved",children:n.jsxs("span",{className:"flex items-center gap-2",children:["✅ Approved Bots",p.length>0&&n.jsx(et,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:p.length})]})})]}),n.jsxs(Et,{value:"pending",className:"mt-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),u?n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>n.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-24"}),n.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-3 bg-muted rounded"}),n.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:n.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),n.jsx(Q,{onClick:()=>s(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>n.jsx(lj,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),n.jsxs(Et,{value:"approved",className:"mt-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),m?n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>n.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-24"}),n.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-3 bg-muted rounded"}),n.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):p.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:n.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),n.jsx(Q,{onClick:()=>l("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),n.jsx(Q,{onClick:()=>s(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(x=>n.jsx(lj,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),n.jsx(R1,{open:e,onClose:()=>s(!1)})]})}const IB=J6;function zB(){const{toast:e}=es(),s=Os(),[r,l]=v.useState(!1),[c,u]=v.useState("all"),{data:f=[],isLoading:m}=wt({queryKey:["/api/commands"]}),{data:g=[]}=wt({queryKey:["/api/bot-instances"]}),p=PS({resolver:VS(IB),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=qe({mutationFn:b=>Mt("POST","/api/commands",b),onSuccess:()=>{e({title:"Command created successfully"}),s.invalidateQueries({queryKey:["/api/commands"]}),p.reset(),l(!1)},onError:b=>{e({title:"Failed to create command",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),y=qe({mutationFn:({id:b,isActive:_})=>Mt("PATCH",`/api/commands/${b}`,{isActive:_}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/commands"]})}}),w=qe({mutationFn:()=>Mt("POST","/api/commands/sync"),onSuccess:b=>{e({title:"Commands synced successfully",description:`${b.addedCount} new commands added`}),s.invalidateQueries({queryKey:["/api/commands"]})},onError:b=>{e({title:"Failed to sync commands",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),C=qe({mutationFn:b=>Mt("DELETE",`/api/commands/${b}`),onSuccess:()=>{e({title:"Command deleted successfully"}),s.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),T=b=>{x.mutate(b)},j=f.filter(b=>c==="all"?!0:c==="global"?!b.botInstanceId:b.botInstanceId===c);return n.jsxs("div",{children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Qs,{value:c,onValueChange:u,children:[n.jsx(Ps,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:n.jsx(Ks,{})}),n.jsxs(Bs,{className:"bg-popover border-border",children:[n.jsx(He,{value:"all",children:"All Commands"}),n.jsx(He,{value:"global",children:"Global Commands"}),g.map(b=>n.jsx(He,{value:b.id,children:b.name},b.id))]})]}),n.jsxs(Q,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[n.jsx("i",{className:"fas fa-sync mr-2"}),w.isPending?"Syncing...":"Sync Commands"]}),n.jsxs(Ut,{open:r,onOpenChange:l,children:[n.jsx(GO,{asChild:!0,children:n.jsxs(Q,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[n.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),n.jsxs(Bt,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),n.jsxs("form",{onSubmit:p.handleSubmit(T),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"command-name",children:"Command Name"}),n.jsx(Lt,{id:"command-name",placeholder:"help, status, info...",...p.register("name"),"data-testid":"input-command-name"}),p.formState.errors.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:p.formState.errors.name.message})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"bot-instance",children:"Bot Instance"}),n.jsxs(Qs,{value:p.watch("botInstanceId")||"",onValueChange:b=>p.setValue("botInstanceId",b||null),children:[n.jsx(Ps,{"data-testid":"select-command-bot",children:n.jsx(Ks,{placeholder:"Global command"})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"",children:"Global command"}),g.map(b=>n.jsx(He,{value:b.id,children:b.name},b.id))]})]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"description",children:"Description"}),n.jsx(Lt,{id:"description",placeholder:"What does this command do?",...p.register("description"),"data-testid":"input-command-description"}),p.formState.errors.description&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:p.formState.errors.description.message})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"response",children:"Response"}),n.jsx(aa,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...p.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"use-chatgpt",checked:p.watch("useChatGPT")||!1,onCheckedChange:b=>p.setValue("useChatGPT",b),"data-testid":"checkbox-use-chatgpt"}),n.jsx(Ae,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ln,{id:"is-active",checked:p.watch("isActive")||!1,onCheckedChange:b=>p.setValue("isActive",b),"data-testid":"checkbox-command-active"}),n.jsx(Ae,{htmlFor:"is-active",children:"Active"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(Q,{type:"button",variant:"ghost",onClick:()=>l(!1),"data-testid":"button-cancel-command",children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),n.jsx("div",{className:"p-6",children:m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),n.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):j.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:n.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),n.jsx(Q,{onClick:()=>l(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(b=>n.jsxs(ge,{className:"bg-card border-border","data-testid":`command-card-${b.id}`,children:[n.jsx(Ue,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",b.name]}),b.useChatGPT&&n.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[n.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y.mutate({id:b.id,isActive:!b.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${b.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${b.id}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${b.isActive?"bg-white":"bg-muted-foreground"}`})}),n.jsx("button",{onClick:()=>C.mutate(b.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${b.id}`,children:n.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),n.jsxs(xe,{children:[n.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${b.id}`,children:b.description}),b.response&&n.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),n.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${b.id}`,children:b.response.length>100?`${b.response.substring(0,100)}...`:b.response})]}),b.botInstanceId&&n.jsx("div",{className:"mt-3",children:n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",g.find(_=>_.id===b.botInstanceId)?.name||"Unknown"]})})]})]},b.id))})})]})}const td=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...s})}));td.displayName="Table";const sd=v.forwardRef(({className:e,...s},r)=>n.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...s}));sd.displayName="TableHeader";const nd=v.forwardRef(({className:e,...s},r)=>n.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...s}));nd.displayName="TableBody";const LB=v.forwardRef(({className:e,...s},r)=>n.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));LB.displayName="TableFooter";const ar=v.forwardRef(({className:e,...s},r)=>n.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));ar.displayName="TableRow";const Kt=v.forwardRef(({className:e,...s},r)=>n.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));Kt.displayName="TableHead";const $t=v.forwardRef(({className:e,...s},r)=>n.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));$t.displayName="TableCell";const FB=v.forwardRef(({className:e,...s},r)=>n.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...s}));FB.displayName="TableCaption";var X1="AlertDialog",[UB]=Fs(X1,[gw]),Aa=gw(),W1=e=>{const{__scopeAlertDialog:s,...r}=e,l=Aa(s);return n.jsx(eg,{...l,...r,modal:!0})};W1.displayName=X1;var VB="AlertDialogTrigger",J1=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,c=Aa(r);return n.jsx(Ow,{...c,...l,ref:s})});J1.displayName=VB;var qB="AlertDialogPortal",eC=e=>{const{__scopeAlertDialog:s,...r}=e,l=Aa(s);return n.jsx(tg,{...l,...r})};eC.displayName=qB;var $B="AlertDialogOverlay",tC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,c=Aa(r);return n.jsx(jd,{...c,...l,ref:s})});tC.displayName=$B;var al="AlertDialogContent",[HB,GB]=UB(al),QB=zj("AlertDialogContent"),sC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,children:l,...c}=e,u=Aa(r),f=v.useRef(null),m=mt(s,f),g=v.useRef(null);return n.jsx(VO,{contentName:al,titleName:nC,docsSlug:"alert-dialog",children:n.jsx(HB,{scope:r,cancelRef:g,children:n.jsxs(Nd,{role:"alertdialog",...u,...c,ref:m,onOpenAutoFocus:Ie(c.onOpenAutoFocus,p=>{p.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[n.jsx(QB,{children:l}),n.jsx(YB,{contentRef:f})]})})})});sC.displayName=al;var nC="AlertDialogTitle",aC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,c=Aa(r);return n.jsx(sg,{...c,...l,ref:s})});aC.displayName=nC;var rC="AlertDialogDescription",iC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,c=Aa(r);return n.jsx(ng,{...c,...l,ref:s})});iC.displayName=rC;var KB="AlertDialogAction",lC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,c=Aa(r);return n.jsx(ag,{...c,...l,ref:s})});lC.displayName=KB;var oC="AlertDialogCancel",cC=v.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...l}=e,{cancelRef:c}=GB(oC,r),u=Aa(r),f=mt(s,c);return n.jsx(ag,{...u,...l,ref:f})});cC.displayName=oC;var YB=({contentRef:e})=>{const s=`\`${al}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${al}\` by passing a \`${rC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${al}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},ZB=W1,XB=J1,WB=eC,uC=tC,dC=sC,fC=lC,mC=cC,hC=aC,pC=iC;const wg=ZB,Sg=XB,JB=WB,gC=v.forwardRef(({className:e,...s},r)=>n.jsx(uC,{className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:r}));gC.displayName=uC.displayName;const Bd=v.forwardRef(({className:e,...s},r)=>n.jsxs(JB,{children:[n.jsx(gC,{}),n.jsx(dC,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));Bd.displayName=dC.displayName;const Id=({className:e,...s})=>n.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",e),...s});Id.displayName="AlertDialogHeader";const zd=({className:e,...s})=>n.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});zd.displayName="AlertDialogFooter";const Ld=v.forwardRef(({className:e,...s},r)=>n.jsx(hC,{ref:r,className:_e("text-lg font-semibold",e),...s}));Ld.displayName=hC.displayName;const Fd=v.forwardRef(({className:e,...s},r)=>n.jsx(pC,{ref:r,className:_e("text-sm text-muted-foreground",e),...s}));Fd.displayName=pC.displayName;const Ud=v.forwardRef(({className:e,...s},r)=>n.jsx(fC,{ref:r,className:_e(Kp(),e),...s}));Ud.displayName=fC.displayName;const Vd=v.forwardRef(({className:e,...s},r)=>n.jsx(mC,{ref:r,className:_e(Kp({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));Vd.displayName=mC.displayName;function e5({open:e,onClose:s}){const{toast:r}=es(),l=Os(),[c,u]=v.useState(""),[f,m]=v.useState({serverUrl:"",adminToken:""}),[g,p]=v.useState(null),[x,y]=v.useState(!1),[w,C]=v.useState(""),[T,j]=v.useState("base64"),[b,_]=v.useState(!1),[E,B]=v.useState(null),[D,z]=v.useState("3"),[Z,$]=v.useState(""),[Y,W]=v.useState("all"),[ae,de]=v.useState("all"),[re,oe]=v.useState("all"),[U,ie]=v.useState("name"),[R,S]=v.useState("asc"),[O,le]=v.useState([]),[P,se]=v.useState(!1),[V,J]=v.useState(null),[ce,me]=v.useState(""),[ye,M]=v.useState(!1),[X,Ne]=v.useState(""),[Ce,Be]=v.useState(!1),{data:Ge=[],isLoading:is}=wt({queryKey:["/api/master/tenancies"],enabled:e}),{data:nt=[],isLoading:un,refetch:Cn}=wt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:ds=[],isLoading:oc}=wt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:vr=[],isLoading:L}=wt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),H=nt.filter(k=>{const je=Z===""||k.name.toLowerCase().includes(Z.toLowerCase())||k.phoneNumber.includes(Z)||k.tenancy.toLowerCase().includes(Z.toLowerCase()),Xe=Y==="all"||k.status===Y,Je=ae==="all"||k.tenancy===ae,Nt=re==="all"||k.approvalStatus===re;return je&&Xe&&Je&&Nt}).sort((k,je)=>{let Xe,Je;switch(U){case"name":Xe=k.name.toLowerCase(),Je=je.name.toLowerCase();break;case"phoneNumber":Xe=k.phoneNumber,Je=je.phoneNumber;break;case"server":Xe=k.tenancy,Je=je.tenancy;break;case"status":Xe=k.status,Je=je.status;break;case"lastActivity":Xe=new Date(k.lastActivity||0),Je=new Date(je.lastActivity||0);break;default:Xe=k.name,Je=je.name}return Xe<Je?R==="asc"?-1:1:Xe>Je?R==="asc"?1:-1:0}),ne={totalBots:nt.length,onlineBots:nt.filter(k=>k.status==="online").length,pendingBots:nt.filter(k=>k.approvalStatus==="pending").length,approvedBots:nt.filter(k=>k.approvalStatus==="approved").length,serverDistribution:nt.reduce((k,je)=>(k[je.tenancy]=(k[je.tenancy]||0)+1,k),{}),statusDistribution:nt.reduce((k,je)=>(k[je.status]=(k[je.status]||0)+1,k),{})};qe({mutationFn:async k=>(console.log(`Attempting to connect to ${k.tenancy} via God Registry`),{success:!0,message:`Connected to ${k.tenancy} via God Registry`}),onSuccess:()=>{r({title:"Success",description:"Successfully connected to tenancy server"}),l.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{r({title:"Connection Failed",description:k.message,variant:"destructive"})}});const Se=qe({mutationFn:async k=>await(await Mt("POST","/api/master/migrate-bot",k)).json(),onSuccess:()=>{r({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),se(!1),J(null),l.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{r({title:"Migration Failed",description:k.message,variant:"destructive"})}}),we=qe({mutationFn:async k=>await(await Mt("POST","/api/master/batch-operation",k)).json(),onSuccess:k=>{r({title:"Batch Operation Successful",description:`${k.completedCount} of ${k.totalCount} operations completed successfully`}),M(!1),le([]),l.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{r({title:"Batch Operation Failed",description:k.message,variant:"destructive"})}}),ve=qe({mutationFn:async({action:k,botId:je,tenancy:Xe,data:Je})=>(await Mt("POST","/api/master/bot-action",{action:k,botId:je,tenancy:Xe,data:Je})).json(),onSuccess:(k,je)=>{r({title:"Success",description:`Successfully ${je.action}d bot`}),l.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{r({title:"Action Failed",description:k.message,variant:"destructive"})}}),ke=qe({mutationFn:async({action:k,botId:je,tenancy:Xe,feature:Je,enabled:Nt})=>(await Mt("POST","/api/master/feature-management",{action:k,botId:je,tenancy:Xe,feature:Je,enabled:Nt})).json(),onSuccess:()=>{r({title:"Feature Updated",description:"Bot feature settings updated successfully"}),l.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:k=>{r({title:"Feature Update Failed",description:k.message,variant:"destructive"})}}),tt=qe({mutationFn:async({sourceServer:k,targetServers:je,commandIds:Xe})=>(await Mt("POST","/api/master/sync-commands",{sourceServer:k,targetServers:je,commandIds:Xe})).json(),onSuccess:()=>{r({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:k=>{r({title:"Command Sync Failed",description:k.message,variant:"destructive"})}}),Ze=(k,je,Xe,Je)=>{ve.mutate({action:k,botId:je,tenancy:Xe,data:Je})},bt=(k,je,Xe,Je)=>{ke.mutate({action:"toggle_feature",botId:k,tenancy:je,feature:Xe,enabled:Je})},Ea=()=>{if(E&&D){const k=parseInt(D,10);if(isNaN(k)||k<1||k>12){r({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Ze("approve",E.id,E.tenancy,{duration:k}),_(!1),B(null)}},bs=k=>{const je={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return n.jsx(et,{className:`${je[k]||"bg-gray-500"} text-white`,children:k})};return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-2xl font-bold text-center",children:"🎛️ Master Control Panel"})}),n.jsxs(Jr,{defaultValue:"overview",className:"w-full",children:[n.jsxs(gr,{className:"grid w-full grid-cols-6",children:[n.jsx(Pt,{value:"overview",children:"Overview"}),n.jsx(Pt,{value:"servers",children:"Servers"}),n.jsx(Pt,{value:"bots",children:"Bot Management"}),n.jsx(Pt,{value:"features",children:"Features"}),n.jsx(Pt,{value:"credentials",children:"Credentials"}),n.jsx(Pt,{value:"bulk",children:"Bulk Actions"})]}),n.jsxs(Et,{value:"overview",className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[n.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"🎛️ Master Control Dashboard"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ge.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:nt.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:nt.filter(k=>k.approvalStatus==="pending").length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:nt.filter(k=>k.status==="online").length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),n.jsxs(ge,{children:[n.jsx(Ue,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:["📊 Real-time System Status",n.jsx(et,{variant:"outline",className:"ml-auto",children:"Live"})]})}),n.jsx(xe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),n.jsx("div",{className:"space-y-2",children:Ge.map(k=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"font-medium",children:k.name})]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.botCount," bots"]})]},k.name))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),n.jsx("div",{className:"space-y-2",children:[{status:"online",count:nt.filter(k=>k.status==="online").length,color:"bg-green-500"},{status:"offline",count:nt.filter(k=>k.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:nt.filter(k=>k.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:nt.filter(k=>k.status==="error").length,color:"bg-red-500"}].map(k=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 ${k.color} rounded-full`}),n.jsx("span",{className:"capitalize",children:k.status})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:k.count})]},k.status))})]})]})})]})]}),n.jsx(Et,{value:"servers",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-blue-600",children:"🖥️ Server Tenancy Management"}),n.jsx(at,{children:"Monitor and control all server instances and their bot containers"})]}),n.jsx(xe,{children:oc?n.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):n.jsx("div",{className:"space-y-4",children:ds.slice(0,20).map(k=>n.jsx(ge,{className:"border-l-4 border-l-blue-500",children:n.jsxs(xe,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:["🏢 ",k.name,k.status==="active"?n.jsx(et,{className:"bg-green-500 text-white",children:"Active"}):n.jsx(et,{className:"bg-gray-500 text-white",children:"Available"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:k.description||"Server instance ready for bot deployment"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.currentBots}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.remainingBots}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-medium",children:[Math.round(k.currentBots/k.totalBots*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(k.currentBots/k.totalBots*100)}%`}})})]})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:k.name,description:`Switched to ${k.name} for administration`})}).then(()=>{r({title:"Server Switched",description:`Successfully switched to ${k.name}`}),Cn()})},"data-testid":`button-switch-to-${k.name}`,children:"🔄 Switch To"}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const je=nt.filter(Xe=>Xe.tenancy===k.name);r({title:"Server Bots",description:`${k.name} has ${je.length} bots registered`})},children:["👁️ View Bots (",nt.filter(je=>je.tenancy===k.name).length,")"]})]})]})},k.name))})})]})}),n.jsx(Et,{value:"tenancies",className:"space-y-4",children:n.jsx("div",{className:"grid gap-4",children:Ge.map(k=>n.jsxs(ge,{children:[n.jsx(Ue,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[k.name,bs(k.status||"unknown")]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ze("sync","",k.name),disabled:ve.isPending,children:"Sync"}),n.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ze("disconnect","",k.name),disabled:ve.isPending,children:"Disconnect"})]})]})}),n.jsx(xe,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:"Server URL"}),n.jsx(Lt,{value:k.url,readOnly:!0})]}),n.jsxs("div",{children:[n.jsx(Ae,{children:"Bot Count"}),n.jsx(Lt,{value:k.botCount.toString(),readOnly:!0})]})]})})]},k.name))})}),n.jsxs(Et,{value:"bots",className:"space-y-4",children:[n.jsxs(ge,{className:"border-l-4 border-l-purple-500",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Xi,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),n.jsx(at,{children:"Search and filter bots across all server tenancies with real-time results"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(Lt,{placeholder:"Search by bot name, phone number, or server...",value:Z,onChange:k=>$(k.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),n.jsx(Q,{variant:"outline",onClick:()=>{$(""),W("all"),de("all"),oe("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Status Filter"}),n.jsxs(Qs,{value:Y,onValueChange:W,children:[n.jsx(Ps,{"data-testid":"select-status-filter",children:n.jsx(Ks,{})}),n.jsxs(Bs,{children:[n.jsxs(He,{value:"all",children:["All Status (",ne.totalBots,")"]}),n.jsxs(He,{value:"online",children:["Online (",ne.onlineBots,")"]}),n.jsxs(He,{value:"offline",children:["Offline (",ne.totalBots-ne.onlineBots,")"]}),n.jsx(He,{value:"loading",children:"Loading"}),n.jsx(He,{value:"error",children:"Error"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Server Filter"}),n.jsxs(Qs,{value:ae,onValueChange:de,children:[n.jsx(Ps,{"data-testid":"select-server-filter",children:n.jsx(Ks,{})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"all",children:"All Servers"}),Object.entries(ne.serverDistribution).map(([k,je])=>n.jsxs(He,{value:k,children:[k," (",je,")"]},k))]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Approval Status"}),n.jsxs(Qs,{value:re,onValueChange:oe,children:[n.jsx(Ps,{"data-testid":"select-approval-filter",children:n.jsx(Ks,{})}),n.jsxs(Bs,{children:[n.jsxs(He,{value:"all",children:["All (",ne.totalBots,")"]}),n.jsxs(He,{value:"approved",children:["Approved (",ne.approvedBots,")"]}),n.jsxs(He,{value:"pending",children:["Pending (",ne.pendingBots,")"]}),n.jsx(He,{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(Qs,{value:U,onValueChange:ie,children:[n.jsx(Ps,{"data-testid":"select-sort-by",children:n.jsx(Ks,{})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"name",children:"Name"}),n.jsx(He,{value:"phoneNumber",children:"Phone"}),n.jsx(He,{value:"server",children:"Server"}),n.jsx(He,{value:"status",children:"Status"}),n.jsx(He,{value:"lastActivity",children:"Activity"})]})]}),n.jsx(Q,{variant:"outline",size:"sm",onClick:()=>S(R==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:R==="asc"?"↑":"↓"})]})]})]}),n.jsx("div",{className:"bg-muted rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"font-medium",children:["Results: ",H.length," of ",ne.totalBots," bots"]}),n.jsxs(et,{variant:"outline",children:[H.filter(k=>k.status==="online").length," online"]}),n.jsxs(et,{variant:"outline",children:[H.filter(k=>k.approvalStatus==="pending").length," pending"]}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>Cn(),disabled:un,className:"ml-auto","data-testid":"button-refresh-data",children:[n.jsx(Mp,{className:"h-3 w-3 mr-1"}),un?"Refreshing...":"Refresh"]})]})})]})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-purple-600",children:"🤖 Complete Bot Registry"}),n.jsx(at,{children:"All bots across all server tenancies with individual container controls"})]}),n.jsx(xe,{children:un?n.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):n.jsxs(td,{children:[n.jsx(sd,{children:n.jsxs(ar,{children:[n.jsx(Kt,{children:"Bot Details"}),n.jsx(Kt,{children:"Server"}),n.jsx(Kt,{children:"Status"}),n.jsx(Kt,{children:"Approval"}),n.jsx(Kt,{children:"Features"}),n.jsx(Kt,{children:"Stats"}),n.jsx(Kt,{children:"Container Actions"})]})}),n.jsx(nd,{children:H.length===0?n.jsx(ar,{children:n.jsx($t,{colSpan:7,className:"text-center py-8",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Xi,{className:"h-8 w-8 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),n.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{$(""),W("all"),de("all"),oe("all")},children:"Clear all filters"})]})})}):H.map(k=>n.jsxs(ar,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:k.phoneNumber})]})}),n.jsx($t,{children:n.jsx(et,{variant:k.tenancy==="default-server"?"default":"outline",children:k.tenancy})}),n.jsx($t,{children:n.jsxs("div",{className:"space-y-1",children:[bs(k.status),k.approvalStatus&&n.jsx("div",{children:bs(k.approvalStatus)})]})}),n.jsx($t,{children:k.approvalStatus==="pending"?n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Q,{size:"sm",variant:"default",onClick:()=>{B(k),_(!0)},disabled:ve.isPending,"data-testid":`button-approve-${k.id}`,children:"✅ Approve"}),n.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ze("reject",k.id,k.tenancy),disabled:ve.isPending,"data-testid":`button-reject-${k.id}`,children:"❌"})]}):k.approvalStatus==="approved"?n.jsxs("div",{className:"text-xs text-green-600",children:["✅ Approved",k.expirationMonths&&n.jsxs("div",{children:["(",k.expirationMonths,"mo)"]})]}):n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ze("revoke",k.id,k.tenancy),disabled:ve.isPending,"data-testid":`button-revoke-${k.id}`,children:"🔄 Revoke Approval"})}),n.jsx($t,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsxs(et,{variant:k.autoLike?"default":"outline",className:"text-xs",children:["👍 ",k.autoLike?"ON":"OFF"]}),n.jsxs(et,{variant:k.chatgptEnabled?"default":"outline",className:"text-xs",children:["🤖 ",k.chatgptEnabled?"ON":"OFF"]})]})}),n.jsx($t,{children:n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{children:["Msgs: ",k.messagesCount||0]}),n.jsxs("div",{children:["Cmds: ",k.commandsCount||0]})]})}),n.jsx($t,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ze(k.status==="online"?"stop":"start",k.id,k.serverName||k.tenancy||"default-server"),disabled:ve.isPending,"data-testid":`button-${k.status==="online"?"stop":"start"}-${k.id}`,children:k.status==="online"?"⏹️":"▶️"}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{p(k),y(!0)},"data-testid":`button-creds-${k.id}`,children:"🔐"}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>bt(k.id,k.tenancy,"autoLike",!k.autoLike),disabled:ke.isPending,children:"🎛️"}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{J(k),se(!0)},disabled:ve.isPending,"data-testid":`button-migrate-${k.id}`,title:"Migrate to another server",children:n.jsx(e0,{className:"h-3 w-3"})}),n.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",k.id,k.tenancy),disabled:ve.isPending,"data-testid":`button-delete-${k.id}`,children:"🗑️"})]})})]},`${k.tenancy}-${k.id}`))})]})})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-green-600",children:"✅ Approved & Active Bots"}),n.jsx(at,{children:"Currently approved and active bots across all tenancies"})]}),n.jsx(xe,{children:L?n.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):n.jsxs(td,{children:[n.jsx(sd,{children:n.jsxs(ar,{children:[n.jsx(Kt,{children:"Bot Name"}),n.jsx(Kt,{children:"Phone Number"}),n.jsx(Kt,{children:"Tenancy"}),n.jsx(Kt,{children:"Status"}),n.jsx(Kt,{children:"Approval Date"}),n.jsx(Kt,{children:"Last Activity"}),n.jsx(Kt,{children:"Actions"})]})}),n.jsx(nd,{children:vr.map(k=>n.jsxs(ar,{children:[n.jsx($t,{className:"font-medium",children:k.name}),n.jsx($t,{children:k.phoneNumber}),n.jsx($t,{children:n.jsx(et,{variant:"outline",children:k.serverName})}),n.jsx($t,{children:bs(k.status)}),n.jsx($t,{className:"text-sm text-muted-foreground",children:k.approvalDate?new Date(k.approvalDate).toLocaleDateString():"N/A"}),n.jsx($t,{className:"text-sm text-muted-foreground",children:new Date(k.updatedAt||k.createdAt).toLocaleDateString()}),n.jsx($t,{children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Ze(k.status==="online"?"stop":"start",k.id,k.serverName||k.tenancy||"default-server"),disabled:ve.isPending,"data-testid":`button-${k.status==="online"?"stop":"start"}-${k.id}`,children:k.status==="online"?"⏹️ Stop":"▶️ Start"}),n.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>Ze("delete",k.id,k.tenancy),disabled:ve.isPending,"data-testid":`button-delete-approved-${k.id}`,children:"🗑️ Delete"})]})})]},`approved-${k.serverName}-${k.id}`))})]})})]})]}),n.jsx(Et,{value:"features",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-purple-600",children:"🎛️ Cross-Tenancy Feature Control"}),n.jsx(at,{children:"Manage bot features across all tenancies from this central panel"})]}),n.jsxs(xe,{className:"space-y-6",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[n.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:"🌐 Global Feature Management"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"👍",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"😄",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"👁️",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"🤖",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"⌨️",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"✓✓",description:"Send read receipts"}].map(k=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-lg",children:k.icon}),n.jsx("span",{className:"font-medium text-sm",children:k.label})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:k.description}),n.jsx("div",{className:"space-y-2",children:Ge.map(je=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs",children:je.name}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>bt("",je.name,k.key,!0),className:"h-6 px-2 text-xs",disabled:ke.isPending,children:"Toggle"})]},je.name))})]},k.key))})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🤖 Individual Bot Feature Control"}),n.jsx("div",{className:"space-y-4",children:nt.filter(k=>k.approvalStatus==="approved").map(k=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium",children:k.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.phoneNumber," • ",k.tenancy]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[bs(k.status),n.jsx(et,{variant:"outline",children:k.tenancy})]})]}),n.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:"👍"},{key:"autoReact",label:"React",icon:"😄"},{key:"autoView",label:"View",icon:"👁️"},{key:"chatGPT",label:"AI",icon:"🤖"},{key:"typing",label:"Type",icon:"⌨️"},{key:"receipts",label:"Read",icon:"✓✓"}].map(je=>n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>bt(k.id,k.tenancy,je.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:ke.isPending,children:[n.jsx("span",{className:"text-sm",children:je.icon}),n.jsx("span",{className:"text-xs",children:je.label})]},je.key))})]},`${k.tenancy}-${k.id}`))})]}),n.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[n.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:"📡 Command Sync Across Tenancies"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),n.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select source server..."}),Ge.map(k=>n.jsx("option",{value:k.name,children:k.name},k.name))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),n.jsx("div",{className:"space-y-2",children:Ge.map(k=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:`target-${k.name}`,className:"rounded"}),n.jsx("label",{htmlFor:`target-${k.name}`,className:"text-sm",children:k.name})]},k.name))})]})]}),n.jsx(Q,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:tt.isPending,children:"🔄 Sync Selected Commands"})]})]})]})}),n.jsx(Et,{value:"credentials",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-green-600",children:"🔐 Bot Credential Management"}),n.jsx(at,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),n.jsxs(xe,{children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[n.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"⚠️ Credential Update Safety"}),n.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:nt.filter(k=>k.approvalStatus==="approved").map(k=>n.jsx(ge,{className:"border-l-4 border-l-green-500",children:n.jsx(xe,{className:"pt-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:k.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:k.phoneNumber}),n.jsx(et,{variant:"outline",className:"mt-1",children:k.tenancy})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Container Status:"}),bs(k.status)]}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{p(k),y(!0)},className:"w-full","data-testid":`button-update-creds-${k.id}`,children:"🔐 Update Credentials"})]})})},`cred-${k.tenancy}-${k.id}`))})]})]})}),n.jsx(Et,{value:"bulk",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{className:"text-red-600",children:"⚡ Bulk Operations"}),n.jsx(at,{children:"Perform actions on multiple bots across all server tenancies"})]}),n.jsx(xe,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[n.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:"📋 Bulk Bot Selection"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const k=nt.map(je=>`${je.tenancy}-${je.id}`);le(k)},children:["✅ Select All (",nt.length,")"]}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const k=nt.filter(je=>je.approvalStatus==="pending").map(je=>`${je.tenancy}-${je.id}`);le(k)},children:["⏳ Select Pending (",nt.filter(k=>k.approvalStatus==="pending").length,")"]}),n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{const k=nt.filter(je=>je.status==="online").map(je=>`${je.tenancy}-${je.id}`);le(k)},children:["🟢 Select Online (",nt.filter(k=>k.status==="online").length,")"]}),n.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>le([]),children:"❌ Clear Selection"})]}),n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",O.length," bots"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ge,{className:"border-l-4 border-l-green-500",children:n.jsxs(xe,{className:"pt-6",children:[n.jsx("h4",{className:"font-medium text-green-600 mb-3",children:"✅ Bulk Approve"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),n.jsx(Q,{size:"sm",variant:"default",className:"w-full",disabled:O.length===0,onClick:()=>{O.forEach(k=>{const[je,Xe]=k.split("-"),Je=nt.find(Nt=>Nt.tenancy===je&&Nt.id===Xe);Je&&Je.approvalStatus==="pending"&&Ze("approve",Xe,je,{duration:6})}),r({title:"Bulk Approval",description:`Processing approval for ${O.length} bots`})},children:"Approve Selected"})]})}),n.jsx(ge,{className:"border-l-4 border-l-blue-500",children:n.jsxs(xe,{className:"pt-6",children:[n.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:"▶️ Bulk Start"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),n.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:O.length===0,onClick:()=>{O.forEach(k=>{const[je,Xe]=k.split("-"),Je=nt.find(Nt=>Nt.tenancy===je&&Nt.id===Xe);Je&&Je.status==="offline"&&Ze("start",Xe,je)}),r({title:"Bulk Start",description:`Starting ${O.length} bots`})},children:"Start Selected"})]})}),n.jsx(ge,{className:"border-l-4 border-l-orange-500",children:n.jsxs(xe,{className:"pt-6",children:[n.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:"⏹️ Bulk Stop"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),n.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:O.length===0,onClick:()=>{O.forEach(k=>{const[je,Xe]=k.split("-"),Je=nt.find(Nt=>Nt.tenancy===je&&Nt.id===Xe);Je&&Je.status==="online"&&Ze("stop",Xe,je)}),r({title:"Bulk Stop",description:`Stopping ${O.length} bots`})},children:"Stop Selected"})]})}),n.jsx(ge,{className:"border-l-4 border-l-purple-500",children:n.jsxs(xe,{className:"pt-6",children:[n.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:"🎛️ Bulk Features"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),n.jsx(Q,{size:"sm",variant:"outline",className:"w-full",disabled:O.length===0,onClick:()=>{O.forEach(k=>{const[je,Xe]=k.split("-");bt(Xe,je,"autoLike",!0)}),r({title:"Bulk Feature Update",description:`Enabling features for ${O.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),n.jsx(Et,{value:"connect",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"God Registry Information"}),n.jsx(at,{children:"Cross-tenancy management is powered by the God Registry table"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🔄 How Cross-Tenancy Works:"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:"• All bot registrations are stored in the God Registry table"}),n.jsx("li",{children:"• Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),n.jsx("li",{children:"• Master control can see and manage bots across all tenancies"}),n.jsx("li",{children:"• Local tenancy bots show full details, remote ones show registry info"}),n.jsx("li",{children:"• Actions on local tenancy bots are executed directly"}),n.jsx("li",{children:"• Actions on remote tenancy bots are logged for coordination"})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 Current Setup:"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsxs("li",{children:["• Current Server: ","SERVER1"]}),n.jsx("li",{children:"• God Registry: Active and monitoring all tenancies"}),n.jsx("li",{children:"• Cross-tenancy actions: Logged and tracked"}),n.jsx("li",{children:"• Data isolation: Each tenancy maintains its own bot data"})]})]}),n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),g&&n.jsx(Ut,{open:x,onOpenChange:y,children:n.jsxs(Bt,{className:"max-w-2xl",children:[n.jsx(It,{children:n.jsx(zt,{children:"🔐 Update Bot Credentials"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Name:"})," ",g.name]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Phone:"})," ",g.phoneNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Server:"})," ",g.tenancy]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",g.status]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"credential-type",children:"Credential Type"}),n.jsxs(Qs,{value:T,onValueChange:k=>j(k),children:[n.jsx(Ps,{children:n.jsx(Ks,{placeholder:"Select credential type"})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"base64",children:"Base64 String"}),n.jsx(He,{value:"file",children:"File Upload"})]})]})]}),T==="base64"?n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"credentials",children:"New Credentials (Base64)"}),n.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:w,onChange:k=>C(k.target.value)})]}):n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"credential-file",children:"Upload Credentials File"}),n.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:k=>{const je=k.target.files?.[0];if(je){const Xe=new FileReader;Xe.onload=Je=>{C(Je.target?.result||"")},Xe.readAsText(je)}}})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:()=>{if(!w.trim()){r({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:g.id,tenancy:g.tenancy,data:{credentials:T==="base64"?w:JSON.parse(w),type:T}})}).then(async k=>{if(k.ok)r({title:"Credentials Updated",description:`Credentials updated for ${g.name} in ${g.tenancy} container`}),y(!1),p(null),C(""),Cn();else{const je=await k.json();r({title:"Update Failed",description:je.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:"💾 Update Credentials"}),n.jsx(Q,{variant:"outline",onClick:()=>{y(!1),p(null),C("")},children:"Cancel"})]})]})]})]})}),b&&E&&n.jsx(Ut,{open:b,onOpenChange:()=>{_(!1),B(null)},children:n.jsxs(Bt,{className:"max-w-md",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-center flex items-center justify-center gap-2",children:"✅ Cross-Server Bot Approval"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Name:"})," ",E.name]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Phone:"})," ",E.phoneNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Server:"})," ",E.tenancy]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Current Status:"})," ",E.approvalStatus]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"approval-duration",children:"Approval Duration"}),n.jsxs(Qs,{value:D,onValueChange:z,children:[n.jsx(Ps,{"data-testid":"select-approval-duration",children:n.jsx(Ks,{placeholder:"Select approval duration"})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"1",children:"1 Month"}),n.jsx(He,{value:"2",children:"2 Months"}),n.jsx(He,{value:"3",children:"3 Months (Recommended)"}),n.jsx(He,{value:"6",children:"6 Months"}),n.jsx(He,{value:"9",children:"9 Months"}),n.jsx(He,{value:"12",children:"12 Months"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:n.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[n.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",E.tenancy," server. The approval will be coordinated through the God Registry system."]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:Ea,disabled:ve.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:ve.isPending?n.jsx(n.Fragment,{children:"⏳ Processing..."}):n.jsxs(n.Fragment,{children:["✅ Approve for ",D," Month",parseInt(D)>1?"s":""]})}),n.jsx(Q,{variant:"outline",onClick:()=>{_(!1),B(null)},disabled:ve.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),P&&V&&n.jsx(Ut,{open:P,onOpenChange:se,children:n.jsxs(Bt,{className:"max-w-md",children:[n.jsx(It,{children:n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(e0,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[n.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Name:"})," ",V.name]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Phone:"})," ",V.phoneNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Current Server:"})," ",V.tenancy]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"target-server",children:"Target Server"}),n.jsxs(Qs,{value:ce,onValueChange:me,children:[n.jsx(Ps,{"data-testid":"select-target-server",children:n.jsx(Ks,{placeholder:"Select destination server"})}),n.jsx(Bs,{children:Object.keys(ne.serverDistribution).filter(k=>k!==V.tenancy).map(k=>n.jsxs(He,{value:k,children:[k," (",ne.serverDistribution[k]," bots)"]},k))})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:n.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[n.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:()=>{if(!ce){r({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(ce===V.tenancy){r({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}Se.mutate({botId:V.id,sourceServer:V.tenancy,targetServer:ce})},disabled:Se.isPending||!ce,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:Se.isPending?n.jsx(n.Fragment,{children:"⏳ Migrating..."}):n.jsx(n.Fragment,{children:"🚀 Migrate Bot"})}),n.jsx(Q,{variant:"outline",onClick:()=>{se(!1),J(null),me("")},disabled:Se.isPending,children:"Cancel"})]})]})]})}),ye&&n.jsx(Ut,{open:ye,onOpenChange:M,children:n.jsxs(Bt,{className:"max-w-lg",children:[n.jsx(It,{children:n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(yk,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[n.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",O.length,")"]}),n.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:O.map(k=>{const[je,Xe]=k.split("-"),Je=H.find(Nt=>Nt.tenancy===je&&Nt.id===Xe);return Je?n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:Je.name}),n.jsx("span",{className:"text-muted-foreground",children:Je.tenancy})]},k):null})})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"batch-operation",children:"Operation Type"}),n.jsxs(Qs,{value:X,onValueChange:Ne,children:[n.jsx(Ps,{"data-testid":"select-batch-operation",children:n.jsx(Ks,{placeholder:"Select batch operation"})}),n.jsxs(Bs,{children:[n.jsx(He,{value:"start",children:"Start All Selected Bots"}),n.jsx(He,{value:"stop",children:"Stop All Selected Bots"}),n.jsx(He,{value:"restart",children:"Restart All Selected Bots"}),n.jsx(He,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),n.jsx(He,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:n.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[n.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",O.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:()=>{if(!X){r({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}we.mutate({operation:X,botIds:O})},disabled:we.isPending||!X||O.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:we.isPending?n.jsx(n.Fragment,{children:"⏳ Processing..."}):n.jsx(n.Fragment,{children:"⚡ Execute Batch Operation"})}),n.jsx(Q,{variant:"outline",onClick:()=>{M(!1),Ne("")},disabled:we.isPending,children:"Cancel"})]})]})]})}),Ce&&n.jsx(Ut,{open:Ce,onOpenChange:Be,children:n.jsxs(Bt,{className:"max-w-4xl",children:[n.jsx(It,{children:n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(ge,{className:"border-green-200",children:n.jsx(xe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:H.filter(k=>k.status==="online").length})]}),n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),n.jsx(ge,{className:"border-yellow-200",children:n.jsx(xe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H.filter(k=>k.status==="loading").length})]}),n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),n.jsx(ge,{className:"border-red-200",children:n.jsx(xe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:H.filter(k=>k.status==="error"||k.status==="offline").length})]}),n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),n.jsxs(ge,{children:[n.jsx(Ue,{children:n.jsx(Ve,{className:"text-sm font-medium",children:"Server Health Status"})}),n.jsx(xe,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(ne.serverDistribution).map(([k,je])=>{const Je=H.filter(ka=>ka.tenancy===k).filter(ka=>ka.status==="online").length,Nt=Math.round(Je/je*100)||0,Vn=Nt>=80?"text-green-600":Nt>=60?"text-yellow-600":"text-red-600";return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${Nt>=80?"bg-green-500":Nt>=60?"bg-yellow-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:k}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Je,"/",je," bots online"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-bold ${Vn}`,children:[Nt,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},k)})})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Q,{variant:"outline",onClick:()=>Be(!1),children:"Close Monitor"})})]})]})})]})})}var oj=1,t5=.9,s5=.8,n5=.17,Dh=.1,Ph=.999,a5=.9999,r5=.99,i5=/[\\\/_+.#"@\[\(\{&]/,l5=/[\\\/_+.#"@\[\(\{&]/g,o5=/[\s-]/,xC=/[\s-]/g;function yp(e,s,r,l,c,u,f){if(u===s.length)return c===e.length?oj:r5;var m=`${c},${u}`;if(f[m]!==void 0)return f[m];for(var g=l.charAt(u),p=r.indexOf(g,c),x=0,y,w,C,T;p>=0;)y=yp(e,s,r,l,p+1,u+1,f),y>x&&(p===c?y*=oj:i5.test(e.charAt(p-1))?(y*=s5,C=e.slice(c,p-1).match(l5),C&&c>0&&(y*=Math.pow(Ph,C.length))):o5.test(e.charAt(p-1))?(y*=t5,T=e.slice(c,p-1).match(xC),T&&c>0&&(y*=Math.pow(Ph,T.length))):(y*=n5,c>0&&(y*=Math.pow(Ph,p-c))),e.charAt(p)!==s.charAt(u)&&(y*=a5)),(y<Dh&&r.charAt(p-1)===l.charAt(u+1)||l.charAt(u+1)===l.charAt(u)&&r.charAt(p-1)!==l.charAt(u))&&(w=yp(e,s,r,l,p+1,u+2,f),w*Dh>y&&(y=w*Dh)),y>x&&(x=y),p=r.indexOf(g,p+1);return f[m]=x,x}function cj(e){return e.toLowerCase().replace(xC," ")}function c5(e,s,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,yp(e,s,cj(e),cj(s),0,0,{})}var So='[cmdk-group=""]',Bh='[cmdk-group-items=""]',u5='[cmdk-group-heading=""]',vC='[cmdk-item=""]',uj=`${vC}:not([aria-disabled="true"])`,bp="cmdk-item-select",Gi="data-value",d5=(e,s,r)=>c5(e,s,r),yC=v.createContext(void 0),ic=()=>v.useContext(yC),bC=v.createContext(void 0),Cg=()=>v.useContext(bC),jC=v.createContext(void 0),NC=v.forwardRef((e,s)=>{let r=Qi(()=>{var V,J;return{search:"",value:(J=(V=e.value)!=null?V:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=Qi(()=>new Set),c=Qi(()=>new Map),u=Qi(()=>new Map),f=Qi(()=>new Set),m=wC(e),{label:g,children:p,value:x,onValueChange:y,filter:w,shouldFilter:C,loop:T,disablePointerSelection:j=!1,vimBindings:b=!0,..._}=e,E=zs(),B=zs(),D=zs(),z=v.useRef(null),Z=N5();Wr(()=>{if(x!==void 0){let V=x.trim();r.current.value=V,$.emit()}},[x]),Wr(()=>{Z(6,oe)},[]);let $=v.useMemo(()=>({subscribe:V=>(f.current.add(V),()=>f.current.delete(V)),snapshot:()=>r.current,setState:(V,J,ce)=>{var me,ye,M,X;if(!Object.is(r.current[V],J)){if(r.current[V]=J,V==="search")re(),ae(),Z(1,de);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ne=document.getElementById(D);Ne?Ne.focus():(me=document.getElementById(E))==null||me.focus()}if(Z(7,()=>{var Ne;r.current.selectedItemId=(Ne=U())==null?void 0:Ne.id,$.emit()}),ce||Z(5,oe),((ye=m.current)==null?void 0:ye.value)!==void 0){let Ne=J??"";(X=(M=m.current).onValueChange)==null||X.call(M,Ne);return}}$.emit()}},emit:()=>{f.current.forEach(V=>V())}}),[]),Y=v.useMemo(()=>({value:(V,J,ce)=>{var me;J!==((me=u.current.get(V))==null?void 0:me.value)&&(u.current.set(V,{value:J,keywords:ce}),r.current.filtered.items.set(V,W(J,ce)),Z(2,()=>{ae(),$.emit()}))},item:(V,J)=>(l.current.add(V),J&&(c.current.has(J)?c.current.get(J).add(V):c.current.set(J,new Set([V]))),Z(3,()=>{re(),ae(),r.current.value||de(),$.emit()}),()=>{u.current.delete(V),l.current.delete(V),r.current.filtered.items.delete(V);let ce=U();Z(4,()=>{re(),ce?.getAttribute("id")===V&&de(),$.emit()})}),group:V=>(c.current.has(V)||c.current.set(V,new Set),()=>{u.current.delete(V),c.current.delete(V)}),filter:()=>m.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:E,inputId:D,labelId:B,listInnerRef:z}),[]);function W(V,J){var ce,me;let ye=(me=(ce=m.current)==null?void 0:ce.filter)!=null?me:d5;return V?ye(V,r.current.search,J):0}function ae(){if(!r.current.search||m.current.shouldFilter===!1)return;let V=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(me=>{let ye=c.current.get(me),M=0;ye.forEach(X=>{let Ne=V.get(X);M=Math.max(Ne,M)}),J.push([me,M])});let ce=z.current;ie().sort((me,ye)=>{var M,X;let Ne=me.getAttribute("id"),Ce=ye.getAttribute("id");return((M=V.get(Ce))!=null?M:0)-((X=V.get(Ne))!=null?X:0)}).forEach(me=>{let ye=me.closest(Bh);ye?ye.appendChild(me.parentElement===ye?me:me.closest(`${Bh} > *`)):ce.appendChild(me.parentElement===ce?me:me.closest(`${Bh} > *`))}),J.sort((me,ye)=>ye[1]-me[1]).forEach(me=>{var ye;let M=(ye=z.current)==null?void 0:ye.querySelector(`${So}[${Gi}="${encodeURIComponent(me[0])}"]`);M?.parentElement.appendChild(M)})}function de(){let V=ie().find(ce=>ce.getAttribute("aria-disabled")!=="true"),J=V?.getAttribute(Gi);$.setState("value",J||void 0)}function re(){var V,J,ce,me;if(!r.current.search||m.current.shouldFilter===!1){r.current.filtered.count=l.current.size;return}r.current.filtered.groups=new Set;let ye=0;for(let M of l.current){let X=(J=(V=u.current.get(M))==null?void 0:V.value)!=null?J:"",Ne=(me=(ce=u.current.get(M))==null?void 0:ce.keywords)!=null?me:[],Ce=W(X,Ne);r.current.filtered.items.set(M,Ce),Ce>0&&ye++}for(let[M,X]of c.current)for(let Ne of X)if(r.current.filtered.items.get(Ne)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=ye}function oe(){var V,J,ce;let me=U();me&&(((V=me.parentElement)==null?void 0:V.firstChild)===me&&((ce=(J=me.closest(So))==null?void 0:J.querySelector(u5))==null||ce.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function U(){var V;return(V=z.current)==null?void 0:V.querySelector(`${vC}[aria-selected="true"]`)}function ie(){var V;return Array.from(((V=z.current)==null?void 0:V.querySelectorAll(uj))||[])}function R(V){let J=ie()[V];J&&$.setState("value",J.getAttribute(Gi))}function S(V){var J;let ce=U(),me=ie(),ye=me.findIndex(X=>X===ce),M=me[ye+V];(J=m.current)!=null&&J.loop&&(M=ye+V<0?me[me.length-1]:ye+V===me.length?me[0]:me[ye+V]),M&&$.setState("value",M.getAttribute(Gi))}function O(V){let J=U(),ce=J?.closest(So),me;for(;ce&&!me;)ce=V>0?b5(ce,So):j5(ce,So),me=ce?.querySelector(uj);me?$.setState("value",me.getAttribute(Gi)):S(V)}let le=()=>R(ie().length-1),P=V=>{V.preventDefault(),V.metaKey?le():V.altKey?O(1):S(1)},se=V=>{V.preventDefault(),V.metaKey?R(0):V.altKey?O(-1):S(-1)};return v.createElement(ze.div,{ref:s,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:V=>{var J;(J=_.onKeyDown)==null||J.call(_,V);let ce=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||ce))switch(V.key){case"n":case"j":{b&&V.ctrlKey&&P(V);break}case"ArrowDown":{P(V);break}case"p":case"k":{b&&V.ctrlKey&&se(V);break}case"ArrowUp":{se(V);break}case"Home":{V.preventDefault(),R(0);break}case"End":{V.preventDefault(),le();break}case"Enter":{V.preventDefault();let me=U();if(me){let ye=new Event(bp);me.dispatchEvent(ye)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:S5},g),qd(e,V=>v.createElement(bC.Provider,{value:$},v.createElement(yC.Provider,{value:Y},V))))}),f5=v.forwardRef((e,s)=>{var r,l;let c=zs(),u=v.useRef(null),f=v.useContext(jC),m=ic(),g=wC(e),p=(l=(r=g.current)==null?void 0:r.forceMount)!=null?l:f?.forceMount;Wr(()=>{if(!p)return m.item(c,f?.id)},[p]);let x=SC(c,u,[e.value,e.children,u],e.keywords),y=Cg(),w=mr(Z=>Z.value&&Z.value===x.current),C=mr(Z=>p||m.filter()===!1?!0:Z.search?Z.filtered.items.get(c)>0:!0);v.useEffect(()=>{let Z=u.current;if(!(!Z||e.disabled))return Z.addEventListener(bp,T),()=>Z.removeEventListener(bp,T)},[C,e.onSelect,e.disabled]);function T(){var Z,$;j(),($=(Z=g.current).onSelect)==null||$.call(Z,x.current)}function j(){y.setState("value",x.current,!0)}if(!C)return null;let{disabled:b,value:_,onSelect:E,forceMount:B,keywords:D,...z}=e;return v.createElement(ze.div,{ref:Vr(u,s),...z,id:c,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!w,"data-disabled":!!b,"data-selected":!!w,onPointerMove:b||m.getDisablePointerSelection()?void 0:j,onClick:b?void 0:T},e.children)}),m5=v.forwardRef((e,s)=>{let{heading:r,children:l,forceMount:c,...u}=e,f=zs(),m=v.useRef(null),g=v.useRef(null),p=zs(),x=ic(),y=mr(C=>c||x.filter()===!1?!0:C.search?C.filtered.groups.has(f):!0);Wr(()=>x.group(f),[]),SC(f,m,[e.value,e.heading,g]);let w=v.useMemo(()=>({id:f,forceMount:c}),[c]);return v.createElement(ze.div,{ref:Vr(m,s),...u,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},r&&v.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:p},r),qd(e,C=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?p:void 0},v.createElement(jC.Provider,{value:w},C))))}),h5=v.forwardRef((e,s)=>{let{alwaysRender:r,...l}=e,c=v.useRef(null),u=mr(f=>!f.search);return!r&&!u?null:v.createElement(ze.div,{ref:Vr(c,s),...l,"cmdk-separator":"",role:"separator"})}),p5=v.forwardRef((e,s)=>{let{onValueChange:r,...l}=e,c=e.value!=null,u=Cg(),f=mr(p=>p.search),m=mr(p=>p.selectedItemId),g=ic();return v.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),v.createElement(ze.input,{ref:s,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":m,id:g.inputId,type:"text",value:c?e.value:f,onChange:p=>{c||u.setState("search",p.target.value),r?.(p.target.value)}})}),g5=v.forwardRef((e,s)=>{let{children:r,label:l="Suggestions",...c}=e,u=v.useRef(null),f=v.useRef(null),m=mr(p=>p.selectedItemId),g=ic();return v.useEffect(()=>{if(f.current&&u.current){let p=f.current,x=u.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let C=p.offsetHeight;x.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return w.observe(p),()=>{cancelAnimationFrame(y),w.unobserve(p)}}},[]),v.createElement(ze.div,{ref:Vr(u,s),...c,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":l,id:g.listId},qd(e,p=>v.createElement("div",{ref:Vr(f,g.listInnerRef),"cmdk-list-sizer":""},p)))}),x5=v.forwardRef((e,s)=>{let{open:r,onOpenChange:l,overlayClassName:c,contentClassName:u,container:f,...m}=e;return v.createElement(eg,{open:r,onOpenChange:l},v.createElement(tg,{container:f},v.createElement(jd,{"cmdk-overlay":"",className:c}),v.createElement(Nd,{"aria-label":e.label,"cmdk-dialog":"",className:u},v.createElement(NC,{ref:s,...m}))))}),v5=v.forwardRef((e,s)=>mr(r=>r.filtered.count===0)?v.createElement(ze.div,{ref:s,...e,"cmdk-empty":"",role:"presentation"}):null),y5=v.forwardRef((e,s)=>{let{progress:r,children:l,label:c="Loading...",...u}=e;return v.createElement(ze.div,{ref:s,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":c},qd(e,f=>v.createElement("div",{"aria-hidden":!0},f)))}),Ys=Object.assign(NC,{List:g5,Item:f5,Input:p5,Group:m5,Separator:h5,Dialog:x5,Empty:v5,Loading:y5});function b5(e,s){let r=e.nextElementSibling;for(;r;){if(r.matches(s))return r;r=r.nextElementSibling}}function j5(e,s){let r=e.previousElementSibling;for(;r;){if(r.matches(s))return r;r=r.previousElementSibling}}function wC(e){let s=v.useRef(e);return Wr(()=>{s.current=e}),s}var Wr=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Qi(e){let s=v.useRef();return s.current===void 0&&(s.current=e()),s}function mr(e){let s=Cg(),r=()=>e(s.snapshot());return v.useSyncExternalStore(s.subscribe,r,r)}function SC(e,s,r,l=[]){let c=v.useRef(),u=ic();return Wr(()=>{var f;let m=(()=>{var p;for(let x of r){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(p=x.current.textContent)==null?void 0:p.trim():c.current}})(),g=l.map(p=>p.trim());u.value(e,m,g),(f=s.current)==null||f.setAttribute(Gi,m),c.current=m}),c}var N5=()=>{let[e,s]=v.useState(),r=Qi(()=>new Map);return Wr(()=>{r.current.forEach(l=>l()),r.current=new Map},[e]),(l,c)=>{r.current.set(l,c),s({})}};function w5(e){let s=e.type;return typeof s=="function"?s(e.props):"render"in s?s.render(e.props):e}function qd({asChild:e,children:s},r){return e&&v.isValidElement(s)?v.cloneElement(w5(s),{ref:s.ref},r(s.props.children)):r(s)}var S5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const CC=v.forwardRef(({className:e,...s},r)=>n.jsx(Ys,{ref:r,className:_e("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...s}));CC.displayName=Ys.displayName;const TC=v.forwardRef(({className:e,...s},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(Xi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(Ys.Input,{ref:r,className:_e("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...s})]}));TC.displayName=Ys.Input.displayName;const _C=v.forwardRef(({className:e,...s},r)=>n.jsx(Ys.List,{ref:r,className:_e("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...s}));_C.displayName=Ys.List.displayName;const AC=v.forwardRef((e,s)=>n.jsx(Ys.Empty,{ref:s,className:"py-6 text-center text-sm",...e}));AC.displayName=Ys.Empty.displayName;const EC=v.forwardRef(({className:e,...s},r)=>n.jsx(Ys.Group,{ref:r,className:_e("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...s}));EC.displayName=Ys.Group.displayName;const C5=v.forwardRef(({className:e,...s},r)=>n.jsx(Ys.Separator,{ref:r,className:_e("-mx-1 h-px bg-border",e),...s}));C5.displayName=Ys.Separator.displayName;const kC=v.forwardRef(({className:e,...s},r)=>n.jsx(Ys.Item,{ref:r,className:_e("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...s}));kC.displayName=Ys.Item.displayName;var $d="Popover",[RC]=Fs($d,[Nl]),lc=Nl(),[T5,xr]=RC($d),OC=e=>{const{__scopePopover:s,children:r,open:l,defaultOpen:c,onOpenChange:u,modal:f=!1}=e,m=lc(s),g=v.useRef(null),[p,x]=v.useState(!1),[y,w]=Jn({prop:l,defaultProp:c??!1,onChange:u,caller:$d});return n.jsx(XN,{...m,children:n.jsx(T5,{scope:s,contentId:zs(),triggerRef:g,open:y,onOpenChange:w,onOpenToggle:v.useCallback(()=>w(C=>!C),[w]),hasCustomAnchor:p,onCustomAnchorAdd:v.useCallback(()=>x(!0),[]),onCustomAnchorRemove:v.useCallback(()=>x(!1),[]),modal:f,children:r})})};OC.displayName=$d;var MC="PopoverAnchor",_5=v.forwardRef((e,s)=>{const{__scopePopover:r,...l}=e,c=xr(MC,r),u=lc(r),{onCustomAnchorAdd:f,onCustomAnchorRemove:m}=c;return v.useEffect(()=>(f(),()=>m()),[f,m]),n.jsx(hd,{...u,...l,ref:s})});_5.displayName=MC;var DC="PopoverTrigger",PC=v.forwardRef((e,s)=>{const{__scopePopover:r,...l}=e,c=xr(DC,r),u=lc(r),f=mt(s,c.triggerRef),m=n.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":FC(c.open),...l,ref:f,onClick:Ie(e.onClick,c.onOpenToggle)});return c.hasCustomAnchor?m:n.jsx(hd,{asChild:!0,...u,children:m})});PC.displayName=DC;var Tg="PopoverPortal",[A5,E5]=RC(Tg,{forceMount:void 0}),BC=e=>{const{__scopePopover:s,forceMount:r,children:l,container:c}=e,u=xr(Tg,s);return n.jsx(A5,{scope:s,forceMount:r,children:n.jsx(zn,{present:r||u.open,children:n.jsx(Xo,{asChild:!0,container:c,children:l})})})};BC.displayName=Tg;var hl="PopoverContent",IC=v.forwardRef((e,s)=>{const r=E5(hl,e.__scopePopover),{forceMount:l=r.forceMount,...c}=e,u=xr(hl,e.__scopePopover);return n.jsx(zn,{present:l||u.open,children:u.modal?n.jsx(R5,{...c,ref:s}):n.jsx(O5,{...c,ref:s})})});IC.displayName=hl;var k5=qr("PopoverContent.RemoveScroll"),R5=v.forwardRef((e,s)=>{const r=xr(hl,e.__scopePopover),l=v.useRef(null),c=mt(s,l),u=v.useRef(!1);return v.useEffect(()=>{const f=l.current;if(f)return Zp(f)},[]),n.jsx(yd,{as:k5,allowPinchZoom:!0,children:n.jsx(zC,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,f=>{f.preventDefault(),u.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,f=>{const m=f.detail.originalEvent,g=m.button===0&&m.ctrlKey===!0,p=m.button===2||g;u.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1})})})}),O5=v.forwardRef((e,s)=>{const r=xr(hl,e.__scopePopover),l=v.useRef(!1),c=v.useRef(!1);return n.jsx(zC,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(l.current||r.triggerRef.current?.focus(),u.preventDefault()),l.current=!1,c.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(l.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=u.target;r.triggerRef.current?.contains(f)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),zC=v.forwardRef((e,s)=>{const{__scopePopover:r,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:x,...y}=e,w=xr(hl,r),C=lc(r);return Yp(),n.jsx(xd,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:c,onUnmountAutoFocus:u,children:n.jsx(xl,{asChild:!0,disableOutsidePointerEvents:f,onInteractOutside:x,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:n.jsx(Hp,{"data-state":FC(w.open),role:"dialog",id:w.contentId,...C,...y,ref:s,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LC="PopoverClose",M5=v.forwardRef((e,s)=>{const{__scopePopover:r,...l}=e,c=xr(LC,r);return n.jsx(ze.button,{type:"button",...l,ref:s,onClick:Ie(e.onClick,()=>c.onOpenChange(!1))})});M5.displayName=LC;var D5="PopoverArrow",P5=v.forwardRef((e,s)=>{const{__scopePopover:r,...l}=e,c=lc(r);return n.jsx(Gp,{...c,...l,ref:s})});P5.displayName=D5;function FC(e){return e?"open":"closed"}var B5=OC,I5=PC,z5=BC,UC=IC;const L5=B5,F5=I5,VC=v.forwardRef(({className:e,align:s="center",sideOffset:r=4,...l},c)=>n.jsx(z5,{children:n.jsx(UC,{ref:c,align:s,sideOffset:r,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...l})}));VC.displayName=UC.displayName;function U5({open:e,onOpenChange:s,currentServerName:r,hasSecretConfig:l}){const{toast:c}=es(),u=Os(),[f,m]=v.useState(r||""),[g,p]=v.useState(""),[x,y]=v.useState(!1),{data:w=[],isLoading:C}=wt({queryKey:["/api/servers/list"],enabled:e&&!l}),T=qe({mutationFn:async _=>await(await Mt("POST","/api/server/configure",_)).json(),onSuccess:_=>{c({title:"Server configured successfully",description:"Your server name has been saved."}),_&&_.requiresRefresh?(c({title:"Server context switched",description:"Refreshing to load new server data..."}),u.clear(),setTimeout(()=>{window.location.reload()},1e3)):u.invalidateQueries({queryKey:["/api/server/info"]}),s(!1)},onError:_=>{c({title:"Configuration failed",description:_.message||"Failed to configure server",variant:"destructive"})}}),j=_=>{if(_.preventDefault(),!f.trim()){c({title:"Server required",description:"Please select a server",variant:"destructive"});return}T.mutate({serverName:f.trim(),description:g.trim()||void 0})},b=w.find(_=>_.name===f);return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[n.jsxs(It,{children:[n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Wi,{className:"h-5 w-5"}),"Server Configuration"]}),n.jsx(Mo,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),l&&n.jsxs(fl,{"data-testid":"alert-secret-configured",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(ml,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!l&&n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{"data-testid":"label-server-name",children:"Select Server *"}),C?n.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[n.jsx(ko,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):n.jsxs(L5,{open:x,onOpenChange:y,children:[n.jsx(F5,{asChild:!0,children:n.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:T.isPending,"data-testid":"button-server-select",children:[f?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(s0,{className:"h-4 w-4"}),n.jsx("span",{children:f}),b&&n.jsxs(et,{variant:"secondary",className:"ml-auto",children:[b.currentBots,"/",b.totalBots]})]}):n.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),n.jsx(Pp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(VC,{className:"w-full p-0",align:"start",children:n.jsxs(CC,{children:[n.jsx(TC,{placeholder:"Search servers...",className:"h-9"}),n.jsx(AC,{children:"No servers found."}),n.jsx(_C,{className:"max-h-[200px]",children:n.jsx(EC,{children:w.map(_=>n.jsxs(kC,{value:_.name,onSelect:()=>{m(_.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${_.name}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(s0,{className:"h-4 w-4"}),n.jsx("span",{children:_.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(et,{variant:_.currentBots===0?"secondary":_.remainingBots===0?"destructive":"default",className:"text-xs",children:[_.currentBots,"/",_.totalBots]}),_.remainingBots>0&&n.jsxs("span",{className:"text-xs text-green-600",children:[_.remainingBots," free"]})]})]},_.name))})})]})})]}),b&&n.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Bot Usage: ",b.currentBots,"/",b.totalBots]}),n.jsxs("span",{className:b.remainingBots>0?"text-green-600":"text-red-600",children:[b.remainingBots," slots available"]})]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),n.jsx(aa,{id:"description","data-testid":"textarea-description",value:g,onChange:_=>p(_.target.value),placeholder:"Describe the purpose of this server...",disabled:T.isPending,rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:T.isPending,"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(Q,{type:"submit",disabled:T.isPending||!f.trim(),"data-testid":"button-save-config",children:[T.isPending&&n.jsx(ko,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",f]})]})]}),l&&n.jsx("div",{className:"flex justify-end",children:n.jsx(Q,{onClick:()=>s(!1),"data-testid":"button-close",children:"Close"})})]})})}var _g="Progress",Ag=100,[V5]=Fs(_g),[q5,$5]=V5(_g),qC=v.forwardRef((e,s)=>{const{__scopeProgress:r,value:l=null,max:c,getValueLabel:u=H5,...f}=e;(c||c===0)&&!dj(c)&&console.error(G5(`${c}`,"Progress"));const m=dj(c)?c:Ag;l!==null&&!fj(l,m)&&console.error(Q5(`${l}`,"Progress"));const g=fj(l,m)?l:null,p=ad(g)?u(g,m):void 0;return n.jsx(q5,{scope:r,value:g,max:m,children:n.jsx(ze.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":ad(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":GC(g,m),"data-value":g??void 0,"data-max":m,...f,ref:s})})});qC.displayName=_g;var $C="ProgressIndicator",HC=v.forwardRef((e,s)=>{const{__scopeProgress:r,...l}=e,c=$5($C,r);return n.jsx(ze.div,{"data-state":GC(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...l,ref:s})});HC.displayName=$C;function H5(e,s){return`${Math.round(e/s*100)}%`}function GC(e,s){return e==null?"indeterminate":e===s?"complete":"loading"}function ad(e){return typeof e=="number"}function dj(e){return ad(e)&&!isNaN(e)&&e>0}function fj(e,s){return ad(e)&&!isNaN(e)&&e<=s&&e>=0}function G5(e,s){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ag}\`.`}function Q5(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ag} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QC=qC,K5=HC;const jp=v.forwardRef(({className:e,value:s,...r},l)=>n.jsx(QC,{ref:l,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(K5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));jp.displayName=QC.displayName;function Y5(){const{data:e,isLoading:s}=wt({queryKey:["/api/servers/all"],refetchInterval:5e3}),r=e?.servers||[],l=(y,w,C)=>y!=="active"?n.jsx(hk,{className:"h-4 w-4 text-red-500"}):w>=C?n.jsx(Nn,{className:"h-4 w-4 text-yellow-500"}):n.jsx(gk,{className:"h-4 w-4 text-green-500"}),c=(y,w,C)=>y!=="active"?n.jsx(et,{variant:"destructive",children:"Inactive"}):w>=C?n.jsx(et,{variant:"secondary",children:"Full"}):w===0?n.jsx(et,{variant:"outline",children:"Empty"}):n.jsx(et,{variant:"default",children:"Active"}),u=y=>y>=90?"bg-red-500":y>=70?"bg-yellow-500":"bg-green-500",f=r.length,m=r.filter(y=>y.serverStatus==="active").length,g=r.reduce((y,w)=>y+w.currentBots,0),p=r.reduce((y,w)=>y+w.maxBots,0),x=p>0?Math.round(g/p*100):0;return s?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,w)=>n.jsx(ge,{children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},w))})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ge,{"data-testid":"card-total-servers",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:f})]}),n.jsx(Wi,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(ge,{"data-testid":"card-active-servers",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),n.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:m})]}),n.jsx(Mp,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(ge,{"data-testid":"card-total-bots",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:g})]}),n.jsx(Sa,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(ge,{"data-testid":"card-avg-utilization",children:n.jsx(xe,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),n.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),n.jsx("div",{className:"text-right",children:n.jsx(jp,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Wi,{className:"h-5 w-5"}),"Server Status Overview"]}),n.jsx(at,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),n.jsxs(xe,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(y=>{const w=y.maxBots>0?Math.round(y.currentBots/y.maxBots*100):0;return n.jsx(ge,{className:"relative overflow-hidden","data-testid":`card-server-${y.serverName}`,children:n.jsxs(xe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[l(y.serverStatus,y.currentBots,y.maxBots),n.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${y.serverName}`,children:y.serverName})]}),n.jsx("div",{"data-testid":`badge-status-${y.serverName}`,children:c(y.serverStatus,y.currentBots,y.maxBots)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Bots"}),n.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${y.serverName}`,children:[y.currentBots,"/",y.maxBots]})]}),n.jsx(jp,{value:w,className:`h-2 ${u(w)}`,"data-testid":`progress-utilization-${y.serverName}`}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{"data-testid":`text-utilization-${y.serverName}`,children:["Utilization: ",w,"%"]}),n.jsxs("span",{"data-testid":`text-slots-free-${y.serverName}`,children:[y.availableSlots," slots free"]})]}),y.description&&n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:y.description,"data-testid":`text-description-${y.serverName}`,children:y.description})]}),y.currentBots>=y.maxBots&&n.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},y.serverName)})}),r.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Wi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),n.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}var Hd="Switch",[Z5]=Fs(Hd),[X5,W5]=Z5(Hd),KC=v.forwardRef((e,s)=>{const{__scopeSwitch:r,name:l,checked:c,defaultChecked:u,required:f,disabled:m,value:g="on",onCheckedChange:p,form:x,...y}=e,[w,C]=v.useState(null),T=mt(s,B=>C(B)),j=v.useRef(!1),b=w?x||!!w.closest("form"):!0,[_,E]=Jn({prop:c,defaultProp:u??!1,onChange:p,caller:Hd});return n.jsxs(X5,{scope:r,checked:_,disabled:m,children:[n.jsx(ze.button,{type:"button",role:"switch","aria-checked":_,"aria-required":f,"data-state":WC(_),"data-disabled":m?"":void 0,disabled:m,value:g,...y,ref:T,onClick:Ie(e.onClick,B=>{E(D=>!D),b&&(j.current=B.isPropagationStopped(),j.current||B.stopPropagation())})}),b&&n.jsx(XC,{control:w,bubbles:!j.current,name:l,value:g,checked:_,required:f,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});KC.displayName=Hd;var YC="SwitchThumb",ZC=v.forwardRef((e,s)=>{const{__scopeSwitch:r,...l}=e,c=W5(YC,r);return n.jsx(ze.span,{"data-state":WC(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:s})});ZC.displayName=YC;var J5="SwitchBubbleInput",XC=v.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:l=!0,...c},u)=>{const f=v.useRef(null),m=mt(f,u),g=wd(r),p=md(s);return v.useEffect(()=>{const x=f.current;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(g!==r&&C){const T=new Event("click",{bubbles:l});C.call(x,r),x.dispatchEvent(T)}},[g,r,l]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...c,tabIndex:-1,ref:m,style:{...c.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});XC.displayName=J5;function WC(e){return e?"checked":"unchecked"}var JC=KC,eI=ZC;const eT=v.forwardRef(({className:e,...s},r)=>n.jsx(JC,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:r,children:n.jsx(eI,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eT.displayName=JC.displayName;function tI({open:e,onClose:s}){const[r,l]=v.useState(!1),[c,u]=v.useState({offerName:"",description:"",durationDays:0,durationMonths:1,autoApproval:!0,maxBots:""}),{toast:f}=es(),m=Os(),{data:g=[],isLoading:p}=wt({queryKey:["/api/admin/offers"],enabled:e}),x=qe({mutationFn:async _=>(await Mt("POST","/api/admin/offers/create",_)).json(),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/admin/offers"]}),m.invalidateQueries({queryKey:["/api/offer/current"]}),l(!1),u({offerName:"",description:"",durationDays:0,durationMonths:1,autoApproval:!0,maxBots:""}),f({title:"Offer created successfully!"})},onError:_=>{f({title:"Failed to create offer",description:_.message,variant:"destructive"})}}),y=qe({mutationFn:async()=>(await Mt("POST","/api/admin/offers/stop-current")).json(),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/admin/offers"]}),m.invalidateQueries({queryKey:["/api/offer/current"]}),f({title:"Current offer stopped successfully!"})},onError:_=>{f({title:"Failed to stop offer",description:_.message,variant:"destructive"})}}),w=qe({mutationFn:async _=>(await Mt("DELETE",`/api/admin/offers/${_}`)).json(),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/admin/offers"]}),m.invalidateQueries({queryKey:["/api/offer/current"]}),f({title:"Offer deleted successfully!"})},onError:_=>{f({title:"Failed to delete offer",description:_.message,variant:"destructive"})}}),C=()=>{if(!c.offerName.trim()){f({title:"Offer name is required",variant:"destructive"});return}if(c.durationDays===0&&c.durationMonths===0){f({title:"Duration must be greater than 0",variant:"destructive"});return}x.mutate({...c,maxBots:c.maxBots?parseInt(c.maxBots):void 0})},T=_=>new Date(_).toLocaleString(),j=_=>{const E=new Date().getTime(),D=new Date(_).getTime()-E;if(D<=0)return"Expired";const z=Math.floor(D/(1e3*60*60*24)),Z=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),$=Math.floor(D%(1e3*60*60)/(1e3*60));return z>0?`${z}d ${Z}h ${$}m`:Z>0?`${Z}h ${$}m`:`${$}m`},b=g.find(_=>_.isActive);return n.jsxs(n.Fragment,{children:[n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(It,{children:n.jsx(zt,{className:"text-xl font-bold flex items-center gap-2",children:"🎁 Offer Manager"})}),b&&n.jsxs(ge,{className:"bg-gradient-to-r from-green-600 to-emerald-600 border-none text-white mb-6",children:[n.jsx(Ue,{children:n.jsxs(Ve,{className:"text-white flex items-center justify-between",children:[n.jsx("span",{children:"🚀 Active Offer"}),n.jsx(et,{variant:"secondary",className:"bg-white/20 text-white",children:"Active"})]})}),n.jsx(xe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-lg",children:b.offerName}),b.description&&n.jsx("p",{className:"text-green-100 text-sm mt-1",children:b.description}),n.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[n.jsxs("p",{children:["⏱️ Duration: ",b.durationDays,"d ",b.durationMonths,"m"]}),n.jsxs("p",{children:["✅ Auto Approval: ",b.autoApproval?"Yes":"No"]}),b.maxBots&&n.jsxs("p",{children:["🤖 Max Bots: ",b.currentUsage,"/",b.maxBots]})]})]}),n.jsxs("div",{className:"text-right",children:[b.endTime&&n.jsxs("div",{className:"bg-white/20 rounded-lg p-3 mb-3",children:[n.jsx("p",{className:"text-sm text-green-100",children:"Time Remaining"}),n.jsx("p",{className:"text-lg font-bold",children:j(b.endTime)})]}),n.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,className:"bg-red-600 hover:bg-red-700",children:y.isPending?"Stopping...":"🛑 Stop Offer"})]})]})})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Offer Management"}),n.jsx(Q,{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700",children:"🎁 Create New Offer"})]}),n.jsx("div",{className:"space-y-4",children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):g.length===0?n.jsx(ge,{children:n.jsx(xe,{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No offers created yet"})})}):g.map(_=>n.jsx(ge,{className:_.isActive?"border-green-500":"",children:n.jsx(xe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[_.offerName,_.isActive&&n.jsx(et,{variant:"default",className:"bg-green-600 text-white",children:"Active"})]}),_.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-2",children:[n.jsxs("span",{children:["⏱️ ",_.durationDays,"d ",_.durationMonths,"m"]}),n.jsxs("span",{children:["✅ Auto: ",_.autoApproval?"Yes":"No"]}),_.maxBots&&n.jsxs("span",{children:["🤖 ",_.currentUsage,"/",_.maxBots," used"]}),n.jsxs("span",{children:["📅 Created: ",T(_.createdAt)]}),_.endTime&&_.isActive&&n.jsxs("span",{children:["⏰ Ends: ",j(_.endTime)]})]})]})})}),n.jsx("div",{className:"flex items-center gap-2",children:!_.isActive&&n.jsxs(wg,{children:[n.jsx(Sg,{asChild:!0,children:n.jsx(Q,{size:"sm",variant:"destructive",className:"text-red-600 border-red-600 hover:bg-red-50",children:"🗑️ Delete"})}),n.jsxs(Bd,{children:[n.jsxs(Id,{children:[n.jsx(Ld,{children:"Delete Offer"}),n.jsxs(Fd,{children:['Are you sure you want to delete "',_.offerName,'"? This action cannot be undone.']})]}),n.jsxs(zd,{children:[n.jsx(Vd,{children:"Cancel"}),n.jsx(Ud,{onClick:()=>w.mutate(_.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})})]})})},_.id))})]})}),n.jsx(Ut,{open:r,onOpenChange:l,children:n.jsxs(Bt,{children:[n.jsx(It,{children:n.jsx(zt,{children:"🎁 Create New Offer"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"offerName",children:"Offer Name *"}),n.jsx(Lt,{id:"offerName",value:c.offerName,onChange:_=>u(E=>({...E,offerName:_.target.value})),placeholder:"e.g., Spring Special Offer"})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"description",children:"Description"}),n.jsx(aa,{id:"description",value:c.description,onChange:_=>u(E=>({...E,description:_.target.value})),placeholder:"Optional description of the offer...",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"durationDays",children:"Duration (Days)"}),n.jsx(Lt,{id:"durationDays",type:"number",min:"0",value:c.durationDays,onChange:_=>u(E=>({...E,durationDays:parseInt(_.target.value)||0})),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"durationMonths",children:"Duration (Months)"}),n.jsx(Lt,{id:"durationMonths",type:"number",min:"0",value:c.durationMonths,onChange:_=>u(E=>({...E,durationMonths:parseInt(_.target.value)||0})),placeholder:"1"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(eT,{id:"autoApproval",checked:c.autoApproval,onCheckedChange:_=>u(E=>({...E,autoApproval:_}))}),n.jsx(Ae,{htmlFor:"autoApproval",children:"Auto-approve bots during offer"})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"maxBots",children:"Max Bots (Optional)"}),n.jsx(Lt,{id:"maxBots",type:"number",min:"1",value:c.maxBots,onChange:_=>u(E=>({...E,maxBots:_.target.value})),placeholder:"Leave empty for unlimited"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of bots that can use this offer"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{onClick:C,disabled:x.isPending,className:"bg-green-600 hover:bg-green-700",children:x.isPending?"Creating...":"🎁 Create Offer"}),n.jsx(Q,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})]})})]})}function sI(){const{toast:e}=es(),s=Os(),{logout:r}=tc(),[l,c]=v.useState(!1),[u,f]=v.useState(!1),[m,g]=v.useState(!1),{data:p=[],isLoading:x}=wt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const D=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!D.ok)throw new Error("Failed to fetch bot instances");return await D.json()}}),{data:y=[],isLoading:w}=wt({queryKey:["/api/admin/activities"],queryFn:async()=>{const D=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!D.ok)throw new Error("Failed to fetch activities");return await D.json()}}),{data:C}=wt({queryKey:["/api/admin/stats"],queryFn:async()=>{const D=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!D.ok)throw new Error("Failed to fetch stats");return D.json()}}),{data:T={}}=wt({queryKey:["/api/server/info"]}),j=qe({mutationFn:async D=>{const z=await fetch(`/api/admin/bot-instances/${D}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!z.ok)throw new Error("Failed to start bot");return z.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),b=qe({mutationFn:async D=>{const z=await fetch(`/api/admin/bot-instances/${D}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!z.ok)throw new Error("Failed to stop bot");return z.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),_=qe({mutationFn:async D=>{const z=await fetch(`/api/admin/bot-instances/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!z.ok){const Z=await z.text();throw new Error(Z||"Failed to delete bot")}return z.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),E=D=>{const z={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return n.jsx(et,{variant:z[D]||"secondary","data-testid":`status-${D}`,children:D.replace("_"," ").toUpperCase()})},B=D=>new Date(D).toLocaleString();return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"h-6 w-6 text-red-600"}),n.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),n.jsxs(Q,{variant:"outline",onClick:()=>{r(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[n.jsx(ZE,{className:"h-4 w-4"}),"Logout"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(ge,{children:[n.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium",children:"Total Bots"}),n.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(xe,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:C?.totalBots||p.length})})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium",children:"Online Bots"}),n.jsx(Mp,{className:"h-4 w-4 text-green-600"})]}),n.jsx(xe,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:p.filter(D=>D.status==="online").length})})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium",children:"Total Messages"}),n.jsx(DE,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(xe,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:p.reduce((D,z)=>D+(z.messagesCount||0),0)})})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium",children:"Commands Used"}),n.jsx(fk,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(xe,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:p.reduce((D,z)=>D+(z.commandsCount||0),0)})})]})]}),n.jsxs(Jr,{defaultValue:"overview",className:"space-y-4",children:[n.jsxs(gr,{children:[n.jsx(Pt,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),n.jsx(Pt,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),n.jsx(Pt,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),n.jsx(Pt,{value:"offers","data-testid":"tab-offers",children:"Offer Manager"}),n.jsx(Pt,{value:"server","data-testid":"tab-server",children:"Server Config"}),n.jsx(Pt,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),n.jsx(Et,{value:"overview",className:"space-y-4",children:n.jsx(Y5,{})}),n.jsx(Et,{value:"bots",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"Bot Instance Management"}),n.jsx(at,{children:"Manage all WhatsApp bot instances across the system"})]}),n.jsx(xe,{children:x?n.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):n.jsxs(td,{children:[n.jsx(sd,{children:n.jsxs(ar,{children:[n.jsx(Kt,{children:"Name"}),n.jsx(Kt,{children:"Phone Number"}),n.jsx(Kt,{children:"Status"}),n.jsx(Kt,{children:"Messages"}),n.jsx(Kt,{children:"Commands"}),n.jsx(Kt,{children:"Last Activity"}),n.jsx(Kt,{children:"Actions"})]})}),n.jsx(nd,{children:p.map(D=>n.jsxs(ar,{children:[n.jsx($t,{className:"font-medium","data-testid":`bot-name-${D.id}`,children:D.name}),n.jsx($t,{"data-testid":`bot-phone-${D.id}`,children:D.phoneNumber||"Not set"}),n.jsx($t,{children:E(D.status)}),n.jsx($t,{"data-testid":`bot-messages-${D.id}`,children:D.messagesCount||0}),n.jsx($t,{"data-testid":`bot-commands-${D.id}`,children:D.commandsCount||0}),n.jsx($t,{"data-testid":`bot-activity-${D.id}`,children:D.lastActivity?B(D.lastActivity):"Never"}),n.jsx($t,{children:n.jsxs("div",{className:"flex gap-2",children:[D.status==="offline"||D.status==="error"?n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>j.mutate(D.id),disabled:j.isPending,"data-testid":`button-start-${D.id}`,children:n.jsx($r,{className:"h-4 w-4"})}):n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>b.mutate(D.id),disabled:b.isPending,"data-testid":`button-stop-${D.id}`,children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsxs(wg,{children:[n.jsx(Sg,{asChild:!0,children:n.jsx(Q,{size:"sm",variant:"destructive","data-testid":`button-delete-${D.id}`,children:n.jsx(mN,{className:"h-4 w-4"})})}),n.jsxs(Bd,{children:[n.jsxs(Id,{children:[n.jsx(Ld,{children:"Delete Bot Instance"}),n.jsxs(Fd,{children:['Are you sure you want to delete "',D.name,'"? This action cannot be undone.']})]}),n.jsxs(zd,{children:[n.jsx(Vd,{children:"Cancel"}),n.jsx(Ud,{onClick:()=>_.mutate(D.id),"data-testid":`confirm-delete-${D.id}`,children:"Delete"})]})]})]})]})})]},D.id))})]})})]})}),n.jsx(Et,{value:"activities",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"System Activity Monitor"}),n.jsx(at,{children:"Recent activities across all bot instances"})]}),n.jsx(xe,{children:w?n.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:y.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):y.map(D=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(et,{variant:"outline","data-testid":`activity-type-${D.type}`,children:D.type.replace("_"," ").toUpperCase()}),n.jsx("span",{className:"text-sm text-muted-foreground",children:B(D.createdAt)})]}),n.jsx("p",{className:"text-sm","data-testid":`activity-description-${D.id}`,children:D.description}),D.metadata&&typeof D.metadata=="object"&&Object.keys(D.metadata).length>0?n.jsxs("details",{className:"text-xs",children:[n.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),n.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(D.metadata,null,2)})]}):null]},D.id))})})]})}),n.jsx(Et,{value:"offers",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"Offer Management"}),n.jsx(at,{children:"Create and manage special offers for bot registrations"})]}),n.jsxs(xe,{children:[n.jsx(Q,{onClick:()=>g(!0),className:"w-full","data-testid":"button-open-offer-manager",children:"🎁 Open Offer Manager"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Create time-limited offers with auto-approval and custom durations"})]})]})}),n.jsx(Et,{value:"server",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"Server Configuration"}),n.jsx(at,{children:"Configure server settings and tenancy management"})]}),n.jsx(xe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:T?.serverName||"default-server"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",T?.currentBots||0,"/",T?.maxBots||0]})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),n.jsx("p",{className:"text-sm",children:T?.hasSecretConfig?n.jsx("span",{className:"text-green-600",children:"✅ Environment Configured"}):n.jsx("span",{className:"text-yellow-600",children:"⚠️ Manual Configuration"})})]})]}),n.jsx(Q,{onClick:()=>f(!0),className:"w-full","data-testid":"button-configure-server-admin",children:"⚙️ Configure Server Settings"}),n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),n.jsx(Et,{value:"master",className:"space-y-4",children:n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsx(Ve,{children:"Master Control Panel"}),n.jsx(at,{children:"Cross-tenancy bot management using God Registry"})]}),n.jsxs(xe,{children:[n.jsx(Q,{onClick:()=>c(!0),className:"w-full","data-testid":"button-open-master-control",children:"🎛️ Open Master Control Panel"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),n.jsx(e5,{open:l,onClose:()=>c(!1)}),n.jsx(U5,{open:u,onOpenChange:f,currentServerName:T?.serverName||"",hasSecretConfig:T?.hasSecretConfig||!1}),n.jsx(tI,{open:m,onClose:()=>g(!1)})]})}function nI(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(ge,{className:"w-full max-w-md mx-4",children:n.jsxs(xe,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Kh,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function aI(){const{toast:e}=es(),[s,r]=v.useState(""),[l,c]=v.useState("session"),[u,f]=v.useState(!1),[m,g]=v.useState(null),p=[{step:1,title:"Enter Session ID",description:"Paste your bot's Base64 session credentials to verify ownership",icon:n.jsx(rn,{className:"h-5 w-5"}),completed:l!=="session"},{step:2,title:"Check Connection",description:"Verify if your bot is currently active and connected",icon:n.jsx(Zi,{className:"h-5 w-5"}),completed:l==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:n.jsx(Yi,{className:"h-5 w-5"}),completed:u}],x=qe({mutationFn:async T=>{const j=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:T.trim()})});if(!j.ok){const b=await j.json();throw new Error(b.message||"Session verification failed")}return j.json()},onSuccess:T=>{g(T),T.botActive?(c("verified"),f(!0),e({title:"Bot Active!",description:`Your bot ${T.phoneNumber} is connected and ready to manage.`})):(c("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:T=>{e({title:"Verification Failed",description:T.message,variant:"destructive"})}}),y=qe({mutationFn:async T=>{const j=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:T.trim()})});if(!j.ok){const b=await j.json();throw new Error(b.message||"Session verification failed")}return j.json()},onSuccess:T=>{g(T),T.botActive?(c("verified"),f(!0),e({title:"Bot Active!",description:`Your bot ${T.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:T=>{e({title:"Verification Failed",description:T.message,variant:"destructive"})}}),w=()=>{if(!s.trim()){e({title:"Session ID Required",description:"Please paste your bot's session credentials",variant:"destructive"});return}x.mutate(s)},C=()=>{if(!s.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}y.mutate(s)};return n.jsx("div",{className:"min-h-screen w-full p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),n.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"h-5 w-5"}),"Verification Process"]}),n.jsx(at,{children:"Follow these steps to verify your bot session and access management features"})]}),n.jsx(xe,{children:n.jsx("div",{className:"space-y-4",children:p.map(T=>n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[n.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${T.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:T.completed?n.jsx(Yi,{className:"h-4 w-4"}):T.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium",children:T.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})]}),n.jsx(et,{variant:T.completed?"default":"outline",children:T.completed?"Completed":"Pending"})]},T.step))})})]}),l==="session"&&n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"h-5 w-5"}),"Enter Session Credentials"]}),n.jsx(at,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"session",children:"Session ID / Base64 Credentials"}),n.jsx("textarea",{id:"session",placeholder:"Paste your base64 session credentials here...",value:s,onChange:T=>r(T.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"We'll extract the phone number and check if your bot is currently active"})]}),n.jsx(Q,{onClick:w,disabled:x.isPending,className:"w-full","data-testid":"button-verify-session",children:x.isPending?"Verifying...":"Verify Session & Check Connection"})]})]}),l==="inactive"&&n.jsxs(ge,{className:"border-orange-200",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-5 w-5 text-orange-500"}),"Bot Connection Inactive"]}),n.jsxs(at,{children:["Your bot ",m?.phoneNumber," was found but is not currently connected. Please provide updated session credentials."]})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"newSession",children:"Updated Session ID / Base64 Credentials"}),n.jsx("textarea",{id:"newSession",placeholder:"Paste your updated base64 session credentials here...",value:s,onChange:T=>r(T.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-new-session-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Provide fresh session credentials to reactivate your bot connection"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:C,disabled:y.isPending,className:"flex-1","data-testid":"button-retry-verification",children:y.isPending?"Updating...":"Update & Verify Connection"}),n.jsx(Q,{variant:"outline",onClick:()=>{c("session"),r(""),g(null)},children:"Start Over"})]})]})]}),l==="verified"&&n.jsx(ge,{className:"border-green-200",children:n.jsx(xe,{className:"pt-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:n.jsx(Yi,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Bot Connection Verified!"}),n.jsxs("p",{className:"text-green-600 mt-1",children:["Your bot ",m?.phoneNumber," is active and ready to manage."]})]}),n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx(Q,{asChild:!0,children:n.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),n.jsx(Q,{variant:"outline",asChild:!0,children:n.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),n.jsx(ge,{className:"border-orange-200",children:n.jsx(xe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nn,{className:"h-5 w-5 text-orange-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),n.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function rI(){const{toast:e}=es(),s=Os(),[r,l]=v.useState(""),[c,u]=v.useState(""),[f,m]=v.useState("session"),[g,p]=v.useState(null),[x,y]=v.useState(null),[w,C]=v.useState(!1),[T,j]=v.useState(null),[b,_]=v.useState(!1),E=qe({mutationFn:async S=>{try{const le=S.trim(),P=atob(le);JSON.parse(P)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const O=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!O.ok){const le=await O.json();throw new Error(le.message||"Session verification failed")}return O.json()},onSuccess:S=>{if(j(S),l(S.phoneNumber),p(S.token),S.success&&S.botActive&&!S.credentialValidationFailed)m("dashboard"),y(S.botId),e({title:"Bot Active!",description:`Your bot ${S.phoneNumber} is connected and ready to manage.`});else if(S.success&&S.connectionUpdated&&!S.credentialValidationFailed)m("dashboard"),y(S.botId),e({title:"Session Updated!",description:"New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp."}),u(""),setTimeout(()=>{s.invalidateQueries({queryKey:["/api/guest/server-bots",S.phoneNumber]})},3e3);else{m("inactive");let O="Your bot is not currently connected. Please provide updated credentials.";S.credentialValidationFailed||S.message&&S.message.includes("validation failed")?O="The credentials you provided are invalid or expired. Please provide fresh session credentials.":S.message&&S.message.includes("Connection Failure")||S.message.includes("401")?O="Connection test failed - your credentials are invalid or expired. Please get a new session ID.":S.message&&S.message.includes("failed")&&(O="Connection test failed. Please ensure your credentials are current and valid."),e({title:"Bot Inactive",description:O,variant:"destructive"})}},onError:S=>{let O=S.message;O.includes("Cannot extract phone number")?O="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":O.includes("Invalid session ID format")&&(O="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Verification Failed",description:O,variant:"destructive"})}}),B=qe({mutationFn:async S=>{try{const le=S.trim(),P=atob(le);JSON.parse(P)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const O=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!O.ok){const le=await O.json();throw new Error(le.message||"Session update failed")}return O.json()},onSuccess:S=>{if(j(S),l(S.phoneNumber),p(S.token),S.success&&!S.credentialValidationFailed){m("dashboard"),y(S.botId);let O="Session Updated!",le="";S.crossServer?le=`✅ Credentials updated successfully for bot on ${S.botServer}! Success message sent to your WhatsApp.`:S.botActive?le=`✅ New session ID updated successfully! Your bot ${S.phoneNumber} is now connected and ready to manage.`:S.connectionUpdated?le="✅ New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp.":le="✅ Credentials updated successfully and success message sent to your WhatsApp.",e({title:O,description:le}),u(""),setTimeout(()=>{s.invalidateQueries({queryKey:["/api/guest/server-bots",S.phoneNumber]})},3e3)}else{let O="New session update failed - connection could not be verified";S.credentialValidationFailed||S.message&&S.message.includes("validation failed")?O="The new credentials you provided are invalid or expired. Please get a fresh session ID.":S.message&&S.message.includes("Connection Failure")||S.message.includes("401")?O="Connection test failed - your new credentials are invalid or expired. Please get a fresh session ID.":S.message&&S.message.includes("failed")&&(O="Connection test failed. Please ensure your new credentials are current and valid."),e({title:"Update Failed",description:O,variant:"destructive"})}},onError:S=>{let O=S.message;O.includes("Cannot extract phone number")?O="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":O.includes("Connection timeout")?O="❌ Connection timeout: Your new session ID may be expired or invalid. Please get a fresh session ID.":O.includes("phone number mismatch")?O="❌ Phone number mismatch: The new session ID belongs to a different phone number.":O.includes("Failed to establish connection")?O="❌ Cannot connect with new session ID. Please ensure it's valid and active.":O.includes("Invalid session ID format")&&(O="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Update Failed",description:O,variant:"destructive"})}});qe({mutationFn:async S=>{const O=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:S.trim()})});if(!O.ok){const le=await O.json();throw new Error(le.message||"Session verification failed")}return O.json()},onSuccess:S=>{j(S),l(S.phoneNumber),p(S.token),S.botActive?(m("dashboard"),y(S.botId),e({title:"Bot Active!",description:`Your bot ${S.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:S=>{e({title:"Verification Failed",description:S.message,variant:"destructive"})}});const{data:D=[],isLoading:z}=wt({queryKey:["/api/guest/server-bots",r],queryFn:async()=>{if(!r.trim()||f!=="dashboard")return[];const S=r.replace(/[\s\-\(\)\+]/g,""),O=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({phoneNumber:S})});if(!O.ok)return[];const le=await O.json();return console.log("Bot search response:",le),(le.bots||[]).map(se=>({...se,hostingServer:le.hostingServer||se.hostingServer||se.serverName,currentServer:le.currentServer,crossServer:se.crossServer||le.hostingServer!==le.currentServer}))},enabled:f==="dashboard"&&!!r.trim()&&!!g}),Z=qe({mutationFn:async({action:S,botId:O,phoneNumber:le})=>{const P=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:S,botId:O,phoneNumber:le})});if(!P.ok){const se=await P.json();throw new Error(se.message||`Failed to ${S} bot`)}return P.json()},onSuccess:(S,O)=>{e({title:"Action Successful",description:`Bot ${O.action} completed successfully`}),s.invalidateQueries({queryKey:["/api/guest/server-bots",r]})},onError:S=>{e({title:"Action Failed",description:S.message,variant:"destructive"})}}),$=qe({mutationFn:async({feature:S,enabled:O,botId:le})=>{const P=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:S,enabled:O,botId:le,phoneNumber:r})});if(!P.ok){const se=await P.json();throw new Error(se.message||"Failed to update feature")}return P.json()},onSuccess:S=>{const O=S.crossServer?` on ${S.hostingServer}`:"";e({title:"Feature Updated",description:`${S.feature} ${S.enabled?"enabled":"disabled"} successfully${O}`}),s.invalidateQueries({queryKey:["/api/guest/server-bots",r]})},onError:(S,O)=>{let le=S.message,P="Feature Update Failed";le.includes("Bot not found")?(P="Bot Not Found",le="The bot could not be found on the hosting server. It may have been removed."):le.includes("Only approved bots")?(P="Bot Not Approved",le="Only approved bots can have features updated. Please contact admin for approval."):le.includes("Invalid feature name")&&(P="Invalid Feature",le="The requested feature is not available for this bot."),e({title:P,description:le,variant:"destructive"})}}),Y=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}E.mutate(c)},W=()=>{if(!c.trim()){e({title:"Session ID Required",description:"Please paste your NEW session credentials",variant:"destructive"});return}u(c.trim()),B.mutate(c.trim())},ae=(S,O)=>{Z.mutate({action:S,botId:O.botId,phoneNumber:r})},de=(S,O,le)=>{const P=le.crossServer?{feature:S,enabled:O,botId:le.botId,phoneNumber:r}:{feature:S,enabled:O,botId:le.botId};$.mutate(P)},re=()=>{m("session"),l(""),u(""),p(null),y(null),j(null),_(!1)},oe=(S,O)=>{if(O==="pending")return n.jsx(et,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(S){case"online":return n.jsx(et,{className:"bg-green-500",children:"Online"});case"offline":return n.jsx(et,{variant:"outline",children:"Offline"});case"error":return n.jsx(et,{variant:"destructive",children:"Error"});default:return n.jsx(et,{variant:"outline",children:S})}},U=D.filter(S=>S.isActive&&S.isApproved),ie=D.filter(S=>S.approvalStatus==="pending"),R=D.filter(S=>!S.isActive||S.approvalStatus==="rejected");return n.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx(Sa,{className:"h-10 w-10 text-blue-600"}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with secure credential verification"})]}),n.jsx(ge,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:n.jsx(xe,{className:"pt-6",children:n.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:rn,active:f==="session",completed:["dashboard","inactive"].includes(f)},{step:2,title:"Check Connection",icon:jn,active:f==="inactive",completed:f==="dashboard"},{step:3,title:"Manage Bot",icon:fN,active:f==="dashboard",completed:!1}].map((S,O)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${S.completed?"bg-green-500 border-green-500 text-white":S.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:S.completed?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(S.icon,{className:"h-5 w-5"})}),n.jsx("div",{className:"ml-3 hidden sm:block",children:n.jsx("p",{className:`text-sm font-medium ${S.active||S.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:S.title})}),O<2&&n.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${S.completed?"bg-green-500":"bg-gray-300"}`})]},S.step))})})}),f==="session"&&!b&&n.jsxs(ge,{className:"border-blue-200",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"h-6 w-6 text-blue-600"}),"Enter Session Credentials"]}),n.jsx(at,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>C(!w),children:w?n.jsx(n0,{className:"h-4 w-4"}):n.jsx(a0,{className:"h-4 w-4"})})]}),n.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:c,onChange:S=>u(S.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${w?"":"filter blur-sm hover:filter-none focus:filter-none"}`,onKeyDown:S=>S.key==="Enter"&&S.ctrlKey&&Y()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll extract the phone number and check if your bot is currently active"}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[n.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"h-4 w-4"}),n.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:Y,disabled:E.isPending,size:"lg",className:"flex-1",children:E.isPending?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),n.jsxs(Q,{variant:"outline",onClick:()=>_(!0),size:"lg",className:"flex items-center gap-2",children:[n.jsx(Zi,{className:"h-4 w-4"}),"Use Phone Number"]})]}),n.jsxs(fl,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(ml,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),f==="session"&&b&&n.jsxs(ge,{className:"border-green-200",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Zi,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),n.jsx(at,{children:"Enter your phone number to search for your bot"})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),n.jsx(Lt,{placeholder:"+254700000000",value:r,onChange:S=>{const O=S.target.value.replace(/[\s\-\(\)]/g,"");l(O)},className:"text-lg",autoFocus:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Q,{onClick:()=>{if(!r.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}window.location.href="/guest/verification"},size:"lg",className:"flex-1",children:[n.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),n.jsx(Q,{variant:"outline",onClick:()=>_(!1),size:"lg",children:"Back to Session ID"})]})]})]}),f==="inactive"&&n.jsxs(ge,{className:"border-orange-200",children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),n.jsxs(at,{children:["Your bot ",T?.phoneNumber," was found but is not currently connected. Enter a NEW session ID and we'll automatically test the connection and update your bot."]})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>C(!w),children:w?n.jsx(n0,{className:"h-4 w-4"}):n.jsx(a0,{className:"h-4 w-4"})})]}),n.jsx("textarea",{placeholder:"Paste your NEW base64 session credentials here...",value:c,onChange:S=>u(S.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${w?"":"filter blur-sm hover:filter-none focus:filter-none"}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll test your NEW session ID connection, verify it works, then update your bot credentials"}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:n.jsx("strong",{children:"✅ What happens automatically:"})}),n.jsxs("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[n.jsx("li",{children:"• We test your new session ID connection"}),n.jsx("li",{children:"• Bot credentials are safely updated if valid"}),n.jsx("li",{children:"• A success message is sent to your WhatsApp"}),n.jsx("li",{children:"• You're taken to the bot management dashboard"})]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[n.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"h-4 w-4"}),n.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{onClick:W,disabled:B.isPending,className:"flex-1",size:"lg",children:B.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"h-4 w-4 mr-2 animate-spin"})," Auto-Testing & Updating Session..."]}):n.jsxs(n.Fragment,{children:[n.jsx(uk,{className:"h-4 w-4 mr-2"})," Auto-Test & Update Session"]})}),n.jsx(Q,{variant:"outline",onClick:()=>{m("session"),u(""),j(null),_(!1)},size:"lg",children:"Back"})]})]})]}),f==="dashboard"&&n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:n.jsx(xe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Yi,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),n.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",r]})]}),n.jsx(Q,{variant:"outline",size:"sm",onClick:re,className:"ml-auto",children:"Switch Account"})]})})}),n.jsxs(Jr,{defaultValue:"active",className:"w-full",children:[n.jsxs(gr,{className:"grid w-full grid-cols-3",children:[n.jsxs(Pt,{value:"active",className:"flex items-center gap-2",children:[n.jsx(Sa,{className:"h-4 w-4"}),"Active Bots (",U.length,")"]}),n.jsxs(Pt,{value:"pending",className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-4 w-4"}),"Pending (",ie.length,")"]}),n.jsxs(Pt,{value:"inactive",className:"flex items-center gap-2",children:[n.jsx(rl,{className:"h-4 w-4"}),"Inactive (",R.length,")"]})]}),n.jsx(Et,{value:"active",className:"space-y-4",children:z?n.jsx(ge,{children:n.jsxs(xe,{className:"pt-6 text-center",children:[n.jsx(jn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{children:"Loading your bots..."})]})}):U.length===0?n.jsx(ge,{children:n.jsxs(xe,{className:"pt-6 text-center",children:[n.jsx(Sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:U.map(S=>n.jsxs(ge,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[n.jsxs(Ue,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-lg",children:S.name}),n.jsxs("div",{className:"flex items-center gap-2",children:[S.crossServer&&n.jsxs(et,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:["📡 ",S.hostingServer]}),oe(S.status,S.approvalStatus)]})]}),n.jsxs(at,{children:[S.phoneNumber,S.crossServer&&n.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:"🌍 Cross-server management enabled"})]})]}),n.jsxs(xe,{className:"space-y-4",children:[S.crossServer&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-3",children:[n.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"🌐 Cross-Server Bot"}),n.jsx("p",{className:"text-xs text-blue-600",children:"Feature toggles require server connectivity"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),n.jsx("button",{onClick:()=>de("autoLike",!S.features?.autoLike,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),n.jsx("button",{onClick:()=>de("autoView",!S.features?.autoView,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),n.jsx("button",{onClick:()=>de("autoReact",!S.features?.autoReact,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),n.jsx("button",{onClick:()=>de("chatGPT",!S.features?.chatGPT,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),n.jsx("button",{onClick:()=>de("alwaysOnline",!S.features?.alwaysOnline,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),n.jsx("button",{onClick:()=>de("typingIndicator",!S.features?.typingIndicator,S),disabled:$.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),n.jsx("div",{className:"flex gap-2",children:S.crossServer?n.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-md p-2 text-center",children:[n.jsxs("p",{className:"text-xs text-blue-700",children:["🌐 Bot hosted on ",S.hostingServer]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Features can be toggled above"})]}):n.jsxs(n.Fragment,{children:[S.status==="offline"?n.jsxs(Q,{size:"sm",onClick:()=>ae("start",S),disabled:Z.isPending,className:"flex-1",children:[n.jsx($r,{className:"h-3 w-3 mr-1"}),"Start"]}):n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>ae("stop",S),disabled:Z.isPending,className:"flex-1",children:[n.jsx(rl,{className:"h-3 w-3 mr-1"}),"Stop"]}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ae("restart",S),disabled:Z.isPending,title:"Restart bot",children:n.jsx(jn,{className:"h-3 w-3"})})]})}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("span",{children:["Messages: ",S.messagesCount||0]}),n.jsxs("span",{children:["Commands: ",S.commandsCount||0]})]})]})]},S.id))})}),n.jsx(Et,{value:"pending",className:"space-y-4",children:ie.length===0?n.jsx(ge,{children:n.jsxs(xe,{className:"pt-6 text-center",children:[n.jsx(Yi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ie.map(S=>n.jsx(ge,{className:"border-yellow-200",children:n.jsxs(Ue,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-lg",children:S.name}),oe(S.status,S.approvalStatus)]}),n.jsx(at,{children:S.phoneNumber})]})},S.id))})}),n.jsx(Et,{value:"inactive",className:"space-y-4",children:R.length===0?n.jsx(ge,{children:n.jsxs(xe,{className:"pt-6 text-center",children:[n.jsx(Sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:R.map(S=>n.jsxs(ge,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[n.jsxs(Ue,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-lg",children:S.name}),oe(S.status,S.approvalStatus)]}),n.jsx(at,{children:S.phoneNumber})]}),n.jsxs(xe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),n.jsx("button",{onClick:()=>de("autoLike",!S.features?.autoLike,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),n.jsx("button",{onClick:()=>de("autoViewStatus",!S.features?.autoView,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),n.jsx("button",{onClick:()=>de("autoReact",!S.features?.autoReact,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),n.jsx("button",{onClick:()=>de("chatgptEnabled",!S.features?.chatGPT,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),n.jsx("button",{onClick:()=>de("alwaysOnline",!S.features?.alwaysOnline,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),n.jsx("button",{onClick:()=>de("typingIndicator",!S.features?.typingIndicator,S),disabled:$.isPending||S.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${S.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${S.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${S.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),n.jsx("div",{className:"flex gap-2",children:S.approvalStatus==="approved"?n.jsxs(n.Fragment,{children:[n.jsxs(Q,{size:"sm",onClick:()=>ae("start",S),disabled:Z.isPending,className:"flex-1",children:[n.jsx($r,{className:"h-3 w-3 mr-1"}),"Start"]}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ae("restart",S),disabled:Z.isPending,title:"Restart bot",children:n.jsx(jn,{className:"h-3 w-3"})})]}):n.jsxs(Q,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[n.jsx(Nn,{className:"h-3 w-3 mr-1"}),"Pending Approval"]})}),S.approvalStatus!=="approved"&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[n.jsx("p",{className:"text-yellow-800 font-medium",children:"⏳ Awaiting Admin Approval"}),n.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},S.id))})})]})]})]})})}function iI(){const{toast:e}=es(),s=Os(),[r,l]=v.useState(""),[c,u]=v.useState(!1),{data:f,isLoading:m}=wt({queryKey:["/api/guest/cross-server-bots",r],queryFn:async()=>{if(!r.trim())return{bots:[],servers:[]};const j=r.replace(/[\s\-\(\)\+]/g,""),b=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:j})});if(!b.ok){const _=await b.json();throw new Error(_.message||"Failed to fetch cross-server data")}return b.json()},enabled:c&&!!r.trim()}),g=qe({mutationFn:async({action:j,botId:b,serverName:_,data:E})=>{const B=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:j,botId:b,serverName:_,...E})});if(!B.ok){const D=await B.json();throw new Error(D.message||`Failed to ${j} bot on ${_}`)}return B.json()},onSuccess:(j,b)=>{e({title:"Cross-Server Action Successful",description:`${b.action} completed on ${b.serverName}`}),s.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:j=>{e({title:"Cross-Server Action Failed",description:j.message,variant:"destructive"})}}),p=()=>{if(!r.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}u(!0)},x=(j,b,_)=>{g.mutate({action:j,botId:b.id,serverName:b.serverName,data:_})},y=(j,b)=>{if(b==="pending")return n.jsx(et,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(j){case"online":return n.jsx(et,{className:"bg-green-500",children:"Online"});case"offline":return n.jsx(et,{variant:"outline",children:"Offline"});case"error":return n.jsx(et,{variant:"destructive",children:"Error"});default:return n.jsx(et,{variant:"outline",children:j})}},w=f?.bots||[],C=f?.servers||[],T=w.reduce((j,b)=>(j[b.serverName]||(j[b.serverName]=[]),j[b.serverName].push(b),j),{});return n.jsx("div",{className:"min-h-screen w-full p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ph,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),n.jsx(at,{children:"Enter your phone number to discover and manage bots across all servers"})]}),n.jsx(xe,{className:"space-y-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Lt,{type:"tel",placeholder:"+1234567890",value:r,onChange:j=>l(j.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),n.jsx(Q,{onClick:p,disabled:m,"data-testid":"button-search-cross-server",children:m?n.jsx(jn,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),c&&!m&&C.length>0&&n.jsxs(ge,{children:[n.jsxs(Ue,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Wi,{className:"h-5 w-5"}),"Server Overview"]}),n.jsxs(at,{children:["Your bots are distributed across ",C.length," server",C.length>1?"s":""]})]}),n.jsx(xe,{children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(j=>n.jsx(ge,{className:"border-blue-200",children:n.jsxs(xe,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:j.serverName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.botCount," bot",j.botCount>1?"s":""]})]}),j.serverUrl&&n.jsx(Q,{size:"sm",variant:"outline",asChild:!0,children:n.jsx("a",{href:j.serverUrl,target:"_blank",rel:"noopener noreferrer",children:n.jsx(zu,{className:"h-3 w-3"})})})]}),n.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-green-600",children:j.onlineBots})," online"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600",children:j.pendingBots})," pending"]})]})]})},j.serverName))})})]}),c&&!m&&w.length>0&&n.jsxs(Jr,{defaultValue:"all",className:"w-full",children:[n.jsxs(gr,{className:"grid w-full grid-cols-4",children:[n.jsxs(Pt,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",w.length,")"]}),n.jsxs(Pt,{value:"online","data-testid":"tab-online-servers",children:["Online (",w.filter(j=>j.status==="online").length,")"]}),n.jsxs(Pt,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",w.filter(j=>j.status==="offline").length,")"]}),n.jsxs(Pt,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",w.filter(j=>j.approvalStatus==="pending").length,")"]})]}),n.jsx(Et,{value:"all",className:"space-y-6",children:Object.entries(T).map(([j,b])=>n.jsxs(ge,{children:[n.jsx(Ue,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wi,{className:"h-5 w-5"}),j]}),n.jsxs(et,{variant:"outline",children:[b.length," bot",b.length>1?"s":""]})]})}),n.jsx(xe,{children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(_=>n.jsx(ge,{className:"border-gray-200",children:n.jsxs(xe,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:_.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_.phoneNumber})]}),y(_.status,_.approvalStatus)]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Messages"}),n.jsx("p",{className:"font-medium",children:_.messagesCount||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Commands"}),n.jsx("p",{className:"font-medium",children:_.commandsCount||0})]})]}),_.features&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.features.autoLike&&n.jsx(et,{variant:"outline",className:"text-xs",children:"Like"}),_.features.autoReact&&n.jsx(et,{variant:"outline",className:"text-xs",children:"React"}),_.features.autoView&&n.jsx(et,{variant:"outline",className:"text-xs",children:"View"}),_.features.chatGPT&&n.jsx(et,{variant:"outline",className:"text-xs",children:"AI"})]})]}),_.canManage&&_.approvalStatus==="approved"&&n.jsxs("div",{className:"flex gap-1",children:[_.status==="offline"?n.jsxs(Q,{size:"sm",onClick:()=>x("start",_),disabled:g.isPending,className:"flex-1","data-testid":`button-cross-start-${_.id}`,children:[n.jsx($r,{className:"h-3 w-3 mr-1"}),"Start"]}):n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",_),disabled:g.isPending,className:"flex-1","data-testid":`button-cross-stop-${_.id}`,children:[n.jsx(rl,{className:"h-3 w-3 mr-1"}),"Stop"]}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",_),disabled:g.isPending,"data-testid":`button-cross-restart-${_.id}`,children:n.jsx(jn,{className:"h-3 w-3"})}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("configure",_),disabled:g.isPending,"data-testid":`button-cross-config-${_.id}`,children:n.jsx(fN,{className:"h-3 w-3"})})]}),!_.canManage&&n.jsxs(fl,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(ml,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},_.id))})})]},j))}),n.jsx(Et,{value:"online",className:"space-y-4",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(j=>j.status==="online").map(j=>n.jsx(ge,{className:"border-green-200",children:n.jsxs(xe,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium",children:j.name}),y(j.status)]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[j.phoneNumber," • ",j.serverName]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>x("stop",j),disabled:g.isPending,className:"flex-1",children:[n.jsx(rl,{className:"h-3 w-3 mr-1"}),"Stop"]}),n.jsx(Q,{size:"sm",variant:"outline",onClick:()=>x("restart",j),disabled:g.isPending,children:n.jsx(jn,{className:"h-3 w-3"})})]})]})},j.id))})}),n.jsx(Et,{value:"offline",className:"space-y-4",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(j=>j.status==="offline").map(j=>n.jsx(ge,{className:"border-gray-200",children:n.jsxs(xe,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium",children:j.name}),y(j.status)]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[j.phoneNumber," • ",j.serverName]}),n.jsxs(Q,{size:"sm",onClick:()=>x("start",j),disabled:g.isPending,className:"w-full",children:[n.jsx($r,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},j.id))})}),n.jsx(Et,{value:"pending",className:"space-y-4",children:n.jsx("div",{className:"space-y-4",children:w.filter(j=>j.approvalStatus==="pending").map(j=>n.jsx(ge,{className:"border-yellow-200",children:n.jsxs(xe,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:j.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.phoneNumber," • ",j.serverName]})]}),y(j.status,j.approvalStatus)]}),n.jsxs(fl,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(ml,{children:["This bot is awaiting approval from the admin on ",j.serverName,"."]})]})]})},j.id))})})]}),c&&!m&&w.length===0&&n.jsx(ge,{children:n.jsxs(xe,{className:"pt-6 text-center space-y-4",children:[n.jsx(ph,{className:"h-16 w-16 text-muted-foreground mx-auto"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),n.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",r,"."]})]}),n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx(Q,{variant:"outline",asChild:!0,children:n.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),n.jsx(Q,{variant:"outline",asChild:!0,children:n.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),n.jsx(ge,{className:"border-blue-200",children:n.jsx(xe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ph,{className:"h-5 w-5 text-blue-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function lI({isOpen:e,onClose:s,onLogin:r}){const[l,c]=v.useState(""),[u,f]=v.useState(""),[m,g]=v.useState(!1),{toast:p}=es(),x=async y=>{y.preventDefault(),g(!0);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:u})});if(w.ok){const C=await w.json();localStorage.setItem("auth_token",C.token),localStorage.setItem("user",JSON.stringify(C.user)),r(C.token,C.user),s(),p({title:"Login successful",description:C.message}),C.user?.isAdmin&&window.location.reload()}else{const C=await w.json();p({title:"Login failed",description:C.message,variant:"destructive"})}}catch{p({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{g(!1)}};return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"sm:max-w-[425px]",children:[n.jsx(It,{children:n.jsx(zt,{children:"🔐 Admin Login"})}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"username",children:"Username"}),n.jsx(Lt,{id:"username",type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Enter admin username",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"password",children:"Password"}),n.jsx(Lt,{id:"password",type:"password",value:u,onChange:y=>f(y.target.value),placeholder:"Enter admin password",required:!0})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:m,className:"flex-1",children:m?"Logging in...":"Login"})]})]})]})})}function oI({isOpen:e,onClose:s}){const[r,l]=v.useState(null),[c,u]=v.useState(""),[f,m]=v.useState("file"),[g,p]=v.useState(!1),{toast:x}=es(),y=C=>{const T=C.target.files?.[0];T&&(T.name.endsWith(".json")?l(T):x({title:"Invalid file type",description:"Please select a .json file",variant:"destructive"}))},w=async C=>{if(C.preventDefault(),f==="file"&&!r){x({title:"No file selected",description:"Please select a credentials.json file",variant:"destructive"});return}if(f==="base64"&&!c.trim()){x({title:"No session ID provided",description:"Please paste your base64 session ID",variant:"destructive"});return}p(!0);try{let T;if(f==="file"){const b=new FormData;b.append("credentials",r),T=await fetch("/api/validate-credentials",{method:"POST",body:b})}else T=await fetch("/api/validate-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:c.trim()})});const j=await T.json();T.ok&&j.valid?x({title:"✅ Credentials Valid!",description:j.message}):x({title:"❌ Invalid Credentials",description:j.message,variant:"destructive"})}catch{x({title:"Validation error",description:"Failed to validate credentials",variant:"destructive"})}finally{p(!1),l(null),u(""),s()}};return n.jsx(Ut,{open:e,onOpenChange:s,children:n.jsxs(Bt,{className:"sm:max-w-[500px]",children:[n.jsx(It,{children:n.jsx(zt,{children:"🔍 Validate Session ID"})}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs(Jr,{value:f,onValueChange:m,className:"w-full",children:[n.jsxs(gr,{className:"grid w-full grid-cols-2",children:[n.jsx(Pt,{value:"file",children:"Upload File"}),n.jsx(Pt,{value:"base64",children:"Paste Session ID"})]}),n.jsxs(Et,{value:"file",className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"credentials",children:"Upload credentials.json"}),n.jsx(Lt,{id:"credentials",type:"file",accept:".json",onChange:y}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your WhatsApp session credentials.json file to test if it's valid"})]}),r&&n.jsxs("div",{className:"text-sm text-green-600",children:["✓ Selected: ",r.name]})]}),n.jsxs(Et,{value:"base64",className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"sessionData",children:"Paste Base64 Session ID"}),n.jsx(aa,{id:"sessionData",placeholder:"Paste your base64 encoded session data here...",value:c,onChange:C=>u(C.target.value),className:"min-h-[120px] font-mono text-xs"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your base64 encoded credentials.json data (session ID)"})]}),c.trim()&&n.jsxs("div",{className:"text-sm text-green-600",children:["✓ Session data pasted (",c.length," characters)"]})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),n.jsx(Q,{type:"submit",disabled:g||f==="file"&&!r||f==="base64"&&!c.trim(),className:"flex-1",children:g?"Validating...":"Validate"})]})]})]})})}function cI(e){switch(e){case"wait_approval":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"update_credentials":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"authenticate":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"authenticated":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}}function uI(e){switch(e){case"wait_approval":return n.jsx(Nn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"});case"update_credentials":return n.jsx(rn,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"});case"authenticate":return n.jsx(Sa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"});case"authenticated":return n.jsx($r,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"});default:return n.jsx(Sa,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 mt-0.5 flex-shrink-0"})}}function dI(e){switch(e){case"wait_approval":return"Pending Approval";case"update_credentials":return"Credentials Required";case"authenticate":return"Ready to Authenticate";case"authenticated":return"Bot Ready";default:return"Status Unknown"}}function fI(){const{toast:e}=es(),s=Os(),[r,l]=v.useState(""),[c,u]=v.useState(!1),[f,m]=v.useState(null),[g,p]=v.useState(!1),[x,y]=v.useState(null),[w,C]=v.useState(""),[T,j]=v.useState(!1),{data:b,isLoading:_,error:E}=wt({queryKey:["/api/guest/search-bot",r],queryFn:async()=>{if(!r.trim())return null;const U=r.replace(/[\s\-\(\)\+]/g,""),ie=await fetch("/api/guest/search-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:U})});if(!ie.ok){const R=await ie.json();throw new Error(R.message||"Bot not found")}return await ie.json()},enabled:c&&!!r.trim()}),B=qe({mutationFn:async({phoneNumber:U,sessionId:ie})=>{const R=U.replace(/[\s\-\(\)\+]/g,"");try{const O=ie.trim(),le=atob(O);JSON.parse(le)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const S=await fetch("/api/guest/validate-existing-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:R,sessionId:ie.trim()})});if(!S.ok){const O=await S.json();throw new Error(O.message||"Failed to validate session ID")}return S.json()},onSuccess:U=>{const ie=r.replace(/[\s\-\(\)\+]/g,"");m(U.guestToken),p(!0),y(ie),C(""),e({title:"Session validated successfully",description:U.message||"You can now manage your bot"}),s.invalidateQueries({queryKey:["/api/guest/search-bot",r]})},onError:U=>{e({title:"Session validation failed",description:U.message,variant:"destructive"})}}),D=qe({mutationFn:async({botId:U,phoneNumber:ie})=>{if(!f)throw new Error("Authentication required");const R=await fetch("/api/guest/bot/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({botId:U,phoneNumber:ie})});if(!R.ok){const S=await R.json();throw new Error(S.message||"Failed to start bot")}return R.json()},onSuccess:()=>{e({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/guest/search-bot",r]})},onError:U=>{e({title:"Failed to start bot",description:U.message,variant:"destructive"})}}),z=qe({mutationFn:async({botId:U,phoneNumber:ie})=>{if(!f)throw new Error("Authentication required");const R=await fetch("/api/guest/bot/stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({botId:U,phoneNumber:ie})});if(!R.ok){const S=await R.json();throw new Error(S.message||"Failed to stop bot")}return R.json()},onSuccess:()=>{e({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/guest/search-bot",r]})},onError:U=>{e({title:"Failed to stop bot",description:U.message,variant:"destructive"})}}),Z=qe({mutationFn:async({botId:U,phoneNumber:ie})=>{if(!f)throw new Error("Authentication required");const R=await fetch("/api/guest/bot/delete",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({botId:U,phoneNumber:ie})});if(!R.ok){const S=await R.json();throw new Error(S.message||"Failed to delete bot")}return R.json()},onSuccess:()=>{e({title:"Bot deleted successfully"}),u(!1),l(""),m(null),p(!1),y(null)},onError:U=>{e({title:"Failed to delete bot",description:U.message,variant:"destructive"})}}),$=v.useCallback(()=>{if(!r.trim()){e({title:"Phone number required",description:"Please enter your phone number to search for your bot",variant:"destructive"});return}u(!0)},[r,e]),Y=v.useCallback(()=>{if(!r.trim()){e({title:"Phone number required",description:"Please enter your phone number first",variant:"destructive"});return}if(!w.trim()){e({title:"Session ID required",description:"Please enter your session ID (base64 encoded credentials)",variant:"destructive"});return}B.mutate({phoneNumber:r,sessionId:w})},[r,w,B,e]),W=v.useCallback(()=>{m(null),p(!1),y(null),C("")},[]),ae=U=>{const ie=U.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return g&&x===ie&&!U.crossServer&&U.isApproved},de=U=>{if(!U)return!1;const ie=U.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return!g||x!==ie},re=(U,ie)=>ie==="approved"?U==="online"?n.jsx(et,{variant:"default",className:"bg-green-600",children:"Online"}):n.jsx(et,{variant:"secondary",children:"Offline"}):n.jsx(et,{variant:"outline",children:"Pending Approval"}),oe=U=>U?new Date(U).toLocaleString():"Never";return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ge,{className:"border-dashed",children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Xi,{className:"h-4 w-4"}),"Find My Bot"]}),n.jsx(at,{className:"text-xs",children:"Enter your phone number to manage your bot"})]}),n.jsxs(xe,{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Lt,{placeholder:"Enter phone number",value:r,onChange:U=>l(U.target.value),onKeyDown:U=>U.key==="Enter"&&$(),className:"pl-9 text-sm","data-testid":"input-phone-search"})]}),n.jsx(Q,{size:"sm",onClick:$,disabled:_||!r.trim(),"data-testid":"button-search-bot",children:_?n.jsx(jn,{className:"h-4 w-4 animate-spin"}):n.jsx(Xi,{className:"h-4 w-4"})})]}),b&&de(b)&&n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[n.jsx(rn,{className:"h-4 w-4"}),"Session ID Verification Required"]}),n.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:['To manage "',b.name,'" (',b.phoneNumber,"), please enter your session ID (base64 encoded credentials)."]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Session ID (Base64 Credentials)"}),n.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:w,onChange:U=>C(U.target.value),className:"w-full h-24 text-xs p-2 border border-blue-300 dark:border-blue-600 rounded resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","data-testid":"input-session-id"})]}),n.jsx(Q,{onClick:Y,disabled:B.isPending||!w.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-validate-session",children:B.isPending?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"h-3 w-3 mr-2 animate-spin"})," Validating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-3 w-3 mr-2"})," Validate Session ID"]})}),n.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 text-center bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:"💡 Enter your base64 encoded credentials (creds.json converted to base64) to verify bot ownership."})]})]}),b&&!de(b)&&n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 dark:text-green-300",children:[n.jsx(rn,{className:"h-3 w-3"}),"Authenticated for ",b.phoneNumber," - You can now manage this bot",n.jsxs("div",{className:"ml-auto flex gap-1",children:[n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{W(),u(!1),l("")},className:"text-xs h-6 px-2",title:"Search for another bot (requires re-authentication)",children:"Search Another"}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:W,className:"text-xs h-6 px-2",children:"Logout"})]})]})}),E&&n.jsx("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded border","data-testid":"error-search",children:E.message})]})]}),b&&n.jsxs(ge,{children:[n.jsxs(Ue,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Sa,{className:"h-4 w-4"}),b.name]}),re(b.status,b.approvalStatus)]}),n.jsxs(at,{className:"text-xs",children:[b.phoneNumber," • ",b.serverName?`Server: ${b.serverName}`:"No server assigned"]})]}),n.jsxs(xe,{className:"space-y-3","data-testid":`bot-card-${b.phoneNumber}`,children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[n.jsx("div",{className:"font-medium",children:"Messages"}),n.jsx("div",{className:"text-muted-foreground","data-testid":`bot-messages-${b.phoneNumber}`,children:b.messagesCount||0})]}),n.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[n.jsx("div",{className:"font-medium",children:"Commands"}),n.jsx("div",{className:"text-muted-foreground","data-testid":`bot-commands-${b.phoneNumber}`,children:b.commandsCount||0})]})]}),b.lastActivity&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last activity: ",oe(b.lastActivity)]}),n.jsx(ed,{}),b.crossServer&&n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Nn,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Cross-Server Bot Detected"}),n.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:b.message||`Your bot is registered on ${b.serverName}. To manage it, please visit that server.`}),n.jsxs(Q,{size:"sm",variant:"outline",className:"text-xs h-7",onClick:()=>{new URL(window.location.href),e({title:"Server Switch Required",description:`Your bot is on ${b.serverName}. Please contact the administrator for access to that server, or visit the correct server URL directly.`,variant:"default"})},"data-testid":`button-switch-server-${b.phoneNumber}`,children:[n.jsx(zu,{className:"h-3 w-3 mr-1"}),"Contact Admin for ",b.serverName]})]})]})}),!b.crossServer&&n.jsxs("div",{className:"space-y-3",children:[b.nextStep&&n.jsx("div",{className:`p-3 rounded border ${cI(b.nextStep)}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[uI(b.nextStep),n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("div",{className:"text-sm font-medium",children:dI(b.nextStep)}),n.jsx("p",{className:"text-xs",children:b.message}),b.invalidReason&&n.jsxs("p",{className:"text-xs opacity-75",children:["Reason: ",b.invalidReason]})]})]})}),n.jsx("div",{className:"flex gap-2",children:de(b)&&b.nextStep!=="wait_approval"?n.jsx("div",{className:"w-full bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700 text-center",children:n.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:g?`Please authenticate for this bot (${b.phoneNumber}) to manage actions`:"Authentication required to manage bot actions"})}):b.nextStep==="wait_approval"?n.jsx("div",{className:"w-full bg-amber-50 dark:bg-amber-900/20 p-3 rounded border border-amber-200 dark:border-amber-800 text-center",children:n.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Waiting for admin approval - check back later"})}):b.nextStep==="update_credentials"?n.jsxs("div",{className:"w-full space-y-2",children:[n.jsxs(Q,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>j(!0),"data-testid":`button-upload-credentials-${b.phoneNumber}`,disabled:!g,children:[n.jsx(rn,{className:"h-3 w-3 mr-1"}),"Upload New Credentials"]}),n.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Upload your creds.json file to reactivate your bot"})]}):b.nextStep==="authenticated"&&!de(b)?n.jsxs(n.Fragment,{children:[b.status==="online"?n.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>z.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:z.isPending||!ae(b),className:"flex-1 text-xs","data-testid":`button-stop-${b.phoneNumber}`,children:[z.isPending?n.jsx(jn,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx(rl,{className:"h-3 w-3 mr-1"}),"Stop"]}):n.jsxs(Q,{size:"sm",onClick:()=>D.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:D.isPending||!ae(b),className:"flex-1 text-xs","data-testid":`button-start-${b.phoneNumber}`,children:[D.isPending?n.jsx(jn,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx($r,{className:"h-3 w-3 mr-1"}),"Start"]}),n.jsxs(wg,{children:[n.jsx(Sg,{asChild:!0,children:n.jsx(Q,{size:"sm",variant:"destructive",className:"text-xs","data-testid":`button-delete-${b.phoneNumber}`,children:n.jsx(mN,{className:"h-3 w-3"})})}),n.jsxs(Bd,{children:[n.jsxs(Id,{children:[n.jsx(Ld,{children:"Delete Bot"}),n.jsxs(Fd,{children:['Are you sure you want to delete "',b.name,'"? This action cannot be undone.']})]}),n.jsxs(zd,{children:[n.jsx(Vd,{children:"Cancel"}),n.jsx(Ud,{onClick:()=>Z.mutate({botId:b.id,phoneNumber:b.phoneNumber}),"data-testid":`confirm-delete-${b.phoneNumber}`,children:"Delete"})]})]})]})]}):n.jsx("div",{className:"w-full text-xs text-muted-foreground bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 text-center",children:"⏳ Your bot is pending admin approval. Contact support for activation."})})]})]})]}),b&&n.jsx(G1,{open:T,onClose:()=>j(!1),botId:b.id,phoneNumber:b.phoneNumber,guestToken:f,onSuccess:()=>{s.invalidateQueries({queryKey:["/api/guest/search-bot",r]}),j(!1)}})]})}const mI=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/guest/verification",label:"Phone Verification",icon:"fas fa-phone"},{href:"/guest/bot-management",label:"Bot Management",icon:"fas fa-robot"},{href:"/guest/credentials",label:"Credential Manager",icon:"fas fa-key"},{href:"/guest/cross-server",label:"Cross-Server Bots",icon:"fas fa-network-wired"}],hI=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/bot-instances",label:"Bot Instances",icon:"fas fa-robot"},{href:"/commands",label:"Commands",icon:"fas fa-terminal"},{href:"/chatgpt",label:"ChatGPT Integration",icon:"fas fa-brain"},{href:"/groups",label:"Group Management",icon:"fas fa-users"},{href:"/analytics",label:"Analytics",icon:"fas fa-chart-line"},{href:"/settings",label:"Settings",icon:"fas fa-cog"}],pI=[{href:"/admin",label:"Admin Console",icon:"fas fa-shield-alt"}];function gI(){const[e]=Nj(),{user:s,isAuthenticated:r,isAdmin:l,logout:c}=tc(),[u,f]=v.useState(!1),[m,g]=v.useState(!1),[p,x]=v.useState(!1),[y,w]=v.useState(!0),C=v.useRef(null);return v.useEffect(()=>{const T=j=>{C.current&&!C.current.contains(j.target)&&!y&&w(!0)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[y]),n.jsxs(n.Fragment,{children:[n.jsx(Q,{variant:"default",size:"lg",onClick:()=>w(!y),className:"fixed top-6 left-6 z-[9999] p-4 bg-primary text-primary-foreground shadow-2xl hover:bg-primary/90 rounded-full border-2 border-background transition-all duration-300 hover:scale-110 w-14 h-14","data-testid":"sidebar-expand-button",title:y?"Expand Sidebar":"Collapse Sidebar",children:n.jsx("i",{className:`fas ${y?"fa-bars":"fa-times"} text-lg`})}),n.jsxs("aside",{ref:C,className:_e("bg-card border-r border-border flex flex-col transition-all duration-300 ease-in-out fixed left-0 top-0 h-full z-[9998]",y?"w-0 opacity-0 pointer-events-none -translate-x-full overflow-hidden":"w-64 opacity-100 translate-x-0"),"data-testid":"sidebar",children:[n.jsxs("div",{className:_e("border-b border-border flex items-center justify-between",y?"p-4":"p-6"),children:[n.jsxs("div",{className:_e("flex items-center",y?"justify-center w-full":"space-x-3"),children:[n.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fab fa-whatsapp text-primary-foreground text-xl"})}),!y&&n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Bot Manager"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Automation"})]})]}),!y&&n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"p-2 hover:bg-muted","data-testid":"sidebar-toggle",children:n.jsx("i",{className:"fas fa-chevron-left"})})]}),n.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(l?hI:mI).map(T=>n.jsx(Pu,{href:T.href,children:n.jsxs("div",{className:_e("flex items-center rounded-md transition-colors cursor-pointer",y?"justify-center px-3 py-3":"space-x-3 px-3 py-2",e===T.href?"bg-primary/10 text-primary border border-primary/20":"hover:bg-muted text-muted-foreground hover:text-foreground"),"data-testid":`nav-${T.label.toLowerCase().replace(" ","-")}`,title:y?T.label:void 0,children:[n.jsx("i",{className:`${T.icon} w-5`}),!y&&n.jsx("span",{children:T.label})]})},T.href)),!l&&!y&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-t border-border my-4"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"My Bots"}),n.jsx(fI,{})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-t border-border my-4"}),!y&&n.jsx("div",{className:"px-3 py-2",children:n.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),pI.map(T=>n.jsx(Pu,{href:T.href,children:n.jsxs("div",{className:_e("flex items-center rounded-md transition-colors cursor-pointer",y?"justify-center px-3 py-3":"space-x-3 px-3 py-2",e===T.href?"bg-red-500/10 text-red-600 border border-red-500/20":"hover:bg-red-500/5 text-muted-foreground hover:text-red-600"),"data-testid":`nav-${T.label.toLowerCase().replace(" ","-")}`,title:y?T.label:void 0,children:[n.jsx("i",{className:`${T.icon} w-5`}),!y&&n.jsx("span",{children:T.label})]})},T.href))]})]}),n.jsx("div",{className:"p-4 border-t border-border",children:r?n.jsxs("div",{className:_e("flex items-center px-3 py-2",y?"justify-center":"space-x-3"),children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:n.jsx("i",{className:"fas fa-user text-primary-foreground text-sm"})}),!y&&n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:s?.username||"User"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:l?"Administrator":"User"})]}),n.jsx("button",{onClick:c,className:"text-muted-foreground hover:text-foreground","data-testid":"button-logout",title:"Logout",children:n.jsx("i",{className:"fas fa-sign-out-alt"})})]}):n.jsxs(Q,{onClick:()=>f(!0),className:"w-full",size:y?"sm":"default",children:[n.jsx("i",{className:_e("fas fa-sign-in-alt",!y&&"mr-2")}),!y&&"Admin Login"]})}),n.jsx(lI,{isOpen:u,onClose:()=>f(!1),onLogin:(T,j)=>{f(!1)}}),n.jsx(oI,{isOpen:m,onClose:()=>g(!1)}),n.jsx(K1,{open:p,onClose:()=>x(!1)})]})]})}function Ih({children:e,requireAdmin:s=!1,requireAuth:r=!1}){const{isAuthenticated:l,isAdmin:c}=tc(),[,u]=Nj();return s&&!c?n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:n.jsxs(ge,{className:"max-w-md w-full",children:[n.jsxs(Ue,{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(r0,{className:"h-8 w-8 text-red-600"})}),n.jsx(Ve,{className:"text-2xl text-red-600",children:"Access Denied"}),n.jsx(at,{className:"text-base",children:"This page is restricted to administrators only."})]}),n.jsxs(xe,{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Q,{onClick:()=>u("/"),className:"w-full","data-testid":"button-return-dashboard",children:[n.jsx(Jb,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),n.jsx(Q,{onClick:()=>u("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):r&&!l?n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:n.jsxs(ge,{className:"max-w-md w-full",children:[n.jsxs(Ue,{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(r0,{className:"h-8 w-8 text-yellow-600"})}),n.jsx(Ve,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),n.jsx(at,{className:"text-base",children:"Please log in to access this page."})]}),n.jsxs(xe,{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),n.jsxs(Q,{onClick:()=>u("/"),className:"w-full","data-testid":"button-return-home",children:[n.jsx(Jb,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):n.jsx(n.Fragment,{children:e})}function xI(){return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[n.jsx(gI,{}),n.jsx("main",{className:"flex-1 overflow-auto transition-all duration-300 ease-in-out",children:n.jsx("div",{className:"p-4",children:n.jsxs(H_,{children:[n.jsx(er,{path:"/",component:kB}),n.jsx(er,{path:"/bot-instances",children:n.jsx(Ih,{requireAdmin:!0,children:n.jsx(BB,{})})}),n.jsx(er,{path:"/commands",children:n.jsx(Ih,{requireAdmin:!0,children:n.jsx(zB,{})})}),n.jsx(er,{path:"/admin",children:n.jsx(Ih,{requireAdmin:!0,children:n.jsx(sI,{})})}),n.jsx(er,{path:"/guest/verification",component:aI}),n.jsx(er,{path:"/guest/bot-management",component:rI}),n.jsx(er,{path:"/guest/cross-server",component:iI}),n.jsx(er,{component:nI})]})})})]})}function vI(){return n.jsx(pA,{client:ks,children:n.jsx(eM,{children:n.jsx(U4,{children:n.jsxs("div",{className:"dark",children:[n.jsx(nR,{}),n.jsx(xI,{})]})})})})}N_.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(vI,{})}));
