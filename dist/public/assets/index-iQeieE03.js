function WC(e,r){for(var s=0;s<r.length;s++){const i=r[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tf={exports:{}},bo={},Ef={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function KC(){if(Ex)return ot;Ex=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function b(F,M,de){this.props=F,this.context=M,this.refs=j,this.updater=de||C}b.prototype.isReactComponent={},b.prototype.setState=function(F,M){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,M,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=b.prototype;function _(F,M,de){this.props=F,this.context=M,this.refs=j,this.updater=de||C}var O=_.prototype=new S;O.constructor=_,k(O,b.prototype),O.isPureReactComponent=!0;var A=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function se(F,M,de){var xe,oe={},we=null,E=null;if(M!=null)for(xe in M.ref!==void 0&&(E=M.ref),M.key!==void 0&&(we=""+M.key),M)B.call(M,xe)&&!z.hasOwnProperty(xe)&&(oe[xe]=M[xe]);var Q=arguments.length-2;if(Q===1)oe.children=de;else if(1<Q){for(var pe=Array(Q),Ne=0;Ne<Q;Ne++)pe[Ne]=arguments[Ne+2];oe.children=pe}if(F&&F.defaultProps)for(xe in Q=F.defaultProps,Q)oe[xe]===void 0&&(oe[xe]=Q[xe]);return{$$typeof:e,type:F,key:we,ref:E,props:oe,_owner:G.current}}function Z(F,M){return{$$typeof:e,type:F.type,key:M,ref:F.ref,props:F.props,_owner:F._owner}}function ee(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function ae(F){var M={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(de){return M[de]})}var X=/\/+/g;function re(F,M){return typeof F=="object"&&F!==null&&F.key!=null?ae(""+F.key):M.toString(36)}function $(F,M,de,xe,oe){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var E=!1;if(F===null)E=!0;else switch(we){case"string":case"number":E=!0;break;case"object":switch(F.$$typeof){case e:case r:E=!0}}if(E)return E=F,oe=oe(E),F=xe===""?"."+re(E,0):xe,A(oe)?(de="",F!=null&&(de=F.replace(X,"$&/")+"/"),$(oe,M,de,"",function(Ne){return Ne})):oe!=null&&(ee(oe)&&(oe=Z(oe,de+(!oe.key||E&&E.key===oe.key?"":(""+oe.key).replace(X,"$&/")+"/")+F)),M.push(oe)),1;if(E=0,xe=xe===""?".":xe+":",A(F))for(var Q=0;Q<F.length;Q++){we=F[Q];var pe=xe+re(we,Q);E+=$(we,M,de,pe,oe)}else if(pe=w(F),typeof pe=="function")for(F=pe.call(F),Q=0;!(we=F.next()).done;)we=we.value,pe=xe+re(we,Q++),E+=$(we,M,de,pe,oe);else if(we==="object")throw M=String(F),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return E}function ie(F,M,de){if(F==null)return F;var xe=[],oe=0;return $(F,xe,"","",function(we){return M.call(de,we,oe++)}),xe}function q(F){if(F._status===-1){var M=F._result;M=M(),M.then(function(de){(F._status===0||F._status===-1)&&(F._status=1,F._result=de)},function(de){(F._status===0||F._status===-1)&&(F._status=2,F._result=de)}),F._status===-1&&(F._status=0,F._result=M)}if(F._status===1)return F._result.default;throw F._result}var P={current:null},R={transition:null},Y={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:G};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:ie,forEach:function(F,M,de){ie(F,function(){M.apply(this,arguments)},de)},count:function(F){var M=0;return ie(F,function(){M++}),M},toArray:function(F){return ie(F,function(M){return M})||[]},only:function(F){if(!ee(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ot.Component=b,ot.Fragment=s,ot.Profiler=o,ot.PureComponent=_,ot.StrictMode=i,ot.Suspense=p,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ot.act=ne,ot.cloneElement=function(F,M,de){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var xe=k({},F.props),oe=F.key,we=F.ref,E=F._owner;if(M!=null){if(M.ref!==void 0&&(we=M.ref,E=G.current),M.key!==void 0&&(oe=""+M.key),F.type&&F.type.defaultProps)var Q=F.type.defaultProps;for(pe in M)B.call(M,pe)&&!z.hasOwnProperty(pe)&&(xe[pe]=M[pe]===void 0&&Q!==void 0?Q[pe]:M[pe])}var pe=arguments.length-2;if(pe===1)xe.children=de;else if(1<pe){Q=Array(pe);for(var Ne=0;Ne<pe;Ne++)Q[Ne]=arguments[Ne+2];xe.children=Q}return{$$typeof:e,type:F.type,key:oe,ref:we,props:xe,_owner:E}},ot.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:c,_context:F},F.Consumer=F},ot.createElement=se,ot.createFactory=function(F){var M=se.bind(null,F);return M.type=F,M},ot.createRef=function(){return{current:null}},ot.forwardRef=function(F){return{$$typeof:f,render:F}},ot.isValidElement=ee,ot.lazy=function(F){return{$$typeof:x,_payload:{_status:-1,_result:F},_init:q}},ot.memo=function(F,M){return{$$typeof:g,type:F,compare:M===void 0?null:M}},ot.startTransition=function(F){var M=R.transition;R.transition={};try{F()}finally{R.transition=M}},ot.unstable_act=ne,ot.useCallback=function(F,M){return P.current.useCallback(F,M)},ot.useContext=function(F){return P.current.useContext(F)},ot.useDebugValue=function(){},ot.useDeferredValue=function(F){return P.current.useDeferredValue(F)},ot.useEffect=function(F,M){return P.current.useEffect(F,M)},ot.useId=function(){return P.current.useId()},ot.useImperativeHandle=function(F,M,de){return P.current.useImperativeHandle(F,M,de)},ot.useInsertionEffect=function(F,M){return P.current.useInsertionEffect(F,M)},ot.useLayoutEffect=function(F,M){return P.current.useLayoutEffect(F,M)},ot.useMemo=function(F,M){return P.current.useMemo(F,M)},ot.useReducer=function(F,M,de){return P.current.useReducer(F,M,de)},ot.useRef=function(F){return P.current.useRef(F)},ot.useState=function(F){return P.current.useState(F)},ot.useSyncExternalStore=function(F,M,de){return P.current.useSyncExternalStore(F,M,de)},ot.useTransition=function(){return P.current.useTransition()},ot.version="18.3.1",ot}var Ax;function rd(){return Ax||(Ax=1,Ef.exports=KC()),Ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function QC(){if(Rx)return bo;Rx=1;var e=rd(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var x,y={},w=null,C=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)i.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:r,type:f,key:w,ref:C,props:y,_owner:o.current}}return bo.Fragment=s,bo.jsx=u,bo.jsxs=u,bo}var Ix;function HC(){return Ix||(Ix=1,Tf.exports=QC()),Tf.exports}var t=HC(),gc={},Af={exports:{}},Mr={},Rf={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function GC(){return Ox||(Ox=1,(function(e){function r(R,Y){var ne=R.length;R.push(Y);e:for(;0<ne;){var F=ne-1>>>1,M=R[F];if(0<o(M,Y))R[F]=Y,R[ne]=M,ne=F;else break e}}function s(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var Y=R[0],ne=R.pop();if(ne!==Y){R[0]=ne;e:for(var F=0,M=R.length,de=M>>>1;F<de;){var xe=2*(F+1)-1,oe=R[xe],we=xe+1,E=R[we];if(0>o(oe,ne))we<M&&0>o(E,oe)?(R[F]=E,R[we]=ne,F=we):(R[F]=oe,R[xe]=ne,F=xe);else if(we<M&&0>o(E,ne))R[F]=E,R[we]=ne,F=we;else break e}}return Y}function o(R,Y){var ne=R.sortIndex-Y.sortIndex;return ne!==0?ne:R.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],x=1,y=null,w=3,C=!1,k=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(R){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=R)i(g),Y.sortIndex=Y.expirationTime,r(p,Y);else break;Y=s(g)}}function A(R){if(j=!1,O(R),!k)if(s(p)!==null)k=!0,q(B);else{var Y=s(g);Y!==null&&P(A,Y.startTime-R)}}function B(R,Y){k=!1,j&&(j=!1,S(se),se=-1),C=!0;var ne=w;try{for(O(Y),y=s(p);y!==null&&(!(y.expirationTime>Y)||R&&!ae());){var F=y.callback;if(typeof F=="function"){y.callback=null,w=y.priorityLevel;var M=F(y.expirationTime<=Y);Y=e.unstable_now(),typeof M=="function"?y.callback=M:y===s(p)&&i(p),O(Y)}else i(p);y=s(p)}if(y!==null)var de=!0;else{var xe=s(g);xe!==null&&P(A,xe.startTime-Y),de=!1}return de}finally{y=null,w=ne,C=!1}}var G=!1,z=null,se=-1,Z=5,ee=-1;function ae(){return!(e.unstable_now()-ee<Z)}function X(){if(z!==null){var R=e.unstable_now();ee=R;var Y=!0;try{Y=z(!0,R)}finally{Y?re():(G=!1,z=null)}}else G=!1}var re;if(typeof _=="function")re=function(){_(X)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ie=$.port2;$.port1.onmessage=X,re=function(){ie.postMessage(null)}}else re=function(){b(X,0)};function q(R){z=R,G||(G=!0,re())}function P(R,Y){se=b(function(){R(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){k||C||(k=!0,q(B))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return s(p)},e.unstable_next=function(R){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var ne=w;w=Y;try{return R()}finally{w=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ne=w;w=R;try{return Y()}finally{w=ne}},e.unstable_scheduleCallback=function(R,Y,ne){var F=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?F+ne:F):ne=F,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ne+M,R={id:x++,callback:Y,priorityLevel:R,startTime:ne,expirationTime:M,sortIndex:-1},ne>F?(R.sortIndex=ne,r(g,R),s(p)===null&&R===s(g)&&(j?(S(se),se=-1):j=!0,P(A,ne-F))):(R.sortIndex=M,r(p,R),k||C||(k=!0,q(B))),R},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(R){var Y=w;return function(){var ne=w;w=Y;try{return R.apply(this,arguments)}finally{w=ne}}}})(If)),If}var Dx;function YC(){return Dx||(Dx=1,Rf.exports=GC()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function ZC(){if(Mx)return Mr;Mx=1;var e=rd(),r=YC();function s(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(n,a){u(n,a),u(n+"Capture",a)}function u(n,a){for(o[n]=a,n=0;n<a.length;n++)i.add(a[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(n){return p.call(y,n)?!0:p.call(x,n)?!1:g.test(n)?y[n]=!0:(x[n]=!0,!1)}function C(n,a,l,d){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,a,l,d){if(a===null||typeof a>"u"||C(n,a,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(n,a,l,d,m,v,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=a,this.sanitizeURL=v,this.removeEmptyString=N}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){b[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];b[a]=new j(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){b[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){b[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){b[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){b[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){b[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){b[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){b[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(S,_);b[a]=new j(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(S,_);b[a]=new j(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(S,_);b[a]=new j(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){b[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){b[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function O(n,a,l,d){var m=b.hasOwnProperty(a)?b[a]:null;(m!==null?m.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,l,m,d)&&(l=null),d||m===null?w(a)&&(l===null?n.removeAttribute(a):n.setAttribute(a,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(a=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(a):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,a,l):n.setAttribute(a,l))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ae=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),R=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=R&&n[R]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,F;function M(n){if(F===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+n}var de=!1;function xe(n,a){if(!n||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var d=J}Reflect.construct(n,[],a)}else{try{a.call()}catch(J){d=J}n.call(a.prototype)}else{try{throw Error()}catch(J){d=J}n()}}catch(J){if(J&&d&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=d.stack.split(`
`),N=m.length-1,I=v.length-1;1<=N&&0<=I&&m[N]!==v[I];)I--;for(;1<=N&&0<=I;N--,I--)if(m[N]!==v[I]){if(N!==1||I!==1)do if(N--,I--,0>I||m[N]!==v[I]){var L=`
`+m[N].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=N&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?M(n):""}function oe(n){switch(n.tag){case 5:return M(n.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function we(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case G:return"Portal";case Z:return"Profiler";case se:return"StrictMode";case re:return"Suspense";case $:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case ee:return(n._context.displayName||"Context")+".Provider";case X:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ie:return a=n.displayName||null,a!==null?a:we(n.type)||"Memo";case q:a=n._payload,n=n._init;try{return we(n(a))}catch{}}return null}function E(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Q(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pe(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ne(n){var a=pe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),d=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){d=""+N,v.call(this,N)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function $e(n){n._valueTracker||(n._valueTracker=Ne(n))}function Xe(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return n&&(d=pe(n)?n.checked?"true":"false":n.value),n=d,n!==l?(a.setValue(n),!0):!1}function Gt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function tt(n,a){var l=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Vr(n,a){var l=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;l=Q(a.value!=null?a.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Zr(n,a){a=a.checked,a!=null&&O(n,"checked",a,!1)}function un(n,a){Zr(n,a);var l=Q(a.value),d=a.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?ms(n,a.type,l):a.hasOwnProperty("defaultValue")&&ms(n,a.type,Q(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function Mi(n,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,l||a===n.value||(n.value=a),n.defaultValue=a}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ms(n,a,l){(a!=="number"||Gt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var D=Array.isArray;function U(n,a,l,d){if(n=n.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=a.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Q(l),a=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function te(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Se(n,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(s(92));if(D(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),l=a}n._wrapperState={initialValue:Q(l)}}function je(n,a){var l=Q(a.value),d=Q(a.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),a.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function me(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function Oe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?Oe(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Je,Yt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(a,l,d,m)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Je.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Xr(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(n){T.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),zt[a]=zt[n]})});function be(n,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||zt.hasOwnProperty(n)&&zt[n]?(""+a).trim():a+"px"}function Ze(n,a){n=n.style;for(var l in a)if(a.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=be(l,a[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var st=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(n,a){if(a){if(st[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function hs(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rn=null;function Ud(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qd=null,Ta=null,Ea=null;function Qh(n){if(n=so(n)){if(typeof qd!="function")throw Error(s(280));var a=n.stateNode;a&&(a=Al(a),qd(n.stateNode,n.type,a))}}function Hh(n){Ta?Ea?Ea.push(n):Ea=[n]:Ta=n}function Gh(){if(Ta){var n=Ta,a=Ea;if(Ea=Ta=null,Qh(n),a)for(n=0;n<a.length;n++)Qh(a[n])}}function Yh(n,a){return n(a)}function Zh(){}var Wd=!1;function Xh(n,a,l){if(Wd)return n(a,l);Wd=!0;try{return Yh(n,a,l)}finally{Wd=!1,(Ta!==null||Ea!==null)&&(Zh(),Gh())}}function Fi(n,a){var l=n.stateNode;if(l===null)return null;var d=Al(l);if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Kd=!1;if(f)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Kd=!1}function ZN(n,a,l,d,m,v,N,I,L){var J=Array.prototype.slice.call(arguments,3);try{a.apply(l,J)}catch(he){this.onError(he)}}var Bi=!1,cl=null,dl=!1,Qd=null,XN={onError:function(n){Bi=!0,cl=n}};function JN(n,a,l,d,m,v,N,I,L){Bi=!1,cl=null,ZN.apply(XN,arguments)}function eS(n,a,l,d,m,v,N,I,L){if(JN.apply(this,arguments),Bi){if(Bi){var J=cl;Bi=!1,cl=null}else throw Error(s(198));dl||(dl=!0,Qd=J)}}function Js(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function Jh(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function ep(n){if(Js(n)!==n)throw Error(s(188))}function tS(n){var a=n.alternate;if(!a){if(a=Js(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,d=a;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return ep(m),n;if(v===d)return ep(m),a;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=v;else{for(var N=!1,I=m.child;I;){if(I===l){N=!0,l=m,d=v;break}if(I===d){N=!0,d=m,l=v;break}I=I.sibling}if(!N){for(I=v.child;I;){if(I===l){N=!0,l=v,d=m;break}if(I===d){N=!0,d=v,l=m;break}I=I.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function tp(n){return n=tS(n),n!==null?rp(n):null}function rp(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=rp(n);if(a!==null)return a;n=n.sibling}return null}var np=r.unstable_scheduleCallback,sp=r.unstable_cancelCallback,rS=r.unstable_shouldYield,nS=r.unstable_requestPaint,Ut=r.unstable_now,sS=r.unstable_getCurrentPriorityLevel,Hd=r.unstable_ImmediatePriority,ap=r.unstable_UserBlockingPriority,ul=r.unstable_NormalPriority,aS=r.unstable_LowPriority,ip=r.unstable_IdlePriority,fl=null,In=null;function iS(n){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(fl,n,void 0,(n.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:cS,oS=Math.log,lS=Math.LN2;function cS(n){return n>>>=0,n===0?32:31-(oS(n)/lS|0)|0}var ml=64,hl=4194304;function $i(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pl(n,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,N=l&268435455;if(N!==0){var I=N&~m;I!==0?d=$i(I):(v&=N,v!==0&&(d=$i(v)))}else N=l&~m,N!==0?d=$i(N):v!==0&&(d=$i(v));if(d===0)return 0;if(a!==0&&a!==d&&(a&m)===0&&(m=d&-d,v=a&-a,m>=v||m===16&&(v&4194240)!==0))return a;if((d&4)!==0&&(d|=l&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=d;0<a;)l=31-fn(a),m=1<<l,d|=n[l],a&=~m;return d}function dS(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(n,a){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var N=31-fn(v),I=1<<N,L=m[N];L===-1?((I&l)===0||(I&d)!==0)&&(m[N]=dS(I,a)):L<=a&&(n.expiredLanes|=I),v&=~I}}function Gd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function op(){var n=ml;return ml<<=1,(ml&4194240)===0&&(ml=64),n}function Yd(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Vi(n,a,l){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-fn(a),n[a]=l}function fS(n,a){var l=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-fn(l),v=1<<m;a[m]=0,d[m]=-1,n[m]=-1,l&=~v}}function Zd(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var d=31-fn(l),m=1<<d;m&a|n[d]&a&&(n[d]|=a),l&=~m}}var vt=0;function lp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var cp,Xd,dp,up,fp,Jd=!1,gl=[],ps=null,gs=null,xs=null,zi=new Map,Ui=new Map,vs=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mp(n,a){switch(n){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":zi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(a.pointerId)}}function qi(n,a,l,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},a!==null&&(a=so(a),a!==null&&Xd(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function hS(n,a,l,d,m){switch(a){case"focusin":return ps=qi(ps,n,a,l,d,m),!0;case"dragenter":return gs=qi(gs,n,a,l,d,m),!0;case"mouseover":return xs=qi(xs,n,a,l,d,m),!0;case"pointerover":var v=m.pointerId;return zi.set(v,qi(zi.get(v)||null,n,a,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Ui.set(v,qi(Ui.get(v)||null,n,a,l,d,m)),!0}return!1}function hp(n){var a=ea(n.target);if(a!==null){var l=Js(a);if(l!==null){if(a=l.tag,a===13){if(a=Jh(l),a!==null){n.blockedOn=a,fp(n.priority,function(){dp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=tu(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Rn=d,l.target.dispatchEvent(d),Rn=null}else return a=so(l),a!==null&&Xd(a),n.blockedOn=l,!1;a.shift()}return!0}function pp(n,a,l){xl(n)&&l.delete(a)}function pS(){Jd=!1,ps!==null&&xl(ps)&&(ps=null),gs!==null&&xl(gs)&&(gs=null),xs!==null&&xl(xs)&&(xs=null),zi.forEach(pp),Ui.forEach(pp)}function Wi(n,a){n.blockedOn===a&&(n.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pS)))}function Ki(n){function a(m){return Wi(m,n)}if(0<gl.length){Wi(gl[0],n);for(var l=1;l<gl.length;l++){var d=gl[l];d.blockedOn===n&&(d.blockedOn=null)}}for(ps!==null&&Wi(ps,n),gs!==null&&Wi(gs,n),xs!==null&&Wi(xs,n),zi.forEach(a),Ui.forEach(a),l=0;l<vs.length;l++)d=vs[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<vs.length&&(l=vs[0],l.blockedOn===null);)hp(l),l.blockedOn===null&&vs.shift()}var Aa=A.ReactCurrentBatchConfig,vl=!0;function gS(n,a,l,d){var m=vt,v=Aa.transition;Aa.transition=null;try{vt=1,eu(n,a,l,d)}finally{vt=m,Aa.transition=v}}function xS(n,a,l,d){var m=vt,v=Aa.transition;Aa.transition=null;try{vt=4,eu(n,a,l,d)}finally{vt=m,Aa.transition=v}}function eu(n,a,l,d){if(vl){var m=tu(n,a,l,d);if(m===null)vu(n,a,d,yl,l),mp(n,d);else if(hS(m,n,a,l,d))d.stopPropagation();else if(mp(n,d),a&4&&-1<mS.indexOf(n)){for(;m!==null;){var v=so(m);if(v!==null&&cp(v),v=tu(n,a,l,d),v===null&&vu(n,a,d,yl,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else vu(n,a,d,null,l)}}var yl=null;function tu(n,a,l,d){if(yl=null,n=Ud(d),n=ea(n),n!==null)if(a=Js(n),a===null)n=null;else if(l=a.tag,l===13){if(n=Jh(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return yl=n,null}function gp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sS()){case Hd:return 1;case ap:return 4;case ul:case aS:return 16;case ip:return 536870912;default:return 16}default:return 16}}var ys=null,ru=null,bl=null;function xp(){if(bl)return bl;var n,a=ru,l=a.length,d,m="value"in ys?ys.value:ys.textContent,v=m.length;for(n=0;n<l&&a[n]===m[n];n++);var N=l-n;for(d=1;d<=N&&a[l-d]===m[v-d];d++);return bl=m.slice(n,1<d?1-d:void 0)}function jl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function wl(){return!0}function vp(){return!1}function zr(n){function a(l,d,m,v,N){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(l=n[I],this[I]=l?l(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wl:vp,this.isPropagationStopped=vp,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),a}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=zr(Ra),Qi=ne({},Ra,{view:0,detail:0}),vS=zr(Qi),su,au,Hi,Nl=ne({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(su=n.screenX-Hi.screenX,au=n.screenY-Hi.screenY):au=su=0,Hi=n),su)},movementY:function(n){return"movementY"in n?n.movementY:au}}),yp=zr(Nl),yS=ne({},Nl,{dataTransfer:0}),bS=zr(yS),jS=ne({},Qi,{relatedTarget:0}),iu=zr(jS),wS=ne({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=zr(wS),SS=ne({},Ra,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CS=zr(SS),kS=ne({},Ra,{data:0}),bp=zr(kS),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ES(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=TS[n])?!!a[n]:!1}function ou(){return ES}var AS=ne({},Qi,{key:function(n){if(n.key){var a=PS[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=jl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_S[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(n){return n.type==="keypress"?jl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RS=zr(AS),IS=ne({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=zr(IS),OS=ne({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),DS=zr(OS),MS=ne({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=zr(MS),LS=ne({},Nl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BS=zr(LS),$S=[9,13,27,32],lu=f&&"CompositionEvent"in window,Gi=null;f&&"documentMode"in document&&(Gi=document.documentMode);var VS=f&&"TextEvent"in window&&!Gi,wp=f&&(!lu||Gi&&8<Gi&&11>=Gi),Np=" ",Sp=!1;function Cp(n,a){switch(n){case"keyup":return $S.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ia=!1;function zS(n,a){switch(n){case"compositionend":return kp(a);case"keypress":return a.which!==32?null:(Sp=!0,Np);case"textInput":return n=a.data,n===Np&&Sp?null:n;default:return null}}function US(n,a){if(Ia)return n==="compositionend"||!lu&&Cp(n,a)?(n=xp(),bl=ru=ys=null,Ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wp&&a.locale!=="ko"?null:a.data;default:return null}}var qS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!qS[n.type]:a==="textarea"}function _p(n,a,l,d){Hh(d),a=_l(a,"onChange"),0<a.length&&(l=new nu("onChange","change",null,l,d),n.push({event:l,listeners:a}))}var Yi=null,Zi=null;function WS(n){Kp(n,0)}function Sl(n){var a=La(n);if(Xe(a))return n}function KS(n,a){if(n==="change")return a}var Tp=!1;if(f){var cu;if(f){var du="oninput"in document;if(!du){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),du=typeof Ep.oninput=="function"}cu=du}else cu=!1;Tp=cu&&(!document.documentMode||9<document.documentMode)}function Ap(){Yi&&(Yi.detachEvent("onpropertychange",Rp),Zi=Yi=null)}function Rp(n){if(n.propertyName==="value"&&Sl(Zi)){var a=[];_p(a,Zi,n,Ud(n)),Xh(WS,a)}}function QS(n,a,l){n==="focusin"?(Ap(),Yi=a,Zi=l,Yi.attachEvent("onpropertychange",Rp)):n==="focusout"&&Ap()}function HS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sl(Zi)}function GS(n,a){if(n==="click")return Sl(a)}function YS(n,a){if(n==="input"||n==="change")return Sl(a)}function ZS(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var mn=typeof Object.is=="function"?Object.is:ZS;function Xi(n,a){if(mn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!p.call(a,m)||!mn(n[m],a[m]))return!1}return!0}function Ip(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Op(n,a){var l=Ip(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=a&&d>=a)return{node:l,offset:a-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ip(l)}}function Dp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Dp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Mp(){for(var n=window,a=Gt();a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Gt(n.document)}return a}function uu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function XS(n){var a=Mp(),l=n.focusedElem,d=n.selectionRange;if(a!==l&&l&&l.ownerDocument&&Dp(l.ownerDocument.documentElement,l)){if(d!==null&&uu(l)){if(a=d.start,n=d.end,n===void 0&&(n=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(n,l.value.length);else if(n=(a=l.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=Op(l,v);var N=Op(l,d);m&&N&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==N.node||n.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(a),n.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),n.addRange(a)))}}for(a=[],n=l;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)n=a[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JS=f&&"documentMode"in document&&11>=document.documentMode,Oa=null,fu=null,Ji=null,mu=!1;function Fp(n,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mu||Oa==null||Oa!==Gt(d)||(d=Oa,"selectionStart"in d&&uu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ji&&Xi(Ji,d)||(Ji=d,d=_l(fu,"onSelect"),0<d.length&&(a=new nu("onSelect","select",null,a,l),n.push({event:a,listeners:d}),a.target=Oa)))}function Cl(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Da={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},hu={},Lp={};f&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function kl(n){if(hu[n])return hu[n];if(!Da[n])return n;var a=Da[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Lp)return hu[n]=a[l];return n}var Bp=kl("animationend"),$p=kl("animationiteration"),Vp=kl("animationstart"),zp=kl("transitionend"),Up=new Map,qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(n,a){Up.set(n,a),c(a,[n])}for(var pu=0;pu<qp.length;pu++){var gu=qp[pu],eC=gu.toLowerCase(),tC=gu[0].toUpperCase()+gu.slice(1);bs(eC,"on"+tC)}bs(Bp,"onAnimationEnd"),bs($p,"onAnimationIteration"),bs(Vp,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(zp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Wp(n,a,l){var d=n.type||"unknown-event";n.currentTarget=l,eS(d,a,void 0,n),n.currentTarget=null}function Kp(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var N=d.length-1;0<=N;N--){var I=d[N],L=I.instance,J=I.currentTarget;if(I=I.listener,L!==v&&m.isPropagationStopped())break e;Wp(m,I,J),v=L}else for(N=0;N<d.length;N++){if(I=d[N],L=I.instance,J=I.currentTarget,I=I.listener,L!==v&&m.isPropagationStopped())break e;Wp(m,I,J),v=L}}}if(dl)throw n=Qd,dl=!1,Qd=null,n}function Ct(n,a){var l=a[Su];l===void 0&&(l=a[Su]=new Set);var d=n+"__bubble";l.has(d)||(Qp(a,n,2,!1),l.add(d))}function xu(n,a,l){var d=0;a&&(d|=4),Qp(l,n,d,a)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function to(n){if(!n[Pl]){n[Pl]=!0,i.forEach(function(l){l!=="selectionchange"&&(rC.has(l)||xu(l,!1,n),xu(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Pl]||(a[Pl]=!0,xu("selectionchange",!1,a))}}function Qp(n,a,l,d){switch(gp(a)){case 1:var m=gS;break;case 4:m=xS;break;default:m=eu}l=m.bind(null,a,l,n),m=void 0,!Kd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(a,l,{capture:!0,passive:m}):n.addEventListener(a,l,!0):m!==void 0?n.addEventListener(a,l,{passive:m}):n.addEventListener(a,l,!1)}function vu(n,a,l,d,m){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var I=d.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(N===4)for(N=d.return;N!==null;){var L=N.tag;if((L===3||L===4)&&(L=N.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;N=N.return}for(;I!==null;){if(N=ea(I),N===null)return;if(L=N.tag,L===5||L===6){d=v=N;continue e}I=I.parentNode}}d=d.return}Xh(function(){var J=v,he=Ud(l),ge=[];e:{var fe=Up.get(n);if(fe!==void 0){var _e=nu,Re=n;switch(n){case"keypress":if(jl(l)===0)break e;case"keydown":case"keyup":_e=RS;break;case"focusin":Re="focus",_e=iu;break;case"focusout":Re="blur",_e=iu;break;case"beforeblur":case"afterblur":_e=iu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=DS;break;case Bp:case $p:case Vp:_e=NS;break;case zp:_e=FS;break;case"scroll":_e=vS;break;case"wheel":_e=BS;break;case"copy":case"cut":case"paste":_e=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=jp}var De=(a&4)!==0,qt=!De&&n==="scroll",W=De?fe!==null?fe+"Capture":null:fe;De=[];for(var V=J,H;V!==null;){H=V;var ye=H.stateNode;if(H.tag===5&&ye!==null&&(H=ye,W!==null&&(ye=Fi(V,W),ye!=null&&De.push(ro(V,ye,H)))),qt)break;V=V.return}0<De.length&&(fe=new _e(fe,Re,null,l,he),ge.push({event:fe,listeners:De}))}}if((a&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",_e=n==="mouseout"||n==="pointerout",fe&&l!==Rn&&(Re=l.relatedTarget||l.fromElement)&&(ea(Re)||Re[Yn]))break e;if((_e||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,_e?(Re=l.relatedTarget||l.toElement,_e=J,Re=Re?ea(Re):null,Re!==null&&(qt=Js(Re),Re!==qt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(_e=null,Re=J),_e!==Re)){if(De=yp,ye="onMouseLeave",W="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(De=jp,ye="onPointerLeave",W="onPointerEnter",V="pointer"),qt=_e==null?fe:La(_e),H=Re==null?fe:La(Re),fe=new De(ye,V+"leave",_e,l,he),fe.target=qt,fe.relatedTarget=H,ye=null,ea(he)===J&&(De=new De(W,V+"enter",Re,l,he),De.target=H,De.relatedTarget=qt,ye=De),qt=ye,_e&&Re)t:{for(De=_e,W=Re,V=0,H=De;H;H=Ma(H))V++;for(H=0,ye=W;ye;ye=Ma(ye))H++;for(;0<V-H;)De=Ma(De),V--;for(;0<H-V;)W=Ma(W),H--;for(;V--;){if(De===W||W!==null&&De===W.alternate)break t;De=Ma(De),W=Ma(W)}De=null}else De=null;_e!==null&&Hp(ge,fe,_e,De,!1),Re!==null&&qt!==null&&Hp(ge,qt,Re,De,!0)}}e:{if(fe=J?La(J):window,_e=fe.nodeName&&fe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&fe.type==="file")var Le=KS;else if(Pp(fe))if(Tp)Le=YS;else{Le=HS;var qe=QS}else(_e=fe.nodeName)&&_e.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=GS);if(Le&&(Le=Le(n,J))){_p(ge,Le,l,he);break e}qe&&qe(n,fe,J),n==="focusout"&&(qe=fe._wrapperState)&&qe.controlled&&fe.type==="number"&&ms(fe,"number",fe.value)}switch(qe=J?La(J):window,n){case"focusin":(Pp(qe)||qe.contentEditable==="true")&&(Oa=qe,fu=J,Ji=null);break;case"focusout":Ji=fu=Oa=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Fp(ge,l,he);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Fp(ge,l,he)}var We;if(lu)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ia?Cp(n,l)&&(Ge="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(wp&&l.locale!=="ko"&&(Ia||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ia&&(We=xp()):(ys=he,ru="value"in ys?ys.value:ys.textContent,Ia=!0)),qe=_l(J,Ge),0<qe.length&&(Ge=new bp(Ge,n,null,l,he),ge.push({event:Ge,listeners:qe}),We?Ge.data=We:(We=kp(l),We!==null&&(Ge.data=We)))),(We=VS?zS(n,l):US(n,l))&&(J=_l(J,"onBeforeInput"),0<J.length&&(he=new bp("onBeforeInput","beforeinput",null,l,he),ge.push({event:he,listeners:J}),he.data=We))}Kp(ge,a)})}function ro(n,a,l){return{instance:n,listener:a,currentTarget:l}}function _l(n,a){for(var l=a+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Fi(n,l),v!=null&&d.unshift(ro(n,v,m)),v=Fi(n,a),v!=null&&d.push(ro(n,v,m))),n=n.return}return d}function Ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hp(n,a,l,d,m){for(var v=a._reactName,N=[];l!==null&&l!==d;){var I=l,L=I.alternate,J=I.stateNode;if(L!==null&&L===d)break;I.tag===5&&J!==null&&(I=J,m?(L=Fi(l,v),L!=null&&N.unshift(ro(l,L,I))):m||(L=Fi(l,v),L!=null&&N.push(ro(l,L,I)))),l=l.return}N.length!==0&&n.push({event:a,listeners:N})}var nC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function Gp(n){return(typeof n=="string"?n:""+n).replace(nC,`
`).replace(sC,"")}function Tl(n,a,l){if(a=Gp(a),Gp(n)!==a&&l)throw Error(s(425))}function El(){}var yu=null,bu=null;function ju(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(n){return Yp.resolve(null).then(n).catch(oC)}:wu;function oC(n){setTimeout(function(){throw n})}function Nu(n,a){var l=a,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),Ki(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Ki(a)}function js(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function Zp(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),On="__reactFiber$"+Fa,no="__reactProps$"+Fa,Yn="__reactContainer$"+Fa,Su="__reactEvents$"+Fa,lC="__reactListeners$"+Fa,cC="__reactHandles$"+Fa;function ea(n){var a=n[On];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Yn]||l[On]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Zp(n);n!==null;){if(l=n[On])return l;n=Zp(n)}return a}n=l,l=n.parentNode}return null}function so(n){return n=n[On]||n[Yn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Al(n){return n[no]||null}var Cu=[],Ba=-1;function ws(n){return{current:n}}function kt(n){0>Ba||(n.current=Cu[Ba],Cu[Ba]=null,Ba--)}function Nt(n,a){Ba++,Cu[Ba]=n.current,n.current=a}var Ns={},pr=ws(Ns),Ar=ws(!1),ta=Ns;function $a(n,a){var l=n.type.contextTypes;if(!l)return Ns;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=a[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=m),m}function Rr(n){return n=n.childContextTypes,n!=null}function Rl(){kt(Ar),kt(pr)}function Xp(n,a,l){if(pr.current!==Ns)throw Error(s(168));Nt(pr,a),Nt(Ar,l)}function Jp(n,a,l){var d=n.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in a))throw Error(s(108,E(n)||"Unknown",m));return ne({},l,d)}function Il(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ns,ta=pr.current,Nt(pr,n),Nt(Ar,Ar.current),!0}function eg(n,a,l){var d=n.stateNode;if(!d)throw Error(s(169));l?(n=Jp(n,a,ta),d.__reactInternalMemoizedMergedChildContext=n,kt(Ar),kt(pr),Nt(pr,n)):kt(Ar),Nt(Ar,l)}var Zn=null,Ol=!1,ku=!1;function tg(n){Zn===null?Zn=[n]:Zn.push(n)}function dC(n){Ol=!0,tg(n)}function Ss(){if(!ku&&Zn!==null){ku=!0;var n=0,a=vt;try{var l=Zn;for(vt=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Zn=null,Ol=!1}catch(m){throw Zn!==null&&(Zn=Zn.slice(n+1)),np(Hd,Ss),m}finally{vt=a,ku=!1}}return null}var Va=[],za=0,Dl=null,Ml=0,Jr=[],en=0,ra=null,Xn=1,Jn="";function na(n,a){Va[za++]=Ml,Va[za++]=Dl,Dl=n,Ml=a}function rg(n,a,l){Jr[en++]=Xn,Jr[en++]=Jn,Jr[en++]=ra,ra=n;var d=Xn;n=Jn;var m=32-fn(d)-1;d&=~(1<<m),l+=1;var v=32-fn(a)+m;if(30<v){var N=m-m%5;v=(d&(1<<N)-1).toString(32),d>>=N,m-=N,Xn=1<<32-fn(a)+m|l<<m|d,Jn=v+n}else Xn=1<<v|l<<m|d,Jn=n}function Pu(n){n.return!==null&&(na(n,1),rg(n,1,0))}function _u(n){for(;n===Dl;)Dl=Va[--za],Va[za]=null,Ml=Va[--za],Va[za]=null;for(;n===ra;)ra=Jr[--en],Jr[en]=null,Jn=Jr[--en],Jr[en]=null,Xn=Jr[--en],Jr[en]=null}var Ur=null,qr=null,Rt=!1,hn=null;function ng(n,a){var l=sn(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=n,a=n.deletions,a===null?(n.deletions=[l],n.flags|=16):a.push(l)}function sg(n,a){switch(n.tag){case 5:var l=n.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,Ur=n,qr=js(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,Ur=n,qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=ra!==null?{id:Xn,overflow:Jn}:null,n.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=sn(18,null,null,0),l.stateNode=a,l.return=n,n.child=l,Ur=n,qr=null,!0):!1;default:return!1}}function Tu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Eu(n){if(Rt){var a=qr;if(a){var l=a;if(!sg(n,a)){if(Tu(n))throw Error(s(418));a=js(l.nextSibling);var d=Ur;a&&sg(n,a)?ng(d,l):(n.flags=n.flags&-4097|2,Rt=!1,Ur=n)}}else{if(Tu(n))throw Error(s(418));n.flags=n.flags&-4097|2,Rt=!1,Ur=n}}}function ag(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ur=n}function Fl(n){if(n!==Ur)return!1;if(!Rt)return ag(n),Rt=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!ju(n.type,n.memoizedProps)),a&&(a=qr)){if(Tu(n))throw ig(),Error(s(418));for(;a;)ng(n,a),a=js(a.nextSibling)}if(ag(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(a===0){qr=js(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}n=n.nextSibling}qr=null}}else qr=Ur?js(n.stateNode.nextSibling):null;return!0}function ig(){for(var n=qr;n;)n=js(n.nextSibling)}function Ua(){qr=Ur=null,Rt=!1}function Au(n){hn===null?hn=[n]:hn.push(n)}var uC=A.ReactCurrentBatchConfig;function ao(n,a,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,n));var m=d,v=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(N){var I=m.refs;N===null?delete I[v]:I[v]=N},a._stringRef=v,a)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function Ll(n,a){throw n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function og(n){var a=n._init;return a(n._payload)}function lg(n){function a(W,V){if(n){var H=W.deletions;H===null?(W.deletions=[V],W.flags|=16):H.push(V)}}function l(W,V){if(!n)return null;for(;V!==null;)a(W,V),V=V.sibling;return null}function d(W,V){for(W=new Map;V!==null;)V.key!==null?W.set(V.key,V):W.set(V.index,V),V=V.sibling;return W}function m(W,V){return W=Rs(W,V),W.index=0,W.sibling=null,W}function v(W,V,H){return W.index=H,n?(H=W.alternate,H!==null?(H=H.index,H<V?(W.flags|=2,V):H):(W.flags|=2,V)):(W.flags|=1048576,V)}function N(W){return n&&W.alternate===null&&(W.flags|=2),W}function I(W,V,H,ye){return V===null||V.tag!==6?(V=Nf(H,W.mode,ye),V.return=W,V):(V=m(V,H),V.return=W,V)}function L(W,V,H,ye){var Le=H.type;return Le===z?he(W,V,H.props.children,ye,H.key):V!==null&&(V.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&og(Le)===V.type)?(ye=m(V,H.props),ye.ref=ao(W,V,H),ye.return=W,ye):(ye=lc(H.type,H.key,H.props,null,W.mode,ye),ye.ref=ao(W,V,H),ye.return=W,ye)}function J(W,V,H,ye){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Sf(H,W.mode,ye),V.return=W,V):(V=m(V,H.children||[]),V.return=W,V)}function he(W,V,H,ye,Le){return V===null||V.tag!==7?(V=ua(H,W.mode,ye,Le),V.return=W,V):(V=m(V,H),V.return=W,V)}function ge(W,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Nf(""+V,W.mode,H),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case B:return H=lc(V.type,V.key,V.props,null,W.mode,H),H.ref=ao(W,null,V),H.return=W,H;case G:return V=Sf(V,W.mode,H),V.return=W,V;case q:var ye=V._init;return ge(W,ye(V._payload),H)}if(D(V)||Y(V))return V=ua(V,W.mode,H,null),V.return=W,V;Ll(W,V)}return null}function fe(W,V,H,ye){var Le=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Le!==null?null:I(W,V,""+H,ye);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return H.key===Le?L(W,V,H,ye):null;case G:return H.key===Le?J(W,V,H,ye):null;case q:return Le=H._init,fe(W,V,Le(H._payload),ye)}if(D(H)||Y(H))return Le!==null?null:he(W,V,H,ye,null);Ll(W,H)}return null}function _e(W,V,H,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return W=W.get(H)||null,I(V,W,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case B:return W=W.get(ye.key===null?H:ye.key)||null,L(V,W,ye,Le);case G:return W=W.get(ye.key===null?H:ye.key)||null,J(V,W,ye,Le);case q:var qe=ye._init;return _e(W,V,H,qe(ye._payload),Le)}if(D(ye)||Y(ye))return W=W.get(H)||null,he(V,W,ye,Le,null);Ll(V,ye)}return null}function Re(W,V,H,ye){for(var Le=null,qe=null,We=V,Ge=V=0,ar=null;We!==null&&Ge<H.length;Ge++){We.index>Ge?(ar=We,We=null):ar=We.sibling;var ht=fe(W,We,H[Ge],ye);if(ht===null){We===null&&(We=ar);break}n&&We&&ht.alternate===null&&a(W,We),V=v(ht,V,Ge),qe===null?Le=ht:qe.sibling=ht,qe=ht,We=ar}if(Ge===H.length)return l(W,We),Rt&&na(W,Ge),Le;if(We===null){for(;Ge<H.length;Ge++)We=ge(W,H[Ge],ye),We!==null&&(V=v(We,V,Ge),qe===null?Le=We:qe.sibling=We,qe=We);return Rt&&na(W,Ge),Le}for(We=d(W,We);Ge<H.length;Ge++)ar=_e(We,W,Ge,H[Ge],ye),ar!==null&&(n&&ar.alternate!==null&&We.delete(ar.key===null?Ge:ar.key),V=v(ar,V,Ge),qe===null?Le=ar:qe.sibling=ar,qe=ar);return n&&We.forEach(function(Is){return a(W,Is)}),Rt&&na(W,Ge),Le}function De(W,V,H,ye){var Le=Y(H);if(typeof Le!="function")throw Error(s(150));if(H=Le.call(H),H==null)throw Error(s(151));for(var qe=Le=null,We=V,Ge=V=0,ar=null,ht=H.next();We!==null&&!ht.done;Ge++,ht=H.next()){We.index>Ge?(ar=We,We=null):ar=We.sibling;var Is=fe(W,We,ht.value,ye);if(Is===null){We===null&&(We=ar);break}n&&We&&Is.alternate===null&&a(W,We),V=v(Is,V,Ge),qe===null?Le=Is:qe.sibling=Is,qe=Is,We=ar}if(ht.done)return l(W,We),Rt&&na(W,Ge),Le;if(We===null){for(;!ht.done;Ge++,ht=H.next())ht=ge(W,ht.value,ye),ht!==null&&(V=v(ht,V,Ge),qe===null?Le=ht:qe.sibling=ht,qe=ht);return Rt&&na(W,Ge),Le}for(We=d(W,We);!ht.done;Ge++,ht=H.next())ht=_e(We,W,Ge,ht.value,ye),ht!==null&&(n&&ht.alternate!==null&&We.delete(ht.key===null?Ge:ht.key),V=v(ht,V,Ge),qe===null?Le=ht:qe.sibling=ht,qe=ht);return n&&We.forEach(function(qC){return a(W,qC)}),Rt&&na(W,Ge),Le}function qt(W,V,H,ye){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case B:e:{for(var Le=H.key,qe=V;qe!==null;){if(qe.key===Le){if(Le=H.type,Le===z){if(qe.tag===7){l(W,qe.sibling),V=m(qe,H.props.children),V.return=W,W=V;break e}}else if(qe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&og(Le)===qe.type){l(W,qe.sibling),V=m(qe,H.props),V.ref=ao(W,qe,H),V.return=W,W=V;break e}l(W,qe);break}else a(W,qe);qe=qe.sibling}H.type===z?(V=ua(H.props.children,W.mode,ye,H.key),V.return=W,W=V):(ye=lc(H.type,H.key,H.props,null,W.mode,ye),ye.ref=ao(W,V,H),ye.return=W,W=ye)}return N(W);case G:e:{for(qe=H.key;V!==null;){if(V.key===qe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){l(W,V.sibling),V=m(V,H.children||[]),V.return=W,W=V;break e}else{l(W,V);break}else a(W,V);V=V.sibling}V=Sf(H,W.mode,ye),V.return=W,W=V}return N(W);case q:return qe=H._init,qt(W,V,qe(H._payload),ye)}if(D(H))return Re(W,V,H,ye);if(Y(H))return De(W,V,H,ye);Ll(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,V!==null&&V.tag===6?(l(W,V.sibling),V=m(V,H),V.return=W,W=V):(l(W,V),V=Nf(H,W.mode,ye),V.return=W,W=V),N(W)):l(W,V)}return qt}var qa=lg(!0),cg=lg(!1),Bl=ws(null),$l=null,Wa=null,Ru=null;function Iu(){Ru=Wa=$l=null}function Ou(n){var a=Bl.current;kt(Bl),n._currentValue=a}function Du(n,a,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===l)break;n=n.return}}function Ka(n,a){$l=n,Ru=Wa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(Ir=!0),n.firstContext=null)}function tn(n){var a=n._currentValue;if(Ru!==n)if(n={context:n,memoizedValue:a,next:null},Wa===null){if($l===null)throw Error(s(308));Wa=n,$l.dependencies={lanes:0,firstContext:n}}else Wa=Wa.next=n;return a}var sa=null;function Mu(n){sa===null?sa=[n]:sa.push(n)}function dg(n,a,l,d){var m=a.interleaved;return m===null?(l.next=l,Mu(a)):(l.next=m.next,m.next=l),a.interleaved=l,es(n,d)}function es(n,a){n.lanes|=a;var l=n.alternate;for(l!==null&&(l.lanes|=a),l=n,n=n.return;n!==null;)n.childLanes|=a,l=n.alternate,l!==null&&(l.childLanes|=a),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Cs=!1;function Fu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ts(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function ks(n,a,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(mt&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,es(n,l)}return m=d.interleaved,m===null?(a.next=a,Mu(d)):(a.next=m.next,m.next=a),d.interleaved=a,es(n,l)}function Vl(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Zd(n,l)}}function fg(n,a){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?m=v=a:v=v.next=a}else m=v=a;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}function zl(n,a,l,d){var m=n.updateQueue;Cs=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var L=I,J=L.next;L.next=null,N===null?v=J:N.next=J,N=L;var he=n.alternate;he!==null&&(he=he.updateQueue,I=he.lastBaseUpdate,I!==N&&(I===null?he.firstBaseUpdate=J:I.next=J,he.lastBaseUpdate=L))}if(v!==null){var ge=m.baseState;N=0,he=J=L=null,I=v;do{var fe=I.lane,_e=I.eventTime;if((d&fe)===fe){he!==null&&(he=he.next={eventTime:_e,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Re=n,De=I;switch(fe=a,_e=l,De.tag){case 1:if(Re=De.payload,typeof Re=="function"){ge=Re.call(_e,ge,fe);break e}ge=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=De.payload,fe=typeof Re=="function"?Re.call(_e,ge,fe):Re,fe==null)break e;ge=ne({},ge,fe);break e;case 2:Cs=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,fe=m.effects,fe===null?m.effects=[I]:fe.push(I))}else _e={eventTime:_e,lane:fe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},he===null?(J=he=_e,L=ge):he=he.next=_e,N|=fe;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;fe=I,I=fe.next,fe.next=null,m.lastBaseUpdate=fe,m.shared.pending=null}}while(!0);if(he===null&&(L=ge),m.baseState=L,m.firstBaseUpdate=J,m.lastBaseUpdate=he,a=m.shared.interleaved,a!==null){m=a;do N|=m.lane,m=m.next;while(m!==a)}else v===null&&(m.shared.lanes=0);oa|=N,n.lanes=N,n.memoizedState=ge}}function mg(n,a,l){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var d=n[a],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var io={},Dn=ws(io),oo=ws(io),lo=ws(io);function aa(n){if(n===io)throw Error(s(174));return n}function Lu(n,a){switch(Nt(lo,a),Nt(oo,n),Nt(Dn,io),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:dt(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=dt(a,n)}kt(Dn),Nt(Dn,a)}function Qa(){kt(Dn),kt(oo),kt(lo)}function hg(n){aa(lo.current);var a=aa(Dn.current),l=dt(a,n.type);a!==l&&(Nt(oo,n),Nt(Dn,l))}function Bu(n){oo.current===n&&(kt(Dn),kt(oo))}var Ot=ws(0);function Ul(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $u=[];function Vu(){for(var n=0;n<$u.length;n++)$u[n]._workInProgressVersionPrimary=null;$u.length=0}var ql=A.ReactCurrentDispatcher,zu=A.ReactCurrentBatchConfig,ia=0,Dt=null,er=null,nr=null,Wl=!1,co=!1,uo=0,fC=0;function gr(){throw Error(s(321))}function Uu(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!mn(n[l],a[l]))return!1;return!0}function qu(n,a,l,d,m,v){if(ia=v,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ql.current=n===null||n.memoizedState===null?gC:xC,n=l(d,m),co){v=0;do{if(co=!1,uo=0,25<=v)throw Error(s(301));v+=1,nr=er=null,a.updateQueue=null,ql.current=vC,n=l(d,m)}while(co)}if(ql.current=Hl,a=er!==null&&er.next!==null,ia=0,nr=er=Dt=null,Wl=!1,a)throw Error(s(300));return n}function Wu(){var n=uo!==0;return uo=0,n}function Mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Dt.memoizedState=nr=n:nr=nr.next=n,nr}function rn(){if(er===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=er.next;var a=nr===null?Dt.memoizedState:nr.next;if(a!==null)nr=a,er=n;else{if(n===null)throw Error(s(310));er=n,n={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},nr===null?Dt.memoizedState=nr=n:nr=nr.next=n}return nr}function fo(n,a){return typeof a=="function"?a(n):a}function Ku(n){var a=rn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=er,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var I=N=null,L=null,J=v;do{var he=J.lane;if((ia&he)===he)L!==null&&(L=L.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),d=J.hasEagerState?J.eagerState:n(d,J.action);else{var ge={lane:he,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};L===null?(I=L=ge,N=d):L=L.next=ge,Dt.lanes|=he,oa|=he}J=J.next}while(J!==null&&J!==v);L===null?N=d:L.next=I,mn(d,a.memoizedState)||(Ir=!0),a.memoizedState=d,a.baseState=N,a.baseQueue=L,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do v=m.lane,Dt.lanes|=v,oa|=v,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Qu(n){var a=rn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,v=a.memoizedState;if(m!==null){l.pending=null;var N=m=m.next;do v=n(v,N.action),N=N.next;while(N!==m);mn(v,a.memoizedState)||(Ir=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,d]}function pg(){}function gg(n,a){var l=Dt,d=rn(),m=a(),v=!mn(d.memoizedState,m);if(v&&(d.memoizedState=m,Ir=!0),d=d.queue,Hu(yg.bind(null,l,d,n),[n]),d.getSnapshot!==a||v||nr!==null&&nr.memoizedState.tag&1){if(l.flags|=2048,mo(9,vg.bind(null,l,d,m,a),void 0,null),sr===null)throw Error(s(349));(ia&30)!==0||xg(l,a,m)}return m}function xg(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function vg(n,a,l,d){a.value=l,a.getSnapshot=d,bg(a)&&jg(n)}function yg(n,a,l){return l(function(){bg(a)&&jg(n)})}function bg(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!mn(n,l)}catch{return!0}}function jg(n){var a=es(n,1);a!==null&&vn(a,n,1,-1)}function wg(n){var a=Mn();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},a.queue=n,n=n.dispatch=pC.bind(null,Dt,n),[a.memoizedState,n]}function mo(n,a,l,d){return n={tag:n,create:a,destroy:l,deps:d,next:null},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.lastEffect=n.next=n):(l=a.lastEffect,l===null?a.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,a.lastEffect=n)),n}function Ng(){return rn().memoizedState}function Kl(n,a,l,d){var m=Mn();Dt.flags|=n,m.memoizedState=mo(1|a,l,void 0,d===void 0?null:d)}function Ql(n,a,l,d){var m=rn();d=d===void 0?null:d;var v=void 0;if(er!==null){var N=er.memoizedState;if(v=N.destroy,d!==null&&Uu(d,N.deps)){m.memoizedState=mo(a,l,v,d);return}}Dt.flags|=n,m.memoizedState=mo(1|a,l,v,d)}function Sg(n,a){return Kl(8390656,8,n,a)}function Hu(n,a){return Ql(2048,8,n,a)}function Cg(n,a){return Ql(4,2,n,a)}function kg(n,a){return Ql(4,4,n,a)}function Pg(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function _g(n,a,l){return l=l!=null?l.concat([n]):null,Ql(4,4,Pg.bind(null,a,n),l)}function Gu(){}function Tg(n,a){var l=rn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Uu(a,d[1])?d[0]:(l.memoizedState=[n,a],n)}function Eg(n,a){var l=rn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Uu(a,d[1])?d[0]:(n=n(),l.memoizedState=[n,a],n)}function Ag(n,a,l){return(ia&21)===0?(n.baseState&&(n.baseState=!1,Ir=!0),n.memoizedState=l):(mn(l,a)||(l=op(),Dt.lanes|=l,oa|=l,n.baseState=!0),a)}function mC(n,a){var l=vt;vt=l!==0&&4>l?l:4,n(!0);var d=zu.transition;zu.transition={};try{n(!1),a()}finally{vt=l,zu.transition=d}}function Rg(){return rn().memoizedState}function hC(n,a,l){var d=Es(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ig(n))Og(a,l);else if(l=dg(n,a,l,d),l!==null){var m=Nr();vn(l,n,d,m),Dg(l,a,d)}}function pC(n,a,l){var d=Es(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ig(n))Og(a,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var N=a.lastRenderedState,I=v(N,l);if(m.hasEagerState=!0,m.eagerState=I,mn(I,N)){var L=a.interleaved;L===null?(m.next=m,Mu(a)):(m.next=L.next,L.next=m),a.interleaved=m;return}}catch{}finally{}l=dg(n,a,m,d),l!==null&&(m=Nr(),vn(l,n,d,m),Dg(l,a,d))}}function Ig(n){var a=n.alternate;return n===Dt||a!==null&&a===Dt}function Og(n,a){co=Wl=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Dg(n,a,l){if((l&4194240)!==0){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Zd(n,l)}}var Hl={readContext:tn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},gC={readContext:tn,useCallback:function(n,a){return Mn().memoizedState=[n,a===void 0?null:a],n},useContext:tn,useEffect:Sg,useImperativeHandle:function(n,a,l){return l=l!=null?l.concat([n]):null,Kl(4194308,4,Pg.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Kl(4194308,4,n,a)},useInsertionEffect:function(n,a){return Kl(4,2,n,a)},useMemo:function(n,a){var l=Mn();return a=a===void 0?null:a,n=n(),l.memoizedState=[n,a],n},useReducer:function(n,a,l){var d=Mn();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},d.queue=n,n=n.dispatch=hC.bind(null,Dt,n),[d.memoizedState,n]},useRef:function(n){var a=Mn();return n={current:n},a.memoizedState=n},useState:wg,useDebugValue:Gu,useDeferredValue:function(n){return Mn().memoizedState=n},useTransition:function(){var n=wg(!1),a=n[0];return n=mC.bind(null,n[1]),Mn().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,l){var d=Dt,m=Mn();if(Rt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),sr===null)throw Error(s(349));(ia&30)!==0||xg(d,a,l)}m.memoizedState=l;var v={value:l,getSnapshot:a};return m.queue=v,Sg(yg.bind(null,d,v,n),[n]),d.flags|=2048,mo(9,vg.bind(null,d,v,l,a),void 0,null),l},useId:function(){var n=Mn(),a=sr.identifierPrefix;if(Rt){var l=Jn,d=Xn;l=(d&~(1<<32-fn(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=uo++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=fC++,a=":"+a+"r"+l.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},xC={readContext:tn,useCallback:Tg,useContext:tn,useEffect:Hu,useImperativeHandle:_g,useInsertionEffect:Cg,useLayoutEffect:kg,useMemo:Eg,useReducer:Ku,useRef:Ng,useState:function(){return Ku(fo)},useDebugValue:Gu,useDeferredValue:function(n){var a=rn();return Ag(a,er.memoizedState,n)},useTransition:function(){var n=Ku(fo)[0],a=rn().memoizedState;return[n,a]},useMutableSource:pg,useSyncExternalStore:gg,useId:Rg,unstable_isNewReconciler:!1},vC={readContext:tn,useCallback:Tg,useContext:tn,useEffect:Hu,useImperativeHandle:_g,useInsertionEffect:Cg,useLayoutEffect:kg,useMemo:Eg,useReducer:Qu,useRef:Ng,useState:function(){return Qu(fo)},useDebugValue:Gu,useDeferredValue:function(n){var a=rn();return er===null?a.memoizedState=n:Ag(a,er.memoizedState,n)},useTransition:function(){var n=Qu(fo)[0],a=rn().memoizedState;return[n,a]},useMutableSource:pg,useSyncExternalStore:gg,useId:Rg,unstable_isNewReconciler:!1};function pn(n,a){if(n&&n.defaultProps){a=ne({},a),n=n.defaultProps;for(var l in n)a[l]===void 0&&(a[l]=n[l]);return a}return a}function Yu(n,a,l,d){a=n.memoizedState,l=l(d,a),l=l==null?a:ne({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Gl={isMounted:function(n){return(n=n._reactInternals)?Js(n)===n:!1},enqueueSetState:function(n,a,l){n=n._reactInternals;var d=Nr(),m=Es(n),v=ts(d,m);v.payload=a,l!=null&&(v.callback=l),a=ks(n,v,m),a!==null&&(vn(a,n,m,d),Vl(a,n,m))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var d=Nr(),m=Es(n),v=ts(d,m);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=ks(n,v,m),a!==null&&(vn(a,n,m,d),Vl(a,n,m))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=Nr(),d=Es(n),m=ts(l,d);m.tag=2,a!=null&&(m.callback=a),a=ks(n,m,d),a!==null&&(vn(a,n,d,l),Vl(a,n,d))}};function Mg(n,a,l,d,m,v,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,N):a.prototype&&a.prototype.isPureReactComponent?!Xi(l,d)||!Xi(m,v):!0}function Fg(n,a,l){var d=!1,m=Ns,v=a.contextType;return typeof v=="object"&&v!==null?v=tn(v):(m=Rr(a)?ta:pr.current,d=a.contextTypes,v=(d=d!=null)?$a(n,m):Ns),a=new a(l,v),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gl,n.stateNode=a,a._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),a}function Lg(n,a,l,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==n&&Gl.enqueueReplaceState(a,a.state,null)}function Zu(n,a,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},Fu(n);var v=a.contextType;typeof v=="object"&&v!==null?m.context=tn(v):(v=Rr(a)?ta:pr.current,m.context=$a(n,v)),m.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yu(n,a,v,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Gl.enqueueReplaceState(m,m.state,null),zl(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ha(n,a){try{var l="",d=a;do l+=oe(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:a,stack:m,digest:null}}function Xu(n,a,l){return{value:n,source:null,stack:l??null,digest:a??null}}function Ju(n,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var yC=typeof WeakMap=="function"?WeakMap:Map;function Bg(n,a,l){l=ts(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){rc||(rc=!0,pf=d),Ju(n,a)},l}function $g(n,a,l){l=ts(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;l.payload=function(){return d(m)},l.callback=function(){Ju(n,a)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Ju(n,a),typeof d!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),l}function Vg(n,a,l){var d=n.pingCache;if(d===null){d=n.pingCache=new yC;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(l)||(m.add(l),n=IC.bind(null,n,a,l),a.then(n,n))}function zg(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function Ug(n,a,l,d,m){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=ts(-1,1),a.tag=2,ks(l,a,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var bC=A.ReactCurrentOwner,Ir=!1;function wr(n,a,l,d){a.child=n===null?cg(a,null,l,d):qa(a,n.child,l,d)}function qg(n,a,l,d,m){l=l.render;var v=a.ref;return Ka(a,m),d=qu(n,a,l,d,v,m),l=Wu(),n!==null&&!Ir?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~m,rs(n,a,m)):(Rt&&l&&Pu(a),a.flags|=1,wr(n,a,d,m),a.child)}function Wg(n,a,l,d,m){if(n===null){var v=l.type;return typeof v=="function"&&!wf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=v,Kg(n,a,v,d,m)):(n=lc(l.type,null,d,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(v=n.child,(n.lanes&m)===0){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Xi,l(N,d)&&n.ref===a.ref)return rs(n,a,m)}return a.flags|=1,n=Rs(v,d),n.ref=a.ref,n.return=a,a.child=n}function Kg(n,a,l,d,m){if(n!==null){var v=n.memoizedProps;if(Xi(v,d)&&n.ref===a.ref)if(Ir=!1,a.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Ir=!0);else return a.lanes=n.lanes,rs(n,a,m)}return ef(n,a,l,d,m)}function Qg(n,a,l){var d=a.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Ya,Wr),Wr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,Nt(Ya,Wr),Wr|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Nt(Ya,Wr),Wr|=d}else v!==null?(d=v.baseLanes|l,a.memoizedState=null):d=l,Nt(Ya,Wr),Wr|=d;return wr(n,a,m,l),a.child}function Hg(n,a){var l=a.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function ef(n,a,l,d,m){var v=Rr(l)?ta:pr.current;return v=$a(a,v),Ka(a,m),l=qu(n,a,l,d,v,m),d=Wu(),n!==null&&!Ir?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~m,rs(n,a,m)):(Rt&&d&&Pu(a),a.flags|=1,wr(n,a,l,m),a.child)}function Gg(n,a,l,d,m){if(Rr(l)){var v=!0;Il(a)}else v=!1;if(Ka(a,m),a.stateNode===null)Zl(n,a),Fg(a,l,d),Zu(a,l,d,m),d=!0;else if(n===null){var N=a.stateNode,I=a.memoizedProps;N.props=I;var L=N.context,J=l.contextType;typeof J=="object"&&J!==null?J=tn(J):(J=Rr(l)?ta:pr.current,J=$a(a,J));var he=l.getDerivedStateFromProps,ge=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function";ge||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I!==d||L!==J)&&Lg(a,N,d,J),Cs=!1;var fe=a.memoizedState;N.state=fe,zl(a,d,N,m),L=a.memoizedState,I!==d||fe!==L||Ar.current||Cs?(typeof he=="function"&&(Yu(a,l,he,d),L=a.memoizedState),(I=Cs||Mg(a,l,I,d,fe,L,J))?(ge||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=L),N.props=d,N.state=L,N.context=J,d=I):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{N=a.stateNode,ug(n,a),I=a.memoizedProps,J=a.type===a.elementType?I:pn(a.type,I),N.props=J,ge=a.pendingProps,fe=N.context,L=l.contextType,typeof L=="object"&&L!==null?L=tn(L):(L=Rr(l)?ta:pr.current,L=$a(a,L));var _e=l.getDerivedStateFromProps;(he=typeof _e=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I!==ge||fe!==L)&&Lg(a,N,d,L),Cs=!1,fe=a.memoizedState,N.state=fe,zl(a,d,N,m);var Re=a.memoizedState;I!==ge||fe!==Re||Ar.current||Cs?(typeof _e=="function"&&(Yu(a,l,_e,d),Re=a.memoizedState),(J=Cs||Mg(a,l,J,d,fe,Re,L)||!1)?(he||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(d,Re,L),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(d,Re,L)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||I===n.memoizedProps&&fe===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&fe===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Re),N.props=d,N.state=Re,N.context=L,d=J):(typeof N.componentDidUpdate!="function"||I===n.memoizedProps&&fe===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&fe===n.memoizedState||(a.flags|=1024),d=!1)}return tf(n,a,l,d,v,m)}function tf(n,a,l,d,m,v){Hg(n,a);var N=(a.flags&128)!==0;if(!d&&!N)return m&&eg(a,l,!1),rs(n,a,v);d=a.stateNode,bC.current=a;var I=N&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,n!==null&&N?(a.child=qa(a,n.child,null,v),a.child=qa(a,null,I,v)):wr(n,a,I,v),a.memoizedState=d.state,m&&eg(a,l,!0),a.child}function Yg(n){var a=n.stateNode;a.pendingContext?Xp(n,a.pendingContext,a.pendingContext!==a.context):a.context&&Xp(n,a.context,!1),Lu(n,a.containerInfo)}function Zg(n,a,l,d,m){return Ua(),Au(m),a.flags|=256,wr(n,a,l,d),a.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function nf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Xg(n,a,l){var d=a.pendingProps,m=Ot.current,v=!1,N=(a.flags&128)!==0,I;if((I=N)||(I=n!==null&&n.memoizedState===null?!1:(m&2)!==0),I?(v=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Nt(Ot,m&1),n===null)return Eu(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=d.children,n=d.fallback,v?(d=a.mode,v=a.child,N={mode:"hidden",children:N},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=cc(N,d,0,null),n=ua(n,d,l,null),v.return=a,n.return=a,v.sibling=n,a.child=v,a.child.memoizedState=nf(l),a.memoizedState=rf,n):sf(a,N));if(m=n.memoizedState,m!==null&&(I=m.dehydrated,I!==null))return jC(n,a,N,d,I,m,l);if(v){v=d.fallback,N=a.mode,m=n.child,I=m.sibling;var L={mode:"hidden",children:d.children};return(N&1)===0&&a.child!==m?(d=a.child,d.childLanes=0,d.pendingProps=L,a.deletions=null):(d=Rs(m,L),d.subtreeFlags=m.subtreeFlags&14680064),I!==null?v=Rs(I,v):(v=ua(v,N,l,null),v.flags|=2),v.return=a,d.return=a,d.sibling=v,a.child=d,d=v,v=a.child,N=n.child.memoizedState,N=N===null?nf(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=n.childLanes&~l,a.memoizedState=rf,d}return v=n.child,n=v.sibling,d=Rs(v,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=l),d.return=a,d.sibling=null,n!==null&&(l=a.deletions,l===null?(a.deletions=[n],a.flags|=16):l.push(n)),a.child=d,a.memoizedState=null,d}function sf(n,a){return a=cc({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Yl(n,a,l,d){return d!==null&&Au(d),qa(a,n.child,null,l),n=sf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function jC(n,a,l,d,m,v,N){if(l)return a.flags&256?(a.flags&=-257,d=Xu(Error(s(422))),Yl(n,a,N,d)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(v=d.fallback,m=a.mode,d=cc({mode:"visible",children:d.children},m,0,null),v=ua(v,m,N,null),v.flags|=2,d.return=a,v.return=a,d.sibling=v,a.child=d,(a.mode&1)!==0&&qa(a,n.child,null,N),a.child.memoizedState=nf(N),a.memoizedState=rf,v);if((a.mode&1)===0)return Yl(n,a,N,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var I=d.dgst;return d=I,v=Error(s(419)),d=Xu(v,d,void 0),Yl(n,a,N,d)}if(I=(N&n.childLanes)!==0,Ir||I){if(d=sr,d!==null){switch(N&-N){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|N))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,es(n,m),vn(d,n,m,-1))}return jf(),d=Xu(Error(s(421))),Yl(n,a,N,d)}return m.data==="$?"?(a.flags|=128,a.child=n.child,a=OC.bind(null,n),m._reactRetry=a,null):(n=v.treeContext,qr=js(m.nextSibling),Ur=a,Rt=!0,hn=null,n!==null&&(Jr[en++]=Xn,Jr[en++]=Jn,Jr[en++]=ra,Xn=n.id,Jn=n.overflow,ra=a),a=sf(a,d.children),a.flags|=4096,a)}function Jg(n,a,l){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),Du(n.return,a,l)}function af(n,a,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function ex(n,a,l){var d=a.pendingProps,m=d.revealOrder,v=d.tail;if(wr(n,a,d.children,l),d=Ot.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jg(n,l,a);else if(n.tag===19)Jg(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Nt(Ot,d),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(l=a.child,m=null;l!==null;)n=l.alternate,n!==null&&Ul(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),af(a,!1,m,l,v);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&Ul(n)===null){a.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}af(a,!0,l,null,v);break;case"together":af(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zl(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function rs(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),oa|=a.lanes,(l&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Rs(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Rs(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function wC(n,a,l){switch(a.tag){case 3:Yg(a),Ua();break;case 5:hg(a);break;case 1:Rr(a.type)&&Il(a);break;case 4:Lu(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,m=a.memoizedProps.value;Nt(Bl,d._currentValue),d._currentValue=m;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Nt(Ot,Ot.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?Xg(n,a,l):(Nt(Ot,Ot.current&1),n=rs(n,a,l),n!==null?n.sibling:null);Nt(Ot,Ot.current&1);break;case 19:if(d=(l&a.childLanes)!==0,(n.flags&128)!==0){if(d)return ex(n,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Nt(Ot,Ot.current),d)break;return null;case 22:case 23:return a.lanes=0,Qg(n,a,l)}return rs(n,a,l)}var tx,of,rx,nx;tx=function(n,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},of=function(){},rx=function(n,a,l,d){var m=n.memoizedProps;if(m!==d){n=a.stateNode,aa(Dn.current);var v=null;switch(l){case"input":m=tt(n,m),d=tt(n,d),v=[];break;case"select":m=ne({},m,{value:void 0}),d=ne({},d,{value:void 0}),v=[];break;case"textarea":m=te(n,m),d=te(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=El)}xt(l,d);var N;l=null;for(J in m)if(!d.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var I=m[J];for(N in I)I.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in d){var L=d[J];if(I=m?.[J],d.hasOwnProperty(J)&&L!==I&&(L!=null||I!=null))if(J==="style")if(I){for(N in I)!I.hasOwnProperty(N)||L&&L.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in L)L.hasOwnProperty(N)&&I[N]!==L[N]&&(l||(l={}),l[N]=L[N])}else l||(v||(v=[]),v.push(J,l)),l=L;else J==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,I=I?I.__html:void 0,L!=null&&I!==L&&(v=v||[]).push(J,L)):J==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(J,""+L):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(L!=null&&J==="onScroll"&&Ct("scroll",n),v||I===L||(v=[])):(v=v||[]).push(J,L))}l&&(v=v||[]).push("style",l);var J=v;(a.updateQueue=J)&&(a.flags|=4)}},nx=function(n,a,l,d){l!==d&&(a.flags|=4)};function ho(n,a){if(!Rt)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function xr(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(a)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,a}function NC(n,a,l){var d=a.pendingProps;switch(_u(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(a),null;case 1:return Rr(a.type)&&Rl(),xr(a),null;case 3:return d=a.stateNode,Qa(),kt(Ar),kt(pr),Vu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Fl(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hn!==null&&(vf(hn),hn=null))),of(n,a),xr(a),null;case 5:Bu(a);var m=aa(lo.current);if(l=a.type,n!==null&&a.stateNode!=null)rx(n,a,l,d,m),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(s(166));return xr(a),null}if(n=aa(Dn.current),Fl(a)){d=a.stateNode,l=a.type;var v=a.memoizedProps;switch(d[On]=a,d[no]=v,n=(a.mode&1)!==0,l){case"dialog":Ct("cancel",d),Ct("close",d);break;case"iframe":case"object":case"embed":Ct("load",d);break;case"video":case"audio":for(m=0;m<eo.length;m++)Ct(eo[m],d);break;case"source":Ct("error",d);break;case"img":case"image":case"link":Ct("error",d),Ct("load",d);break;case"details":Ct("toggle",d);break;case"input":Vr(d,v),Ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ct("invalid",d);break;case"textarea":Se(d,v),Ct("invalid",d)}xt(l,v),m=null;for(var N in v)if(v.hasOwnProperty(N)){var I=v[N];N==="children"?typeof I=="string"?d.textContent!==I&&(v.suppressHydrationWarning!==!0&&Tl(d.textContent,I,n),m=["children",I]):typeof I=="number"&&d.textContent!==""+I&&(v.suppressHydrationWarning!==!0&&Tl(d.textContent,I,n),m=["children",""+I]):o.hasOwnProperty(N)&&I!=null&&N==="onScroll"&&Ct("scroll",d)}switch(l){case"input":$e(d),Mi(d,v,!0);break;case"textarea":$e(d),me(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=El)}d=m,a.updateQueue=d,d!==null&&(a.flags|=4)}else{N=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Oe(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=N.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=N.createElement(l,{is:d.is}):(n=N.createElement(l),l==="select"&&(N=n,d.multiple?N.multiple=!0:d.size&&(N.size=d.size))):n=N.createElementNS(n,l),n[On]=a,n[no]=d,tx(n,a,!1,!1),a.stateNode=n;e:{switch(N=hs(l,d),l){case"dialog":Ct("cancel",n),Ct("close",n),m=d;break;case"iframe":case"object":case"embed":Ct("load",n),m=d;break;case"video":case"audio":for(m=0;m<eo.length;m++)Ct(eo[m],n);m=d;break;case"source":Ct("error",n),m=d;break;case"img":case"image":case"link":Ct("error",n),Ct("load",n),m=d;break;case"details":Ct("toggle",n),m=d;break;case"input":Vr(n,d),m=tt(n,d),Ct("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=ne({},d,{value:void 0}),Ct("invalid",n);break;case"textarea":Se(n,d),m=te(n,d),Ct("invalid",n);break;default:m=d}xt(l,m),I=m;for(v in I)if(I.hasOwnProperty(v)){var L=I[v];v==="style"?Ze(n,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Yt(n,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Xr(n,L):typeof L=="number"&&Xr(n,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Ct("scroll",n):L!=null&&O(n,v,L,N))}switch(l){case"input":$e(n),Mi(n,d,!1);break;case"textarea":$e(n),me(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Q(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?U(n,!!d.multiple,v,!1):d.defaultValue!=null&&U(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=El)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return xr(a),null;case 6:if(n&&a.stateNode!=null)nx(n,a,n.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(l=aa(lo.current),aa(Dn.current),Fl(a)){if(d=a.stateNode,l=a.memoizedProps,d[On]=a,(v=d.nodeValue!==l)&&(n=Ur,n!==null))switch(n.tag){case 3:Tl(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Tl(d.nodeValue,l,(n.mode&1)!==0)}v&&(a.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[On]=a,a.stateNode=d}return xr(a),null;case 13:if(kt(Ot),d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Rt&&qr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ig(),Ua(),a.flags|=98560,v=!1;else if(v=Fl(a),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[On]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xr(a),v=!1}else hn!==null&&(vf(hn),hn=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(Ot.current&1)!==0?tr===0&&(tr=3):jf())),a.updateQueue!==null&&(a.flags|=4),xr(a),null);case 4:return Qa(),of(n,a),n===null&&to(a.stateNode.containerInfo),xr(a),null;case 10:return Ou(a.type._context),xr(a),null;case 17:return Rr(a.type)&&Rl(),xr(a),null;case 19:if(kt(Ot),v=a.memoizedState,v===null)return xr(a),null;if(d=(a.flags&128)!==0,N=v.rendering,N===null)if(d)ho(v,!1);else{if(tr!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(N=Ul(n),N!==null){for(a.flags|=128,ho(v,!1),d=N.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=l,l=a.child;l!==null;)v=l,n=d,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,n=N.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Nt(Ot,Ot.current&1|2),a.child}n=n.sibling}v.tail!==null&&Ut()>Za&&(a.flags|=128,d=!0,ho(v,!1),a.lanes=4194304)}else{if(!d)if(n=Ul(N),n!==null){if(a.flags|=128,d=!0,l=n.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),ho(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Rt)return xr(a),null}else 2*Ut()-v.renderingStartTime>Za&&l!==1073741824&&(a.flags|=128,d=!0,ho(v,!1),a.lanes=4194304);v.isBackwards?(N.sibling=a.child,a.child=N):(l=v.last,l!==null?l.sibling=N:a.child=N,v.last=N)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ut(),a.sibling=null,l=Ot.current,Nt(Ot,d?l&1|2:l&1),a):(xr(a),null);case 22:case 23:return bf(),d=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Wr&1073741824)!==0&&(xr(a),a.subtreeFlags&6&&(a.flags|=8192)):xr(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function SC(n,a){switch(_u(a),a.tag){case 1:return Rr(a.type)&&Rl(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Qa(),kt(Ar),kt(pr),Vu(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return Bu(a),null;case 13:if(kt(Ot),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ua()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return kt(Ot),null;case 4:return Qa(),null;case 10:return Ou(a.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var Xl=!1,vr=!1,CC=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ga(n,a){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Bt(n,a,d)}else l.current=null}function lf(n,a,l){try{l()}catch(d){Bt(n,a,d)}}var sx=!1;function kC(n,a){if(yu=vl,n=Mp(),uu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,I=-1,L=-1,J=0,he=0,ge=n,fe=null;t:for(;;){for(var _e;ge!==l||m!==0&&ge.nodeType!==3||(I=N+m),ge!==v||d!==0&&ge.nodeType!==3||(L=N+d),ge.nodeType===3&&(N+=ge.nodeValue.length),(_e=ge.firstChild)!==null;)fe=ge,ge=_e;for(;;){if(ge===n)break t;if(fe===l&&++J===m&&(I=N),fe===v&&++he===d&&(L=N),(_e=ge.nextSibling)!==null)break;ge=fe,fe=ge.parentNode}ge=_e}l=I===-1||L===-1?null:{start:I,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(bu={focusedElem:n,selectionRange:l},vl=!1,Ee=a;Ee!==null;)if(a=Ee,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ee=n;else for(;Ee!==null;){a=Ee;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var De=Re.memoizedProps,qt=Re.memoizedState,W=a.stateNode,V=W.getSnapshotBeforeUpdate(a.elementType===a.type?De:pn(a.type,De),qt);W.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ye){Bt(a,a.return,ye)}if(n=a.sibling,n!==null){n.return=a.return,Ee=n;break}Ee=a.return}return Re=sx,sx=!1,Re}function po(n,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&lf(a,l,v)}m=m.next}while(m!==d)}}function Jl(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function cf(n){var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof a=="function"?a(n):a.current=n}}function ax(n){var a=n.alternate;a!==null&&(n.alternate=null,ax(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[On],delete a[no],delete a[Su],delete a[lC],delete a[cC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ix(n){return n.tag===5||n.tag===3||n.tag===4}function ox(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ix(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function df(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(n,a):l.insertBefore(n,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(n,l)):(a=l,a.appendChild(n)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=El));else if(d!==4&&(n=n.child,n!==null))for(df(n,a,l),n=n.sibling;n!==null;)df(n,a,l),n=n.sibling}function uf(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(uf(n,a,l),n=n.sibling;n!==null;)uf(n,a,l),n=n.sibling}var dr=null,gn=!1;function Ps(n,a,l){for(l=l.child;l!==null;)lx(n,a,l),l=l.sibling}function lx(n,a,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(fl,l)}catch{}switch(l.tag){case 5:vr||Ga(l,a);case 6:var d=dr,m=gn;dr=null,Ps(n,a,l),dr=d,gn=m,dr!==null&&(gn?(n=dr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):dr.removeChild(l.stateNode));break;case 18:dr!==null&&(gn?(n=dr,l=l.stateNode,n.nodeType===8?Nu(n.parentNode,l):n.nodeType===1&&Nu(n,l),Ki(n)):Nu(dr,l.stateNode));break;case 4:d=dr,m=gn,dr=l.stateNode.containerInfo,gn=!0,Ps(n,a,l),dr=d,gn=m;break;case 0:case 11:case 14:case 15:if(!vr&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&lf(l,a,N),m=m.next}while(m!==d)}Ps(n,a,l);break;case 1:if(!vr&&(Ga(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(I){Bt(l,a,I)}Ps(n,a,l);break;case 21:Ps(n,a,l);break;case 22:l.mode&1?(vr=(d=vr)||l.memoizedState!==null,Ps(n,a,l),vr=d):Ps(n,a,l);break;default:Ps(n,a,l)}}function cx(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new CC),a.forEach(function(d){var m=DC.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function xn(n,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=n,N=a,I=N;e:for(;I!==null;){switch(I.tag){case 5:dr=I.stateNode,gn=!1;break e;case 3:dr=I.stateNode.containerInfo,gn=!0;break e;case 4:dr=I.stateNode.containerInfo,gn=!0;break e}I=I.return}if(dr===null)throw Error(s(160));lx(v,N,m),dr=null,gn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(J){Bt(m,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dx(a,n),a=a.sibling}function dx(n,a){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(xn(a,n),Fn(n),d&4){try{po(3,n,n.return),Jl(3,n)}catch(De){Bt(n,n.return,De)}try{po(5,n,n.return)}catch(De){Bt(n,n.return,De)}}break;case 1:xn(a,n),Fn(n),d&512&&l!==null&&Ga(l,l.return);break;case 5:if(xn(a,n),Fn(n),d&512&&l!==null&&Ga(l,l.return),n.flags&32){var m=n.stateNode;try{Xr(m,"")}catch(De){Bt(n,n.return,De)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,N=l!==null?l.memoizedProps:v,I=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{I==="input"&&v.type==="radio"&&v.name!=null&&Zr(m,v),hs(I,N);var J=hs(I,v);for(N=0;N<L.length;N+=2){var he=L[N],ge=L[N+1];he==="style"?Ze(m,ge):he==="dangerouslySetInnerHTML"?Yt(m,ge):he==="children"?Xr(m,ge):O(m,he,ge,J)}switch(I){case"input":un(m,v);break;case"textarea":je(m,v);break;case"select":var fe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var _e=v.value;_e!=null?U(m,!!v.multiple,_e,!1):fe!==!!v.multiple&&(v.defaultValue!=null?U(m,!!v.multiple,v.defaultValue,!0):U(m,!!v.multiple,v.multiple?[]:"",!1))}m[no]=v}catch(De){Bt(n,n.return,De)}}break;case 6:if(xn(a,n),Fn(n),d&4){if(n.stateNode===null)throw Error(s(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(De){Bt(n,n.return,De)}}break;case 3:if(xn(a,n),Fn(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ki(a.containerInfo)}catch(De){Bt(n,n.return,De)}break;case 4:xn(a,n),Fn(n);break;case 13:xn(a,n),Fn(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(hf=Ut())),d&4&&cx(n);break;case 22:if(he=l!==null&&l.memoizedState!==null,n.mode&1?(vr=(J=vr)||he,xn(a,n),vr=J):xn(a,n),Fn(n),d&8192){if(J=n.memoizedState!==null,(n.stateNode.isHidden=J)&&!he&&(n.mode&1)!==0)for(Ee=n,he=n.child;he!==null;){for(ge=Ee=he;Ee!==null;){switch(fe=Ee,_e=fe.child,fe.tag){case 0:case 11:case 14:case 15:po(4,fe,fe.return);break;case 1:Ga(fe,fe.return);var Re=fe.stateNode;if(typeof Re.componentWillUnmount=="function"){d=fe,l=fe.return;try{a=d,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(De){Bt(d,l,De)}}break;case 5:Ga(fe,fe.return);break;case 22:if(fe.memoizedState!==null){mx(ge);continue}}_e!==null?(_e.return=fe,Ee=_e):mx(ge)}he=he.sibling}e:for(he=null,ge=n;;){if(ge.tag===5){if(he===null){he=ge;try{m=ge.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(I=ge.stateNode,L=ge.memoizedProps.style,N=L!=null&&L.hasOwnProperty("display")?L.display:null,I.style.display=be("display",N))}catch(De){Bt(n,n.return,De)}}}else if(ge.tag===6){if(he===null)try{ge.stateNode.nodeValue=J?"":ge.memoizedProps}catch(De){Bt(n,n.return,De)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===n)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===n)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===n)break e;he===ge&&(he=null),ge=ge.return}he===ge&&(he=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:xn(a,n),Fn(n),d&4&&cx(n);break;case 21:break;default:xn(a,n),Fn(n)}}function Fn(n){var a=n.flags;if(a&2){try{e:{for(var l=n.return;l!==null;){if(ix(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Xr(m,""),d.flags&=-33);var v=ox(n);uf(n,v,m);break;case 3:case 4:var N=d.stateNode.containerInfo,I=ox(n);df(n,I,N);break;default:throw Error(s(161))}}catch(L){Bt(n,n.return,L)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function PC(n,a,l){Ee=n,ux(n)}function ux(n,a,l){for(var d=(n.mode&1)!==0;Ee!==null;){var m=Ee,v=m.child;if(m.tag===22&&d){var N=m.memoizedState!==null||Xl;if(!N){var I=m.alternate,L=I!==null&&I.memoizedState!==null||vr;I=Xl;var J=vr;if(Xl=N,(vr=L)&&!J)for(Ee=m;Ee!==null;)N=Ee,L=N.child,N.tag===22&&N.memoizedState!==null?hx(m):L!==null?(L.return=N,Ee=L):hx(m);for(;v!==null;)Ee=v,ux(v),v=v.sibling;Ee=m,Xl=I,vr=J}fx(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Ee=v):fx(n)}}function fx(n){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:vr||Jl(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!vr)if(l===null)d.componentDidMount();else{var m=a.elementType===a.type?l.memoizedProps:pn(a.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&mg(a,v,d);break;case 3:var N=a.updateQueue;if(N!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}mg(a,N,l)}break;case 5:var I=a.stateNode;if(l===null&&a.flags&4){l=I;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var he=J.memoizedState;if(he!==null){var ge=he.dehydrated;ge!==null&&Ki(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vr||a.flags&512&&cf(a)}catch(fe){Bt(a,a.return,fe)}}if(a===n){Ee=null;break}if(l=a.sibling,l!==null){l.return=a.return,Ee=l;break}Ee=a.return}}function mx(n){for(;Ee!==null;){var a=Ee;if(a===n){Ee=null;break}var l=a.sibling;if(l!==null){l.return=a.return,Ee=l;break}Ee=a.return}}function hx(n){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{Jl(4,a)}catch(L){Bt(a,l,L)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var m=a.return;try{d.componentDidMount()}catch(L){Bt(a,m,L)}}var v=a.return;try{cf(a)}catch(L){Bt(a,v,L)}break;case 5:var N=a.return;try{cf(a)}catch(L){Bt(a,N,L)}}}catch(L){Bt(a,a.return,L)}if(a===n){Ee=null;break}var I=a.sibling;if(I!==null){I.return=a.return,Ee=I;break}Ee=a.return}}var _C=Math.ceil,ec=A.ReactCurrentDispatcher,ff=A.ReactCurrentOwner,nn=A.ReactCurrentBatchConfig,mt=0,sr=null,Zt=null,ur=0,Wr=0,Ya=ws(0),tr=0,go=null,oa=0,tc=0,mf=0,xo=null,Or=null,hf=0,Za=1/0,ns=null,rc=!1,pf=null,_s=null,nc=!1,Ts=null,sc=0,vo=0,gf=null,ac=-1,ic=0;function Nr(){return(mt&6)!==0?Ut():ac!==-1?ac:ac=Ut()}function Es(n){return(n.mode&1)===0?1:(mt&2)!==0&&ur!==0?ur&-ur:uC.transition!==null?(ic===0&&(ic=op()),ic):(n=vt,n!==0||(n=window.event,n=n===void 0?16:gp(n.type)),n)}function vn(n,a,l,d){if(50<vo)throw vo=0,gf=null,Error(s(185));Vi(n,l,d),((mt&2)===0||n!==sr)&&(n===sr&&((mt&2)===0&&(tc|=l),tr===4&&As(n,ur)),Dr(n,d),l===1&&mt===0&&(a.mode&1)===0&&(Za=Ut()+500,Ol&&Ss()))}function Dr(n,a){var l=n.callbackNode;uS(n,a);var d=pl(n,n===sr?ur:0);if(d===0)l!==null&&sp(l),n.callbackNode=null,n.callbackPriority=0;else if(a=d&-d,n.callbackPriority!==a){if(l!=null&&sp(l),a===1)n.tag===0?dC(gx.bind(null,n)):tg(gx.bind(null,n)),iC(function(){(mt&6)===0&&Ss()}),l=null;else{switch(lp(d)){case 1:l=Hd;break;case 4:l=ap;break;case 16:l=ul;break;case 536870912:l=ip;break;default:l=ul}l=Sx(l,px.bind(null,n))}n.callbackPriority=a,n.callbackNode=l}}function px(n,a){if(ac=-1,ic=0,(mt&6)!==0)throw Error(s(327));var l=n.callbackNode;if(Xa()&&n.callbackNode!==l)return null;var d=pl(n,n===sr?ur:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||a)a=oc(n,d);else{a=d;var m=mt;mt|=2;var v=vx();(sr!==n||ur!==a)&&(ns=null,Za=Ut()+500,ca(n,a));do try{AC();break}catch(I){xx(n,I)}while(!0);Iu(),ec.current=v,mt=m,Zt!==null?a=0:(sr=null,ur=0,a=tr)}if(a!==0){if(a===2&&(m=Gd(n),m!==0&&(d=m,a=xf(n,m))),a===1)throw l=go,ca(n,0),As(n,d),Dr(n,Ut()),l;if(a===6)As(n,d);else{if(m=n.current.alternate,(d&30)===0&&!TC(m)&&(a=oc(n,d),a===2&&(v=Gd(n),v!==0&&(d=v,a=xf(n,v))),a===1))throw l=go,ca(n,0),As(n,d),Dr(n,Ut()),l;switch(n.finishedWork=m,n.finishedLanes=d,a){case 0:case 1:throw Error(s(345));case 2:da(n,Or,ns);break;case 3:if(As(n,d),(d&130023424)===d&&(a=hf+500-Ut(),10<a)){if(pl(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Nr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=wu(da.bind(null,n,Or,ns),a);break}da(n,Or,ns);break;case 4:if(As(n,d),(d&4194240)===d)break;for(a=n.eventTimes,m=-1;0<d;){var N=31-fn(d);v=1<<N,N=a[N],N>m&&(m=N),d&=~v}if(d=m,d=Ut()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*_C(d/1960))-d,10<d){n.timeoutHandle=wu(da.bind(null,n,Or,ns),d);break}da(n,Or,ns);break;case 5:da(n,Or,ns);break;default:throw Error(s(329))}}}return Dr(n,Ut()),n.callbackNode===l?px.bind(null,n):null}function xf(n,a){var l=xo;return n.current.memoizedState.isDehydrated&&(ca(n,a).flags|=256),n=oc(n,a),n!==2&&(a=Or,Or=l,a!==null&&vf(a)),n}function vf(n){Or===null?Or=n:Or.push.apply(Or,n)}function TC(n){for(var a=n;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!mn(v(),m))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function As(n,a){for(a&=~mf,a&=~tc,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var l=31-fn(a),d=1<<l;n[l]=-1,a&=~d}}function gx(n){if((mt&6)!==0)throw Error(s(327));Xa();var a=pl(n,0);if((a&1)===0)return Dr(n,Ut()),null;var l=oc(n,a);if(n.tag!==0&&l===2){var d=Gd(n);d!==0&&(a=d,l=xf(n,d))}if(l===1)throw l=go,ca(n,0),As(n,a),Dr(n,Ut()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,da(n,Or,ns),Dr(n,Ut()),null}function yf(n,a){var l=mt;mt|=1;try{return n(a)}finally{mt=l,mt===0&&(Za=Ut()+500,Ol&&Ss())}}function la(n){Ts!==null&&Ts.tag===0&&(mt&6)===0&&Xa();var a=mt;mt|=1;var l=nn.transition,d=vt;try{if(nn.transition=null,vt=1,n)return n()}finally{vt=d,nn.transition=l,mt=a,(mt&6)===0&&Ss()}}function bf(){Wr=Ya.current,kt(Ya)}function ca(n,a){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,aC(l)),Zt!==null)for(l=Zt.return;l!==null;){var d=l;switch(_u(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Rl();break;case 3:Qa(),kt(Ar),kt(pr),Vu();break;case 5:Bu(d);break;case 4:Qa();break;case 13:kt(Ot);break;case 19:kt(Ot);break;case 10:Ou(d.type._context);break;case 22:case 23:bf()}l=l.return}if(sr=n,Zt=n=Rs(n.current,null),ur=Wr=a,tr=0,go=null,mf=tc=oa=0,Or=xo=null,sa!==null){for(a=0;a<sa.length;a++)if(l=sa[a],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var N=v.next;v.next=m,d.next=N}l.pending=d}sa=null}return n}function xx(n,a){do{var l=Zt;try{if(Iu(),ql.current=Hl,Wl){for(var d=Dt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Wl=!1}if(ia=0,nr=er=Dt=null,co=!1,uo=0,ff.current=null,l===null||l.return===null){tr=1,go=a,Zt=null;break}e:{var v=n,N=l.return,I=l,L=a;if(a=ur,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=L,he=I,ge=he.tag;if((he.mode&1)===0&&(ge===0||ge===11||ge===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var _e=zg(N);if(_e!==null){_e.flags&=-257,Ug(_e,N,I,v,a),_e.mode&1&&Vg(v,J,a),a=_e,L=J;var Re=a.updateQueue;if(Re===null){var De=new Set;De.add(L),a.updateQueue=De}else Re.add(L);break e}else{if((a&1)===0){Vg(v,J,a),jf();break e}L=Error(s(426))}}else if(Rt&&I.mode&1){var qt=zg(N);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Ug(qt,N,I,v,a),Au(Ha(L,I));break e}}v=L=Ha(L,I),tr!==4&&(tr=2),xo===null?xo=[v]:xo.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var W=Bg(v,L,a);fg(v,W);break e;case 1:I=L;var V=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(_s===null||!_s.has(H)))){v.flags|=65536,a&=-a,v.lanes|=a;var ye=$g(v,I,a);fg(v,ye);break e}}v=v.return}while(v!==null)}bx(l)}catch(Le){a=Le,Zt===l&&l!==null&&(Zt=l=l.return);continue}break}while(!0)}function vx(){var n=ec.current;return ec.current=Hl,n===null?Hl:n}function jf(){(tr===0||tr===3||tr===2)&&(tr=4),sr===null||(oa&268435455)===0&&(tc&268435455)===0||As(sr,ur)}function oc(n,a){var l=mt;mt|=2;var d=vx();(sr!==n||ur!==a)&&(ns=null,ca(n,a));do try{EC();break}catch(m){xx(n,m)}while(!0);if(Iu(),mt=l,ec.current=d,Zt!==null)throw Error(s(261));return sr=null,ur=0,tr}function EC(){for(;Zt!==null;)yx(Zt)}function AC(){for(;Zt!==null&&!rS();)yx(Zt)}function yx(n){var a=Nx(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,a===null?bx(n):Zt=a,ff.current=null}function bx(n){var a=n;do{var l=a.alternate;if(n=a.return,(a.flags&32768)===0){if(l=NC(l,a,Wr),l!==null){Zt=l;return}}else{if(l=SC(l,a),l!==null){l.flags&=32767,Zt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{tr=6,Zt=null;return}}if(a=a.sibling,a!==null){Zt=a;return}Zt=a=n}while(a!==null);tr===0&&(tr=5)}function da(n,a,l){var d=vt,m=nn.transition;try{nn.transition=null,vt=1,RC(n,a,l,d)}finally{nn.transition=m,vt=d}return null}function RC(n,a,l,d){do Xa();while(Ts!==null);if((mt&6)!==0)throw Error(s(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(fS(n,v),n===sr&&(Zt=sr=null,ur=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nc||(nc=!0,Sx(ul,function(){return Xa(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=nn.transition,nn.transition=null;var N=vt;vt=1;var I=mt;mt|=4,ff.current=null,kC(n,l),dx(l,n),XS(bu),vl=!!yu,bu=yu=null,n.current=l,PC(l),nS(),mt=I,vt=N,nn.transition=v}else n.current=l;if(nc&&(nc=!1,Ts=n,sc=m),v=n.pendingLanes,v===0&&(_s=null),iS(l.stateNode),Dr(n,Ut()),a!==null)for(d=n.onRecoverableError,l=0;l<a.length;l++)m=a[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(rc)throw rc=!1,n=pf,pf=null,n;return(sc&1)!==0&&n.tag!==0&&Xa(),v=n.pendingLanes,(v&1)!==0?n===gf?vo++:(vo=0,gf=n):vo=0,Ss(),null}function Xa(){if(Ts!==null){var n=lp(sc),a=nn.transition,l=vt;try{if(nn.transition=null,vt=16>n?16:n,Ts===null)var d=!1;else{if(n=Ts,Ts=null,sc=0,(mt&6)!==0)throw Error(s(331));var m=mt;for(mt|=4,Ee=n.current;Ee!==null;){var v=Ee,N=v.child;if((Ee.flags&16)!==0){var I=v.deletions;if(I!==null){for(var L=0;L<I.length;L++){var J=I[L];for(Ee=J;Ee!==null;){var he=Ee;switch(he.tag){case 0:case 11:case 15:po(8,he,v)}var ge=he.child;if(ge!==null)ge.return=he,Ee=ge;else for(;Ee!==null;){he=Ee;var fe=he.sibling,_e=he.return;if(ax(he),he===J){Ee=null;break}if(fe!==null){fe.return=_e,Ee=fe;break}Ee=_e}}}var Re=v.alternate;if(Re!==null){var De=Re.child;if(De!==null){Re.child=null;do{var qt=De.sibling;De.sibling=null,De=qt}while(De!==null)}}Ee=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,Ee=N;else e:for(;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:po(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,Ee=W;break e}Ee=v.return}}var V=n.current;for(Ee=V;Ee!==null;){N=Ee;var H=N.child;if((N.subtreeFlags&2064)!==0&&H!==null)H.return=N,Ee=H;else e:for(N=V;Ee!==null;){if(I=Ee,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Jl(9,I)}}catch(Le){Bt(I,I.return,Le)}if(I===N){Ee=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,Ee=ye;break e}Ee=I.return}}if(mt=m,Ss(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(fl,n)}catch{}d=!0}return d}finally{vt=l,nn.transition=a}}return!1}function jx(n,a,l){a=Ha(l,a),a=Bg(n,a,1),n=ks(n,a,1),a=Nr(),n!==null&&(Vi(n,1,a),Dr(n,a))}function Bt(n,a,l){if(n.tag===3)jx(n,n,l);else for(;a!==null;){if(a.tag===3){jx(a,n,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_s===null||!_s.has(d))){n=Ha(l,n),n=$g(a,n,1),a=ks(a,n,1),n=Nr(),a!==null&&(Vi(a,1,n),Dr(a,n));break}}a=a.return}}function IC(n,a,l){var d=n.pingCache;d!==null&&d.delete(a),a=Nr(),n.pingedLanes|=n.suspendedLanes&l,sr===n&&(ur&l)===l&&(tr===4||tr===3&&(ur&130023424)===ur&&500>Ut()-hf?ca(n,0):mf|=l),Dr(n,a)}function wx(n,a){a===0&&((n.mode&1)===0?a=1:(a=hl,hl<<=1,(hl&130023424)===0&&(hl=4194304)));var l=Nr();n=es(n,a),n!==null&&(Vi(n,a,l),Dr(n,l))}function OC(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),wx(n,l)}function DC(n,a){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(a),wx(n,l)}var Nx;Nx=function(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps||Ar.current)Ir=!0;else{if((n.lanes&l)===0&&(a.flags&128)===0)return Ir=!1,wC(n,a,l);Ir=(n.flags&131072)!==0}else Ir=!1,Rt&&(a.flags&1048576)!==0&&rg(a,Ml,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;Zl(n,a),n=a.pendingProps;var m=$a(a,pr.current);Ka(a,l),m=qu(null,a,d,n,m,l);var v=Wu();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rr(d)?(v=!0,Il(a)):v=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Fu(a),m.updater=Gl,a.stateNode=m,m._reactInternals=a,Zu(a,d,n,l),a=tf(null,a,d,!0,v,l)):(a.tag=0,Rt&&v&&Pu(a),wr(null,a,m,l),a=a.child),a;case 16:d=a.elementType;e:{switch(Zl(n,a),n=a.pendingProps,m=d._init,d=m(d._payload),a.type=d,m=a.tag=FC(d),n=pn(d,n),m){case 0:a=ef(null,a,d,n,l);break e;case 1:a=Gg(null,a,d,n,l);break e;case 11:a=qg(null,a,d,n,l);break e;case 14:a=Wg(null,a,d,pn(d.type,n),l);break e}throw Error(s(306,d,""))}return a;case 0:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:pn(d,m),ef(n,a,d,m,l);case 1:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:pn(d,m),Gg(n,a,d,m,l);case 3:e:{if(Yg(a),n===null)throw Error(s(387));d=a.pendingProps,v=a.memoizedState,m=v.element,ug(n,a),zl(a,d,null,l);var N=a.memoizedState;if(d=N.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){m=Ha(Error(s(423)),a),a=Zg(n,a,d,l,m);break e}else if(d!==m){m=Ha(Error(s(424)),a),a=Zg(n,a,d,l,m);break e}else for(qr=js(a.stateNode.containerInfo.firstChild),Ur=a,Rt=!0,hn=null,l=cg(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ua(),d===m){a=rs(n,a,l);break e}wr(n,a,d,l)}a=a.child}return a;case 5:return hg(a),n===null&&Eu(a),d=a.type,m=a.pendingProps,v=n!==null?n.memoizedProps:null,N=m.children,ju(d,m)?N=null:v!==null&&ju(d,v)&&(a.flags|=32),Hg(n,a),wr(n,a,N,l),a.child;case 6:return n===null&&Eu(a),null;case 13:return Xg(n,a,l);case 4:return Lu(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=qa(a,null,d,l):wr(n,a,d,l),a.child;case 11:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:pn(d,m),qg(n,a,d,m,l);case 7:return wr(n,a,a.pendingProps,l),a.child;case 8:return wr(n,a,a.pendingProps.children,l),a.child;case 12:return wr(n,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,m=a.pendingProps,v=a.memoizedProps,N=m.value,Nt(Bl,d._currentValue),d._currentValue=N,v!==null)if(mn(v.value,N)){if(v.children===m.children&&!Ar.current){a=rs(n,a,l);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var I=v.dependencies;if(I!==null){N=v.child;for(var L=I.firstContext;L!==null;){if(L.context===d){if(v.tag===1){L=ts(-1,l&-l),L.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var he=J.pending;he===null?L.next=L:(L.next=he.next,he.next=L),J.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),Du(v.return,l,a),I.lanes|=l;break}L=L.next}}else if(v.tag===10)N=v.type===a.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(s(341));N.lanes|=l,I=N.alternate,I!==null&&(I.lanes|=l),Du(N,l,a),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}wr(n,a,m.children,l),a=a.child}return a;case 9:return m=a.type,d=a.pendingProps.children,Ka(a,l),m=tn(m),d=d(m),a.flags|=1,wr(n,a,d,l),a.child;case 14:return d=a.type,m=pn(d,a.pendingProps),m=pn(d.type,m),Wg(n,a,d,m,l);case 15:return Kg(n,a,a.type,a.pendingProps,l);case 17:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:pn(d,m),Zl(n,a),a.tag=1,Rr(d)?(n=!0,Il(a)):n=!1,Ka(a,l),Fg(a,d,m),Zu(a,d,m,l),tf(null,a,d,!0,n,l);case 19:return ex(n,a,l);case 22:return Qg(n,a,l)}throw Error(s(156,a.tag))};function Sx(n,a){return np(n,a)}function MC(n,a,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(n,a,l,d){return new MC(n,a,l,d)}function wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FC(n){if(typeof n=="function")return wf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===X)return 11;if(n===ie)return 14}return 2}function Rs(n,a){var l=n.alternate;return l===null?(l=sn(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function lc(n,a,l,d,m,v){var N=2;if(d=n,typeof n=="function")wf(n)&&(N=1);else if(typeof n=="string")N=5;else e:switch(n){case z:return ua(l.children,m,v,a);case se:N=8,m|=8;break;case Z:return n=sn(12,l,a,m|2),n.elementType=Z,n.lanes=v,n;case re:return n=sn(13,l,a,m),n.elementType=re,n.lanes=v,n;case $:return n=sn(19,l,a,m),n.elementType=$,n.lanes=v,n;case P:return cc(l,m,v,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:N=10;break e;case ae:N=9;break e;case X:N=11;break e;case ie:N=14;break e;case q:N=16,d=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return a=sn(N,l,a,m),a.elementType=n,a.type=d,a.lanes=v,a}function ua(n,a,l,d){return n=sn(7,n,d,a),n.lanes=l,n}function cc(n,a,l,d){return n=sn(22,n,d,a),n.elementType=P,n.lanes=l,n.stateNode={isHidden:!1},n}function Nf(n,a,l){return n=sn(6,n,null,a),n.lanes=l,n}function Sf(n,a,l){return a=sn(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function LC(n,a,l,d,m){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yd(0),this.expirationTimes=Yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yd(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Cf(n,a,l,d,m,v,N,I,L){return n=new LC(n,a,l,I,L),a===1?(a=1,v===!0&&(a|=8)):a=0,v=sn(3,null,null,a),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(v),n}function BC(n,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:n,containerInfo:a,implementation:l}}function Cx(n){if(!n)return Ns;n=n._reactInternals;e:{if(Js(n)!==n||n.tag!==1)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(Rr(l))return Jp(n,l,a)}return a}function kx(n,a,l,d,m,v,N,I,L){return n=Cf(l,d,!0,n,m,v,N,I,L),n.context=Cx(null),l=n.current,d=Nr(),m=Es(l),v=ts(d,m),v.callback=a??null,ks(l,v,m),n.current.lanes=m,Vi(n,m,d),Dr(n,d),n}function dc(n,a,l,d){var m=a.current,v=Nr(),N=Es(m);return l=Cx(l),a.context===null?a.context=l:a.pendingContext=l,a=ts(v,N),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=ks(m,a,N),n!==null&&(vn(n,m,N,v),Vl(n,m,N)),N}function uc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Px(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function kf(n,a){Px(n,a),(n=n.alternate)&&Px(n,a)}function $C(){return null}var _x=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pf(n){this._internalRoot=n}fc.prototype.render=Pf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));dc(n,a,null,null)},fc.prototype.unmount=Pf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;la(function(){dc(null,n,null,null)}),a[Yn]=null}};function fc(n){this._internalRoot=n}fc.prototype.unstable_scheduleHydration=function(n){if(n){var a=up();n={blockedOn:null,target:n,priority:a};for(var l=0;l<vs.length&&a!==0&&a<vs[l].priority;l++);vs.splice(l,0,n),l===0&&hp(n)}};function _f(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tx(){}function VC(n,a,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var J=uc(N);v.call(J)}}var N=kx(a,d,n,0,null,!1,!1,"",Tx);return n._reactRootContainer=N,n[Yn]=N.current,to(n.nodeType===8?n.parentNode:n),la(),N}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var I=d;d=function(){var J=uc(L);I.call(J)}}var L=Cf(n,0,!1,null,null,!1,!1,"",Tx);return n._reactRootContainer=L,n[Yn]=L.current,to(n.nodeType===8?n.parentNode:n),la(function(){dc(a,L,l,d)}),L}function hc(n,a,l,d,m){var v=l._reactRootContainer;if(v){var N=v;if(typeof m=="function"){var I=m;m=function(){var L=uc(N);I.call(L)}}dc(a,N,n,m)}else N=VC(l,a,n,m,d);return uc(N)}cp=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var l=$i(a.pendingLanes);l!==0&&(Zd(a,l|1),Dr(a,Ut()),(mt&6)===0&&(Za=Ut()+500,Ss()))}break;case 13:la(function(){var d=es(n,1);if(d!==null){var m=Nr();vn(d,n,1,m)}}),kf(n,1)}},Xd=function(n){if(n.tag===13){var a=es(n,134217728);if(a!==null){var l=Nr();vn(a,n,134217728,l)}kf(n,134217728)}},dp=function(n){if(n.tag===13){var a=Es(n),l=es(n,a);if(l!==null){var d=Nr();vn(l,n,a,d)}kf(n,a)}},up=function(){return vt},fp=function(n,a){var l=vt;try{return vt=n,a()}finally{vt=l}},qd=function(n,a,l){switch(a){case"input":if(un(n,l),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==n&&d.form===n.form){var m=Al(d);if(!m)throw Error(s(90));Xe(d),un(d,m)}}}break;case"textarea":je(n,l);break;case"select":a=l.value,a!=null&&U(n,!!l.multiple,a,!1)}},Yh=yf,Zh=la;var zC={usingClientEntryPoint:!1,Events:[so,La,Al,Hh,Gh,yf]},yo={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UC={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tp(n),n===null?null:n.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||$C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{fl=pc.inject(UC),In=pc}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC,Mr.createPortal=function(n,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(a))throw Error(s(200));return BC(n,a,null,l)},Mr.createRoot=function(n,a){if(!_f(n))throw Error(s(299));var l=!1,d="",m=_x;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Cf(n,1,!1,null,null,l,!1,d,m),n[Yn]=a.current,to(n.nodeType===8?n.parentNode:n),new Pf(a)},Mr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=tp(a),n=n===null?null:n.stateNode,n},Mr.flushSync=function(n){return la(n)},Mr.hydrate=function(n,a,l){if(!mc(a))throw Error(s(200));return hc(null,n,a,!0,l)},Mr.hydrateRoot=function(n,a,l){if(!_f(n))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",N=_x;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),a=kx(a,null,n,1,l??null,m,!1,v,N),n[Yn]=a.current,to(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,m]:a.mutableSourceEagerHydrationData.push(l,m);return new fc(a)},Mr.render=function(n,a,l){if(!mc(a))throw Error(s(200));return hc(null,n,a,!1,l)},Mr.unmountComponentAtNode=function(n){if(!mc(n))throw Error(s(40));return n._reactRootContainer?(la(function(){hc(null,null,n,!1,function(){n._reactRootContainer=null,n[Yn]=null})}),!0):!1},Mr.unstable_batchedUpdates=yf,Mr.unstable_renderSubtreeIntoContainer=function(n,a,l,d){if(!mc(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return hc(n,a,l,!1,d)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var Fx;function yy(){if(Fx)return Af.exports;Fx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Af.exports=ZC(),Af.exports}var Lx;function XC(){if(Lx)return gc;Lx=1;var e=yy();return gc.createRoot=e.createRoot,gc.hydrateRoot=e.hydrateRoot,gc}var JC=XC();function e1(e,r){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,i,o,c,u=[],f="",p=e.split("/");for(p[0]||p.shift();o=p.shift();)s=o[0],s==="*"?(u.push(s),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(i=o.indexOf("?",1),c=o.indexOf(".",1),u.push(o.substring(1,~i?i:~c?c:o.length)),f+=~i&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~i?"?":"")+"\\"+o.substring(c))):f+="/"+o;return{keys:u,pattern:new RegExp("^"+f+(r?"(?=$|/)":"/?$"),"i")}}var h=rd();const Wt=vy(h),Vm=WC({__proto__:null,default:Wt},[h]);var Of={exports:{}},Df={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function t1(){if(Bx)return Df;Bx=1;var e=rd();function r(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var s=typeof Object.is=="function"?Object.is:r,i=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(y,w){var C=w(),k=i({inst:{value:C,getSnapshot:w}}),j=k[0].inst,b=k[1];return c(function(){j.value=C,j.getSnapshot=w,p(j)&&b({inst:j})},[y,C,w]),o(function(){return p(j)&&b({inst:j}),y(function(){p(j)&&b({inst:j})})},[y]),u(C),C}function p(y){var w=y.getSnapshot;y=y.value;try{var C=w();return!s(y,C)}catch{return!0}}function g(y,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Df.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,Df}var $x;function r1(){return $x||($x=1,Of.exports=t1()),Of.exports}var n1=r1();const s1=Vm.useInsertionEffect,a1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1=a1?h.useLayoutEffect:h.useEffect,o1=s1||i1,by=e=>{const r=h.useRef([e,(...s)=>r[0](...s)]).current;return o1(()=>{r[0]=e}),r[1]},l1="popstate",zm="pushState",Um="replaceState",c1="hashchange",Vx=[l1,zm,Um,c1],d1=e=>{for(const r of Vx)addEventListener(r,e);return()=>{for(const r of Vx)removeEventListener(r,e)}},jy=(e,r)=>n1.useSyncExternalStore(d1,e,r),u1=()=>location.search,f1=({ssrSearch:e=""}={})=>jy(u1,()=>e),zx=()=>location.pathname,m1=({ssrPath:e}={})=>jy(zx,e?()=>e:zx),h1=(e,{replace:r=!1,state:s=null}={})=>history[r?Um:zm](s,"",e),p1=(e={})=>[m1(e),h1],Ux=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ux]>"u"){for(const e of[zm,Um]){const r=history[e];history[e]=function(){const s=r.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),s}}Object.defineProperty(window,Ux,{value:!0})}const g1=(e,r)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/",wy=(e="")=>e==="/"?"":e,x1=(e,r)=>e[0]==="~"?e.slice(1):wy(r)+e,v1=(e="",r)=>g1(qx(wy(e)),qx(r)),qx=e=>{try{return decodeURI(e)}catch{return e}},Ny={hook:p1,searchHook:f1,parser:e1,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Sy=h.createContext(Ny),Zo=()=>h.useContext(Sy),Cy={},ky=h.createContext(Cy),y1=()=>h.useContext(ky),nd=e=>{const[r,s]=e.hook(e);return[v1(e.base,r),by((i,o)=>s(x1(i,e.base),o))]},Py=()=>nd(Zo()),_y=(e,r,s,i)=>{const{pattern:o,keys:c}=r instanceof RegExp?{keys:!1,pattern:r}:e(r||"*",i),u=o.exec(s)||[],[f,...p]=u;return f!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((y,w)=>[y,p[w]])):u.groups;let x={...p};return g&&Object.assign(x,g),x})(),...i?[f]:[]]:[!1,null]},b1=({children:e,...r})=>{const s=Zo(),i=r.hook?Ny:s;let o=i;const[c,u]=r.ssrPath?.split("?")??[];u&&(r.ssrSearch=u,r.ssrPath=c),r.hrefs=r.hrefs??r.hook?.hrefs;let f=h.useRef({}),p=f.current,g=p;for(let x in i){const y=x==="base"?i[x]+(r[x]||""):r[x]||i[x];p===g&&y!==g[x]&&(f.current=g={...g}),g[x]=y,(y!==i[x]||y!==o[x])&&(o=g)}return h.createElement(Sy.Provider,{value:o,children:e})},Wx=({children:e,component:r},s)=>r?h.createElement(r,{params:s}):typeof e=="function"?e(s):e,j1=e=>{let r=h.useRef(Cy);const s=r.current;return r.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([i,o])=>o!==s[i])?e:s},Os=({path:e,nest:r,match:s,...i})=>{const o=Zo(),[c]=nd(o),[u,f,p]=s??_y(o.parser,e,c,r),g=j1({...y1(),...f});if(!u)return null;const x=p?h.createElement(b1,{base:p},Wx(i,g)):Wx(i,g);return h.createElement(ky.Provider,{value:g,children:x})},Ac=h.forwardRef((e,r)=>{const s=Zo(),[i,o]=nd(s),{to:c="",href:u=c,onClick:f,asChild:p,children:g,className:x,replace:y,state:w,...C}=e,k=by(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(f?.(b),b.defaultPrevented||(b.preventDefault(),o(u,e)))}),j=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return p&&h.isValidElement(g)?h.cloneElement(g,{onClick:k,href:j}):h.createElement("a",{...C,onClick:k,href:j,className:x?.call?x(i===u):x,children:g,ref:r})}),Ty=e=>Array.isArray(e)?e.flatMap(r=>Ty(r&&r.type===h.Fragment?r.props.children:r)):[e],w1=({children:e,location:r})=>{const s=Zo(),[i]=nd(s);for(const o of Ty(e)){let c=0;if(h.isValidElement(o)&&(c=_y(s.parser,o.props.path,r||i,o.props.nest))[0])return h.cloneElement(o,{match:c})}return null};var _i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N1={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e),setInterval:(e,r)=>setInterval(e,r),clearInterval:e=>clearInterval(e)},S1=class{#e=N1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,r){return this.#e.setTimeout(e,r)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,r){return this.#e.setInterval(e,r)}clearInterval(e){this.#e.clearInterval(e)}},fa=new S1;function C1(e){setTimeout(e,0)}var pa=typeof window>"u"||"Deno"in globalThis;function Sr(){}function k1(e,r){return typeof e=="function"?e(r):e}function om(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ey(e,r){return Math.max(e+(r||0)-Date.now(),0)}function $s(e,r){return typeof e=="function"?e(r):e}function an(e,r){return typeof e=="function"?e(r):e}function Kx(e,r){const{type:s="all",exact:i,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(i){if(r.queryHash!==qm(u,r.options))return!1}else if(!Eo(r.queryKey,u))return!1}if(s!=="all"){const p=r.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||o&&o!==r.state.fetchStatus||c&&!c(r))}function Qx(e,r){const{exact:s,status:i,predicate:o,mutationKey:c}=e;if(c){if(!r.options.mutationKey)return!1;if(s){if(ga(r.options.mutationKey)!==ga(c))return!1}else if(!Eo(r.options.mutationKey,c))return!1}return!(i&&r.state.status!==i||o&&!o(r))}function qm(e,r){return(r?.queryKeyHashFn||ga)(e)}function ga(e){return JSON.stringify(e,(r,s)=>lm(s)?Object.keys(s).sort().reduce((i,o)=>(i[o]=s[o],i),{}):s)}function Eo(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(s=>Eo(e[s],r[s])):!1}var P1=Object.prototype.hasOwnProperty;function Ay(e,r){if(e===r)return e;const s=Hx(e)&&Hx(r);if(!s&&!(lm(e)&&lm(r)))return r;const o=(s?e:Object.keys(e)).length,c=s?r:Object.keys(r),u=c.length,f=s?new Array(u):{};let p=0;for(let g=0;g<u;g++){const x=s?g:c[g],y=e[x],w=r[x];if(y===w){f[x]=y,(s?g<o:P1.call(e,x))&&p++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[x]=w;continue}const C=Ay(y,w);f[x]=C,C===y&&p++}return o===u&&p===o?e:f}function Rc(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lm(e){if(!Gx(e))return!1;const r=e.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!Gx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gx(e){return Object.prototype.toString.call(e)==="[object Object]"}function _1(e){return new Promise(r=>{fa.setTimeout(r,e)})}function cm(e,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,r):s.structuralSharing!==!1?Ay(e,r):r}function T1(e,r,s=0){const i=[...e,r];return s&&i.length>s?i.slice(1):i}function E1(e,r,s=0){const i=[r,...e];return s&&i.length>s?i.slice(0,-1):i}var Wm=Symbol();function Ry(e,r){return!e.queryFn&&r?.initialPromise?()=>r.initialPromise:!e.queryFn||e.queryFn===Wm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Iy(e,r){return typeof e=="function"?e(...r):!!e}var A1=class extends _i{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Km=new A1;function dm(){let e,r;const s=new Promise((o,c)=>{e=o,r=c});s.status="pending",s.catch(()=>{});function i(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},s.reject=o=>{i({status:"rejected",reason:o}),r(o)},s}var R1=C1;function I1(){let e=[],r=0,s=f=>{f()},i=f=>{f()},o=R1;const c=f=>{r?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{i(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;r++;try{p=f()}finally{r--,r||u()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var rr=I1(),O1=class extends _i{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!pa&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ic=new O1;function D1(e){return Math.min(1e3*2**e,3e4)}function Oy(e){return(e??"online")==="online"?Ic.isOnline():!0}var um=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Dy(e){let r=!1,s=0,i;const o=dm(),c=()=>o.status!=="pending",u=j=>{if(!c()){const b=new um(j);w(b),e.onCancel?.(b)}},f=()=>{r=!0},p=()=>{r=!1},g=()=>Km.isFocused()&&(e.networkMode==="always"||Ic.isOnline())&&e.canRun(),x=()=>Oy(e.networkMode)&&e.canRun(),y=j=>{c()||(i?.(),o.resolve(j))},w=j=>{c()||(i?.(),o.reject(j))},C=()=>new Promise(j=>{i=b=>{(c()||g())&&j(b)},e.onPause?.()}).then(()=>{i=void 0,c()||e.onContinue?.()}),k=()=>{if(c())return;let j;const b=s===0?e.initialPromise:void 0;try{j=b??e.fn()}catch(S){j=Promise.reject(S)}Promise.resolve(j).then(y).catch(S=>{if(c())return;const _=e.retry??(pa?0:3),O=e.retryDelay??D1,A=typeof O=="function"?O(s,S):O,B=_===!0||typeof _=="number"&&s<_||typeof _=="function"&&_(s,S);if(r||!B){w(S);return}s++,e.onFail?.(s,S),_1(A).then(()=>g()?void 0:C()).then(()=>{r?w(S):k()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(i?.(),o),cancelRetry:f,continueRetry:p,canStart:x,start:()=>(x()?k():C().then(k),o)}}var My=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),om(this.gcTime)&&(this.#e=fa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(fa.clearTimeout(this.#e),this.#e=void 0)}},M1=class extends My{#e;#t;#r;#n;#s;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Yx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Yx(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,r){const s=cm(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(e,r){this.#a({type:"setState",state:e,setStateOptions:r})}cancel(e){const r=this.#s?.promise;return this.#s?.cancel(e),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>an(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$s(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ey(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,r){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=Ry(this.options,r),g=(()=>{const x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return i(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return i(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#a({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=Dy({initialPromise:r?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof um&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,p)=>{this.#a({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof um){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Fy(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),rr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Fy(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Oy(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Yx(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,s=r!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var F1=class extends _i{constructor(e,r){super(),this.options=r,this.#e=e,this.#a=null,this.#o=dm(),this.bindMethods(),this.setOptions(r)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#i;#o;#a;#p;#f;#m;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Zx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!Rc(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Xx(this.#t,s,this.options,r)&&this.#u(),this.updateResult(),i&&(this.#t!==s||an(this.options.enabled,this.#t)!==an(r.enabled,this.#t)||$s(this.options.staleTime,this.#t)!==$s(r.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==s||an(this.options.enabled,this.#t)!==an(r.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const r=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(r,e);return B1(this,s)&&(this.#n=s,this.#i=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,r){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),r?.(i),i==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#w();let r=this.#t.fetch(this.options,e);return e?.throwOnError||(r=r.catch(Sr)),r}#g(){this.#b();const e=$s(this.options.staleTime,this.#t);if(pa||this.#n.isStale||!om(e))return;const s=Ey(this.#n.dataUpdatedAt,e)+1;this.#c=fa.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#l=e,!(pa||an(this.options.enabled,this.#t)===!1||!om(this.#l)||this.#l===0)&&(this.#d=fa.setInterval(()=>{(this.options.refetchIntervalInBackground||Km.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(fa.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(fa.clearInterval(this.#d),this.#d=void 0)}createResult(e,r){const s=this.#t,i=this.options,o=this.#n,c=this.#s,u=this.#i,p=e!==s?e.state:this.#r,{state:g}=e;let x={...g},y=!1,w;if(r._optimisticResults){const se=this.hasListeners(),Z=!se&&Zx(e,r),ee=se&&Xx(e,s,r,i);(Z||ee)&&(x={...x,...Fy(g.data,e.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:C,errorUpdatedAt:k,status:j}=x;w=x.data;let b=!1;if(r.placeholderData!==void 0&&w===void 0&&j==="pending"){let se;o?.isPlaceholderData&&r.placeholderData===u?.placeholderData?(se=o.data,b=!0):se=typeof r.placeholderData=="function"?r.placeholderData(this.#m?.state.data,this.#m):r.placeholderData,se!==void 0&&(j="success",w=cm(o?.data,se,r),y=!0)}if(r.select&&w!==void 0&&!b)if(o&&w===c?.data&&r.select===this.#p)w=this.#f;else try{this.#p=r.select,w=r.select(w),w=cm(o?.data,w,r),this.#f=w,this.#a=null}catch(se){this.#a=se}this.#a&&(C=this.#a,w=this.#f,k=Date.now(),j="error");const S=x.fetchStatus==="fetching",_=j==="pending",O=j==="error",A=_&&S,B=w!==void 0,z={status:j,fetchStatus:x.fetchStatus,isPending:_,isSuccess:j==="success",isError:O,isInitialLoading:A,isLoading:A,data:w,dataUpdatedAt:x.dataUpdatedAt,error:C,errorUpdatedAt:k,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:O&&!B,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:O&&B,isStale:Qm(e,r),refetch:this.refetch,promise:this.#o,isEnabled:an(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const se=ae=>{z.status==="error"?ae.reject(z.error):z.data!==void 0&&ae.resolve(z.data)},Z=()=>{const ae=this.#o=z.promise=dm();se(ae)},ee=this.#o;switch(ee.status){case"pending":e.queryHash===s.queryHash&&se(ee);break;case"fulfilled":(z.status==="error"||z.data!==ee.value)&&Z();break;case"rejected":(z.status!=="error"||z.error!==ee.reason)&&Z();break}}return z}updateResult(){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#m=this.#t),Rc(r,e))return;this.#n=r;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(u=>{const f=u;return this.#n[f]!==e[f]&&c.has(f)})};this.#N({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const r=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){rr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function L1(e,r){return an(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function Zx(e,r){return L1(e,r)||e.state.data!==void 0&&fm(e,r,r.refetchOnMount)}function fm(e,r,s){if(an(r.enabled,e)!==!1&&$s(r.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Qm(e,r)}return!1}function Xx(e,r,s,i){return(e!==r||an(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Qm(e,s)}function Qm(e,r){return an(r.enabled,e)!==!1&&e.isStaleByTime($s(r.staleTime,e))}function B1(e,r){return!Rc(e.getCurrentResult(),r)}function Jx(e){return{onFetch:(r,s)=>{const i=r.options,o=r.fetchOptions?.meta?.fetchMore?.direction,c=r.state.data?.pages||[],u=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let x=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(r.signal.aborted?x=!0:r.signal.addEventListener("abort",()=>{x=!0}),r.signal)})},w=Ry(r.options,r.fetchOptions),C=async(k,j,b)=>{if(x)return Promise.reject();if(j==null&&k.pages.length)return Promise.resolve(k);const _=(()=>{const G={client:r.client,queryKey:r.queryKey,pageParam:j,direction:b?"backward":"forward",meta:r.options.meta};return y(G),G})(),O=await w(_),{maxPages:A}=r.options,B=b?E1:T1;return{pages:B(k.pages,O,A),pageParams:B(k.pageParams,j,A)}};if(o&&c.length){const k=o==="backward",j=k?$1:ev,b={pages:c,pageParams:u},S=j(i,b);f=await C(b,S,k)}else{const k=e??c.length;do{const j=p===0?u[0]??i.initialPageParam:ev(i,f);if(p>0&&j==null)break;f=await C(f,j),p++}while(p<k)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(g,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s):r.fetchFn=g}}}function ev(e,{pages:r,pageParams:s}){const i=r.length-1;return r.length>0?e.getNextPageParam(r[i],r,s[i],s):void 0}function $1(e,{pages:r,pageParams:s}){return r.length>0?e.getPreviousPageParam?.(r[0],r,s[0],s):void 0}var V1=class extends My{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Ly(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(r=>r!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const r=()=>{this.#n({type:"continue"})};this.#r=Dy({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",i=!this.#r.canStart();try{if(s)r();else{this.#n({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:i})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rr.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Ly(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var z1=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,r,s){const i=new V1({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){this.#e.add(e);const r=xc(e);if(typeof r=="string"){const s=this.#t.get(r);s?s.push(e):this.#t.set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const r=xc(e);if(typeof r=="string"){const s=this.#t.get(r);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=xc(e);if(typeof r=="string"){const i=this.#t.get(r)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const r=xc(e);return typeof r=="string"?this.#t.get(r)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){rr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Qx(r,s))}findAll(e={}){return this.getAll().filter(r=>Qx(e,r))}notify(e){rr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return rr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Sr))))}};function xc(e){return e.options.scope?.id}var U1=class extends _i{#e;#t=void 0;#r;#n;constructor(r,s){super(),this.#e=r,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const s=this.options;this.options=this.#e.defaultMutationOptions(r),Rc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&ga(s.mutationKey)!==ga(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(r){this.#s(),this.#i(r)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(r,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(r)}#s(){const r=this.#r?.state??Ly();this.#t={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#i(r){rr.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context;r?.type==="success"?(this.#n.onSuccess?.(r.data,s,i),this.#n.onSettled?.(r.data,null,s,i)):r?.type==="error"&&(this.#n.onError?.(r.error,s,i),this.#n.onSettled?.(void 0,r.error,s,i))}this.listeners.forEach(s=>{s(this.#t)})})}},q1=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,r,s){const i=r.queryKey,o=r.queryHash??qm(i,r);let c=this.get(o);return c||(c=new M1({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=this.#e.get(e.queryHash);r&&(e.destroy(),r===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Kx(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>Kx(e,s)):r}notify(e){rr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},W1=class{#e;#t;#r;#n;#s;#i;#o;#a;constructor(e={}){this.#e=e.queryCache||new q1,this.#t=e.mutationCache||new z1,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Km.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),s=this.#e.build(this,r),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime($s(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:r,state:s})=>{const i=s.data;return[r,i]})}setQueryData(e,r,s){const i=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(i.queryHash)?.state.data,u=k1(r,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...s,manual:!0})}setQueriesData(e,r,s){return rr.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,s)]))}getQueryState(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state}removeQueries(e){const r=this.#e;rr.batch(()=>{r.findAll(e).forEach(s=>{r.remove(s)})})}resetQueries(e,r){const s=this.#e;return rr.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const s={revert:!0,...r},i=rr.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(i).then(Sr).catch(Sr)}invalidateQueries(e,r={}){return rr.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},r)))}refetchQueries(e,r={}){const s={...r,cancelRefetch:r.cancelRefetch??!0},i=rr.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(Sr)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(Sr)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const s=this.#e.build(this,r);return s.isStaleByTime($s(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sr).catch(Sr)}fetchInfiniteQuery(e){return e.behavior=Jx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sr).catch(Sr)}ensureInfiniteQueryData(e){return e.behavior=Jx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ic.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,r){this.#n.set(ga(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...this.#n.values()],s={};return r.forEach(i=>{Eo(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,r){this.#s.set(ga(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...this.#s.values()],s={};return r.forEach(i=>{Eo(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const r={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=qm(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Wm&&(r.enabled=!1),r}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},By=h.createContext(void 0),jr=e=>{const r=h.useContext(By);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},K1=({client:e,children:r})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(By.Provider,{value:e,children:r})),$y=h.createContext(!1),Q1=()=>h.useContext($y);$y.Provider;function H1(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var G1=h.createContext(H1()),Y1=()=>h.useContext(G1),Z1=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},X1=e=>{h.useEffect(()=>{e.clearReset()},[e])},J1=({result:e,errorResetBoundary:r,throwOnError:s,query:i,suspense:o})=>e.isError&&!r.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Iy(s,[e.error,i])),ek=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>s(i(...o)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},tk=(e,r)=>e.isLoading&&e.isFetching&&!r,rk=(e,r)=>e?.suspense&&r.isPending,tv=(e,r,s)=>r.fetchOptimistic(e).catch(()=>{s.clearReset()});function nk(e,r,s){const i=Q1(),o=Y1(),c=jr(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",ek(u),Z1(u,o),X1(o);const f=!c.getQueryCache().get(u.queryHash),[p]=h.useState(()=>new r(c,u)),g=p.getOptimisticResult(u),x=!i&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const w=x?p.subscribe(rr.batchCalls(y)):Sr;return p.updateResult(),w},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),h.useEffect(()=>{p.setOptions(u)},[u,p]),rk(u,g))throw tv(u,p,o);if(J1({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!pa&&tk(g,i)&&(f?tv(u,p,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(Sr).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?g:p.trackResult(g)}function gt(e,r){return nk(e,F1)}function Ue(e,r){const s=jr(),[i]=h.useState(()=>new U1(s,e));h.useEffect(()=>{i.setOptions(e)},[i,e]);const o=h.useSyncExternalStore(h.useCallback(u=>i.subscribe(rr.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=h.useCallback((u,f)=>{i.mutate(u,f).catch(Sr)},[i]);if(o.error&&Iy(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}async function Vy(e){if(!e.ok){const r=await e.text()||e.statusText;throw new Error(`${e.status}: ${r}`)}}async function wt(e,r,s){const i={};s&&(i["Content-Type"]="application/json");const o=localStorage.getItem("auth_token");o&&(i.Authorization=`Bearer ${o}`);const c=await fetch(r,{method:e,headers:i,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Vy(c),c}const sk=({on401:e})=>async({queryKey:r})=>{const s={},i=localStorage.getItem("auth_token");i&&(s.Authorization=`Bearer ${i}`);const o=await fetch(r.join("/"),{headers:s,credentials:"include"});return await Vy(o),await o.json()},yr=new W1({defaultOptions:{queries:{queryFn:sk({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ak=1,ik=1e6;let Mf=0;function ok(){return Mf=(Mf+1)%Number.MAX_SAFE_INTEGER,Mf.toString()}const Ff=new Map,rv=e=>{if(Ff.has(e))return;const r=setTimeout(()=>{Ff.delete(e),Po({type:"REMOVE_TOAST",toastId:e})},ik);Ff.set(e,r)},lk=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,ak)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?rv(s):e.toasts.forEach(i=>{rv(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},Cc=[];let kc={toasts:[]};function Po(e){kc=lk(kc,e),Cc.forEach(r=>{r(kc)})}function ck({...e}){const r=ok(),s=o=>Po({type:"UPDATE_TOAST",toast:{...o,id:r}}),i=()=>Po({type:"DISMISS_TOAST",toastId:r});return Po({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:o=>{o||i()}}}),{id:r,dismiss:i,update:s}}function Ht(){const[e,r]=h.useState(kc);return h.useEffect(()=>(Cc.push(r),()=>{const s=Cc.indexOf(r);s>-1&&Cc.splice(s,1)}),[e]),{...e,toast:ck,dismiss:s=>Po({type:"DISMISS_TOAST",toastId:s})}}var Ti=yy();const dk=vy(Ti);function Me(e,r,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return r?.(o)}}function nv(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function xa(...e){return r=>{let s=!1;const i=e.map(o=>{const c=nv(o,r);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():nv(e[o],null)}}}}function lt(...e){return h.useCallback(xa(...e),e)}function uk(e,r){const s=h.createContext(r),i=c=>{const{children:u,...f}=c,p=h.useMemo(()=>f,Object.values(f));return t.jsx(s.Provider,{value:p,children:u})};i.displayName=e+"Provider";function o(c){const u=h.useContext(s);if(u)return u;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,o]}function Er(e,r=[]){let s=[];function i(c,u){const f=h.createContext(u),p=s.length;s=[...s,u];const g=y=>{const{scope:w,children:C,...k}=y,j=w?.[e]?.[p]||f,b=h.useMemo(()=>k,Object.values(k));return t.jsx(j.Provider,{value:b,children:C})};g.displayName=c+"Provider";function x(y,w){const C=w?.[e]?.[p]||f,k=h.useContext(C);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=s.map(u=>h.createContext(u));return function(f){const p=f?.[e]||c;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return o.scopeName=e,[i,fk(o,...r)]}function fk(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((f,{useScope:p,scopeName:g})=>{const y=p(c)[`__scope${g}`];return{...f,...y}},{});return h.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return s.scopeName=r.scopeName,s}function va(e){const r=hk(e),s=h.forwardRef((i,o)=>{const{children:c,...u}=i,f=h.Children.toArray(c),p=f.find(pk);if(p){const g=p.props.children,x=f.map(y=>y===p?h.Children.count(g)>1?h.Children.only(null):h.isValidElement(g)?g.props.children:null:y);return t.jsx(r,{...u,ref:o,children:h.isValidElement(g)?h.cloneElement(g,void 0,x):null})}return t.jsx(r,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var mk=va("Slot");function hk(e){const r=h.forwardRef((s,i)=>{const{children:o,...c}=s;if(h.isValidElement(o)){const u=xk(o),f=gk(c,o.props);return o.type!==h.Fragment&&(f.ref=i?xa(i,u):u),h.cloneElement(o,f)}return h.Children.count(o)>1?h.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var zy=Symbol("radix.slottable");function Uy(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=zy,r}function pk(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zy}function gk(e,r){const s={...r};for(const i in r){const o=e[i],c=r[i];/^on[A-Z]/.test(i)?o&&c?s[i]=(...f)=>{const p=c(...f);return o(...f),p}:o&&(s[i]=o):i==="style"?s[i]={...o,...c}:i==="className"&&(s[i]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function xk(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Hm(e){const r=e+"CollectionProvider",[s,i]=Er(r),[o,c]=s(r,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:b,children:S}=j,_=Wt.useRef(null),O=Wt.useRef(new Map).current;return t.jsx(o,{scope:b,itemMap:O,collectionRef:_,children:S})};u.displayName=r;const f=e+"CollectionSlot",p=va(f),g=Wt.forwardRef((j,b)=>{const{scope:S,children:_}=j,O=c(f,S),A=lt(b,O.collectionRef);return t.jsx(p,{ref:A,children:_})});g.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",w=va(x),C=Wt.forwardRef((j,b)=>{const{scope:S,children:_,...O}=j,A=Wt.useRef(null),B=lt(b,A),G=c(x,S);return Wt.useEffect(()=>(G.itemMap.set(A,{ref:A,...O}),()=>void G.itemMap.delete(A))),t.jsx(w,{[y]:"",ref:B,children:_})});C.displayName=x;function k(j){const b=c(e+"CollectionConsumer",j);return Wt.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const O=Array.from(_.querySelectorAll(`[${y}]`));return Array.from(b.itemMap.values()).sort((G,z)=>O.indexOf(G.ref.current)-O.indexOf(z.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},k,i]}var vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=vk.reduce((e,r)=>{const s=va(`Primitive.${r}`),i=h.forwardRef((o,c)=>{const{asChild:u,...f}=o,p=u?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(p,{...f,ref:c})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function qy(e,r){e&&Ti.flushSync(()=>e.dispatchEvent(r))}function dn(e){const r=h.useRef(e);return h.useEffect(()=>{r.current=e}),h.useMemo(()=>(...s)=>r.current?.(...s),[])}function yk(e,r=globalThis?.document){const s=dn(e);h.useEffect(()=>{const i=o=>{o.key==="Escape"&&s(o)};return r.addEventListener("keydown",i,{capture:!0}),()=>r.removeEventListener("keydown",i,{capture:!0})},[s,r])}var bk="DismissableLayer",mm="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",sv,Wy=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ei=h.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...p}=e,g=h.useContext(Wy),[x,y]=h.useState(null),w=x?.ownerDocument??globalThis?.document,[,C]=h.useState({}),k=lt(r,z=>y(z)),j=Array.from(g.layers),[b]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),S=j.indexOf(b),_=x?j.indexOf(x):-1,O=g.layersWithOutsidePointerEventsDisabled.size>0,A=_>=S,B=Sk(z=>{const se=z.target,Z=[...g.branches].some(ee=>ee.contains(se));!A||Z||(o?.(z),u?.(z),z.defaultPrevented||f?.())},w),G=Ck(z=>{const se=z.target;[...g.branches].some(ee=>ee.contains(se))||(c?.(z),u?.(z),z.defaultPrevented||f?.())},w);return yk(z=>{_===g.layers.size-1&&(i?.(z),!z.defaultPrevented&&f&&(z.preventDefault(),f()))},w),h.useEffect(()=>{if(x)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(sv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),av(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=sv)}},[x,w,s,g]),h.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),av())},[x,g]),h.useEffect(()=>{const z=()=>C({});return document.addEventListener(mm,z),()=>document.removeEventListener(mm,z)},[]),t.jsx(Fe.div,{...p,ref:k,style:{pointerEvents:O?A?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,B.onPointerDownCapture)})});Ei.displayName=bk;var Nk="DismissableLayerBranch",Ky=h.forwardRef((e,r)=>{const s=h.useContext(Wy),i=h.useRef(null),o=lt(r,i);return h.useEffect(()=>{const c=i.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),t.jsx(Fe.div,{...e,ref:o})});Ky.displayName=Nk;function Sk(e,r=globalThis?.document){const s=dn(e),i=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let p=function(){Qy(jk,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=p,r.addEventListener("click",o.current,{once:!0})):p()}else r.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),r.removeEventListener("pointerdown",c),r.removeEventListener("click",o.current)}},[r,s]),{onPointerDownCapture:()=>i.current=!0}}function Ck(e,r=globalThis?.document){const s=dn(e),i=h.useRef(!1);return h.useEffect(()=>{const o=c=>{c.target&&!i.current&&Qy(wk,s,{originalEvent:c},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function av(){const e=new CustomEvent(mm);document.dispatchEvent(e)}function Qy(e,r,s,{discrete:i}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),i?qy(o,c):o.dispatchEvent(c)}var kk=Ei,Pk=Ky,mr=globalThis?.document?h.useLayoutEffect:()=>{},_k="Portal",Xo=h.forwardRef((e,r)=>{const{container:s,...i}=e,[o,c]=h.useState(!1);mr(()=>c(!0),[]);const u=s||o&&globalThis?.document?.body;return u?dk.createPortal(t.jsx(Fe.div,{...i,ref:r}),u):null});Xo.displayName=_k;function Tk(e,r){return h.useReducer((s,i)=>r[s][i]??s,e)}var _n=e=>{const{present:r,children:s}=e,i=Ek(r),o=typeof s=="function"?s({present:i.isPresent}):h.Children.only(s),c=lt(i.ref,Ak(o));return typeof s=="function"||i.isPresent?h.cloneElement(o,{ref:c}):null};_n.displayName="Presence";function Ek(e){const[r,s]=h.useState(),i=h.useRef(null),o=h.useRef(e),c=h.useRef("none"),u=e?"mounted":"unmounted",[f,p]=Tk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const g=vc(i.current);c.current=f==="mounted"?g:"none"},[f]),mr(()=>{const g=i.current,x=o.current;if(x!==e){const w=c.current,C=vc(g);e?p("MOUNT"):C==="none"||g?.display==="none"?p("UNMOUNT"):p(x&&w!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),mr(()=>{if(r){let g;const x=r.ownerDocument.defaultView??window,y=C=>{const j=vc(i.current).includes(CSS.escape(C.animationName));if(C.target===r&&j&&(p("ANIMATION_END"),!o.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",g=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},w=C=>{C.target===r&&(c.current=vc(i.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",y),r.addEventListener("animationend",y),()=>{x.clearTimeout(g),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",y),r.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[r,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(g=>{i.current=g?getComputedStyle(g):null,s(g)},[])}}function vc(e){return e?.animationName||"none"}function Ak(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Rk=Vm[" useInsertionEffect ".trim().toString()]||mr;function qn({prop:e,defaultProp:r,onChange:s=()=>{},caller:i}){const[o,c,u]=Ik({defaultProp:r,onChange:s}),f=e!==void 0,p=f?e:o;{const x=h.useRef(e!==void 0);h.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,i])}const g=h.useCallback(x=>{if(f){const y=Ok(x)?x(e):x;y!==e&&u.current?.(y)}else c(x)},[f,e,c,u]);return[p,g]}function Ik({defaultProp:e,onChange:r}){const[s,i]=h.useState(e),o=h.useRef(s),c=h.useRef(r);return Rk(()=>{c.current=r},[r]),h.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,i,c]}function Ok(e){return typeof e=="function"}var Hy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dk="VisuallyHidden",sd=h.forwardRef((e,r)=>t.jsx(Fe.span,{...e,ref:r,style:{...Hy,...e.style}}));sd.displayName=Dk;var Mk=sd,Gm="ToastProvider",[Ym,Fk,Lk]=Hm("Toast"),[Gy,rM]=Er("Toast",[Lk]),[Bk,ad]=Gy(Gm),Yy=e=>{const{__scopeToast:r,label:s="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:c=50,children:u}=e,[f,p]=h.useState(null),[g,x]=h.useState(0),y=h.useRef(!1),w=h.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gm}\`. Expected non-empty \`string\`.`),t.jsx(Ym.Provider,{scope:r,children:t.jsx(Bk,{scope:r,label:s,duration:i,swipeDirection:o,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:p,onToastAdd:h.useCallback(()=>x(C=>C+1),[]),onToastRemove:h.useCallback(()=>x(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:u})})};Yy.displayName=Gm;var Zy="ToastViewport",$k=["F8"],hm="toast.viewportPause",pm="toast.viewportResume",Xy=h.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:i=$k,label:o="Notifications ({hotkey})",...c}=e,u=ad(Zy,s),f=Fk(s),p=h.useRef(null),g=h.useRef(null),x=h.useRef(null),y=h.useRef(null),w=lt(r,y,u.onViewportChange),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;h.useEffect(()=>{const b=S=>{i.length!==0&&i.every(O=>S[O]||S.code===O)&&y.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),h.useEffect(()=>{const b=p.current,S=y.current;if(k&&b&&S){const _=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(hm);S.dispatchEvent(G),u.isClosePausedRef.current=!0}},O=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(pm);S.dispatchEvent(G),u.isClosePausedRef.current=!1}},A=G=>{!b.contains(G.relatedTarget)&&O()},B=()=>{b.contains(document.activeElement)||O()};return b.addEventListener("focusin",_),b.addEventListener("focusout",A),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",B),window.addEventListener("blur",_),window.addEventListener("focus",O),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",B),window.removeEventListener("blur",_),window.removeEventListener("focus",O)}}},[k,u.isClosePausedRef]);const j=h.useCallback(({tabbingDirection:b})=>{const _=f().map(O=>{const A=O.ref.current,B=[A,...Jk(A)];return b==="forwards"?B:B.reverse()});return(b==="forwards"?_.reverse():_).flat()},[f]);return h.useEffect(()=>{const b=y.current;if(b){const S=_=>{const O=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!O){const B=document.activeElement,G=_.shiftKey;if(_.target===b&&G){g.current?.focus();return}const Z=j({tabbingDirection:G?"backwards":"forwards"}),ee=Z.findIndex(ae=>ae===B);Lf(Z.slice(ee+1))?_.preventDefault():G?g.current?.focus():x.current?.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[f,j]),t.jsxs(Pk,{ref:p,role:"region","aria-label":o.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&t.jsx(gm,{ref:g,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"forwards"});Lf(b)}}),t.jsx(Ym.Slot,{scope:s,children:t.jsx(Fe.ol,{tabIndex:-1,...c,ref:w})}),k&&t.jsx(gm,{ref:x,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"backwards"});Lf(b)}})]})});Xy.displayName=Zy;var Jy="ToastFocusProxy",gm=h.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:i,...o}=e,c=ad(Jy,s);return t.jsx(sd,{tabIndex:0,...o,ref:r,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});gm.displayName=Jy;var Jo="Toast",Vk="toast.swipeStart",zk="toast.swipeMove",Uk="toast.swipeCancel",qk="toast.swipeEnd",eb=h.forwardRef((e,r)=>{const{forceMount:s,open:i,defaultOpen:o,onOpenChange:c,...u}=e,[f,p]=qn({prop:i,defaultProp:o??!0,onChange:c,caller:Jo});return t.jsx(_n,{present:s||f,children:t.jsx(Qk,{open:f,...u,ref:r,onClose:()=>p(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:Me(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Me(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,g=>{const{x,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),p(!1)})})})});eb.displayName=Jo;var[Wk,Kk]=Gy(Jo,{onClose(){}}),Qk=h.forwardRef((e,r)=>{const{__scopeToast:s,type:i="foreground",duration:o,open:c,onClose:u,onEscapeKeyDown:f,onPause:p,onResume:g,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:C,...k}=e,j=ad(Jo,s),[b,S]=h.useState(null),_=lt(r,$=>S($)),O=h.useRef(null),A=h.useRef(null),B=o||j.duration,G=h.useRef(0),z=h.useRef(B),se=h.useRef(0),{onToastAdd:Z,onToastRemove:ee}=j,ae=dn(()=>{b?.contains(document.activeElement)&&j.viewport?.focus(),u()}),X=h.useCallback($=>{!$||$===1/0||(window.clearTimeout(se.current),G.current=new Date().getTime(),se.current=window.setTimeout(ae,$))},[ae]);h.useEffect(()=>{const $=j.viewport;if($){const ie=()=>{X(z.current),g?.()},q=()=>{const P=new Date().getTime()-G.current;z.current=z.current-P,window.clearTimeout(se.current),p?.()};return $.addEventListener(hm,q),$.addEventListener(pm,ie),()=>{$.removeEventListener(hm,q),$.removeEventListener(pm,ie)}}},[j.viewport,B,p,g,X]),h.useEffect(()=>{c&&!j.isClosePausedRef.current&&X(B)},[c,B,j.isClosePausedRef,X]),h.useEffect(()=>(Z(),()=>ee()),[Z,ee]);const re=h.useMemo(()=>b?ob(b):null,[b]);return j.viewport?t.jsxs(t.Fragment,{children:[re&&t.jsx(Hk,{__scopeToast:s,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:re}),t.jsx(Wk,{scope:s,onClose:ae,children:Ti.createPortal(t.jsx(Ym.ItemSlot,{scope:s,children:t.jsx(kk,{asChild:!0,onEscapeKeyDown:Me(f,()=>{j.isFocusedToastEscapeKeyDownRef.current||ae(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Fe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":j.swipeDirection,...k,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,$=>{$.key==="Escape"&&(f?.($.nativeEvent),$.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ae()))}),onPointerDown:Me(e.onPointerDown,$=>{$.button===0&&(O.current={x:$.clientX,y:$.clientY})}),onPointerMove:Me(e.onPointerMove,$=>{if(!O.current)return;const ie=$.clientX-O.current.x,q=$.clientY-O.current.y,P=!!A.current,R=["left","right"].includes(j.swipeDirection),Y=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ne=R?Y(0,ie):0,F=R?0:Y(0,q),M=$.pointerType==="touch"?10:2,de={x:ne,y:F},xe={originalEvent:$,delta:de};P?(A.current=de,yc(zk,y,xe,{discrete:!1})):iv(de,j.swipeDirection,M)?(A.current=de,yc(Vk,x,xe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(ie)>M||Math.abs(q)>M)&&(O.current=null)}),onPointerUp:Me(e.onPointerUp,$=>{const ie=A.current,q=$.target;if(q.hasPointerCapture($.pointerId)&&q.releasePointerCapture($.pointerId),A.current=null,O.current=null,ie){const P=$.currentTarget,R={originalEvent:$,delta:ie};iv(ie,j.swipeDirection,j.swipeThreshold)?yc(qk,C,R,{discrete:!0}):yc(Uk,w,R,{discrete:!0}),P.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),Hk=e=>{const{__scopeToast:r,children:s,...i}=e,o=ad(Jo,r),[c,u]=h.useState(!1),[f,p]=h.useState(!1);return Zk(()=>u(!0)),h.useEffect(()=>{const g=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:t.jsx(Xo,{asChild:!0,children:t.jsx(sd,{...i,children:c&&t.jsxs(t.Fragment,{children:[o.label," ",s]})})})},Gk="ToastTitle",tb=h.forwardRef((e,r)=>{const{__scopeToast:s,...i}=e;return t.jsx(Fe.div,{...i,ref:r})});tb.displayName=Gk;var Yk="ToastDescription",rb=h.forwardRef((e,r)=>{const{__scopeToast:s,...i}=e;return t.jsx(Fe.div,{...i,ref:r})});rb.displayName=Yk;var nb="ToastAction",sb=h.forwardRef((e,r)=>{const{altText:s,...i}=e;return s.trim()?t.jsx(ib,{altText:s,asChild:!0,children:t.jsx(Zm,{...i,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${nb}\`. Expected non-empty \`string\`.`),null)});sb.displayName=nb;var ab="ToastClose",Zm=h.forwardRef((e,r)=>{const{__scopeToast:s,...i}=e,o=Kk(ab,s);return t.jsx(ib,{asChild:!0,children:t.jsx(Fe.button,{type:"button",...i,ref:r,onClick:Me(e.onClick,o.onClose)})})});Zm.displayName=ab;var ib=h.forwardRef((e,r)=>{const{__scopeToast:s,altText:i,...o}=e;return t.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:r})});function ob(e){const r=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&r.push(i.textContent),Xk(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!o)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&r.push(u)}else r.push(...ob(i))}}),r}function yc(e,r,s,{discrete:i}){const o=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),i?qy(o,c):o.dispatchEvent(c)}var iv=(e,r,s=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),c=i>o;return r==="left"||r==="right"?c&&i>s:!c&&o>s};function Zk(e=()=>{}){const r=dn(e);mr(()=>{let s=0,i=0;return s=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(i)}},[r])}function Xk(e){return e.nodeType===e.ELEMENT_NODE}function Jk(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Lf(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var eP=Yy,lb=Xy,cb=eb,db=tb,ub=rb,fb=sb,mb=Zm;function hb(e){var r,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(s=hb(e[r]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function pb(){for(var e,r,s=0,i="",o=arguments.length;s<o;s++)(e=arguments[s])&&(r=hb(e))&&(i&&(i+=" "),i+=r);return i}const ov=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lv=pb,el=(e,r)=>s=>{var i;if(r?.variants==null)return lv(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=r,u=Object.keys(o).map(g=>{const x=s?.[g],y=c?.[g];if(x===null)return null;const w=ov(x)||ov(y);return o[g][w]}),f=s&&Object.entries(s).reduce((g,x)=>{let[y,w]=x;return w===void 0||(g[y]=w),g},{}),p=r==null||(i=r.compoundVariants)===null||i===void 0?void 0:i.reduce((g,x)=>{let{class:y,className:w,...C}=x;return Object.entries(C).every(k=>{let[j,b]=k;return Array.isArray(b)?b.includes({...c,...f}[j]):{...c,...f}[j]===b})?[...g,y,w]:g},[]);return lv(e,u,p,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gb=(...e)=>e.filter((r,s,i)=>!!r&&i.indexOf(r)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=h.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...f},p)=>h.createElement("svg",{ref:p,...rP,width:r,height:r,stroke:e,strokeWidth:i?Number(s)*24/Number(r):s,className:gb("lucide",o),...f},[...u.map(([g,x])=>h.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,r)=>{const s=h.forwardRef(({className:i,...o},c)=>h.createElement(nP,{ref:c,iconNode:r,className:gb(`lucide-${tP(e)}`,i),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ct("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ct("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ct("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ct("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ct("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ct("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ct("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ct("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ct("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),th="-",mP=e=>{const r=pP(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const f=u.split(th);return f[0]===""&&f.length!==1&&f.shift(),bb(f,r)||hP(u)},getConflictingClassGroupIds:(u,f)=>{const p=s[u]||[];return f&&i[u]?[...p,...i[u]]:p}}},bb=(e,r)=>{if(e.length===0)return r.classGroupId;const s=e[0],i=r.nextPart.get(s),o=i?bb(e.slice(1),i):void 0;if(o)return o;if(r.validators.length===0)return;const c=e.join(th);return r.validators.find(({validator:u})=>u(c))?.classGroupId},gv=/^\[(.+)\]$/,hP=e=>{if(gv.test(e)){const r=gv.exec(e)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},pP=e=>{const{theme:r,prefix:s}=e,i={nextPart:new Map,validators:[]};return xP(Object.entries(e.classGroups),s).forEach(([c,u])=>{vm(u,i,c,r)}),i},vm=(e,r,s,i)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?r:xv(r,o);c.classGroupId=s;return}if(typeof o=="function"){if(gP(o)){vm(o(i),r,s,i);return}r.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{vm(u,xv(r,c),s,i)})})},xv=(e,r)=>{let s=e;return r.split(th).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},gP=e=>e.isThemeGetter,xP=(e,r)=>r?e.map(([s,i])=>{const o=i.map(c=>typeof c=="string"?r+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[r+u,f])):c);return[s,o]}):e,vP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,i=new Map;const o=(c,u)=>{s.set(c,u),r++,r>e&&(r=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},jb="!",yP=e=>{const{separator:r,experimentalParseClassName:s}=e,i=r.length===1,o=r[0],c=r.length,u=f=>{const p=[];let g=0,x=0,y;for(let b=0;b<f.length;b++){let S=f[b];if(g===0){if(S===o&&(i||f.slice(b,b+c)===r)){p.push(f.slice(x,b)),x=b+c;continue}if(S==="/"){y=b;continue}}S==="["?g++:S==="]"&&g--}const w=p.length===0?f:f.substring(x),C=w.startsWith(jb),k=C?w.substring(1):w,j=y&&y>x?y-x:void 0;return{modifiers:p,hasImportantModifier:C,baseClassName:k,maybePostfixModifierPosition:j}};return s?f=>s({className:f,parseClassName:u}):u},bP=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(i=>{i[0]==="["?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r},jP=e=>({cache:vP(e.cacheSize),parseClassName:yP(e),...mP(e)}),wP=/\s+/,NP=(e,r)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o}=r,c=[],u=e.trim().split(wP);let f="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:C}=s(g);let k=!!C,j=i(k?w.substring(0,C):w);if(!j){if(!k){f=g+(f.length>0?" "+f:f);continue}if(j=i(w),!j){f=g+(f.length>0?" "+f:f);continue}k=!1}const b=bP(x).join(":"),S=y?b+jb:b,_=S+j;if(c.includes(_))continue;c.push(_);const O=o(j,k);for(let A=0;A<O.length;++A){const B=O[A];c.push(S+B)}f=g+(f.length>0?" "+f:f)}return f};function SP(){let e=0,r,s,i="";for(;e<arguments.length;)(r=arguments[e++])&&(s=wb(r))&&(i&&(i+=" "),i+=s);return i}const wb=e=>{if(typeof e=="string")return e;let r,s="";for(let i=0;i<e.length;i++)e[i]&&(r=wb(e[i]))&&(s&&(s+=" "),s+=r);return s};function CP(e,...r){let s,i,o,c=u;function u(p){const g=r.reduce((x,y)=>y(x),e());return s=jP(g),i=s.cache.get,o=s.cache.set,c=f,f(p)}function f(p){const g=i(p);if(g)return g;const x=NP(p,s);return o(p,x),x}return function(){return c(SP.apply(null,arguments))}}const Pt=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},Nb=/^\[(?:([a-z-]+):)?(.+)\]$/i,kP=/^\d+\/\d+$/,PP=new Set(["px","full","screen"]),_P=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>ui(e)||PP.has(e)||kP.test(e),Ds=e=>Ai(e,"length",$P),ui=e=>!!e&&!Number.isNaN(Number(e)),$f=e=>Ai(e,"number",ui),jo=e=>!!e&&Number.isInteger(Number(e)),IP=e=>e.endsWith("%")&&ui(e.slice(0,-1)),at=e=>Nb.test(e),Ms=e=>_P.test(e),OP=new Set(["length","size","percentage"]),DP=e=>Ai(e,OP,Sb),MP=e=>Ai(e,"position",Sb),FP=new Set(["image","url"]),LP=e=>Ai(e,FP,zP),BP=e=>Ai(e,"",VP),wo=()=>!0,Ai=(e,r,s)=>{const i=Nb.exec(e);return i?i[1]?typeof r=="string"?i[1]===r:r.has(i[1]):s(i[2]):!1},$P=e=>TP.test(e)&&!EP.test(e),Sb=()=>!1,VP=e=>AP.test(e),zP=e=>RP.test(e),UP=()=>{const e=Pt("colors"),r=Pt("spacing"),s=Pt("blur"),i=Pt("brightness"),o=Pt("borderColor"),c=Pt("borderRadius"),u=Pt("borderSpacing"),f=Pt("borderWidth"),p=Pt("contrast"),g=Pt("grayscale"),x=Pt("hueRotate"),y=Pt("invert"),w=Pt("gap"),C=Pt("gradientColorStops"),k=Pt("gradientColorStopPositions"),j=Pt("inset"),b=Pt("margin"),S=Pt("opacity"),_=Pt("padding"),O=Pt("saturate"),A=Pt("scale"),B=Pt("sepia"),G=Pt("skew"),z=Pt("space"),se=Pt("translate"),Z=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto",at,r],X=()=>[at,r],re=()=>["",ss,Ds],$=()=>["auto",ui,at],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",at],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[ui,at];return{cacheSize:500,separator:":",theme:{colors:[wo],spacing:[ss,Ds],blur:["none","",Ms,at],brightness:F(),borderColor:[e],borderRadius:["none","","full",Ms,at],borderSpacing:X(),borderWidth:re(),contrast:F(),grayscale:Y(),hueRotate:F(),invert:Y(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[IP,Ds],inset:ae(),margin:ae(),opacity:F(),padding:X(),saturate:F(),scale:F(),sepia:Y(),skew:F(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),at]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jo,at]}],basis:[{basis:ae()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",jo,at]}],"grid-cols":[{"grid-cols":[wo]}],"col-start-end":[{col:["auto",{span:["full",jo,at]},at]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[wo]}],"row-start-end":[{row:["auto",{span:[jo,at]},at]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,r]}],"min-w":[{"min-w":[at,r,"min","max","fit"]}],"max-w":[{"max-w":[at,r,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[at,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$f]}],"font-family":[{font:[wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",ui,$f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ds]}],"underline-offset":[{"underline-offset":["auto",ss,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),MP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:q()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[ss,at]}],"outline-w":[{outline:[ss,Ds]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[ss,Ds]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ms,BP]}],"shadow-color":[{shadow:[wo]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ms,at]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[y]}],saturate:[{saturate:[O]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[jo,at]}],"translate-x":[{"translate-x":[se]}],"translate-y":[{"translate-y":[se]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Ds,$f]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qP=CP(UP);function ke(...e){return qP(pb(e))}const WP=eP,Cb=h.forwardRef(({className:e,...r},s)=>t.jsx(lb,{ref:s,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Cb.displayName=lb.displayName;const KP=el("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kb=h.forwardRef(({className:e,variant:r,...s},i)=>t.jsx(cb,{ref:i,className:ke(KP({variant:r}),e),...s}));kb.displayName=cb.displayName;const QP=h.forwardRef(({className:e,...r},s)=>t.jsx(fb,{ref:s,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));QP.displayName=fb.displayName;const Pb=h.forwardRef(({className:e,...r},s)=>t.jsx(mb,{ref:s,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(yb,{className:"h-4 w-4"})}));Pb.displayName=mb.displayName;const _b=h.forwardRef(({className:e,...r},s)=>t.jsx(db,{ref:s,className:ke("text-sm font-semibold",e),...r}));_b.displayName=db.displayName;const Tb=h.forwardRef(({className:e,...r},s)=>t.jsx(ub,{ref:s,className:ke("text-sm opacity-90",e),...r}));Tb.displayName=ub.displayName;function HP(){const{toasts:e}=Ht();return t.jsxs(WP,{children:[e.map(function({id:r,title:s,description:i,action:o,...c}){return t.jsxs(kb,{...c,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(_b,{children:s}),i&&t.jsx(Tb,{children:i})]}),o,t.jsx(Pb,{})]},r)}),t.jsx(Cb,{})]})}var GP=Vm[" useId ".trim().toString()]||(()=>{}),YP=0;function _r(e){const[r,s]=h.useState(GP());return mr(()=>{s(i=>i??String(YP++))},[e]),r?`radix-${r}`:""}const ZP=["top","right","bottom","left"],zs=Math.min,Kr=Math.max,Dc=Math.round,bc=Math.floor,zn=e=>({x:e,y:e}),XP={left:"right",right:"left",bottom:"top",top:"bottom"},JP={start:"end",end:"start"};function ym(e,r,s){return Kr(e,zs(r,s))}function cs(e,r){return typeof e=="function"?e(r):e}function ds(e){return e.split("-")[0]}function Ri(e){return e.split("-")[1]}function rh(e){return e==="x"?"y":"x"}function nh(e){return e==="y"?"height":"width"}const e2=new Set(["top","bottom"]);function $n(e){return e2.has(ds(e))?"y":"x"}function sh(e){return rh($n(e))}function t2(e,r,s){s===void 0&&(s=!1);const i=Ri(e),o=sh(e),c=nh(o);let u=o==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(u=Mc(u)),[u,Mc(u)]}function r2(e){const r=Mc(e);return[bm(e),r,bm(r)]}function bm(e){return e.replace(/start|end/g,r=>JP[r])}const vv=["left","right"],yv=["right","left"],n2=["top","bottom"],s2=["bottom","top"];function a2(e,r,s){switch(e){case"top":case"bottom":return s?r?yv:vv:r?vv:yv;case"left":case"right":return r?n2:s2;default:return[]}}function i2(e,r,s,i){const o=Ri(e);let c=a2(ds(e),s==="start",i);return o&&(c=c.map(u=>u+"-"+o),r&&(c=c.concat(c.map(bm)))),c}function Mc(e){return e.replace(/left|right|bottom|top/g,r=>XP[r])}function o2(e){return{top:0,right:0,bottom:0,left:0,...e}}function Eb(e){return typeof e!="number"?o2(e):{top:e,right:e,bottom:e,left:e}}function Fc(e){const{x:r,y:s,width:i,height:o}=e;return{width:i,height:o,top:s,left:r,right:r+i,bottom:s+o,x:r,y:s}}function bv(e,r,s){let{reference:i,floating:o}=e;const c=$n(r),u=sh(r),f=nh(u),p=ds(r),g=c==="y",x=i.x+i.width/2-o.width/2,y=i.y+i.height/2-o.height/2,w=i[f]/2-o[f]/2;let C;switch(p){case"top":C={x,y:i.y-o.height};break;case"bottom":C={x,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y};break;case"left":C={x:i.x-o.width,y};break;default:C={x:i.x,y:i.y}}switch(Ri(r)){case"start":C[u]-=w*(s&&g?-1:1);break;case"end":C[u]+=w*(s&&g?-1:1);break}return C}const l2=async(e,r,s)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(r));let g=await u.getElementRects({reference:e,floating:r,strategy:o}),{x,y}=bv(g,i,p),w=i,C={},k=0;for(let j=0;j<f.length;j++){const{name:b,fn:S}=f[j],{x:_,y:O,data:A,reset:B}=await S({x,y,initialPlacement:i,placement:w,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:e,floating:r}});x=_??x,y=O??y,C={...C,[b]:{...C[b],...A}},B&&k<=50&&(k++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(g=B.rects===!0?await u.getElementRects({reference:e,floating:r,strategy:o}):B.rects),{x,y}=bv(g,w,p)),j=-1)}return{x,y,placement:w,strategy:o,middlewareData:C}};async function Ro(e,r){var s;r===void 0&&(r={});const{x:i,y:o,platform:c,rects:u,elements:f,strategy:p}=e,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:w=!1,padding:C=0}=cs(r,e),k=Eb(C),b=f[w?y==="floating"?"reference":"floating":y],S=Fc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(b)))==null||s?b:b.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:p})),_=y==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),A=await(c.isElement==null?void 0:c.isElement(O))?await(c.getScale==null?void 0:c.getScale(O))||{x:1,y:1}:{x:1,y:1},B=Fc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:_,offsetParent:O,strategy:p}):_);return{top:(S.top-B.top+k.top)/A.y,bottom:(B.bottom-S.bottom+k.bottom)/A.y,left:(S.left-B.left+k.left)/A.x,right:(B.right-S.right+k.right)/A.x}}const c2=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:i,placement:o,rects:c,platform:u,elements:f,middlewareData:p}=r,{element:g,padding:x=0}=cs(e,r)||{};if(g==null)return{};const y=Eb(x),w={x:s,y:i},C=sh(o),k=nh(C),j=await u.getDimensions(g),b=C==="y",S=b?"top":"left",_=b?"bottom":"right",O=b?"clientHeight":"clientWidth",A=c.reference[k]+c.reference[C]-w[C]-c.floating[k],B=w[C]-c.reference[C],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let z=G?G[O]:0;(!z||!await(u.isElement==null?void 0:u.isElement(G)))&&(z=f.floating[O]||c.floating[k]);const se=A/2-B/2,Z=z/2-j[k]/2-1,ee=zs(y[S],Z),ae=zs(y[_],Z),X=ee,re=z-j[k]-ae,$=z/2-j[k]/2+se,ie=ym(X,$,re),q=!p.arrow&&Ri(o)!=null&&$!==ie&&c.reference[k]/2-($<X?ee:ae)-j[k]/2<0,P=q?$<X?$-X:$-re:0;return{[C]:w[C]+P,data:{[C]:ie,centerOffset:$-ie-P,...q&&{alignmentOffset:P}},reset:q}}}),d2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:p,elements:g}=r,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:j=!0,...b}=cs(e,r);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const S=ds(o),_=$n(f),O=ds(f)===f,A=await(p.isRTL==null?void 0:p.isRTL(g.floating)),B=w||(O||!j?[Mc(f)]:r2(f)),G=k!=="none";!w&&G&&B.push(...i2(f,j,k,A));const z=[f,...B],se=await Ro(r,b),Z=[];let ee=((i=c.flip)==null?void 0:i.overflows)||[];if(x&&Z.push(se[S]),y){const $=t2(o,u,A);Z.push(se[$[0]],se[$[1]])}if(ee=[...ee,{placement:o,overflows:Z}],!Z.every($=>$<=0)){var ae,X;const $=(((ae=c.flip)==null?void 0:ae.index)||0)+1,ie=z[$];if(ie&&(!(y==="alignment"?_!==$n(ie):!1)||ee.every(R=>$n(R.placement)===_?R.overflows[0]>0:!0)))return{data:{index:$,overflows:ee},reset:{placement:ie}};let q=(X=ee.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:X.placement;if(!q)switch(C){case"bestFit":{var re;const P=(re=ee.filter(R=>{if(G){const Y=$n(R.placement);return Y===_||Y==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(Y=>Y>0).reduce((Y,ne)=>Y+ne,0)]).sort((R,Y)=>R[1]-Y[1])[0])==null?void 0:re[0];P&&(q=P);break}case"initialPlacement":q=f;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function jv(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function wv(e){return ZP.some(r=>e[r]>=0)}const u2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:i="referenceHidden",...o}=cs(e,r);switch(i){case"referenceHidden":{const c=await Ro(r,{...o,elementContext:"reference"}),u=jv(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:wv(u)}}}case"escaped":{const c=await Ro(r,{...o,altBoundary:!0}),u=jv(c,s.floating);return{data:{escapedOffsets:u,escaped:wv(u)}}}default:return{}}}}},Ab=new Set(["left","top"]);async function f2(e,r){const{placement:s,platform:i,elements:o}=e,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=ds(s),f=Ri(s),p=$n(s)==="y",g=Ab.has(u)?-1:1,x=c&&p?-1:1,y=cs(r,e);let{mainAxis:w,crossAxis:C,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof k=="number"&&(C=f==="end"?k*-1:k),p?{x:C*x,y:w*g}:{x:w*g,y:C*x}}const m2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,i;const{x:o,y:c,placement:u,middlewareData:f}=r,p=await f2(r,e);return u===((s=f.offset)==null?void 0:s.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},h2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:i,placement:o}=r,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:b=>{let{x:S,y:_}=b;return{x:S,y:_}}},...p}=cs(e,r),g={x:s,y:i},x=await Ro(r,p),y=$n(ds(o)),w=rh(y);let C=g[w],k=g[y];if(c){const b=w==="y"?"top":"left",S=w==="y"?"bottom":"right",_=C+x[b],O=C-x[S];C=ym(_,C,O)}if(u){const b=y==="y"?"top":"left",S=y==="y"?"bottom":"right",_=k+x[b],O=k-x[S];k=ym(_,k,O)}const j=f.fn({...r,[w]:C,[y]:k});return{...j,data:{x:j.x-s,y:j.y-i,enabled:{[w]:c,[y]:u}}}}}},p2=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:i,placement:o,rects:c,middlewareData:u}=r,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=cs(e,r),x={x:s,y:i},y=$n(o),w=rh(y);let C=x[w],k=x[y];const j=cs(f,r),b=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(p){const O=w==="y"?"height":"width",A=c.reference[w]-c.floating[O]+b.mainAxis,B=c.reference[w]+c.reference[O]-b.mainAxis;C<A?C=A:C>B&&(C=B)}if(g){var S,_;const O=w==="y"?"width":"height",A=Ab.has(ds(o)),B=c.reference[y]-c.floating[O]+(A&&((S=u.offset)==null?void 0:S[y])||0)+(A?0:b.crossAxis),G=c.reference[y]+c.reference[O]+(A?0:((_=u.offset)==null?void 0:_[y])||0)-(A?b.crossAxis:0);k<B?k=B:k>G&&(k=G)}return{[w]:C,[y]:k}}}},g2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,i;const{placement:o,rects:c,platform:u,elements:f}=r,{apply:p=()=>{},...g}=cs(e,r),x=await Ro(r,g),y=ds(o),w=Ri(o),C=$n(o)==="y",{width:k,height:j}=c.floating;let b,S;y==="top"||y==="bottom"?(b=y,S=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(S=y,b=w==="end"?"top":"bottom");const _=j-x.top-x.bottom,O=k-x.left-x.right,A=zs(j-x[b],_),B=zs(k-x[S],O),G=!r.middlewareData.shift;let z=A,se=B;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(se=O),(i=r.middlewareData.shift)!=null&&i.enabled.y&&(z=_),G&&!w){const ee=Kr(x.left,0),ae=Kr(x.right,0),X=Kr(x.top,0),re=Kr(x.bottom,0);C?se=k-2*(ee!==0||ae!==0?ee+ae:Kr(x.left,x.right)):z=j-2*(X!==0||re!==0?X+re:Kr(x.top,x.bottom))}await p({...r,availableWidth:se,availableHeight:z});const Z=await u.getDimensions(f.floating);return k!==Z.width||j!==Z.height?{reset:{rects:!0}}:{}}}};function id(){return typeof window<"u"}function Ii(e){return Rb(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Hn(e){var r;return(r=(Rb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function Rb(e){return id()?e instanceof Node||e instanceof Gr(e).Node:!1}function Cn(e){return id()?e instanceof Element||e instanceof Gr(e).Element:!1}function Wn(e){return id()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function Nv(e){return!id()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}const x2=new Set(["inline","contents"]);function tl(e){const{overflow:r,overflowX:s,overflowY:i,display:o}=kn(e);return/auto|scroll|overlay|hidden|clip/.test(r+i+s)&&!x2.has(o)}const v2=new Set(["table","td","th"]);function y2(e){return v2.has(Ii(e))}const b2=[":popover-open",":modal"];function od(e){return b2.some(r=>{try{return e.matches(r)}catch{return!1}})}const j2=["transform","translate","scale","rotate","perspective"],w2=["transform","translate","scale","rotate","perspective","filter"],N2=["paint","layout","strict","content"];function ah(e){const r=ih(),s=Cn(e)?kn(e):e;return j2.some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||w2.some(i=>(s.willChange||"").includes(i))||N2.some(i=>(s.contain||"").includes(i))}function S2(e){let r=Us(e);for(;Wn(r)&&!yi(r);){if(ah(r))return r;if(od(r))return null;r=Us(r)}return null}function ih(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const C2=new Set(["html","body","#document"]);function yi(e){return C2.has(Ii(e))}function kn(e){return Gr(e).getComputedStyle(e)}function ld(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Us(e){if(Ii(e)==="html")return e;const r=e.assignedSlot||e.parentNode||Nv(e)&&e.host||Hn(e);return Nv(r)?r.host:r}function Ib(e){const r=Us(e);return yi(r)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(r)&&tl(r)?r:Ib(r)}function Io(e,r,s){var i;r===void 0&&(r=[]),s===void 0&&(s=!0);const o=Ib(e),c=o===((i=e.ownerDocument)==null?void 0:i.body),u=Gr(o);if(c){const f=jm(u);return r.concat(u,u.visualViewport||[],tl(o)?o:[],f&&s?Io(f):[])}return r.concat(o,Io(o,[],s))}function jm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ob(e){const r=kn(e);let s=parseFloat(r.width)||0,i=parseFloat(r.height)||0;const o=Wn(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:i,f=Dc(s)!==c||Dc(i)!==u;return f&&(s=c,i=u),{width:s,height:i,$:f}}function oh(e){return Cn(e)?e:e.contextElement}function fi(e){const r=oh(e);if(!Wn(r))return zn(1);const s=r.getBoundingClientRect(),{width:i,height:o,$:c}=Ob(r);let u=(c?Dc(s.width):s.width)/i,f=(c?Dc(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const k2=zn(0);function Db(e){const r=Gr(e);return!ih()||!r.visualViewport?k2:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function P2(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==Gr(e)?!1:r}function ba(e,r,s,i){r===void 0&&(r=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=oh(e);let u=zn(1);r&&(i?Cn(i)&&(u=fi(i)):u=fi(e));const f=P2(c,s,i)?Db(c):zn(0);let p=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const w=Gr(c),C=i&&Cn(i)?Gr(i):i;let k=w,j=jm(k);for(;j&&i&&C!==k;){const b=fi(j),S=j.getBoundingClientRect(),_=kn(j),O=S.left+(j.clientLeft+parseFloat(_.paddingLeft))*b.x,A=S.top+(j.clientTop+parseFloat(_.paddingTop))*b.y;p*=b.x,g*=b.y,x*=b.x,y*=b.y,p+=O,g+=A,k=Gr(j),j=jm(k)}}return Fc({width:x,height:y,x:p,y:g})}function cd(e,r){const s=ld(e).scrollLeft;return r?r.left+s:ba(Hn(e)).left+s}function Mb(e,r){const s=e.getBoundingClientRect(),i=s.left+r.scrollLeft-cd(e,s),o=s.top+r.scrollTop;return{x:i,y:o}}function _2(e){let{elements:r,rect:s,offsetParent:i,strategy:o}=e;const c=o==="fixed",u=Hn(i),f=r?od(r.floating):!1;if(i===u||f&&c)return s;let p={scrollLeft:0,scrollTop:0},g=zn(1);const x=zn(0),y=Wn(i);if((y||!y&&!c)&&((Ii(i)!=="body"||tl(u))&&(p=ld(i)),Wn(i))){const C=ba(i);g=fi(i),x.x=C.x+i.clientLeft,x.y=C.y+i.clientTop}const w=u&&!y&&!c?Mb(u,p):zn(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-p.scrollLeft*g.x+x.x+w.x,y:s.y*g.y-p.scrollTop*g.y+x.y+w.y}}function T2(e){return Array.from(e.getClientRects())}function E2(e){const r=Hn(e),s=ld(e),i=e.ownerDocument.body,o=Kr(r.scrollWidth,r.clientWidth,i.scrollWidth,i.clientWidth),c=Kr(r.scrollHeight,r.clientHeight,i.scrollHeight,i.clientHeight);let u=-s.scrollLeft+cd(e);const f=-s.scrollTop;return kn(i).direction==="rtl"&&(u+=Kr(r.clientWidth,i.clientWidth)-o),{width:o,height:c,x:u,y:f}}const Sv=25;function A2(e,r){const s=Gr(e),i=Hn(e),o=s.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,p=0;if(o){c=o.width,u=o.height;const x=ih();(!x||x&&r==="fixed")&&(f=o.offsetLeft,p=o.offsetTop)}const g=cd(i);if(g<=0){const x=i.ownerDocument,y=x.body,w=getComputedStyle(y),C=x.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,k=Math.abs(i.clientWidth-y.clientWidth-C);k<=Sv&&(c-=k)}else g<=Sv&&(c+=g);return{width:c,height:u,x:f,y:p}}const R2=new Set(["absolute","fixed"]);function I2(e,r){const s=ba(e,!0,r==="fixed"),i=s.top+e.clientTop,o=s.left+e.clientLeft,c=Wn(e)?fi(e):zn(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,p=o*c.x,g=i*c.y;return{width:u,height:f,x:p,y:g}}function Cv(e,r,s){let i;if(r==="viewport")i=A2(e,s);else if(r==="document")i=E2(Hn(e));else if(Cn(r))i=I2(r,s);else{const o=Db(e);i={x:r.x-o.x,y:r.y-o.y,width:r.width,height:r.height}}return Fc(i)}function Fb(e,r){const s=Us(e);return s===r||!Cn(s)||yi(s)?!1:kn(s).position==="fixed"||Fb(s,r)}function O2(e,r){const s=r.get(e);if(s)return s;let i=Io(e,[],!1).filter(f=>Cn(f)&&Ii(f)!=="body"),o=null;const c=kn(e).position==="fixed";let u=c?Us(e):e;for(;Cn(u)&&!yi(u);){const f=kn(u),p=ah(u);!p&&f.position==="fixed"&&(o=null),(c?!p&&!o:!p&&f.position==="static"&&!!o&&R2.has(o.position)||tl(u)&&!p&&Fb(e,u))?i=i.filter(x=>x!==u):o=f,u=Us(u)}return r.set(e,i),i}function D2(e){let{element:r,boundary:s,rootBoundary:i,strategy:o}=e;const u=[...s==="clippingAncestors"?od(r)?[]:O2(r,this._c):[].concat(s),i],f=u[0],p=u.reduce((g,x)=>{const y=Cv(r,x,o);return g.top=Kr(y.top,g.top),g.right=zs(y.right,g.right),g.bottom=zs(y.bottom,g.bottom),g.left=Kr(y.left,g.left),g},Cv(r,f,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function M2(e){const{width:r,height:s}=Ob(e);return{width:r,height:s}}function F2(e,r,s){const i=Wn(r),o=Hn(r),c=s==="fixed",u=ba(e,!0,c,r);let f={scrollLeft:0,scrollTop:0};const p=zn(0);function g(){p.x=cd(o)}if(i||!i&&!c)if((Ii(r)!=="body"||tl(o))&&(f=ld(r)),i){const C=ba(r,!0,c,r);p.x=C.x+r.clientLeft,p.y=C.y+r.clientTop}else o&&g();c&&!i&&o&&g();const x=o&&!i&&!c?Mb(o,f):zn(0),y=u.left+f.scrollLeft-p.x-x.x,w=u.top+f.scrollTop-p.y-x.y;return{x:y,y:w,width:u.width,height:u.height}}function Vf(e){return kn(e).position==="static"}function kv(e,r){if(!Wn(e)||kn(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return Hn(e)===s&&(s=s.ownerDocument.body),s}function Lb(e,r){const s=Gr(e);if(od(e))return s;if(!Wn(e)){let o=Us(e);for(;o&&!yi(o);){if(Cn(o)&&!Vf(o))return o;o=Us(o)}return s}let i=kv(e,r);for(;i&&y2(i)&&Vf(i);)i=kv(i,r);return i&&yi(i)&&Vf(i)&&!ah(i)?s:i||S2(e)||s}const L2=async function(e){const r=this.getOffsetParent||Lb,s=this.getDimensions,i=await s(e.floating);return{reference:F2(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function B2(e){return kn(e).direction==="rtl"}const $2={convertOffsetParentRelativeRectToViewportRelativeRect:_2,getDocumentElement:Hn,getClippingRect:D2,getOffsetParent:Lb,getElementRects:L2,getClientRects:T2,getDimensions:M2,getScale:fi,isElement:Cn,isRTL:B2};function Bb(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function V2(e,r){let s=null,i;const o=Hn(e);function c(){var f;clearTimeout(i),(f=s)==null||f.disconnect(),s=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const g=e.getBoundingClientRect(),{left:x,top:y,width:w,height:C}=g;if(f||r(),!w||!C)return;const k=bc(y),j=bc(o.clientWidth-(x+w)),b=bc(o.clientHeight-(y+C)),S=bc(x),O={rootMargin:-k+"px "+-j+"px "+-b+"px "+-S+"px",threshold:Kr(0,zs(1,p))||1};let A=!0;function B(G){const z=G[0].intersectionRatio;if(z!==p){if(!A)return u();z?u(!1,z):i=setTimeout(()=>{u(!1,1e-7)},1e3)}z===1&&!Bb(g,e.getBoundingClientRect())&&u(),A=!1}try{s=new IntersectionObserver(B,{...O,root:o.ownerDocument})}catch{s=new IntersectionObserver(B,O)}s.observe(e)}return u(!0),c}function z2(e,r,s,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,g=oh(e),x=o||c?[...g?Io(g):[],...Io(r)]:[];x.forEach(S=>{o&&S.addEventListener("scroll",s,{passive:!0}),c&&S.addEventListener("resize",s)});const y=g&&f?V2(g,s):null;let w=-1,C=null;u&&(C=new ResizeObserver(S=>{let[_]=S;_&&_.target===g&&C&&(C.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var O;(O=C)==null||O.observe(r)})),s()}),g&&!p&&C.observe(g),C.observe(r));let k,j=p?ba(e):null;p&&b();function b(){const S=ba(e);j&&!Bb(j,S)&&s(),j=S,k=requestAnimationFrame(b)}return s(),()=>{var S;x.forEach(_=>{o&&_.removeEventListener("scroll",s),c&&_.removeEventListener("resize",s)}),y?.(),(S=C)==null||S.disconnect(),C=null,p&&cancelAnimationFrame(k)}}const U2=m2,q2=h2,W2=d2,K2=g2,Q2=u2,Pv=c2,H2=p2,G2=(e,r,s)=>{const i=new Map,o={platform:$2,...s},c={...o.platform,_c:i};return l2(e,r,{...o,platform:c})};var Y2=typeof document<"u",Z2=function(){},Pc=Y2?h.useLayoutEffect:Z2;function Lc(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,i,o;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(i=s;i--!==0;)if(!Lc(e[i],r[i]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(r).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(r,o[i]))return!1;for(i=s;i--!==0;){const c=o[i];if(!(c==="_owner"&&e.$$typeof)&&!Lc(e[c],r[c]))return!1}return!0}return e!==e&&r!==r}function $b(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _v(e,r){const s=$b(e);return Math.round(r*s)/s}function zf(e){const r=h.useRef(e);return Pc(()=>{r.current=e}),r}function X2(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:p,open:g}=e,[x,y]=h.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[w,C]=h.useState(i);Lc(w,i)||C(i);const[k,j]=h.useState(null),[b,S]=h.useState(null),_=h.useCallback(R=>{R!==G.current&&(G.current=R,j(R))},[]),O=h.useCallback(R=>{R!==z.current&&(z.current=R,S(R))},[]),A=c||k,B=u||b,G=h.useRef(null),z=h.useRef(null),se=h.useRef(x),Z=p!=null,ee=zf(p),ae=zf(o),X=zf(g),re=h.useCallback(()=>{if(!G.current||!z.current)return;const R={placement:r,strategy:s,middleware:w};ae.current&&(R.platform=ae.current),G2(G.current,z.current,R).then(Y=>{const ne={...Y,isPositioned:X.current!==!1};$.current&&!Lc(se.current,ne)&&(se.current=ne,Ti.flushSync(()=>{y(ne)}))})},[w,r,s,ae,X]);Pc(()=>{g===!1&&se.current.isPositioned&&(se.current.isPositioned=!1,y(R=>({...R,isPositioned:!1})))},[g]);const $=h.useRef(!1);Pc(()=>($.current=!0,()=>{$.current=!1}),[]),Pc(()=>{if(A&&(G.current=A),B&&(z.current=B),A&&B){if(ee.current)return ee.current(A,B,re);re()}},[A,B,re,ee,Z]);const ie=h.useMemo(()=>({reference:G,floating:z,setReference:_,setFloating:O}),[_,O]),q=h.useMemo(()=>({reference:A,floating:B}),[A,B]),P=h.useMemo(()=>{const R={position:s,left:0,top:0};if(!q.floating)return R;const Y=_v(q.floating,x.x),ne=_v(q.floating,x.y);return f?{...R,transform:"translate("+Y+"px, "+ne+"px)",...$b(q.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Y,top:ne}},[s,f,q.floating,x.x,x.y]);return h.useMemo(()=>({...x,update:re,refs:ie,elements:q,floatingStyles:P}),[x,re,ie,q,P])}const J2=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:o}=typeof e=="function"?e(s):e;return i&&r(i)?i.current!=null?Pv({element:i.current,padding:o}).fn(s):{}:i?Pv({element:i,padding:o}).fn(s):{}}}},e_=(e,r)=>({...U2(e),options:[e,r]}),t_=(e,r)=>({...q2(e),options:[e,r]}),r_=(e,r)=>({...H2(e),options:[e,r]}),n_=(e,r)=>({...W2(e),options:[e,r]}),s_=(e,r)=>({...K2(e),options:[e,r]}),a_=(e,r)=>({...Q2(e),options:[e,r]}),i_=(e,r)=>({...J2(e),options:[e,r]});var o_="Arrow",Vb=h.forwardRef((e,r)=>{const{children:s,width:i=10,height:o=5,...c}=e;return t.jsx(Fe.svg,{...c,ref:r,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vb.displayName=o_;var l_=Vb;function dd(e){const[r,s]=h.useState(void 0);return mr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),r}var lh="Popper",[zb,Oi]=Er(lh),[c_,Ub]=zb(lh),qb=e=>{const{__scopePopper:r,children:s}=e,[i,o]=h.useState(null);return t.jsx(c_,{scope:r,anchor:i,onAnchorChange:o,children:s})};qb.displayName=lh;var Wb="PopperAnchor",Kb=h.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:i,...o}=e,c=Ub(Wb,s),u=h.useRef(null),f=lt(r,u),p=h.useRef(null);return h.useEffect(()=>{const g=p.current;p.current=i?.current||u.current,g!==p.current&&c.onAnchorChange(p.current)}),i?null:t.jsx(Fe.div,{...o,ref:f})});Kb.displayName=Wb;var ch="PopperContent",[d_,u_]=zb(ch),Qb=h.forwardRef((e,r)=>{const{__scopePopper:s,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:k,...j}=e,b=Ub(ch,s),[S,_]=h.useState(null),O=lt(r,E=>_(E)),[A,B]=h.useState(null),G=dd(A),z=G?.width??0,se=G?.height??0,Z=i+(c!=="center"?"-"+c:""),ee=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ae=Array.isArray(g)?g:[g],X=ae.length>0,re={padding:ee,boundary:ae.filter(m_),altBoundary:X},{refs:$,floatingStyles:ie,placement:q,isPositioned:P,middlewareData:R}=X2({strategy:"fixed",placement:Z,whileElementsMounted:(...E)=>z2(...E,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[e_({mainAxis:o+se,alignmentAxis:u}),p&&t_({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?r_():void 0,...re}),p&&n_({...re}),s_({...re,apply:({elements:E,rects:Q,availableWidth:pe,availableHeight:Ne})=>{const{width:$e,height:Xe}=Q.reference,Gt=E.floating.style;Gt.setProperty("--radix-popper-available-width",`${pe}px`),Gt.setProperty("--radix-popper-available-height",`${Ne}px`),Gt.setProperty("--radix-popper-anchor-width",`${$e}px`),Gt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),A&&i_({element:A,padding:f}),h_({arrowWidth:z,arrowHeight:se}),w&&a_({strategy:"referenceHidden",...re})]}),[Y,ne]=Yb(q),F=dn(k);mr(()=>{P&&F?.()},[P,F]);const M=R.arrow?.x,de=R.arrow?.y,xe=R.arrow?.centerOffset!==0,[oe,we]=h.useState();return mr(()=>{S&&we(window.getComputedStyle(S).zIndex)},[S]),t.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:P?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(d_,{scope:s,placedSide:Y,onArrowChange:B,arrowX:M,arrowY:de,shouldHideArrow:xe,children:t.jsx(Fe.div,{"data-side":Y,"data-align":ne,...j,ref:O,style:{...j.style,animation:P?void 0:"none"}})})})});Qb.displayName=ch;var Hb="PopperArrow",f_={top:"bottom",right:"left",bottom:"top",left:"right"},Gb=h.forwardRef(function(r,s){const{__scopePopper:i,...o}=r,c=u_(Hb,i),u=f_[c.placedSide];return t.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:t.jsx(l_,{...o,ref:s,style:{...o.style,display:"block"}})})});Gb.displayName=Hb;function m_(e){return e!==null}var h_=e=>({name:"transformOrigin",options:e,fn(r){const{placement:s,rects:i,middlewareData:o}=r,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[g,x]=Yb(s),y={start:"0%",center:"50%",end:"100%"}[x],w=(o.arrow?.x??0)+f/2,C=(o.arrow?.y??0)+p/2;let k="",j="";return g==="bottom"?(k=u?y:`${w}px`,j=`${-p}px`):g==="top"?(k=u?y:`${w}px`,j=`${i.floating.height+p}px`):g==="right"?(k=`${-p}px`,j=u?y:`${C}px`):g==="left"&&(k=`${i.floating.width+p}px`,j=u?y:`${C}px`),{data:{x:k,y:j}}}});function Yb(e){const[r,s="center"]=e.split("-");return[r,s]}var Zb=qb,ud=Kb,dh=Qb,uh=Gb,[fd,nM]=Er("Tooltip",[Oi]),fh=Oi(),Xb="TooltipProvider",p_=700,Tv="tooltip.open",[g_,Jb]=fd(Xb),e0=e=>{const{__scopeTooltip:r,delayDuration:s=p_,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:c}=e,u=h.useRef(!0),f=h.useRef(!1),p=h.useRef(0);return h.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),t.jsx(g_,{scope:r,isOpenDelayedRef:u,delayDuration:s,onOpen:h.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:h.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:c})};e0.displayName=Xb;var t0="Tooltip",[sM,md]=fd(t0),wm="TooltipTrigger",x_=h.forwardRef((e,r)=>{const{__scopeTooltip:s,...i}=e,o=md(wm,s),c=Jb(wm,s),u=fh(s),f=h.useRef(null),p=lt(r,f,o.onTriggerChange),g=h.useRef(!1),x=h.useRef(!1),y=h.useCallback(()=>g.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),t.jsx(ud,{asChild:!0,...u,children:t.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:p,onPointerMove:Me(e.onPointerMove,w=>{w.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),x.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{o.onTriggerLeave(),x.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Me(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Me(e.onBlur,o.onClose),onClick:Me(e.onClick,o.onClose)})})});x_.displayName=wm;var v_="TooltipPortal",[aM,y_]=fd(v_,{forceMount:void 0}),bi="TooltipContent",r0=h.forwardRef((e,r)=>{const s=y_(bi,e.__scopeTooltip),{forceMount:i=s.forceMount,side:o="top",...c}=e,u=md(bi,e.__scopeTooltip);return t.jsx(_n,{present:i||u.open,children:u.disableHoverableContent?t.jsx(n0,{side:o,...c,ref:r}):t.jsx(b_,{side:o,...c,ref:r})})}),b_=h.forwardRef((e,r)=>{const s=md(bi,e.__scopeTooltip),i=Jb(bi,e.__scopeTooltip),o=h.useRef(null),c=lt(r,o),[u,f]=h.useState(null),{trigger:p,onClose:g}=s,x=o.current,{onPointerInTransitChange:y}=i,w=h.useCallback(()=>{f(null),y(!1)},[y]),C=h.useCallback((k,j)=>{const b=k.currentTarget,S={x:k.clientX,y:k.clientY},_=C_(S,b.getBoundingClientRect()),O=k_(S,_),A=P_(j.getBoundingClientRect()),B=T_([...O,...A]);f(B),y(!0)},[y]);return h.useEffect(()=>()=>w(),[w]),h.useEffect(()=>{if(p&&x){const k=b=>C(b,x),j=b=>C(b,p);return p.addEventListener("pointerleave",k),x.addEventListener("pointerleave",j),()=>{p.removeEventListener("pointerleave",k),x.removeEventListener("pointerleave",j)}}},[p,x,C,w]),h.useEffect(()=>{if(u){const k=j=>{const b=j.target,S={x:j.clientX,y:j.clientY},_=p?.contains(b)||x?.contains(b),O=!__(S,u);_?w():O&&(w(),g())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[p,x,u,g,w]),t.jsx(n0,{...e,ref:c})}),[j_,w_]=fd(t0,{isInside:!1}),N_=Uy("TooltipContent"),n0=h.forwardRef((e,r)=>{const{__scopeTooltip:s,children:i,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,p=md(bi,s),g=fh(s),{onClose:x}=p;return h.useEffect(()=>(document.addEventListener(Tv,x),()=>document.removeEventListener(Tv,x)),[x]),h.useEffect(()=>{if(p.trigger){const y=w=>{w.target?.contains(p.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[p.trigger,x]),t.jsx(Ei,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:t.jsxs(dh,{"data-state":p.stateAttribute,...g,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(N_,{children:i}),t.jsx(j_,{scope:s,isInside:!0,children:t.jsx(Mk,{id:p.contentId,role:"tooltip",children:o||i})})]})})});r0.displayName=bi;var s0="TooltipArrow",S_=h.forwardRef((e,r)=>{const{__scopeTooltip:s,...i}=e,o=fh(s);return w_(s0,s).isInside?null:t.jsx(uh,{...o,...i,ref:r})});S_.displayName=s0;function C_(e,r){const s=Math.abs(r.top-e.y),i=Math.abs(r.bottom-e.y),o=Math.abs(r.right-e.x),c=Math.abs(r.left-e.x);switch(Math.min(s,i,o,c)){case c:return"left";case o:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function k_(e,r,s=5){const i=[];switch(r){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return i}function P_(e){const{top:r,right:s,bottom:i,left:o}=e;return[{x:o,y:r},{x:s,y:r},{x:s,y:i},{x:o,y:i}]}function __(e,r){const{x:s,y:i}=e;let o=!1;for(let c=0,u=r.length-1;c<r.length;u=c++){const f=r[c],p=r[u],g=f.x,x=f.y,y=p.x,w=p.y;x>i!=w>i&&s<(y-g)*(i-x)/(w-x)+g&&(o=!o)}return o}function T_(e){const r=e.slice();return r.sort((s,i)=>s.x<i.x?-1:s.x>i.x?1:s.y<i.y?-1:s.y>i.y?1:0),E_(r)}function E_(e){if(e.length<=1)return e.slice();const r=[];for(let i=0;i<e.length;i++){const o=e[i];for(;r.length>=2;){const c=r[r.length-1],u=r[r.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}r.pop();const s=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var A_=e0,a0=r0;const R_=A_,I_=h.forwardRef(({className:e,sideOffset:r=4,...s},i)=>t.jsx(a0,{ref:i,sideOffset:r,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));I_.displayName=a0.displayName;const ce=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ce.displayName="Card";const Ve=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("flex flex-col space-y-1.5 p-6",e),...r}));Ve.displayName="CardHeader";const ze=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...r}));ze.displayName="CardTitle";const rt=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("text-sm text-muted-foreground",e),...r}));rt.displayName="CardDescription";const ue=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("p-6 pt-0",e),...r}));ue.displayName="CardContent";const O_=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("flex items-center p-6 pt-0",e),...r}));O_.displayName="CardFooter";const mh=el("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=h.forwardRef(({className:e,variant:r,size:s,asChild:i=!1,...o},c)=>{const u=i?mk:"button";return t.jsx(u,{className:ke(mh({variant:r,size:s,className:e})),ref:c,...o})});K.displayName="Button";var Uf="focusScope.autoFocusOnMount",qf="focusScope.autoFocusOnUnmount",Ev={bubbles:!1,cancelable:!0},D_="FocusScope",hd=h.forwardRef((e,r)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[f,p]=h.useState(null),g=dn(o),x=dn(c),y=h.useRef(null),w=lt(r,j=>p(j)),C=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(i){let j=function(O){if(C.paused||!f)return;const A=O.target;f.contains(A)?y.current=A:Fs(y.current,{select:!0})},b=function(O){if(C.paused||!f)return;const A=O.relatedTarget;A!==null&&(f.contains(A)||Fs(y.current,{select:!0}))},S=function(O){if(document.activeElement===document.body)for(const B of O)B.removedNodes.length>0&&Fs(f)};document.addEventListener("focusin",j),document.addEventListener("focusout",b);const _=new MutationObserver(S);return f&&_.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",b),_.disconnect()}}},[i,f,C.paused]),h.useEffect(()=>{if(f){Rv.add(C);const j=document.activeElement;if(!f.contains(j)){const S=new CustomEvent(Uf,Ev);f.addEventListener(Uf,g),f.dispatchEvent(S),S.defaultPrevented||(M_(V_(i0(f)),{select:!0}),document.activeElement===j&&Fs(f))}return()=>{f.removeEventListener(Uf,g),setTimeout(()=>{const S=new CustomEvent(qf,Ev);f.addEventListener(qf,x),f.dispatchEvent(S),S.defaultPrevented||Fs(j??document.body,{select:!0}),f.removeEventListener(qf,x),Rv.remove(C)},0)}}},[f,g,x,C]);const k=h.useCallback(j=>{if(!s&&!i||C.paused)return;const b=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,S=document.activeElement;if(b&&S){const _=j.currentTarget,[O,A]=F_(_);O&&A?!j.shiftKey&&S===A?(j.preventDefault(),s&&Fs(O,{select:!0})):j.shiftKey&&S===O&&(j.preventDefault(),s&&Fs(A,{select:!0})):S===_&&j.preventDefault()}},[s,i,C.paused]);return t.jsx(Fe.div,{tabIndex:-1,...u,ref:w,onKeyDown:k})});hd.displayName=D_;function M_(e,{select:r=!1}={}){const s=document.activeElement;for(const i of e)if(Fs(i,{select:r}),document.activeElement!==s)return}function F_(e){const r=i0(e),s=Av(r,e),i=Av(r.reverse(),e);return[s,i]}function i0(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Av(e,r){for(const s of e)if(!L_(s,{upTo:r}))return s}function L_(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B_(e){return e instanceof HTMLInputElement&&"select"in e}function Fs(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&B_(e)&&r&&e.select()}}var Rv=$_();function $_(){let e=[];return{add(r){const s=e[0];r!==s&&s?.pause(),e=Iv(e,r),e.unshift(r)},remove(r){e=Iv(e,r),e[0]?.resume()}}}function Iv(e,r){const s=[...e],i=s.indexOf(r);return i!==-1&&s.splice(i,1),s}function V_(e){return e.filter(r=>r.tagName!=="A")}var Wf=0;function hh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ov()),document.body.insertAdjacentElement("beforeend",e[1]??Ov()),Wf++,()=>{Wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Wf--}},[])}function Ov(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bn=function(){return Bn=Object.assign||function(r){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Bn.apply(this,arguments)};function o0(e,r){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]]);return s}function z_(e,r,s){if(s||arguments.length===2)for(var i=0,o=r.length,c;i<o;i++)(c||!(i in r))&&(c||(c=Array.prototype.slice.call(r,0,i)),c[i]=r[i]);return e.concat(c||Array.prototype.slice.call(r))}var _c="right-scroll-bar-position",Tc="width-before-scroll-bar",U_="with-scroll-bars-hidden",q_="--removed-body-scroll-bar-size";function Kf(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function W_(e,r){var s=h.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(i){var o=s.value;o!==i&&(s.value=i,s.callback(i,o))}}}})[0];return s.callback=r,s.facade}var K_=typeof window<"u"?h.useLayoutEffect:h.useEffect,Dv=new WeakMap;function Q_(e,r){var s=W_(null,function(i){return e.forEach(function(o){return Kf(o,i)})});return K_(function(){var i=Dv.get(s);if(i){var o=new Set(i),c=new Set(e),u=s.current;o.forEach(function(f){c.has(f)||Kf(f,null)}),c.forEach(function(f){o.has(f)||Kf(f,u)})}Dv.set(s,e)},[e]),s}function H_(e){return e}function G_(e,r){r===void 0&&(r=H_);var s=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=r(c,i);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){i=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var p=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),s={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),s}}}};return o}function Y_(e){e===void 0&&(e={});var r=G_(null);return r.options=Bn({async:!0,ssr:!1},e),r}var l0=function(e){var r=e.sideCar,s=o0(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=r.read();if(!i)throw new Error("Sidecar medium not found");return h.createElement(i,Bn({},s))};l0.isSideCarExport=!0;function Z_(e,r){return e.useMedium(r),l0}var c0=Y_(),Qf=function(){},pd=h.forwardRef(function(e,r){var s=h.useRef(null),i=h.useState({onScrollCapture:Qf,onWheelCapture:Qf,onTouchMoveCapture:Qf}),o=i[0],c=i[1],u=e.forwardProps,f=e.children,p=e.className,g=e.removeScrollBar,x=e.enabled,y=e.shards,w=e.sideCar,C=e.noRelative,k=e.noIsolation,j=e.inert,b=e.allowPinchZoom,S=e.as,_=S===void 0?"div":S,O=e.gapMode,A=o0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=w,G=Q_([s,r]),z=Bn(Bn({},A),o);return h.createElement(h.Fragment,null,x&&h.createElement(B,{sideCar:c0,removeScrollBar:g,shards:y,noRelative:C,noIsolation:k,inert:j,setCallbacks:c,allowPinchZoom:!!b,lockRef:s,gapMode:O}),u?h.cloneElement(h.Children.only(f),Bn(Bn({},z),{ref:G})):h.createElement(_,Bn({},z,{className:p,ref:G}),f))});pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pd.classNames={fullWidth:Tc,zeroRight:_c};var X_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=X_();return r&&e.setAttribute("nonce",r),e}function eT(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function tT(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var rT=function(){var e=0,r=null;return{add:function(s){e==0&&(r=J_())&&(eT(r,s),tT(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},nT=function(){var e=rT();return function(r,s){h.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},d0=function(){var e=nT(),r=function(s){var i=s.styles,o=s.dynamic;return e(i,o),null};return r},sT={left:0,top:0,right:0,gap:0},Hf=function(e){return parseInt(e||"",10)||0},aT=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],i=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[Hf(s),Hf(i),Hf(o)]},iT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sT;var r=aT(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,i-s+r[2]-r[0])}},oT=d0(),mi="data-scroll-locked",lT=function(e,r,s,i){var o=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(U_,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Tc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Tc," .").concat(Tc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(q_,": ").concat(f,`px;
  }
`)},Mv=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},cT=function(){h.useEffect(function(){return document.body.setAttribute(mi,(Mv()+1).toString()),function(){var e=Mv()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},dT=function(e){var r=e.noRelative,s=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;cT();var c=h.useMemo(function(){return iT(o)},[o]);return h.createElement(oT,{styles:lT(c,!r,o,s?"":"!important")})},Nm=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return Nm=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Nm=!1}var Ja=Nm?{passive:!1}:!1,uT=function(e){return e.tagName==="TEXTAREA"},u0=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!uT(e)&&s[r]==="visible")},fT=function(e){return u0(e,"overflowY")},mT=function(e){return u0(e,"overflowX")},Fv=function(e,r){var s=r.ownerDocument,i=r;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=f0(e,i);if(o){var c=m0(e,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},hT=function(e){var r=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[r,s,i]},pT=function(e){var r=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[r,s,i]},f0=function(e,r){return e==="v"?fT(r):mT(r)},m0=function(e,r){return e==="v"?hT(r):pT(r)},gT=function(e,r){return e==="h"&&r==="rtl"?-1:1},xT=function(e,r,s,i,o){var c=gT(e,window.getComputedStyle(r).direction),u=c*i,f=s.target,p=r.contains(f),g=!1,x=u>0,y=0,w=0;do{if(!f)break;var C=m0(e,f),k=C[0],j=C[1],b=C[2],S=j-b-c*k;(k||S)&&f0(e,f)&&(y+=S,w+=k);var _=f.parentNode;f=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!p&&f!==document.body||p&&(r.contains(f)||r===f));return(x&&Math.abs(y)<1||!x&&Math.abs(w)<1)&&(g=!0),g},wc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lv=function(e){return[e.deltaX,e.deltaY]},Bv=function(e){return e&&"current"in e?e.current:e},vT=function(e,r){return e[0]===r[0]&&e[1]===r[1]},yT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bT=0,ei=[];function jT(e){var r=h.useRef([]),s=h.useRef([0,0]),i=h.useRef(),o=h.useState(bT++)[0],c=h.useState(d0)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=z_([e.lockRef.current],(e.shards||[]).map(Bv),!0).filter(Boolean);return j.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=h.useCallback(function(j,b){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var S=wc(j),_=s.current,O="deltaX"in j?j.deltaX:_[0]-S[0],A="deltaY"in j?j.deltaY:_[1]-S[1],B,G=j.target,z=Math.abs(O)>Math.abs(A)?"h":"v";if("touches"in j&&z==="h"&&G.type==="range")return!1;var se=Fv(z,G);if(!se)return!0;if(se?B=z:(B=z==="v"?"h":"v",se=Fv(z,G)),!se)return!1;if(!i.current&&"changedTouches"in j&&(O||A)&&(i.current=B),!B)return!0;var Z=i.current||B;return xT(Z,b,j,Z==="h"?O:A)},[]),p=h.useCallback(function(j){var b=j;if(!(!ei.length||ei[ei.length-1]!==c)){var S="deltaY"in b?Lv(b):wc(b),_=r.current.filter(function(B){return B.name===b.type&&(B.target===b.target||b.target===B.shadowParent)&&vT(B.delta,S)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var O=(u.current.shards||[]).map(Bv).filter(Boolean).filter(function(B){return B.contains(b.target)}),A=O.length>0?f(b,O[0]):!u.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),g=h.useCallback(function(j,b,S,_){var O={name:j,delta:b,target:S,should:_,shadowParent:wT(S)};r.current.push(O),setTimeout(function(){r.current=r.current.filter(function(A){return A!==O})},1)},[]),x=h.useCallback(function(j){s.current=wc(j),i.current=void 0},[]),y=h.useCallback(function(j){g(j.type,Lv(j),j.target,f(j,e.lockRef.current))},[]),w=h.useCallback(function(j){g(j.type,wc(j),j.target,f(j,e.lockRef.current))},[]);h.useEffect(function(){return ei.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Ja),document.addEventListener("touchmove",p,Ja),document.addEventListener("touchstart",x,Ja),function(){ei=ei.filter(function(j){return j!==c}),document.removeEventListener("wheel",p,Ja),document.removeEventListener("touchmove",p,Ja),document.removeEventListener("touchstart",x,Ja)}},[]);var C=e.removeScrollBar,k=e.inert;return h.createElement(h.Fragment,null,k?h.createElement(c,{styles:yT(o)}):null,C?h.createElement(dT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wT(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const NT=Z_(c0,jT);var gd=h.forwardRef(function(e,r){return h.createElement(pd,Bn({},e,{ref:r,sideCar:NT}))});gd.classNames=pd.classNames;var ST=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},ti=new WeakMap,Nc=new WeakMap,Sc={},Gf=0,h0=function(e){return e&&(e.host||h0(e.parentNode))},CT=function(e,r){return r.map(function(s){if(e.contains(s))return s;var i=h0(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},kT=function(e,r,s,i){var o=CT(r,Array.isArray(e)?e:[e]);Sc[s]||(Sc[s]=new WeakMap);var c=Sc[s],u=[],f=new Set,p=new Set(o),g=function(y){!y||f.has(y)||(f.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(w){if(f.has(w))x(w);else try{var C=w.getAttribute(i),k=C!==null&&C!=="false",j=(ti.get(w)||0)+1,b=(c.get(w)||0)+1;ti.set(w,j),c.set(w,b),u.push(w),j===1&&k&&Nc.set(w,!0),b===1&&w.setAttribute(s,"true"),k||w.setAttribute(i,"true")}catch(S){console.error("aria-hidden: cannot operate on ",w,S)}})};return x(r),f.clear(),Gf++,function(){u.forEach(function(y){var w=ti.get(y)-1,C=c.get(y)-1;ti.set(y,w),c.set(y,C),w||(Nc.has(y)||y.removeAttribute(i),Nc.delete(y)),C||y.removeAttribute(s)}),Gf--,Gf||(ti=new WeakMap,ti=new WeakMap,Nc=new WeakMap,Sc={})}},ph=function(e,r,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=ST(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),kT(i,o,s,"aria-hidden")):function(){return null}},xd="Dialog",[p0,g0]=Er(xd),[PT,Tn]=p0(xd),x0=e=>{const{__scopeDialog:r,children:s,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,f=h.useRef(null),p=h.useRef(null),[g,x]=qn({prop:i,defaultProp:o??!1,onChange:c,caller:xd});return t.jsx(PT,{scope:r,triggerRef:f,contentRef:p,contentId:_r(),titleId:_r(),descriptionId:_r(),open:g,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(y=>!y),[x]),modal:u,children:s})};x0.displayName=xd;var v0="DialogTrigger",y0=h.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=Tn(v0,s),c=lt(r,o.triggerRef);return t.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vh(o.open),...i,ref:c,onClick:Me(e.onClick,o.onOpenToggle)})});y0.displayName=v0;var gh="DialogPortal",[_T,b0]=p0(gh,{forceMount:void 0}),j0=e=>{const{__scopeDialog:r,forceMount:s,children:i,container:o}=e,c=Tn(gh,r);return t.jsx(_T,{scope:r,forceMount:s,children:h.Children.map(i,u=>t.jsx(_n,{present:s||c.open,children:t.jsx(Xo,{asChild:!0,container:o,children:u})}))})};j0.displayName=gh;var Bc="DialogOverlay",w0=h.forwardRef((e,r)=>{const s=b0(Bc,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,c=Tn(Bc,e.__scopeDialog);return c.modal?t.jsx(_n,{present:i||c.open,children:t.jsx(ET,{...o,ref:r})}):null});w0.displayName=Bc;var TT=va("DialogOverlay.RemoveScroll"),ET=h.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=Tn(Bc,s);return t.jsx(gd,{as:TT,allowPinchZoom:!0,shards:[o.contentRef],children:t.jsx(Fe.div,{"data-state":vh(o.open),...i,ref:r,style:{pointerEvents:"auto",...i.style}})})}),ja="DialogContent",N0=h.forwardRef((e,r)=>{const s=b0(ja,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,c=Tn(ja,e.__scopeDialog);return t.jsx(_n,{present:i||c.open,children:c.modal?t.jsx(AT,{...o,ref:r}):t.jsx(RT,{...o,ref:r})})});N0.displayName=ja;var AT=h.forwardRef((e,r)=>{const s=Tn(ja,e.__scopeDialog),i=h.useRef(null),o=lt(r,s.contentRef,i);return h.useEffect(()=>{const c=i.current;if(c)return ph(c)},[]),t.jsx(S0,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault())})}),RT=h.forwardRef((e,r)=>{const s=Tn(ja,e.__scopeDialog),i=h.useRef(!1),o=h.useRef(!1);return t.jsx(S0,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),S0=h.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,f=Tn(ja,s),p=h.useRef(null),g=lt(r,p);return hh(),t.jsxs(t.Fragment,{children:[t.jsx(hd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:t.jsx(Ei,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":vh(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(OT,{titleId:f.titleId}),t.jsx(MT,{contentRef:p,descriptionId:f.descriptionId})]})]})}),xh="DialogTitle",C0=h.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=Tn(xh,s);return t.jsx(Fe.h2,{id:o.titleId,...i,ref:r})});C0.displayName=xh;var k0="DialogDescription",P0=h.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=Tn(k0,s);return t.jsx(Fe.p,{id:o.descriptionId,...i,ref:r})});P0.displayName=k0;var _0="DialogClose",T0=h.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=Tn(_0,s);return t.jsx(Fe.button,{type:"button",...i,ref:r,onClick:Me(e.onClick,()=>o.onOpenChange(!1))})});T0.displayName=_0;function vh(e){return e?"open":"closed"}var E0="DialogTitleWarning",[IT,A0]=uk(E0,{contentName:ja,titleName:xh,docsSlug:"dialog"}),OT=({titleId:e})=>{const r=A0(E0),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},DT="DialogDescriptionWarning",MT=({contentRef:e,descriptionId:r})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A0(DT).contentName}}.`;return h.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(i))},[i,e,r]),null},yh=x0,R0=y0,bh=j0,vd=w0,yd=N0,jh=C0,wh=P0,Nh=T0;const It=yh,FT=R0,LT=bh,I0=h.forwardRef(({className:e,...r},s)=>t.jsx(vd,{ref:s,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));I0.displayName=vd.displayName;const _t=h.forwardRef(({className:e,children:r,...s},i)=>t.jsxs(LT,{children:[t.jsx(I0,{}),t.jsxs(yd,{ref:i,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[r,t.jsxs(Nh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(yb,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=yd.displayName;const Tt=({className:e,...r})=>t.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});Tt.displayName="DialogHeader";const Et=h.forwardRef(({className:e,...r},s)=>t.jsx(jh,{ref:s,className:ke("text-lg font-semibold leading-none tracking-tight",e),...r}));Et.displayName=jh.displayName;const Oo=h.forwardRef(({className:e,...r},s)=>t.jsx(wh,{ref:s,className:ke("text-sm text-muted-foreground",e),...r}));Oo.displayName=wh.displayName;function bd(e){const r=h.useRef({value:e,previous:e});return h.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var jd="Checkbox",[BT,iM]=Er(jd),[$T,Sh]=BT(jd);function VT(e){const{__scopeCheckbox:r,checked:s,children:i,defaultChecked:o,disabled:c,form:u,name:f,onCheckedChange:p,required:g,value:x="on",internal_do_not_use_render:y}=e,[w,C]=qn({prop:s,defaultProp:o??!1,onChange:p,caller:jd}),[k,j]=h.useState(null),[b,S]=h.useState(null),_=h.useRef(!1),O=k?!!u||!!k.closest("form"):!0,A={checked:w,disabled:c,setChecked:C,control:k,setControl:j,name:f,form:u,value:x,hasConsumerStoppedPropagationRef:_,required:g,defaultChecked:Vs(o)?!1:o,isFormControl:O,bubbleInput:b,setBubbleInput:S};return t.jsx($T,{scope:r,...A,children:zT(y)?y(A):i})}var O0="CheckboxTrigger",D0=h.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...i},o)=>{const{control:c,value:u,disabled:f,checked:p,required:g,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:w,isFormControl:C,bubbleInput:k}=Sh(O0,e),j=lt(o,x),b=h.useRef(p);return h.useEffect(()=>{const S=c?.form;if(S){const _=()=>y(b.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[c,y]),t.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Vs(p)?"mixed":p,"aria-required":g,"data-state":$0(p),"data-disabled":f?"":void 0,disabled:f,value:u,...i,ref:j,onKeyDown:Me(r,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Me(s,S=>{y(_=>Vs(_)?!0:!_),k&&C&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})})});D0.displayName=O0;var Ch=h.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:i,checked:o,defaultChecked:c,required:u,disabled:f,value:p,onCheckedChange:g,form:x,...y}=e;return t.jsx(VT,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:f,required:u,onCheckedChange:g,name:i,form:x,value:p,internal_do_not_use_render:({isFormControl:w})=>t.jsxs(t.Fragment,{children:[t.jsx(D0,{...y,ref:r,__scopeCheckbox:s}),w&&t.jsx(B0,{__scopeCheckbox:s})]})})});Ch.displayName=jd;var M0="CheckboxIndicator",F0=h.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:i,...o}=e,c=Sh(M0,s);return t.jsx(_n,{present:i||Vs(c.checked)||c.checked===!0,children:t.jsx(Fe.span,{"data-state":$0(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});F0.displayName=M0;var L0="CheckboxBubbleInput",B0=h.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:f,disabled:p,name:g,value:x,form:y,bubbleInput:w,setBubbleInput:C}=Sh(L0,e),k=lt(s,C),j=bd(c),b=dd(i);h.useEffect(()=>{const _=w;if(!_)return;const O=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(O,"checked").set,G=!o.current;if(j!==c&&B){const z=new Event("click",{bubbles:G});_.indeterminate=Vs(c),B.call(_,Vs(c)?!1:c),_.dispatchEvent(z)}},[w,j,c,o]);const S=h.useRef(Vs(c)?!1:c);return t.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??S.current,required:f,disabled:p,name:g,value:x,form:y,...r,tabIndex:-1,ref:k,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B0.displayName=L0;function zT(e){return typeof e=="function"}function Vs(e){return e==="indeterminate"}function $0(e){return Vs(e)?"indeterminate":e?"checked":"unchecked"}const Hr=h.forwardRef(({className:e,...r},s)=>t.jsx(Ch,{ref:s,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsx(F0,{className:ke("flex items-center justify-center text-current"),children:t.jsx(Jm,{className:"h-4 w-4"})})}));Hr.displayName=Ch.displayName;var UT="Label",V0=h.forwardRef((e,r)=>t.jsx(Fe.label,{...e,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));V0.displayName=UT;var z0=V0;const qT=el("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=h.forwardRef(({className:e,...r},s)=>t.jsx(z0,{ref:s,className:ke(qT(),e),...r}));Pe.displayName=z0.displayName;function U0(){const e=jr(),{toast:r}=Ht(),s=h.useRef(null),i=h.useRef(null);return h.useEffect(()=>{const o=()=>{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,p=new WebSocket(f);s.current=p,p.onopen=()=>{console.log("WebSocket connected")},p.onmessage=g=>{try{const x=JSON.parse(g.data);c(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},p.onclose=()=>{console.log("WebSocket disconnected"),i.current=setTimeout(o,3e3)},p.onerror=g=>{console.error("WebSocket error:",g)}},c=u=>{switch(u.type){case"BOT_CREATED":case"BOT_UPDATED":case"BOT_DELETED":case"BOT_STATUS_CHANGED":e.invalidateQueries({queryKey:["/api/bot-instances"]}),e.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;case"COMMAND_CREATED":case"COMMAND_UPDATED":case"COMMAND_DELETED":e.invalidateQueries({queryKey:["/api/commands"]});break;case"ACTIVITY_CREATED":e.invalidateQueries({queryKey:["/api/activities"]});break;case"BOT_ERROR":r({title:"Bot Error",description:u.message||"A bot encountered an error",variant:"destructive"});break;case"BOT_CONNECTED":r({title:"Bot Connected",description:`${u.botName} is now online`});break;default:console.log("Unknown WebSocket message type:",u.type)}};return o(),()=>{i.current&&clearTimeout(i.current),s.current&&s.current.close()}},[e,r]),s.current}const q0=h.createContext(void 0);function WT({children:e}){const[r,s]=h.useState(null),[i,o]=h.useState(null);h.useEffect(()=>{const p=localStorage.getItem("auth_token"),g=localStorage.getItem("user");if(p&&g)try{const x=JSON.parse(g);o(p),s(x)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user")}},[]);const f={user:r,token:i,login:(p,g)=>{o(p),s(g),localStorage.setItem("auth_token",p),localStorage.setItem("user",JSON.stringify(g))},logout:()=>{o(null),s(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:!!i,isAdmin:!!r?.isAdmin};return t.jsx(q0.Provider,{value:f,children:e})}function rl(){const e=h.useContext(q0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const At=h.forwardRef(({className:e,type:r,...s},i)=>t.jsx("input",{type:r,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));At.displayName="Input";function $v(e,[r,s]){return Math.min(s,Math.max(r,e))}var KT=h.createContext(void 0);function wd(e){const r=h.useContext(KT);return e||r||"ltr"}var QT=[" ","Enter","ArrowUp","ArrowDown"],HT=[" ","Enter"],wa="Select",[Nd,Sd,GT]=Hm(wa),[Di,oM]=Er(wa,[GT,Oi]),Cd=Oi(),[YT,Gs]=Di(wa),[ZT,XT]=Di(wa),W0=e=>{const{__scopeSelect:r,children:s,open:i,defaultOpen:o,onOpenChange:c,value:u,defaultValue:f,onValueChange:p,dir:g,name:x,autoComplete:y,disabled:w,required:C,form:k}=e,j=Cd(r),[b,S]=h.useState(null),[_,O]=h.useState(null),[A,B]=h.useState(!1),G=wd(g),[z,se]=qn({prop:i,defaultProp:o??!1,onChange:c,caller:wa}),[Z,ee]=qn({prop:u,defaultProp:f,onChange:p,caller:wa}),ae=h.useRef(null),X=b?k||!!b.closest("form"):!0,[re,$]=h.useState(new Set),ie=Array.from(re).map(q=>q.props.value).join(";");return t.jsx(Zb,{...j,children:t.jsxs(YT,{required:C,scope:r,trigger:b,onTriggerChange:S,valueNode:_,onValueNodeChange:O,valueNodeHasChildren:A,onValueNodeHasChildrenChange:B,contentId:_r(),value:Z,onValueChange:ee,open:z,onOpenChange:se,dir:G,triggerPointerDownPosRef:ae,disabled:w,children:[t.jsx(Nd.Provider,{scope:r,children:t.jsx(ZT,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(q=>{$(P=>new Set(P).add(q))},[]),onNativeOptionRemove:h.useCallback(q=>{$(P=>{const R=new Set(P);return R.delete(q),R})},[]),children:s})}),X?t.jsxs(pj,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:Z,onChange:q=>ee(q.target.value),disabled:w,form:k,children:[Z===void 0?t.jsx("option",{value:""}):null,Array.from(re)]},ie):null]})})};W0.displayName=wa;var K0="SelectTrigger",Q0=h.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:i=!1,...o}=e,c=Cd(s),u=Gs(K0,s),f=u.disabled||i,p=lt(r,u.onTriggerChange),g=Sd(s),x=h.useRef("touch"),[y,w,C]=xj(j=>{const b=g().filter(O=>!O.disabled),S=b.find(O=>O.value===u.value),_=vj(b,j,S);_!==void 0&&u.onValueChange(_.value)}),k=j=>{f||(u.onOpenChange(!0),C()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(ud,{asChild:!0,...c,children:t.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":gj(u.value)?"":void 0,...o,ref:p,onClick:Me(o.onClick,j=>{j.currentTarget.focus(),x.current!=="mouse"&&k(j)}),onPointerDown:Me(o.onPointerDown,j=>{x.current=j.pointerType;const b=j.target;b.hasPointerCapture(j.pointerId)&&b.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(k(j),j.preventDefault())}),onKeyDown:Me(o.onKeyDown,j=>{const b=y.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(b&&j.key===" ")&&QT.includes(j.key)&&(k(),j.preventDefault())})})})});Q0.displayName=K0;var H0="SelectValue",G0=h.forwardRef((e,r)=>{const{__scopeSelect:s,className:i,style:o,children:c,placeholder:u="",...f}=e,p=Gs(H0,s),{onValueNodeHasChildrenChange:g}=p,x=c!==void 0,y=lt(r,p.onValueNodeChange);return mr(()=>{g(x)},[g,x]),t.jsx(Fe.span,{...f,ref:y,style:{pointerEvents:"none"},children:gj(p.value)?t.jsx(t.Fragment,{children:u}):c})});G0.displayName=H0;var JT="SelectIcon",Y0=h.forwardRef((e,r)=>{const{__scopeSelect:s,children:i,...o}=e;return t.jsx(Fe.span,{"aria-hidden":!0,...o,ref:r,children:i||"▼"})});Y0.displayName=JT;var eE="SelectPortal",Z0=e=>t.jsx(Xo,{asChild:!0,...e});Z0.displayName=eE;var Na="SelectContent",X0=h.forwardRef((e,r)=>{const s=Gs(Na,e.__scopeSelect),[i,o]=h.useState();if(mr(()=>{o(new DocumentFragment)},[]),!s.open){const c=i;return c?Ti.createPortal(t.jsx(J0,{scope:e.__scopeSelect,children:t.jsx(Nd.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),c):null}return t.jsx(ej,{...e,ref:r})});X0.displayName=Na;var yn=10,[J0,Ys]=Di(Na),tE="SelectContentImpl",rE=va("SelectContent.RemoveScroll"),ej=h.forwardRef((e,r)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:k,hideWhenDetached:j,avoidCollisions:b,...S}=e,_=Gs(Na,s),[O,A]=h.useState(null),[B,G]=h.useState(null),z=lt(r,E=>A(E)),[se,Z]=h.useState(null),[ee,ae]=h.useState(null),X=Sd(s),[re,$]=h.useState(!1),ie=h.useRef(!1);h.useEffect(()=>{if(O)return ph(O)},[O]),hh();const q=h.useCallback(E=>{const[Q,...pe]=X().map(Xe=>Xe.ref.current),[Ne]=pe.slice(-1),$e=document.activeElement;for(const Xe of E)if(Xe===$e||(Xe?.scrollIntoView({block:"nearest"}),Xe===Q&&B&&(B.scrollTop=0),Xe===Ne&&B&&(B.scrollTop=B.scrollHeight),Xe?.focus(),document.activeElement!==$e))return},[X,B]),P=h.useCallback(()=>q([se,O]),[q,se,O]);h.useEffect(()=>{re&&P()},[re,P]);const{onOpenChange:R,triggerPointerDownPosRef:Y}=_;h.useEffect(()=>{if(O){let E={x:0,y:0};const Q=Ne=>{E={x:Math.abs(Math.round(Ne.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(Y.current?.y??0))}},pe=Ne=>{E.x<=10&&E.y<=10?Ne.preventDefault():O.contains(Ne.target)||R(!1),document.removeEventListener("pointermove",Q),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",pe,{capture:!0})}}},[O,R,Y]),h.useEffect(()=>{const E=()=>R(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[R]);const[ne,F]=xj(E=>{const Q=X().filter($e=>!$e.disabled),pe=Q.find($e=>$e.ref.current===document.activeElement),Ne=vj(Q,E,pe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),M=h.useCallback((E,Q,pe)=>{const Ne=!ie.current&&!pe;(_.value!==void 0&&_.value===Q||Ne)&&(Z(E),Ne&&(ie.current=!0))},[_.value]),de=h.useCallback(()=>O?.focus(),[O]),xe=h.useCallback((E,Q,pe)=>{const Ne=!ie.current&&!pe;(_.value!==void 0&&_.value===Q||Ne)&&ae(E)},[_.value]),oe=i==="popper"?Sm:tj,we=oe===Sm?{side:f,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:w,collisionPadding:C,sticky:k,hideWhenDetached:j,avoidCollisions:b}:{};return t.jsx(J0,{scope:s,content:O,viewport:B,onViewportChange:G,itemRefCallback:M,selectedItem:se,onItemLeave:de,itemTextRefCallback:xe,focusSelectedItem:P,selectedItemText:ee,position:i,isPositioned:re,searchRef:ne,children:t.jsx(gd,{as:rE,allowPinchZoom:!0,children:t.jsx(hd,{asChild:!0,trapped:_.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:Me(o,E=>{_.trigger?.focus({preventScroll:!0}),E.preventDefault()}),children:t.jsx(Ei,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:t.jsx(oe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:E=>E.preventDefault(),...S,...we,onPlaced:()=>$(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Me(S.onKeyDown,E=>{const Q=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!Q&&E.key.length===1&&F(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let Ne=X().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(E.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const $e=E.target,Xe=Ne.indexOf($e);Ne=Ne.slice(Xe+1)}setTimeout(()=>q(Ne)),E.preventDefault()}})})})})})})});ej.displayName=tE;var nE="SelectItemAlignedPosition",tj=h.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:i,...o}=e,c=Gs(Na,s),u=Ys(Na,s),[f,p]=h.useState(null),[g,x]=h.useState(null),y=lt(r,z=>x(z)),w=Sd(s),C=h.useRef(!1),k=h.useRef(!0),{viewport:j,selectedItem:b,selectedItemText:S,focusSelectedItem:_}=u,O=h.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&j&&b&&S){const z=c.trigger.getBoundingClientRect(),se=g.getBoundingClientRect(),Z=c.valueNode.getBoundingClientRect(),ee=S.getBoundingClientRect();if(c.dir!=="rtl"){const $e=ee.left-se.left,Xe=Z.left-$e,Gt=z.left-Xe,tt=z.width+Gt,Vr=Math.max(tt,se.width),Zr=window.innerWidth-yn,un=$v(Xe,[yn,Math.max(yn,Zr-Vr)]);f.style.minWidth=tt+"px",f.style.left=un+"px"}else{const $e=se.right-ee.right,Xe=window.innerWidth-Z.right-$e,Gt=window.innerWidth-z.right-Xe,tt=z.width+Gt,Vr=Math.max(tt,se.width),Zr=window.innerWidth-yn,un=$v(Xe,[yn,Math.max(yn,Zr-Vr)]);f.style.minWidth=tt+"px",f.style.right=un+"px"}const ae=w(),X=window.innerHeight-yn*2,re=j.scrollHeight,$=window.getComputedStyle(g),ie=parseInt($.borderTopWidth,10),q=parseInt($.paddingTop,10),P=parseInt($.borderBottomWidth,10),R=parseInt($.paddingBottom,10),Y=ie+q+re+R+P,ne=Math.min(b.offsetHeight*5,Y),F=window.getComputedStyle(j),M=parseInt(F.paddingTop,10),de=parseInt(F.paddingBottom,10),xe=z.top+z.height/2-yn,oe=X-xe,we=b.offsetHeight/2,E=b.offsetTop+we,Q=ie+q+E,pe=Y-Q;if(Q<=xe){const $e=ae.length>0&&b===ae[ae.length-1].ref.current;f.style.bottom="0px";const Xe=g.clientHeight-j.offsetTop-j.offsetHeight,Gt=Math.max(oe,we+($e?de:0)+Xe+P),tt=Q+Gt;f.style.height=tt+"px"}else{const $e=ae.length>0&&b===ae[0].ref.current;f.style.top="0px";const Gt=Math.max(xe,ie+j.offsetTop+($e?M:0)+we)+pe;f.style.height=Gt+"px",j.scrollTop=Q-xe+j.offsetTop}f.style.margin=`${yn}px 0`,f.style.minHeight=ne+"px",f.style.maxHeight=X+"px",i?.(),requestAnimationFrame(()=>C.current=!0)}},[w,c.trigger,c.valueNode,f,g,j,b,S,c.dir,i]);mr(()=>O(),[O]);const[A,B]=h.useState();mr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]);const G=h.useCallback(z=>{z&&k.current===!0&&(O(),_?.(),k.current=!1)},[O,_]);return t.jsx(aE,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:G,children:t.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:t.jsx(Fe.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});tj.displayName=nE;var sE="SelectPopperPosition",Sm=h.forwardRef((e,r)=>{const{__scopeSelect:s,align:i="start",collisionPadding:o=yn,...c}=e,u=Cd(s);return t.jsx(dh,{...u,...c,ref:r,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sm.displayName=sE;var[aE,kh]=Di(Na,{}),Cm="SelectViewport",rj=h.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:i,...o}=e,c=Ys(Cm,s),u=kh(Cm,s),f=lt(r,c.onViewportChange),p=h.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),t.jsx(Nd.Slot,{scope:s,children:t.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Me(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=u;if(w?.current&&y){const C=Math.abs(p.current-x.scrollTop);if(C>0){const k=window.innerHeight-yn*2,j=parseFloat(y.style.minHeight),b=parseFloat(y.style.height),S=Math.max(j,b);if(S<k){const _=S+C,O=Math.min(k,_),A=_-O;y.style.height=O+"px",y.style.bottom==="0px"&&(x.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});rj.displayName=Cm;var nj="SelectGroup",[iE,oE]=Di(nj),lE=h.forwardRef((e,r)=>{const{__scopeSelect:s,...i}=e,o=_r();return t.jsx(iE,{scope:s,id:o,children:t.jsx(Fe.div,{role:"group","aria-labelledby":o,...i,ref:r})})});lE.displayName=nj;var sj="SelectLabel",aj=h.forwardRef((e,r)=>{const{__scopeSelect:s,...i}=e,o=oE(sj,s);return t.jsx(Fe.div,{id:o.id,...i,ref:r})});aj.displayName=sj;var $c="SelectItem",[cE,ij]=Di($c),oj=h.forwardRef((e,r)=>{const{__scopeSelect:s,value:i,disabled:o=!1,textValue:c,...u}=e,f=Gs($c,s),p=Ys($c,s),g=f.value===i,[x,y]=h.useState(c??""),[w,C]=h.useState(!1),k=lt(r,_=>p.itemRefCallback?.(_,i,o)),j=_r(),b=h.useRef("touch"),S=()=>{o||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(cE,{scope:s,value:i,disabled:o,textId:j,isSelected:g,onItemTextChange:h.useCallback(_=>{y(O=>O||(_?.textContent??"").trim())},[]),children:t.jsx(Nd.ItemSlot,{scope:s,value:i,disabled:o,textValue:x,children:t.jsx(Fe.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":g&&w,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:k,onFocus:Me(u.onFocus,()=>C(!0)),onBlur:Me(u.onBlur,()=>C(!1)),onClick:Me(u.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:Me(u.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:Me(u.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:Me(u.onPointerMove,_=>{b.current=_.pointerType,o?p.onItemLeave?.():b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,_=>{_.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Me(u.onKeyDown,_=>{p.searchRef?.current!==""&&_.key===" "||(HT.includes(_.key)&&S(),_.key===" "&&_.preventDefault())})})})})});oj.displayName=$c;var ko="SelectItemText",lj=h.forwardRef((e,r)=>{const{__scopeSelect:s,className:i,style:o,...c}=e,u=Gs(ko,s),f=Ys(ko,s),p=ij(ko,s),g=XT(ko,s),[x,y]=h.useState(null),w=lt(r,S=>y(S),p.onItemTextChange,S=>f.itemTextRefCallback?.(S,p.value,p.disabled)),C=x?.textContent,k=h.useMemo(()=>t.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:j,onNativeOptionRemove:b}=g;return mr(()=>(j(k),()=>b(k)),[j,b,k]),t.jsxs(t.Fragment,{children:[t.jsx(Fe.span,{id:p.textId,...c,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ti.createPortal(c.children,u.valueNode):null]})});lj.displayName=ko;var cj="SelectItemIndicator",dj=h.forwardRef((e,r)=>{const{__scopeSelect:s,...i}=e;return ij(cj,s).isSelected?t.jsx(Fe.span,{"aria-hidden":!0,...i,ref:r}):null});dj.displayName=cj;var km="SelectScrollUpButton",uj=h.forwardRef((e,r)=>{const s=Ys(km,e.__scopeSelect),i=kh(km,e.__scopeSelect),[o,c]=h.useState(!1),u=lt(r,i.onScrollButtonChange);return mr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollTop>0;c(g)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?t.jsx(mj,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});uj.displayName=km;var Pm="SelectScrollDownButton",fj=h.forwardRef((e,r)=>{const s=Ys(Pm,e.__scopeSelect),i=kh(Pm,e.__scopeSelect),[o,c]=h.useState(!1),u=lt(r,i.onScrollButtonChange);return mr(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;c(x)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),o?t.jsx(mj,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});fj.displayName=Pm;var mj=h.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:i,...o}=e,c=Ys("SelectScrollButton",s),u=h.useRef(null),f=Sd(s),p=h.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return h.useEffect(()=>()=>p(),[p]),mr(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),t.jsx(Fe.div,{"aria-hidden":!0,...o,ref:r,style:{flexShrink:0,...o.style},onPointerDown:Me(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Me(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Me(o.onPointerLeave,()=>{p()})})}),dE="SelectSeparator",hj=h.forwardRef((e,r)=>{const{__scopeSelect:s,...i}=e;return t.jsx(Fe.div,{"aria-hidden":!0,...i,ref:r})});hj.displayName=dE;var _m="SelectArrow",uE=h.forwardRef((e,r)=>{const{__scopeSelect:s,...i}=e,o=Cd(s),c=Gs(_m,s),u=Ys(_m,s);return c.open&&u.position==="popper"?t.jsx(uh,{...o,...i,ref:r}):null});uE.displayName=_m;var fE="SelectBubbleInput",pj=h.forwardRef(({__scopeSelect:e,value:r,...s},i)=>{const o=h.useRef(null),c=lt(i,o),u=bd(r);return h.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==r&&x){const y=new Event("change",{bubbles:!0});x.call(f,r),f.dispatchEvent(y)}},[u,r]),t.jsx(Fe.select,{...s,style:{...Hy,...s.style},ref:c,defaultValue:r})});pj.displayName=fE;function gj(e){return e===""||e===void 0}function xj(e){const r=dn(e),s=h.useRef(""),i=h.useRef(0),o=h.useCallback(u=>{const f=s.current+u;r(f),(function p(g){s.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(f)},[r]),c=h.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,o,c]}function vj(e,r,s){const o=r.length>1&&Array.from(r).every(g=>g===r[0])?r[0]:r,c=s?e.indexOf(s):-1;let u=mE(e,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==s));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==s?p:void 0}function mE(e,r){return e.map((s,i)=>e[(r+i)%e.length])}var hE=W0,yj=Q0,pE=G0,gE=Y0,xE=Z0,bj=X0,vE=rj,jj=aj,wj=oj,yE=lj,bE=dj,Nj=uj,Sj=fj,Cj=hj;const Lr=hE,Br=pE,Cr=h.forwardRef(({className:e,children:r,...s},i)=>t.jsxs(yj,{ref:i,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(gE,{asChild:!0,children:t.jsx(eh,{className:"h-4 w-4 opacity-50"})})]}));Cr.displayName=yj.displayName;const kj=h.forwardRef(({className:e,...r},s)=>t.jsx(Nj,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(aP,{className:"h-4 w-4"})}));kj.displayName=Nj.displayName;const Pj=h.forwardRef(({className:e,...r},s)=>t.jsx(Sj,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(eh,{className:"h-4 w-4"})}));Pj.displayName=Sj.displayName;const kr=h.forwardRef(({className:e,children:r,position:s="popper",...i},o)=>t.jsx(xE,{children:t.jsxs(bj,{ref:o,className:ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[t.jsx(kj,{}),t.jsx(vE,{className:ke("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(Pj,{})]})}));kr.displayName=bj.displayName;const jE=h.forwardRef(({className:e,...r},s)=>t.jsx(jj,{ref:s,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));jE.displayName=jj.displayName;const Ke=h.forwardRef(({className:e,children:r,...s},i)=>t.jsxs(wj,{ref:i,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(bE,{children:t.jsx(Jm,{className:"h-4 w-4"})})}),t.jsx(yE,{children:r})]}));Ke.displayName=wj.displayName;const wE=h.forwardRef(({className:e,...r},s)=>t.jsx(Cj,{ref:s,className:ke("-mx-1 my-1 h-px bg-muted",e),...r}));wE.displayName=Cj.displayName;var nl=e=>e.type==="checkbox",ma=e=>e instanceof Date,Pr=e=>e==null;const _j=e=>typeof e=="object";var Qt=e=>!Pr(e)&&!Array.isArray(e)&&_j(e)&&!ma(e),NE=e=>Qt(e)&&e.target?nl(e.target)?e.target.checked:e.target.value:e,SE=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,CE=(e,r)=>e.has(SE(r)),kE=e=>{const r=e.constructor&&e.constructor.prototype;return Qt(r)&&r.hasOwnProperty("isPrototypeOf")},Ph=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ir(e){let r;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ph&&(e instanceof Blob||i))&&(s||Qt(e)))if(r=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!kE(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=ir(e[o]));else return e;return r}var kd=e=>/^\w*$/.test(e),Jt=e=>e===void 0,_h=e=>Array.isArray(e)?e.filter(Boolean):[],Th=e=>_h(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,r,s)=>{if(!r||!Qt(e))return s;const i=(kd(r)?[r]:Th(r)).reduce((o,c)=>Pr(o)?o:o[c],e);return Jt(i)||i===e?Jt(e[r])?s:e[r]:i},Ln=e=>typeof e=="boolean",jt=(e,r,s)=>{let i=-1;const o=kd(r)?[r]:Th(r),c=o.length,u=c-1;for(;++i<c;){const f=o[i];let p=s;if(i!==u){const g=e[f];p=Qt(g)||Array.isArray(g)?g:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=p,e=e[f]}};const Vv={BLUR:"blur",FOCUS_OUT:"focusout"},jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PE=Wt.createContext(null);PE.displayName="HookFormContext";var _E=(e,r,s,i=!0)=>{const o={defaultValues:r._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return r._proxyFormState[u]!==jn.all&&(r._proxyFormState[u]=!i||jn.all),e[u]}});return o};const TE=typeof window<"u"?Wt.useLayoutEffect:Wt.useEffect;var Vn=e=>typeof e=="string",EE=(e,r,s,i,o)=>Vn(e)?(i&&r.watch.add(e),Ie(s,e,o)):Array.isArray(e)?e.map(c=>(i&&r.watch.add(c),Ie(s,c))):(i&&(r.watchAll=!0),s),Tm=e=>Pr(e)||!_j(e);function Ls(e,r,s=new WeakSet){if(Tm(e)||Tm(r))return e===r;if(ma(e)&&ma(r))return e.getTime()===r.getTime();const i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;if(s.has(e)||s.has(r))return!0;s.add(e),s.add(r);for(const c of i){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=r[c];if(ma(u)&&ma(f)||Qt(u)&&Qt(f)||Array.isArray(u)&&Array.isArray(f)?!Ls(u,f,s):u!==f)return!1}}return!0}var Tj=(e,r,s,i,o)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:o||!0}}:{},_o=e=>Array.isArray(e)?e:[e],zv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}},Fr=e=>Qt(e)&&!Object.keys(e).length,Eh=e=>e.type==="file",wn=e=>typeof e=="function",Vc=e=>{if(!Ph)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ej=e=>e.type==="select-multiple",Ah=e=>e.type==="radio",AE=e=>Ah(e)||nl(e),Yf=e=>Vc(e)&&e.isConnected;function RE(e,r){const s=r.slice(0,-1).length;let i=0;for(;i<s;)e=Jt(e)?i++:e[r[i++]];return e}function IE(e){for(const r in e)if(e.hasOwnProperty(r)&&!Jt(e[r]))return!1;return!0}function Xt(e,r){const s=Array.isArray(r)?r:kd(r)?[r]:Th(r),i=s.length===1?e:RE(e,s),o=s.length-1,c=s[o];return i&&delete i[c],o!==0&&(Qt(i)&&Fr(i)||Array.isArray(i)&&IE(i))&&Xt(e,s.slice(0,-1)),e}var Aj=e=>{for(const r in e)if(wn(e[r]))return!0;return!1};function zc(e,r={}){const s=Array.isArray(e);if(Qt(e)||s)for(const i in e)Array.isArray(e[i])||Qt(e[i])&&!Aj(e[i])?(r[i]=Array.isArray(e[i])?[]:{},zc(e[i],r[i])):Pr(e[i])||(r[i]=!0);return r}function Rj(e,r,s){const i=Array.isArray(e);if(Qt(e)||i)for(const o in e)Array.isArray(e[o])||Qt(e[o])&&!Aj(e[o])?Jt(r)||Tm(s[o])?s[o]=Array.isArray(e[o])?zc(e[o],[]):{...zc(e[o])}:Rj(e[o],Pr(r)?{}:r[o],s[o]):s[o]=!Ls(e[o],r[o]);return s}var No=(e,r)=>Rj(e,r,zc(r));const Uv={value:!1,isValid:!1},qv={value:!0,isValid:!0};var Ij=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Jt(e[0].attributes.value)?Jt(e[0].value)||e[0].value===""?qv:{value:e[0].value,isValid:!0}:qv:Uv}return Uv},Oj=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:i})=>Jt(e)?e:r?e===""?NaN:e&&+e:s&&Vn(e)?new Date(e):i?i(e):e;const Wv={isValid:!1,value:null};var Dj=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,Wv):Wv;function Kv(e){const r=e.ref;return Eh(r)?r.files:Ah(r)?Dj(e.refs).value:Ej(r)?[...r.selectedOptions].map(({value:s})=>s):nl(r)?Ij(e.refs).value:Oj(Jt(r.value)?e.ref.value:r.value,e)}var OE=(e,r,s,i)=>{const o={};for(const c of e){const u=Ie(r,c);u&&jt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:i}},Uc=e=>e instanceof RegExp,So=e=>Jt(e)?e:Uc(e)?e.source:Qt(e)?Uc(e.value)?e.value.source:e.value:e,Qv=e=>({isOnSubmit:!e||e===jn.onSubmit,isOnBlur:e===jn.onBlur,isOnChange:e===jn.onChange,isOnAll:e===jn.all,isOnTouch:e===jn.onTouched});const Hv="AsyncFunction";var DE=e=>!!e&&!!e.validate&&!!(wn(e.validate)&&e.validate.constructor.name===Hv||Qt(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Hv)),ME=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Gv=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const To=(e,r,s,i)=>{for(const o of s||Object.keys(e)){const c=Ie(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(To(f,r))break}else if(Qt(f)&&To(f,r))break}}};function Yv(e,r,s){const i=Ie(e,s);if(i||kd(s))return{error:i,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=Ie(r,c),f=Ie(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var FE=(e,r,s,i)=>{s(e);const{name:o,...c}=e;return Fr(c)||Object.keys(c).length>=Object.keys(r).length||Object.keys(c).find(u=>r[u]===(!i||jn.all))},LE=(e,r,s)=>!e||!r||e===r||_o(e).some(i=>i&&(s?i===r:i.startsWith(r)||r.startsWith(i))),BE=(e,r,s,i,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(r||e):(s?i.isOnBlur:o.isOnBlur)?!e:(s?i.isOnChange:o.isOnChange)?e:!0,$E=(e,r)=>!_h(Ie(e,r)).length&&Xt(e,r),VE=(e,r,s)=>{const i=_o(Ie(e,s));return jt(i,"root",r[s]),jt(e,s,i),e},Ec=e=>Vn(e);function Zv(e,r,s="validate"){if(Ec(e)||Array.isArray(e)&&e.every(Ec)||Ln(e)&&!e)return{type:s,message:Ec(e)?e:"",ref:r}}var ri=e=>Qt(e)&&!Uc(e)?e:{value:e,message:""},Xv=async(e,r,s,i,o,c)=>{const{ref:u,refs:f,required:p,maxLength:g,minLength:x,min:y,max:w,pattern:C,validate:k,name:j,valueAsNumber:b,mount:S}=e._f,_=Ie(s,j);if(!S||r.has(j))return{};const O=f?f[0]:u,A=X=>{o&&O.reportValidity&&(O.setCustomValidity(Ln(X)?"":X||""),O.reportValidity())},B={},G=Ah(u),z=nl(u),se=G||z,Z=(b||Eh(u))&&Jt(u.value)&&Jt(_)||Vc(u)&&u.value===""||_===""||Array.isArray(_)&&!_.length,ee=Tj.bind(null,j,i,B),ae=(X,re,$,ie=as.maxLength,q=as.minLength)=>{const P=X?re:$;B[j]={type:X?ie:q,message:P,ref:u,...ee(X?ie:q,P)}};if(c?!Array.isArray(_)||!_.length:p&&(!se&&(Z||Pr(_))||Ln(_)&&!_||z&&!Ij(f).isValid||G&&!Dj(f).isValid)){const{value:X,message:re}=Ec(p)?{value:!!p,message:p}:ri(p);if(X&&(B[j]={type:as.required,message:re,ref:O,...ee(as.required,re)},!i))return A(re),B}if(!Z&&(!Pr(y)||!Pr(w))){let X,re;const $=ri(w),ie=ri(y);if(!Pr(_)&&!isNaN(_)){const q=u.valueAsNumber||_&&+_;Pr($.value)||(X=q>$.value),Pr(ie.value)||(re=q<ie.value)}else{const q=u.valueAsDate||new Date(_),P=ne=>new Date(new Date().toDateString()+" "+ne),R=u.type=="time",Y=u.type=="week";Vn($.value)&&_&&(X=R?P(_)>P($.value):Y?_>$.value:q>new Date($.value)),Vn(ie.value)&&_&&(re=R?P(_)<P(ie.value):Y?_<ie.value:q<new Date(ie.value))}if((X||re)&&(ae(!!X,$.message,ie.message,as.max,as.min),!i))return A(B[j].message),B}if((g||x)&&!Z&&(Vn(_)||c&&Array.isArray(_))){const X=ri(g),re=ri(x),$=!Pr(X.value)&&_.length>+X.value,ie=!Pr(re.value)&&_.length<+re.value;if(($||ie)&&(ae($,X.message,re.message),!i))return A(B[j].message),B}if(C&&!Z&&Vn(_)){const{value:X,message:re}=ri(C);if(Uc(X)&&!_.match(X)&&(B[j]={type:as.pattern,message:re,ref:u,...ee(as.pattern,re)},!i))return A(re),B}if(k){if(wn(k)){const X=await k(_,s),re=Zv(X,O);if(re&&(B[j]={...re,...ee(as.validate,re.message)},!i))return A(re.message),B}else if(Qt(k)){let X={};for(const re in k){if(!Fr(X)&&!i)break;const $=Zv(await k[re](_,s),O,re);$&&(X={...$,...ee(re,$.message)},A($.message),i&&(B[j]=X))}if(!Fr(X)&&(B[j]={ref:O,...X},!i))return B}}return A(!0),B};const zE={mode:jn.onSubmit,reValidateMode:jn.onChange,shouldFocusError:!0};function UE(e={}){let r={...zE,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:wn(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=Qt(r.defaultValues)||Qt(r.values)?ir(r.defaultValues||r.values)||{}:{},c=r.shouldUnregister?{}:ir(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const w={array:zv(),state:zv()},C=r.criteriaMode===jn.all,k=D=>U=>{clearTimeout(g),g=setTimeout(D,U)},j=async D=>{if(!r.disabled&&(x.isValid||y.isValid||D)){const U=r.resolver?Fr((await z()).errors):await Z(i,!0);U!==s.isValid&&w.state.next({isValid:U})}},b=(D,U)=>{!r.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(f.mount)).forEach(te=>{te&&(U?jt(s.validatingFields,te,U):Xt(s.validatingFields,te))}),w.state.next({validatingFields:s.validatingFields,isValidating:!Fr(s.validatingFields)}))},S=(D,U=[],te,Se,je=!0,me=!0)=>{if(Se&&te&&!r.disabled){if(u.action=!0,me&&Array.isArray(Ie(i,D))){const Oe=te(Ie(i,D),Se.argA,Se.argB);je&&jt(i,D,Oe)}if(me&&Array.isArray(Ie(s.errors,D))){const Oe=te(Ie(s.errors,D),Se.argA,Se.argB);je&&jt(s.errors,D,Oe),$E(s.errors,D)}if((x.touchedFields||y.touchedFields)&&me&&Array.isArray(Ie(s.touchedFields,D))){const Oe=te(Ie(s.touchedFields,D),Se.argA,Se.argB);je&&jt(s.touchedFields,D,Oe)}(x.dirtyFields||y.dirtyFields)&&(s.dirtyFields=No(o,c)),w.state.next({name:D,isDirty:ae(D,U),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else jt(c,D,U)},_=(D,U)=>{jt(s.errors,D,U),w.state.next({errors:s.errors})},O=D=>{s.errors=D,w.state.next({errors:s.errors,isValid:!1})},A=(D,U,te,Se)=>{const je=Ie(i,D);if(je){const me=Ie(c,D,Jt(te)?Ie(o,D):te);Jt(me)||Se&&Se.defaultChecked||U?jt(c,D,U?me:Kv(je._f)):$(D,me),u.mount&&j()}},B=(D,U,te,Se,je)=>{let me=!1,Oe=!1;const dt={name:D};if(!r.disabled){if(!te||Se){(x.isDirty||y.isDirty)&&(Oe=s.isDirty,s.isDirty=dt.isDirty=ae(),me=Oe!==dt.isDirty);const Je=Ls(Ie(o,D),U);Oe=!!Ie(s.dirtyFields,D),Je?Xt(s.dirtyFields,D):jt(s.dirtyFields,D,!0),dt.dirtyFields=s.dirtyFields,me=me||(x.dirtyFields||y.dirtyFields)&&Oe!==!Je}if(te){const Je=Ie(s.touchedFields,D);Je||(jt(s.touchedFields,D,te),dt.touchedFields=s.touchedFields,me=me||(x.touchedFields||y.touchedFields)&&Je!==te)}me&&je&&w.state.next(dt)}return me?dt:{}},G=(D,U,te,Se)=>{const je=Ie(s.errors,D),me=(x.isValid||y.isValid)&&Ln(U)&&s.isValid!==U;if(r.delayError&&te?(p=k(()=>_(D,te)),p(r.delayError)):(clearTimeout(g),p=null,te?jt(s.errors,D,te):Xt(s.errors,D)),(te?!Ls(je,te):je)||!Fr(Se)||me){const Oe={...Se,...me&&Ln(U)?{isValid:U}:{},errors:s.errors,name:D};s={...s,...Oe},w.state.next(Oe)}},z=async D=>{b(D,!0);const U=await r.resolver(c,r.context,OE(D||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return b(D),U},se=async D=>{const{errors:U}=await z(D);if(D)for(const te of D){const Se=Ie(U,te);Se?jt(s.errors,te,Se):Xt(s.errors,te)}else s.errors=U;return U},Z=async(D,U,te={valid:!0})=>{for(const Se in D){const je=D[Se];if(je){const{_f:me,...Oe}=je;if(me){const dt=f.array.has(me.name),Je=je._f&&DE(je._f);Je&&x.validatingFields&&b([Se],!0);const Yt=await Xv(je,f.disabled,c,C,r.shouldUseNativeValidation&&!U,dt);if(Je&&x.validatingFields&&b([Se]),Yt[me.name]&&(te.valid=!1,U))break;!U&&(Ie(Yt,me.name)?dt?VE(s.errors,Yt,me.name):jt(s.errors,me.name,Yt[me.name]):Xt(s.errors,me.name))}!Fr(Oe)&&await Z(Oe,U,te)}}return te.valid},ee=()=>{for(const D of f.unMount){const U=Ie(i,D);U&&(U._f.refs?U._f.refs.every(te=>!Yf(te)):!Yf(U._f.ref))&&E(D)}f.unMount=new Set},ae=(D,U)=>!r.disabled&&(D&&U&&jt(c,D,U),!Ls(ne(),o)),X=(D,U,te)=>EE(D,f,{...u.mount?c:Jt(U)?o:Vn(D)?{[D]:U}:U},te,U),re=D=>_h(Ie(u.mount?c:o,D,r.shouldUnregister?Ie(o,D,[]):[])),$=(D,U,te={})=>{const Se=Ie(i,D);let je=U;if(Se){const me=Se._f;me&&(!me.disabled&&jt(c,D,Oj(U,me)),je=Vc(me.ref)&&Pr(U)?"":U,Ej(me.ref)?[...me.ref.options].forEach(Oe=>Oe.selected=je.includes(Oe.value)):me.refs?nl(me.ref)?me.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(je)?Oe.checked=!!je.find(dt=>dt===Oe.value):Oe.checked=je===Oe.value||!!je)}):me.refs.forEach(Oe=>Oe.checked=Oe.value===je):Eh(me.ref)?me.ref.value="":(me.ref.value=je,me.ref.type||w.state.next({name:D,values:ir(c)})))}(te.shouldDirty||te.shouldTouch)&&B(D,je,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&Y(D)},ie=(D,U,te)=>{for(const Se in U){if(!U.hasOwnProperty(Se))return;const je=U[Se],me=D+"."+Se,Oe=Ie(i,me);(f.array.has(D)||Qt(je)||Oe&&!Oe._f)&&!ma(je)?ie(me,je,te):$(me,je,te)}},q=(D,U,te={})=>{const Se=Ie(i,D),je=f.array.has(D),me=ir(U);jt(c,D,me),je?(w.array.next({name:D,values:ir(c)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&te.shouldDirty&&w.state.next({name:D,dirtyFields:No(o,c),isDirty:ae(D,me)})):Se&&!Se._f&&!Pr(me)?ie(D,me,te):$(D,me,te),Gv(D,f)&&w.state.next({...s,name:D}),w.state.next({name:u.mount?D:void 0,values:ir(c)})},P=async D=>{u.mount=!0;const U=D.target;let te=U.name,Se=!0;const je=Ie(i,te),me=Je=>{Se=Number.isNaN(Je)||ma(Je)&&isNaN(Je.getTime())||Ls(Je,Ie(c,te,Je))},Oe=Qv(r.mode),dt=Qv(r.reValidateMode);if(je){let Je,Yt;const Xr=U.type?Kv(je._f):NE(D),zt=D.type===Vv.BLUR||D.type===Vv.FOCUS_OUT,T=!ME(je._f)&&!r.resolver&&!Ie(s.errors,te)&&!je._f.deps||BE(zt,Ie(s.touchedFields,te),s.isSubmitted,dt,Oe),be=Gv(te,f,zt);jt(c,te,Xr),zt?(!U||!U.readOnly)&&(je._f.onBlur&&je._f.onBlur(D),p&&p(0)):je._f.onChange&&je._f.onChange(D);const Ze=B(te,Xr,zt),st=!Fr(Ze)||be;if(!zt&&w.state.next({name:te,type:D.type,values:ir(c)}),T)return(x.isValid||y.isValid)&&(r.mode==="onBlur"?zt&&j():zt||j()),st&&w.state.next({name:te,...be?{}:Ze});if(!zt&&be&&w.state.next({...s}),r.resolver){const{errors:xt}=await z([te]);if(me(Xr),Se){const hs=Yv(s.errors,i,te),Rn=Yv(xt,i,hs.name||te);Je=Rn.error,te=Rn.name,Yt=Fr(xt)}}else b([te],!0),Je=(await Xv(je,f.disabled,c,C,r.shouldUseNativeValidation))[te],b([te]),me(Xr),Se&&(Je?Yt=!1:(x.isValid||y.isValid)&&(Yt=await Z(i,!0)));Se&&(je._f.deps&&Y(je._f.deps),G(te,Yt,Je,Ze))}},R=(D,U)=>{if(Ie(s.errors,U)&&D.focus)return D.focus(),1},Y=async(D,U={})=>{let te,Se;const je=_o(D);if(r.resolver){const me=await se(Jt(D)?D:je);te=Fr(me),Se=D?!je.some(Oe=>Ie(me,Oe)):te}else D?(Se=(await Promise.all(je.map(async me=>{const Oe=Ie(i,me);return await Z(Oe&&Oe._f?{[me]:Oe}:Oe)}))).every(Boolean),!(!Se&&!s.isValid)&&j()):Se=te=await Z(i);return w.state.next({...!Vn(D)||(x.isValid||y.isValid)&&te!==s.isValid?{}:{name:D},...r.resolver||!D?{isValid:te}:{},errors:s.errors}),U.shouldFocus&&!Se&&To(i,R,D?je:f.mount),Se},ne=D=>{const U={...u.mount?c:o};return Jt(D)?U:Vn(D)?Ie(U,D):D.map(te=>Ie(U,te))},F=(D,U)=>({invalid:!!Ie((U||s).errors,D),isDirty:!!Ie((U||s).dirtyFields,D),error:Ie((U||s).errors,D),isValidating:!!Ie(s.validatingFields,D),isTouched:!!Ie((U||s).touchedFields,D)}),M=D=>{D&&_o(D).forEach(U=>Xt(s.errors,U)),w.state.next({errors:D?s.errors:{}})},de=(D,U,te)=>{const Se=(Ie(i,D,{_f:{}})._f||{}).ref,je=Ie(s.errors,D)||{},{ref:me,message:Oe,type:dt,...Je}=je;jt(s.errors,D,{...Je,...U,ref:Se}),w.state.next({name:D,errors:s.errors,isValid:!1}),te&&te.shouldFocus&&Se&&Se.focus&&Se.focus()},xe=(D,U)=>wn(D)?w.state.subscribe({next:te=>"values"in te&&D(X(void 0,U),te)}):X(D,U,!0),oe=D=>w.state.subscribe({next:U=>{LE(D.name,U.name,D.exact)&&FE(U,D.formState||x,un,D.reRenderRoot)&&D.callback({values:{...c},...s,...U,defaultValues:o})}}).unsubscribe,we=D=>(u.mount=!0,y={...y,...D.formState},oe({...D,formState:y})),E=(D,U={})=>{for(const te of D?_o(D):f.mount)f.mount.delete(te),f.array.delete(te),U.keepValue||(Xt(i,te),Xt(c,te)),!U.keepError&&Xt(s.errors,te),!U.keepDirty&&Xt(s.dirtyFields,te),!U.keepTouched&&Xt(s.touchedFields,te),!U.keepIsValidating&&Xt(s.validatingFields,te),!r.shouldUnregister&&!U.keepDefaultValue&&Xt(o,te);w.state.next({values:ir(c)}),w.state.next({...s,...U.keepDirty?{isDirty:ae()}:{}}),!U.keepIsValid&&j()},Q=({disabled:D,name:U})=>{(Ln(D)&&u.mount||D||f.disabled.has(U))&&(D?f.disabled.add(U):f.disabled.delete(U))},pe=(D,U={})=>{let te=Ie(i,D);const Se=Ln(U.disabled)||Ln(r.disabled);return jt(i,D,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:D}},name:D,mount:!0,...U}}),f.mount.add(D),te?Q({disabled:Ln(U.disabled)?U.disabled:r.disabled,name:D}):A(D,!0,U.value),{...Se?{disabled:U.disabled||r.disabled}:{},...r.progressive?{required:!!U.required,min:So(U.min),max:So(U.max),minLength:So(U.minLength),maxLength:So(U.maxLength),pattern:So(U.pattern)}:{},name:D,onChange:P,onBlur:P,ref:je=>{if(je){pe(D,U),te=Ie(i,D);const me=Jt(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Oe=AE(me),dt=te._f.refs||[];if(Oe?dt.find(Je=>Je===me):me===te._f.ref)return;jt(i,D,{_f:{...te._f,...Oe?{refs:[...dt.filter(Yf),me,...Array.isArray(Ie(o,D))?[{}]:[]],ref:{type:me.type,name:D}}:{ref:me}}}),A(D,!1,void 0,me)}else te=Ie(i,D,{}),te._f&&(te._f.mount=!1),(r.shouldUnregister||U.shouldUnregister)&&!(CE(f.array,D)&&u.action)&&f.unMount.add(D)}}},Ne=()=>r.shouldFocusError&&To(i,R,f.mount),$e=D=>{Ln(D)&&(w.state.next({disabled:D}),To(i,(U,te)=>{const Se=Ie(i,te);Se&&(U.disabled=Se._f.disabled||D,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(je=>{je.disabled=Se._f.disabled||D}))},0,!1))},Xe=(D,U)=>async te=>{let Se;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let je=ir(c);if(w.state.next({isSubmitting:!0}),r.resolver){const{errors:me,values:Oe}=await z();s.errors=me,je=ir(Oe)}else await Z(i);if(f.disabled.size)for(const me of f.disabled)Xt(je,me);if(Xt(s.errors,"root"),Fr(s.errors)){w.state.next({errors:{}});try{await D(je,te)}catch(me){Se=me}}else U&&await U({...s.errors},te),Ne(),setTimeout(Ne);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(s.errors)&&!Se,submitCount:s.submitCount+1,errors:s.errors}),Se)throw Se},Gt=(D,U={})=>{Ie(i,D)&&(Jt(U.defaultValue)?q(D,ir(Ie(o,D))):(q(D,U.defaultValue),jt(o,D,ir(U.defaultValue))),U.keepTouched||Xt(s.touchedFields,D),U.keepDirty||(Xt(s.dirtyFields,D),s.isDirty=U.defaultValue?ae(D,ir(Ie(o,D))):ae()),U.keepError||(Xt(s.errors,D),x.isValid&&j()),w.state.next({...s}))},tt=(D,U={})=>{const te=D?ir(D):o,Se=ir(te),je=Fr(D),me=je?o:Se;if(U.keepDefaultValues||(o=te),!U.keepValues){if(U.keepDirtyValues){const Oe=new Set([...f.mount,...Object.keys(No(o,c))]);for(const dt of Array.from(Oe))Ie(s.dirtyFields,dt)?jt(me,dt,Ie(c,dt)):q(dt,Ie(me,dt))}else{if(Ph&&Jt(D))for(const Oe of f.mount){const dt=Ie(i,Oe);if(dt&&dt._f){const Je=Array.isArray(dt._f.refs)?dt._f.refs[0]:dt._f.ref;if(Vc(Je)){const Yt=Je.closest("form");if(Yt){Yt.reset();break}}}}if(U.keepFieldsRef)for(const Oe of f.mount)q(Oe,Ie(me,Oe));else i={}}c=r.shouldUnregister?U.keepDefaultValues?ir(o):{}:ir(me),w.array.next({values:{...me}}),w.state.next({values:{...me}})}f={mount:U.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!U.keepIsValid||!!U.keepDirtyValues,u.watch=!!r.shouldUnregister,w.state.next({submitCount:U.keepSubmitCount?s.submitCount:0,isDirty:je?!1:U.keepDirty?s.isDirty:!!(U.keepDefaultValues&&!Ls(D,o)),isSubmitted:U.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:je?{}:U.keepDirtyValues?U.keepDefaultValues&&c?No(o,c):s.dirtyFields:U.keepDefaultValues&&D?No(o,D):U.keepDirty?s.dirtyFields:{},touchedFields:U.keepTouched?s.touchedFields:{},errors:U.keepErrors?s.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Vr=(D,U)=>tt(wn(D)?D(c):D,U),Zr=(D,U={})=>{const te=Ie(i,D),Se=te&&te._f;if(Se){const je=Se.refs?Se.refs[0]:Se.ref;je.focus&&(je.focus(),U.shouldSelect&&wn(je.select)&&je.select())}},un=D=>{s={...s,...D}},ms={control:{register:pe,unregister:E,getFieldState:F,handleSubmit:Xe,setError:de,_subscribe:oe,_runSchema:z,_focusError:Ne,_getWatch:X,_getDirty:ae,_setValid:j,_setFieldArray:S,_setDisabledField:Q,_setErrors:O,_getFieldArray:re,_reset:tt,_resetDefaultValues:()=>wn(r.defaultValues)&&r.defaultValues().then(D=>{Vr(D,r.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:$e,_subjects:w,_proxyFormState:x,get _fields(){return i},get _formValues(){return c},get _state(){return u},set _state(D){u=D},get _defaultValues(){return o},get _names(){return f},set _names(D){f=D},get _formState(){return s},get _options(){return r},set _options(D){r={...r,...D}}},subscribe:we,trigger:Y,register:pe,handleSubmit:Xe,watch:xe,setValue:q,getValues:ne,reset:Vr,resetField:Gt,clearErrors:M,unregister:E,setError:de,setFocus:Zr,getFieldState:F};return{...ms,formControl:ms}}function Mj(e={}){const r=Wt.useRef(void 0),s=Wt.useRef(void 0),[i,o]=Wt.useState({isDirty:!1,isValidating:!1,isLoading:wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wn(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=UE(e);r.current={...f,formState:i}}const c=r.current.control;return c._options=e,TE(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),Wt.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),Wt.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),Wt.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),Wt.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),Wt.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==i.isDirty&&c._subjects.state.next({isDirty:u})}},[c,i.isDirty]),Wt.useEffect(()=>{e.values&&!Ls(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),s.current=e.values,o(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),Wt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),r.current.formState=_E(i,c),r.current}const Jv=(e,r,s)=>{if(e&&"reportValidity"in e){const i=Ie(s,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Fj=(e,r)=>{for(const s in r.fields){const i=r.fields[s];i&&i.ref&&"reportValidity"in i.ref?Jv(i.ref,s,e):i.refs&&i.refs.forEach(o=>Jv(o,s,e))}},qE=(e,r)=>{r.shouldUseNativeValidation&&Fj(e,r);const s={};for(const i in e){const o=Ie(r.fields,i),c=Object.assign(e[i]||{},{ref:o&&o.ref});if(WE(r.names||Object.keys(e),i)){const u=Object.assign({},Ie(s,i));jt(u,"root",c),jt(s,i,u)}else jt(s,i,c)}return s},WE=(e,r)=>e.some(s=>s.startsWith(r+"."));var KE=function(e,r){for(var s={};e.length;){var i=e[0],o=i.code,c=i.message,u=i.path.join(".");if(!s[u])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),r){var p=s[u].types,g=p&&p[i.code];s[u]=Tj(u,r,s,o,g?[].concat(g,i.message):i.message)}e.shift()}return s},Lj=function(e,r,s){return s===void 0&&(s={}),function(i,o,c){try{return Promise.resolve((function(u,f){try{var p=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(g){return c.shouldUseNativeValidation&&Fj({},c),{errors:{},values:s.raw?i:g}})}catch(g){return f(g)}return p&&p.then?p.then(void 0,f):p})(0,function(u){if((function(f){return Array.isArray(f?.errors)})(u))return{values:{},errors:qE(KE(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}};const le=Symbol.for("drizzle:entityKind");function or(e,r){if(!e||typeof e!="object")return!1;if(e instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,le))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(le in s&&s[le]===r[le])return!0;s=Object.getPrototypeOf(s)}return!1}class Do{constructor(r,s){this.table=r,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[le]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class QE{static[le]="ColumnBuilder";config;constructor(r,s,i){this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}const hi=Symbol.for("drizzle:Name");class HE{static[le]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(r,s){this.reference=()=>{const{name:i,columns:o,foreignColumns:c}=r();return{name:i,columns:o,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new GE(r,this)}}class GE{constructor(r,s){this.table=r,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[le]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:r,columns:s,foreignColumns:i}=this.reference(),o=s.map(f=>f.name),c=i.map(f=>f.name),u=[this.table[hi],...o,i[0].table[hi],...c];return r??`${u.join("_")}_fk`}}function YE(e,...r){return e(...r)}function ZE(e,r){return`${e[hi]}_${r.join("_")}_unique`}function ey(e,r,s){for(let i=r;i<e.length;i++){const o=e[i];if(o==="\\"){i++;continue}if(o==='"')return[e.slice(r,i).replace(/\\/g,""),i+1];if(!s&&(o===","||o==="}"))return[e.slice(r,i).replace(/\\/g,""),i]}return[e.slice(r).replace(/\\/g,""),e.length]}function Bj(e,r=0){const s=[];let i=r,o=!1;for(;i<e.length;){const c=e[i];if(c===","){(o||i===r)&&s.push(""),o=!0,i++;continue}if(o=!1,c==="\\"){i+=2;continue}if(c==='"'){const[p,g]=ey(e,i+1,!0);s.push(p),i=g;continue}if(c==="}")return[s,i+1];if(c==="{"){const[p,g]=Bj(e,i+1);s.push(p),i=g;continue}const[u,f]=ey(e,i,!1);s.push(u),i=f}return[s,i]}function XE(e){const[r]=Bj(e,1);return r}function $j(e){return`{${e.map(r=>Array.isArray(r)?$j(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}class ut extends QE{foreignKeyConfigs=[];static[le]="PgColumnBuilder";array(r){return new eA(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:i,actions:o})=>YE((c,u)=>{const f=new HE(()=>{const p=c();return{columns:[r],foreignColumns:[p]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},i,o))}buildExtraConfigColumn(r){return new JE(r,this.config)}}class et extends Do{constructor(r,s){s.uniqueName||(s.uniqueName=ZE(r,[s.name])),super(r,s),this.table=r}static[le]="PgColumn"}class JE extends et{static[le]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}class eA extends ut{static[le]="PgArrayBuilder";constructor(r,s,i){super(r,"array","PgArray"),this.config.baseBuilder=s,this.config.size=i}build(r){const s=this.config.baseBuilder.build(r);return new Rh(r,this.config,s)}}class Rh extends et{constructor(r,s,i,o){super(r,s),this.baseColumn=i,this.range=o,this.size=s.size}size;static[le]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=XE(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const i=r.map(o=>o===null?null:or(this.baseColumn,Rh)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?i:$j(i)}}const ty=Symbol.for("drizzle:isPgEnum");function tA(e){return!!e&&typeof e=="function"&&ty in e&&e[ty]===!0}class Vj{static[le]="Subquery";constructor(r,s,i,o=!1,c=[]){this._={brand:"Subquery",sql:r,selectedFields:s,alias:i,isWith:o,usedTables:c}}}const rA={startActiveSpan(e,r){return r()}},pi=Symbol.for("drizzle:ViewBaseConfig"),Zf=Symbol.for("drizzle:Schema"),ry=Symbol.for("drizzle:Columns"),ny=Symbol.for("drizzle:ExtraConfigColumns"),Xf=Symbol.for("drizzle:OriginalName"),Jf=Symbol.for("drizzle:BaseName"),qc=Symbol.for("drizzle:IsAlias"),sy=Symbol.for("drizzle:ExtraConfigBuilder"),zj=Symbol.for("drizzle:IsDrizzleTable");let lr=class{static[le]="Table";static Symbol={Name:hi,Schema:Zf,OriginalName:Xf,Columns:ry,ExtraConfigColumns:ny,BaseName:Jf,IsAlias:qc,ExtraConfigBuilder:sy};[hi];[Xf];[Zf];[ry];[ny];[Jf];[qc]=!1;[zj]=!0;[sy]=void 0;constructor(r,s,i){this[hi]=this[Xf]=r,this[Zf]=s,this[Jf]=i}};function Uj(e){return typeof e=="object"&&e!==null&&zj in e}function nA(e){return e!=null&&typeof e.getSQL=="function"}function sA(e){const r={sql:"",params:[]};for(const s of e)r.sql+=s.sql,r.params.push(...s.params),s.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...s.typings));return r}class bn{static[le]="StringChunk";value;constructor(r){this.value=Array.isArray(r)?r:[r]}getSQL(){return new Vt([this])}}class Vt{constructor(r){this.queryChunks=r;for(const s of r)if(or(s,lr)){const i=s[lr.Symbol.Schema];this.usedTables.push(i===void 0?s[lr.Symbol.Name]:i+"."+s[lr.Symbol.Name])}}static[le]="SQL";decoder=qj;shouldInlineParams=!1;usedTables=[];append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return rA.startActiveSpan("drizzle.buildSQL",s=>{const i=this.buildQueryFromSourceParams(this.queryChunks,r);return s?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(r,s){const i=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:o,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:p,paramStartIndex:g}=i;return sA(r.map(x=>{if(or(x,bn))return{sql:x.value.join(""),params:[]};if(or(x,Em))return{sql:c(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const y=[new bn("(")];for(const[w,C]of x.entries())y.push(C),w<x.length-1&&y.push(new bn(", "));return y.push(new bn(")")),this.buildQueryFromSourceParams(y,i)}if(or(x,Vt))return this.buildQueryFromSourceParams(x.queryChunks,{...i,inlineParams:p||x.shouldInlineParams});if(or(x,lr)){const y=x[lr.Symbol.Schema],w=x[lr.Symbol.Name];return{sql:y===void 0||x[qc]?c(w):c(y)+"."+c(w),params:[]}}if(or(x,Do)){const y=o.getColumnCasing(x);if(s.invokeSource==="indexes")return{sql:c(y),params:[]};const w=x.table[lr.Symbol.Schema];return{sql:x.table[qc]||w===void 0?c(x.table[lr.Symbol.Name])+"."+c(y):c(w)+"."+c(x.table[lr.Symbol.Name])+"."+c(y),params:[]}}if(or(x,aA)){const y=x[pi].schema,w=x[pi].name;return{sql:y===void 0||x[pi].isAlias?c(w):c(y)+"."+c(w),params:[]}}if(or(x,Kj)){if(or(x.value,Am))return{sql:u(g.value++,x),params:[x],typings:["none"]};const y=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(or(y,Vt))return this.buildQueryFromSourceParams([y],i);if(p)return{sql:this.mapInlineParam(y,i),params:[]};let w=["none"];return f&&(w=[f(x.encoder)]),{sql:u(g.value++,y),params:[y],typings:w}}return or(x,Am)?{sql:u(g.value++,x),params:[x],typings:["none"]}:or(x,Vt.Aliased)&&x.fieldAlias!==void 0?{sql:c(x.fieldAlias),params:[]}:or(x,Vj)?x._.isWith?{sql:c(x._.alias),params:[]}:this.buildQueryFromSourceParams([new bn("("),x._.sql,new bn(") "),new Em(x._.alias)],i):tA(x)?x.schema?{sql:c(x.schema)+"."+c(x.enumName),params:[]}:{sql:c(x.enumName),params:[]}:nA(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],i):this.buildQueryFromSourceParams([new bn("("),x.getSQL(),new bn(")")],i):p?{sql:this.mapInlineParam(x,i),params:[]}:{sql:u(g.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(r,{escapeString:s}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return s(r);if(typeof r=="object"){const i=r.toString();return s(i==="[object Object]"?JSON.stringify(r):i)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Vt.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}}class Em{constructor(r){this.value=r}static[le]="Name";brand;getSQL(){return new Vt([this])}}const qj={mapFromDriverValue:e=>e},Wj={mapToDriverValue:e=>e};({...qj,...Wj});class Kj{constructor(r,s=Wj){this.value=r,this.encoder=s}static[le]="Param";brand;getSQL(){return new Vt([this])}}function pt(e,...r){const s=[];(r.length>0||e.length>0&&e[0]!=="")&&s.push(new bn(e[0]));for(const[i,o]of r.entries())s.push(o,new bn(e[i+1]));return new Vt(s)}(e=>{function r(){return new Vt([])}e.empty=r;function s(p){return new Vt(p)}e.fromList=s;function i(p){return new Vt([new bn(p)])}e.raw=i;function o(p,g){const x=[];for(const[y,w]of p.entries())y>0&&g!==void 0&&x.push(g),x.push(w);return new Vt(x)}e.join=o;function c(p){return new Em(p)}e.identifier=c;function u(p){return new Am(p)}e.placeholder=u;function f(p,g){return new Kj(p,g)}e.param=f})(pt||(pt={}));(e=>{class r{constructor(i,o){this.sql=i,this.fieldAlias=o}static[le]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}}e.Aliased=r})(Vt||(Vt={}));class Am{constructor(r){this.name=r}static[le]="Placeholder";getSQL(){return new Vt([this])}}const Qj=Symbol.for("drizzle:IsDrizzleView");class aA{static[le]="View";[pi];[Qj]=!0;constructor({name:r,schema:s,selectedFields:i,query:o}){this[pi]={name:r,originalName:r,schema:s,selectedFields:i,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Vt([this])}}function iA(e){return typeof e=="object"&&e!==null&&Qj in e}Do.prototype.getSQL=function(){return new Vt([this])};lr.prototype.getSQL=function(){return new Vt([this])};Vj.prototype.getSQL=function(){return new Vt([this])};function oA(e){return e[lr.Symbol.Columns]}function lA(e){return e[pi].selectedFields}function cr(e,r){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:r}}typeof TextDecoder>"u"||new TextDecoder;class Pd extends ut{static[le]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(r){if(r){const{name:s,...i}=r;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:s,...i}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class cA extends Pd{static[le]="PgBigInt53Builder";constructor(r){super(r,"number","PgBigInt53")}build(r){return new dA(r,this.config)}}class dA extends et{static[le]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class uA extends Pd{static[le]="PgBigInt64Builder";constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new fA(r,this.config)}}class fA extends et{static[le]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}function mA(e,r){const{name:s,config:i}=cr(e,r);return i.mode==="number"?new cA(s):new uA(s)}class hA extends ut{static[le]="PgBigSerial53Builder";constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new pA(r,this.config)}}class pA extends et{static[le]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class gA extends ut{static[le]="PgBigSerial64Builder";constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new xA(r,this.config)}}class xA extends et{static[le]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}function vA(e,r){const{name:s,config:i}=cr(e,r);return i.mode==="number"?new hA(s):new gA(s)}class yA extends ut{static[le]="PgBooleanBuilder";constructor(r){super(r,"boolean","PgBoolean")}build(r){return new bA(r,this.config)}}class bA extends et{static[le]="PgBoolean";getSQLType(){return"boolean"}}function fr(e){return new yA(e??"")}class jA extends ut{static[le]="PgCharBuilder";constructor(r,s){super(r,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new wA(r,this.config)}}class wA extends et{static[le]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function NA(e,r={}){const{name:s,config:i}=cr(e,r);return new jA(s,i)}class SA extends ut{static[le]="PgCidrBuilder";constructor(r){super(r,"string","PgCidr")}build(r){return new CA(r,this.config)}}class CA extends et{static[le]="PgCidr";getSQLType(){return"cidr"}}function kA(e){return new SA(e??"")}class PA extends ut{static[le]="PgCustomColumnBuilder";constructor(r,s,i){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=i}build(r){return new _A(r,this.config)}}class _A extends et{static[le]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(r,s){super(r,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}function TA(e){return(r,s)=>{const{name:i,config:o}=cr(r,s);return new PA(i,o,e)}}class sl extends ut{static[le]="PgDateColumnBaseBuilder";defaultNow(){return this.default(pt`now()`)}}class EA extends sl{static[le]="PgDateBuilder";constructor(r){super(r,"date","PgDate")}build(r){return new AA(r,this.config)}}class AA extends et{static[le]="PgDate";getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}class RA extends sl{static[le]="PgDateStringBuilder";constructor(r){super(r,"string","PgDateString")}build(r){return new IA(r,this.config)}}class IA extends et{static[le]="PgDateString";getSQLType(){return"date"}}function OA(e,r){const{name:s,config:i}=cr(e,r);return i?.mode==="date"?new EA(s):new RA(s)}class DA extends ut{static[le]="PgDoublePrecisionBuilder";constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new MA(r,this.config)}}class MA extends et{static[le]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}function FA(e){return new DA(e??"")}class LA extends ut{static[le]="PgInetBuilder";constructor(r){super(r,"string","PgInet")}build(r){return new BA(r,this.config)}}class BA extends et{static[le]="PgInet";getSQLType(){return"inet"}}function $A(e){return new LA(e??"")}class VA extends Pd{static[le]="PgIntegerBuilder";constructor(r){super(r,"number","PgInteger")}build(r){return new zA(r,this.config)}}class zA extends et{static[le]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}function cn(e){return new VA(e??"")}class UA extends ut{static[le]="PgIntervalBuilder";constructor(r,s){super(r,"string","PgInterval"),this.config.intervalConfig=s}build(r){return new qA(r,this.config)}}class qA extends et{static[le]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}function WA(e,r={}){const{name:s,config:i}=cr(e,r);return new UA(s,i)}class KA extends ut{static[le]="PgJsonBuilder";constructor(r){super(r,"json","PgJson")}build(r){return new QA(r,this.config)}}class QA extends et{static[le]="PgJson";constructor(r,s){super(r,s)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function HA(e){return new KA(e??"")}class GA extends ut{static[le]="PgJsonbBuilder";constructor(r){super(r,"json","PgJsonb")}build(r){return new YA(r,this.config)}}class YA extends et{static[le]="PgJsonb";constructor(r,s){super(r,s)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function ji(e){return new GA(e??"")}class ZA extends ut{static[le]="PgLineBuilder";constructor(r){super(r,"array","PgLine")}build(r){return new XA(r,this.config)}}class XA extends et{static[le]="PgLine";getSQLType(){return"line"}mapFromDriverValue(r){const[s,i,o]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i),Number.parseFloat(o)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}class JA extends ut{static[le]="PgLineABCBuilder";constructor(r){super(r,"json","PgLineABC")}build(r){return new eR(r,this.config)}}class eR extends et{static[le]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(r){const[s,i,o]=r.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(i),c:Number.parseFloat(o)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}function tR(e,r){const{name:s,config:i}=cr(e,r);return!i?.mode||i.mode==="tuple"?new ZA(s):new JA(s)}class rR extends ut{static[le]="PgMacaddrBuilder";constructor(r){super(r,"string","PgMacaddr")}build(r){return new nR(r,this.config)}}class nR extends et{static[le]="PgMacaddr";getSQLType(){return"macaddr"}}function sR(e){return new rR(e??"")}class aR extends ut{static[le]="PgMacaddr8Builder";constructor(r){super(r,"string","PgMacaddr8")}build(r){return new iR(r,this.config)}}class iR extends et{static[le]="PgMacaddr8";getSQLType(){return"macaddr8"}}function oR(e){return new aR(e??"")}class lR extends ut{static[le]="PgNumericBuilder";constructor(r,s,i){super(r,"string","PgNumeric"),this.config.precision=s,this.config.scale=i}build(r){return new cR(r,this.config)}}class cR extends et{static[le]="PgNumeric";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class dR extends ut{static[le]="PgNumericNumberBuilder";constructor(r,s,i){super(r,"number","PgNumericNumber"),this.config.precision=s,this.config.scale=i}build(r){return new uR(r,this.config)}}class uR extends et{static[le]="PgNumericNumber";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class fR extends ut{static[le]="PgNumericBigIntBuilder";constructor(r,s,i){super(r,"bigint","PgNumericBigInt"),this.config.precision=s,this.config.scale=i}build(r){return new mR(r,this.config)}}class mR extends et{static[le]="PgNumericBigInt";precision;scale;constructor(r,s){super(r,s),this.precision=s.precision,this.scale=s.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function hR(e,r){const{name:s,config:i}=cr(e,r),o=i?.mode;return o==="number"?new dR(s,i?.precision,i?.scale):o==="bigint"?new fR(s,i?.precision,i?.scale):new lR(s,i?.precision,i?.scale)}class pR extends ut{static[le]="PgPointTupleBuilder";constructor(r){super(r,"array","PgPointTuple")}build(r){return new gR(r,this.config)}}class gR extends et{static[le]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,i]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}class xR extends ut{static[le]="PgPointObjectBuilder";constructor(r){super(r,"json","PgPointObject")}build(r){return new vR(r,this.config)}}class vR extends et{static[le]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,i]=r.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(i)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}function yR(e,r){const{name:s,config:i}=cr(e,r);return!i?.mode||i.mode==="tuple"?new pR(s):new xR(s)}function bR(e){const r=[];for(let s=0;s<e.length;s+=2)r.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(r)}function ay(e,r){const s=new ArrayBuffer(8),i=new DataView(s);for(let o=0;o<8;o++)i.setUint8(o,e[r+o]);return i.getFloat64(0,!0)}function Hj(e){const r=bR(e);let s=0;const i=r[s];s+=1;const o=new DataView(r.buffer),c=o.getUint32(s,i===1);if(s+=4,c&536870912&&(o.getUint32(s,i===1),s+=4),(c&65535)===1){const u=ay(r,s);s+=8;const f=ay(r,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class jR extends ut{static[le]="PgGeometryBuilder";constructor(r){super(r,"array","PgGeometry")}build(r){return new wR(r,this.config)}}class wR extends et{static[le]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return Hj(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}class NR extends ut{static[le]="PgGeometryObjectBuilder";constructor(r){super(r,"json","PgGeometryObject")}build(r){return new SR(r,this.config)}}class SR extends et{static[le]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const s=Hj(r);return{x:s[0],y:s[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}function CR(e,r){const{name:s,config:i}=cr(e,r);return!i?.mode||i.mode==="tuple"?new jR(s):new NR(s)}class kR extends ut{static[le]="PgRealBuilder";constructor(r,s){super(r,"number","PgReal"),this.config.length=s}build(r){return new PR(r,this.config)}}class PR extends et{static[le]="PgReal";constructor(r,s){super(r,s)}getSQLType(){return"real"}mapFromDriverValue=r=>typeof r=="string"?Number.parseFloat(r):r}function _R(e){return new kR(e??"")}class TR extends ut{static[le]="PgSerialBuilder";constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new ER(r,this.config)}}class ER extends et{static[le]="PgSerial";getSQLType(){return"serial"}}function AR(e){return new TR(e??"")}class RR extends Pd{static[le]="PgSmallIntBuilder";constructor(r){super(r,"number","PgSmallInt")}build(r){return new IR(r,this.config)}}class IR extends et{static[le]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=r=>typeof r=="string"?Number(r):r}function OR(e){return new RR(e??"")}class DR extends ut{static[le]="PgSmallSerialBuilder";constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new MR(r,this.config)}}class MR extends et{static[le]="PgSmallSerial";getSQLType(){return"smallserial"}}function FR(e){return new DR(e??"")}class LR extends ut{static[le]="PgTextBuilder";constructor(r,s){super(r,"string","PgText"),this.config.enumValues=s.enum}build(r){return new BR(r,this.config)}}class BR extends et{static[le]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Ae(e,r={}){const{name:s,config:i}=cr(e,r);return new LR(s,i)}class $R extends sl{constructor(r,s,i){super(r,"string","PgTime"),this.withTimezone=s,this.precision=i,this.config.withTimezone=s,this.config.precision=i}static[le]="PgTimeBuilder";build(r){return new VR(r,this.config)}}class VR extends et{static[le]="PgTime";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function zR(e,r={}){const{name:s,config:i}=cr(e,r);return new $R(s,i.withTimezone??!1,i.precision)}class UR extends sl{static[le]="PgTimestampBuilder";constructor(r,s,i){super(r,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=i}build(r){return new qR(r,this.config)}}class qR extends et{static[le]="PgTimestamp";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=r=>new Date(this.withTimezone?r:r+"+0000");mapToDriverValue=r=>r.toISOString()}class WR extends sl{static[le]="PgTimestampStringBuilder";constructor(r,s,i){super(r,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=i}build(r){return new KR(r,this.config)}}class KR extends et{static[le]="PgTimestampString";withTimezone;precision;constructor(r,s){super(r,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function bt(e,r={}){const{name:s,config:i}=cr(e,r);return i?.mode==="string"?new WR(s,i.withTimezone??!1,i.precision):new UR(s,i?.withTimezone??!1,i?.precision)}class QR extends ut{static[le]="PgUUIDBuilder";constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(pt`gen_random_uuid()`)}build(r){return new HR(r,this.config)}}class HR extends et{static[le]="PgUUID";getSQLType(){return"uuid"}}function GR(e){return new QR(e??"")}class YR extends ut{static[le]="PgVarcharBuilder";constructor(r,s){super(r,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new ZR(r,this.config)}}class ZR extends et{static[le]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function hr(e,r={}){const{name:s,config:i}=cr(e,r);return new YR(s,i)}class XR extends ut{static[le]="PgBinaryVectorBuilder";constructor(r,s){super(r,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(r){return new JR(r,this.config)}}class JR extends et{static[le]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function eI(e,r){const{name:s,config:i}=cr(e,r);return new XR(s,i)}class tI extends ut{static[le]="PgHalfVectorBuilder";constructor(r,s){super(r,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(r){return new rI(r,this.config)}}class rI extends et{static[le]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function nI(e,r){const{name:s,config:i}=cr(e,r);return new tI(s,i)}class sI extends ut{static[le]="PgSparseVectorBuilder";constructor(r,s){super(r,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(r){return new aI(r,this.config)}}class aI extends et{static[le]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function iI(e,r){const{name:s,config:i}=cr(e,r);return new sI(s,i)}class oI extends ut{static[le]="PgVectorBuilder";constructor(r,s){super(r,"array","PgVector"),this.config.dimensions=s.dimensions}build(r){return new lI(r,this.config)}}class lI extends et{static[le]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function cI(e,r){const{name:s,config:i}=cr(e,r);return new oI(s,i)}function dI(){return{bigint:mA,bigserial:vA,boolean:fr,char:NA,cidr:kA,customType:TA,date:OA,doublePrecision:FA,inet:$A,integer:cn,interval:WA,json:HA,jsonb:ji,line:tR,macaddr:sR,macaddr8:oR,numeric:hR,point:yR,geometry:CR,real:_R,serial:AR,smallint:OR,smallserial:FR,text:Ae,time:zR,timestamp:bt,uuid:GR,varchar:hr,bit:eI,halfvec:nI,sparsevec:iI,vector:cI}}const Rm=Symbol.for("drizzle:PgInlineForeignKeys"),iy=Symbol.for("drizzle:EnableRLS");class oy extends lr{static[le]="PgTable";static Symbol=Object.assign({},lr.Symbol,{InlineForeignKeys:Rm,EnableRLS:iy});[Rm]=[];[iy]=!1;[lr.Symbol.ExtraConfigBuilder]=void 0;[lr.Symbol.ExtraConfigColumns]={}}function uI(e,r,s,i,o=e){const c=new oy(e,i,o),u=typeof r=="function"?r(dI()):r,f=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const C=w.build(c);return c[Rm].push(...w.buildForeignKeys(C,c)),[x,C]})),p=Object.fromEntries(Object.entries(u).map(([x,y])=>{const w=y;w.setName(x);const C=w.buildExtraConfigColumn(c);return[x,C]})),g=Object.assign(c,f);return g[lr.Symbol.Columns]=f,g[lr.Symbol.ExtraConfigColumns]=p,Object.assign(g,{enableRLS:()=>(g[oy.Symbol.EnableRLS]=!0,g)})}const En=(e,r,s)=>uI(e,r,s,void 0);var ft;(function(e){e.assertEqual=o=>{};function r(o){}e.assertIs=r;function s(o){throw new Error}e.assertNever=s,e.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of c)u[f]=o[f];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},e.find=(o,c)=>{for(const u of o)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=i,e.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(ft||(ft={}));var Im;(function(e){e.mergeShapes=(r,s)=>({...r,...s})})(Im||(Im={}));const Te=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),os=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},ve=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Yr extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=r}format(r){const s=r||function(c){return c.message},i={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(s(u));else{let f=i,p=0;for(;p<u.path.length;){const g=u.path[p];p===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(s(u))):f[g]=f[g]||{_errors:[]},f=f[g],p++}}};return o(this),i}static assert(r){if(!(r instanceof Yr))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=s=>s.message){const s={},i=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];s[c]=s[c]||[],s[c].push(r(o))}else i.push(r(o));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}Yr.create=e=>new Yr(e);const wi=(e,r)=>{let s;switch(e.code){case ve.invalid_type:e.received===Te.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ft.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:s=`Unrecognized key(s) in object: ${ft.joinValues(e.keys,", ")}`;break;case ve.invalid_union:s="Invalid input";break;case ve.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ft.joinValues(e.options)}`;break;case ve.invalid_enum_value:s=`Invalid enum value. Expected ${ft.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:s="Invalid function arguments";break;case ve.invalid_return_type:s="Invalid function return type";break;case ve.invalid_date:s="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ft.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case ve.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case ve.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case ve.custom:s="Invalid input";break;case ve.invalid_intersection_types:s="Intersection results could not be merged";break;case ve.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:s="Number must be finite";break;default:s=r.defaultError,ft.assertNever(e)}return{message:s}};let Gj=wi;function mI(e){Gj=e}function Wc(){return Gj}const Kc=e=>{const{data:r,path:s,errorMaps:i,issueData:o}=e,c=[...s,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let f="";const p=i.filter(g=>!!g).slice().reverse();for(const g of p)f=g(u,{data:r,defaultError:f}).message;return{...o,path:c,message:f}},hI=[];function Ce(e,r){const s=Wc(),i=Kc({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===wi?void 0:wi].filter(o=>!!o)});e.common.issues.push(i)}class br{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,s){const i=[];for(const o of s){if(o.status==="aborted")return Qe;o.status==="dirty"&&r.dirty(),i.push(o.value)}return{status:r.value,value:i}}static async mergeObjectAsync(r,s){const i=[];for(const o of s){const c=await o.key,u=await o.value;i.push({key:c,value:u})}return br.mergeObjectSync(r,i)}static mergeObjectSync(r,s){const i={};for(const o of s){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return Qe;c.status==="dirty"&&r.dirty(),u.status==="dirty"&&r.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[c.value]=u.value)}return{status:r.value,value:i}}}const Qe=Object.freeze({status:"aborted"}),ii=e=>({status:"dirty",value:e}),Tr=e=>({status:"valid",value:e}),Om=e=>e.status==="aborted",Dm=e=>e.status==="dirty",Sa=e=>e.status==="valid",Mo=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r?.message})(Be||(Be={}));class Kn{constructor(r,s,i,o){this._cachedPath=[],this.parent=r,this.data=s,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ly=(e,r)=>{if(Sa(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Yr(e.common.issues);return this._error=s,this._error}}};function nt(e){if(!e)return{};const{errorMap:r,invalid_type_error:s,required_error:i,description:o}=e;if(r&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:o}:{errorMap:(u,f)=>{const{message:p}=e;return u.code==="invalid_enum_value"?{message:p??f.defaultError}:typeof f.data>"u"?{message:p??i??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:p??s??f.defaultError}},description:o}}class it{get description(){return this._def.description}_getType(r){return os(r.data)}_getOrReturnCtx(r,s){return s||{common:r.parent.common,data:r.data,parsedType:os(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new br,ctx:{common:r.parent.common,data:r.data,parsedType:os(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const s=this._parse(r);if(Mo(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(r){const s=this._parse(r);return Promise.resolve(s)}parse(r,s){const i=this.safeParse(r,s);if(i.success)return i.data;throw i.error}safeParse(r,s){const i={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:os(r)},o=this._parseSync({data:r,path:i.path,parent:i});return ly(i,o)}"~validate"(r){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:os(r)};if(!this["~standard"].async)try{const i=this._parseSync({data:r,path:[],parent:s});return Sa(i)?{value:i.value}:{issues:s.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:s}).then(i=>Sa(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(r,s){const i=await this.safeParseAsync(r,s);if(i.success)return i.data;throw i.error}async safeParseAsync(r,s){const i={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:os(r)},o=this._parse({data:r,path:i.path,parent:i}),c=await(Mo(o)?o:Promise.resolve(o));return ly(i,c)}refine(r,s){const i=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,c)=>{const u=r(o),f=()=>c.addIssue({code:ve.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(p=>p?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(r,s){return this._refinement((i,o)=>r(i)?!0:(o.addIssue(typeof s=="function"?s(i,o):s),!1))}_refinement(r){return new Pn({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Un.create(this,this._def)}nullable(){return Qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return Si.create(this,this._def)}or(r){return $o.create([this,r],this._def)}and(r){return Vo.create(this,r,this._def)}transform(r){return new Pn({...nt(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const s=typeof r=="function"?r:()=>r;return new Ko({...nt(this._def),innerType:this,defaultValue:s,typeName:He.ZodDefault})}brand(){return new Ih({typeName:He.ZodBranded,type:this,...nt(this._def)})}catch(r){const s=typeof r=="function"?r:()=>r;return new Qo({...nt(this._def),innerType:this,catchValue:s,typeName:He.ZodCatch})}describe(r){const s=this.constructor;return new s({...this._def,description:r})}pipe(r){return al.create(this,r)}readonly(){return Ho.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pI=/^c[^\s-]{8,}$/i,gI=/^[0-9a-z]+$/,xI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yI=/^[a-z0-9_-]{21}$/i,bI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let em;const SI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,PI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_I=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EI=new RegExp(`^${Yj}$`);function Zj(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${s}`}function AI(e){return new RegExp(`^${Zj(e)}$`)}function Xj(e){let r=`${Yj}T${Zj(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${s.join("|")})`,new RegExp(`^${r}$`)}function RI(e,r){return!!((r==="v4"||!r)&&SI.test(e)||(r==="v6"||!r)&&kI.test(e))}function II(e,r){if(!bI.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||r&&o.alg!==r)}catch{return!1}}function OI(e,r){return!!((r==="v4"||!r)&&CI.test(e)||(r==="v6"||!r)&&PI.test(e))}class Nn extends it{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Te.string){const c=this._getOrReturnCtx(r);return Ce(c,{code:ve.invalid_type,expected:Te.string,received:c.parsedType}),Qe}const i=new br;let o;for(const c of this._def.checks)if(c.kind==="min")r.data.length<c.value&&(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")r.data.length>c.value&&(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const u=r.data.length>c.value,f=r.data.length<c.value;(u||f)&&(o=this._getOrReturnCtx(r,o),u?Ce(o,{code:ve.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&Ce(o,{code:ve.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")wI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"email",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")em||(em=new RegExp(NI,"u")),em.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"emoji",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")vI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"uuid",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")yI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"nanoid",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")pI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"cuid",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")gI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"cuid2",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")xI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"ulid",code:ve.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Ce(o,{validation:"url",code:ve.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"regex",code:ve.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?r.data=r.data.trim():c.kind==="includes"?r.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?r.data=r.data.toLowerCase():c.kind==="toUpperCase"?r.data=r.data.toUpperCase():c.kind==="startsWith"?r.data.startsWith(c.value)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?r.data.endsWith(c.value)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?Xj(c).test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?EI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?AI(c).test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?jI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"duration",code:ve.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?RI(r.data,c.version)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"ip",code:ve.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?II(r.data,c.alg)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"jwt",code:ve.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?OI(r.data,c.version)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"cidr",code:ve.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?_I.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"base64",code:ve.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?TI.test(r.data)||(o=this._getOrReturnCtx(r,o),Ce(o,{validation:"base64url",code:ve.invalid_string,message:c.message}),i.dirty()):ft.assertNever(c);return{status:i.value,value:r.data}}_regex(r,s,i){return this.refinement(o=>r.test(o),{validation:s,code:ve.invalid_string,...Be.errToObj(i)})}_addCheck(r){return new Nn({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Be.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Be.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Be.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Be.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Be.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Be.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Be.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Be.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Be.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Be.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Be.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Be.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Be.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...Be.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Be.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Be.errToObj(r)})}regex(r,s){return this._addCheck({kind:"regex",regex:r,...Be.errToObj(s)})}includes(r,s){return this._addCheck({kind:"includes",value:r,position:s?.position,...Be.errToObj(s?.message)})}startsWith(r,s){return this._addCheck({kind:"startsWith",value:r,...Be.errToObj(s)})}endsWith(r,s){return this._addCheck({kind:"endsWith",value:r,...Be.errToObj(s)})}min(r,s){return this._addCheck({kind:"min",value:r,...Be.errToObj(s)})}max(r,s){return this._addCheck({kind:"max",value:r,...Be.errToObj(s)})}length(r,s){return this._addCheck({kind:"length",value:r,...Be.errToObj(s)})}nonempty(r){return this.min(1,Be.errToObj(r))}trim(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxLength(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}Nn.create=e=>new Nn({checks:[],typeName:He.ZodString,coerce:e?.coerce??!1,...nt(e)});function DI(e,r){const s=(e.toString().split(".")[1]||"").length,i=(r.toString().split(".")[1]||"").length,o=s>i?s:i,c=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(r.toFixed(o).replace(".",""));return c%u/10**o}class qs extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Te.number){const c=this._getOrReturnCtx(r);return Ce(c,{code:ve.invalid_type,expected:Te.number,received:c.parsedType}),Qe}let i;const o=new br;for(const c of this._def.checks)c.kind==="int"?ft.isInteger(r.data)||(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?r.data<c.value:r.data<=c.value)&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?r.data>c.value:r.data>=c.value)&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?DI(r.data,c.value)!==0&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(r.data)||(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.not_finite,message:c.message}),o.dirty()):ft.assertNever(c);return{status:o.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,Be.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Be.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Be.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Be.toString(s))}setLimit(r,s,i,o){return new qs({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:i,message:Be.toString(o)}]})}_addCheck(r){return new qs({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Be.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Be.toString(s)})}finite(r){return this._addCheck({kind:"finite",message:Be.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(r)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ft.isInteger(r.value))}get isFinite(){let r=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(r===null||i.value<r)&&(r=i.value)}return Number.isFinite(s)&&Number.isFinite(r)}}qs.create=e=>new qs({checks:[],typeName:He.ZodNumber,coerce:e?.coerce||!1,...nt(e)});class Ws extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Te.bigint)return this._getInvalidInput(r);let i;const o=new br;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?r.data<c.value:r.data<=c.value)&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?r.data>c.value:r.data>=c.value)&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?r.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(r,i),Ce(i,{code:ve.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):ft.assertNever(c);return{status:o.value,value:r.data}}_getInvalidInput(r){const s=this._getOrReturnCtx(r);return Ce(s,{code:ve.invalid_type,expected:Te.bigint,received:s.parsedType}),Qe}gte(r,s){return this.setLimit("min",r,!0,Be.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Be.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Be.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Be.toString(s))}setLimit(r,s,i,o){return new Ws({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:i,message:Be.toString(o)}]})}_addCheck(r){return new Ws({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Be.toString(s)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}Ws.create=e=>new Ws({checks:[],typeName:He.ZodBigInt,coerce:e?.coerce??!1,...nt(e)});class Fo extends it{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Te.boolean){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.boolean,received:i.parsedType}),Qe}return Tr(r.data)}}Fo.create=e=>new Fo({typeName:He.ZodBoolean,coerce:e?.coerce||!1,...nt(e)});class Ca extends it{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Te.date){const c=this._getOrReturnCtx(r);return Ce(c,{code:ve.invalid_type,expected:Te.date,received:c.parsedType}),Qe}if(Number.isNaN(r.data.getTime())){const c=this._getOrReturnCtx(r);return Ce(c,{code:ve.invalid_date}),Qe}const i=new br;let o;for(const c of this._def.checks)c.kind==="min"?r.data.getTime()<c.value&&(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?r.data.getTime()>c.value&&(o=this._getOrReturnCtx(r,o),Ce(o,{code:ve.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):ft.assertNever(c);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Ca({...this._def,checks:[...this._def.checks,r]})}min(r,s){return this._addCheck({kind:"min",value:r.getTime(),message:Be.toString(s)})}max(r,s){return this._addCheck({kind:"max",value:r.getTime(),message:Be.toString(s)})}get minDate(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r!=null?new Date(r):null}}Ca.create=e=>new Ca({checks:[],coerce:e?.coerce||!1,typeName:He.ZodDate,...nt(e)});class Qc extends it{_parse(r){if(this._getType(r)!==Te.symbol){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.symbol,received:i.parsedType}),Qe}return Tr(r.data)}}Qc.create=e=>new Qc({typeName:He.ZodSymbol,...nt(e)});class Lo extends it{_parse(r){if(this._getType(r)!==Te.undefined){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.undefined,received:i.parsedType}),Qe}return Tr(r.data)}}Lo.create=e=>new Lo({typeName:He.ZodUndefined,...nt(e)});class Bo extends it{_parse(r){if(this._getType(r)!==Te.null){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.null,received:i.parsedType}),Qe}return Tr(r.data)}}Bo.create=e=>new Bo({typeName:He.ZodNull,...nt(e)});class Ni extends it{constructor(){super(...arguments),this._any=!0}_parse(r){return Tr(r.data)}}Ni.create=e=>new Ni({typeName:He.ZodAny,...nt(e)});class ha extends it{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Tr(r.data)}}ha.create=e=>new ha({typeName:He.ZodUnknown,...nt(e)});class us extends it{_parse(r){const s=this._getOrReturnCtx(r);return Ce(s,{code:ve.invalid_type,expected:Te.never,received:s.parsedType}),Qe}}us.create=e=>new us({typeName:He.ZodNever,...nt(e)});class Hc extends it{_parse(r){if(this._getType(r)!==Te.undefined){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.void,received:i.parsedType}),Qe}return Tr(r.data)}}Hc.create=e=>new Hc({typeName:He.ZodVoid,...nt(e)});class Sn extends it{_parse(r){const{ctx:s,status:i}=this._processInputParams(r),o=this._def;if(s.parsedType!==Te.array)return Ce(s,{code:ve.invalid_type,expected:Te.array,received:s.parsedType}),Qe;if(o.exactLength!==null){const u=s.data.length>o.exactLength.value,f=s.data.length<o.exactLength.value;(u||f)&&(Ce(s,{code:u?ve.too_big:ve.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(Ce(s,{code:ve.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(Ce(s,{code:ve.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>o.type._parseAsync(new Kn(s,u,s.path,f)))).then(u=>br.mergeArray(i,u));const c=[...s.data].map((u,f)=>o.type._parseSync(new Kn(s,u,s.path,f)));return br.mergeArray(i,c)}get element(){return this._def.type}min(r,s){return new Sn({...this._def,minLength:{value:r,message:Be.toString(s)}})}max(r,s){return new Sn({...this._def,maxLength:{value:r,message:Be.toString(s)}})}length(r,s){return new Sn({...this._def,exactLength:{value:r,message:Be.toString(s)}})}nonempty(r){return this.min(1,r)}}Sn.create=(e,r)=>new Sn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...nt(r)});function ni(e){if(e instanceof Lt){const r={};for(const s in e.shape){const i=e.shape[s];r[s]=Un.create(ni(i))}return new Lt({...e._def,shape:()=>r})}else return e instanceof Sn?new Sn({...e._def,type:ni(e.element)}):e instanceof Un?Un.create(ni(e.unwrap())):e instanceof Qs?Qs.create(ni(e.unwrap())):e instanceof Qn?Qn.create(e.items.map(r=>ni(r))):e}class Lt extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),s=ft.objectKeys(r);return this._cached={shape:r,keys:s},this._cached}_parse(r){if(this._getType(r)!==Te.object){const g=this._getOrReturnCtx(r);return Ce(g,{code:ve.invalid_type,expected:Te.object,received:g.parsedType}),Qe}const{status:i,ctx:o}=this._processInputParams(r),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof us&&this._def.unknownKeys==="strip"))for(const g in o.data)u.includes(g)||f.push(g);const p=[];for(const g of u){const x=c[g],y=o.data[g];p.push({key:{status:"valid",value:g},value:x._parse(new Kn(o,y,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof us){const g=this._def.unknownKeys;if(g==="passthrough")for(const x of f)p.push({key:{status:"valid",value:x},value:{status:"valid",value:o.data[x]}});else if(g==="strict")f.length>0&&(Ce(o,{code:ve.unrecognized_keys,keys:f}),i.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const x of f){const y=o.data[x];p.push({key:{status:"valid",value:x},value:g._parse(new Kn(o,y,o.path,x)),alwaysSet:x in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const x of p){const y=await x.key,w=await x.value;g.push({key:y,value:w,alwaysSet:x.alwaysSet})}return g}).then(g=>br.mergeObjectSync(i,g)):br.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(r){return Be.errToObj,new Lt({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(s,i)=>{const o=this._def.errorMap?.(s,i).message??i.defaultError;return s.code==="unrecognized_keys"?{message:Be.errToObj(r).message??o}:{message:o}}}:{}})}strip(){return new Lt({...this._def,unknownKeys:"strip"})}passthrough(){return new Lt({...this._def,unknownKeys:"passthrough"})}extend(r){return new Lt({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Lt({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:He.ZodObject})}setKey(r,s){return this.augment({[r]:s})}catchall(r){return new Lt({...this._def,catchall:r})}pick(r){const s={};for(const i of ft.objectKeys(r))r[i]&&this.shape[i]&&(s[i]=this.shape[i]);return new Lt({...this._def,shape:()=>s})}omit(r){const s={};for(const i of ft.objectKeys(this.shape))r[i]||(s[i]=this.shape[i]);return new Lt({...this._def,shape:()=>s})}deepPartial(){return ni(this)}partial(r){const s={};for(const i of ft.objectKeys(this.shape)){const o=this.shape[i];r&&!r[i]?s[i]=o:s[i]=o.optional()}return new Lt({...this._def,shape:()=>s})}required(r){const s={};for(const i of ft.objectKeys(this.shape))if(r&&!r[i])s[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof Un;)c=c._def.innerType;s[i]=c}return new Lt({...this._def,shape:()=>s})}keyof(){return Jj(ft.objectKeys(this.shape))}}Lt.create=(e,r)=>new Lt({shape:()=>e,unknownKeys:"strip",catchall:us.create(),typeName:He.ZodObject,...nt(r)});Lt.strictCreate=(e,r)=>new Lt({shape:()=>e,unknownKeys:"strict",catchall:us.create(),typeName:He.ZodObject,...nt(r)});Lt.lazycreate=(e,r)=>new Lt({shape:e,unknownKeys:"strip",catchall:us.create(),typeName:He.ZodObject,...nt(r)});class $o extends it{_parse(r){const{ctx:s}=this._processInputParams(r),i=this._def.options;function o(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new Yr(f.ctx.common.issues));return Ce(s,{code:ve.invalid_union,unionErrors:u}),Qe}if(s.common.async)return Promise.all(i.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const p of i){const g={...s,common:{...s.common,issues:[]},parent:null},x=p._parseSync({data:s.data,path:s.path,parent:g});if(x.status==="valid")return x;x.status==="dirty"&&!c&&(c={result:x,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(p=>new Yr(p));return Ce(s,{code:ve.invalid_union,unionErrors:f}),Qe}}get options(){return this._def.options}}$o.create=(e,r)=>new $o({options:e,typeName:He.ZodUnion,...nt(r)});const is=e=>e instanceof Uo?is(e.schema):e instanceof Pn?is(e.innerType()):e instanceof qo?[e.value]:e instanceof Ks?e.options:e instanceof Wo?ft.objectValues(e.enum):e instanceof Ko?is(e._def.innerType):e instanceof Lo?[void 0]:e instanceof Bo?[null]:e instanceof Un?[void 0,...is(e.unwrap())]:e instanceof Qs?[null,...is(e.unwrap())]:e instanceof Ih||e instanceof Ho?is(e.unwrap()):e instanceof Qo?is(e._def.innerType):[];class _d extends it{_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==Te.object)return Ce(s,{code:ve.invalid_type,expected:Te.object,received:s.parsedType}),Qe;const i=this.discriminator,o=s.data[i],c=this.optionsMap.get(o);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(Ce(s,{code:ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,s,i){const o=new Map;for(const c of s){const u=is(c.shape[r]);if(!u.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const f of u){if(o.has(f))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(f)}`);o.set(f,c)}}return new _d({typeName:He.ZodDiscriminatedUnion,discriminator:r,options:s,optionsMap:o,...nt(i)})}}function Mm(e,r){const s=os(e),i=os(r);if(e===r)return{valid:!0,data:e};if(s===Te.object&&i===Te.object){const o=ft.objectKeys(r),c=ft.objectKeys(e).filter(f=>o.indexOf(f)!==-1),u={...e,...r};for(const f of c){const p=Mm(e[f],r[f]);if(!p.valid)return{valid:!1};u[f]=p.data}return{valid:!0,data:u}}else if(s===Te.array&&i===Te.array){if(e.length!==r.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const u=e[c],f=r[c],p=Mm(u,f);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return s===Te.date&&i===Te.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class Vo extends it{_parse(r){const{status:s,ctx:i}=this._processInputParams(r),o=(c,u)=>{if(Om(c)||Om(u))return Qe;const f=Mm(c.value,u.value);return f.valid?((Dm(c)||Dm(u))&&s.dirty(),{status:s.value,value:f.data}):(Ce(i,{code:ve.invalid_intersection_types}),Qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Vo.create=(e,r,s)=>new Vo({left:e,right:r,typeName:He.ZodIntersection,...nt(s)});class Qn extends it{_parse(r){const{status:s,ctx:i}=this._processInputParams(r);if(i.parsedType!==Te.array)return Ce(i,{code:ve.invalid_type,expected:Te.array,received:i.parsedType}),Qe;if(i.data.length<this._def.items.length)return Ce(i,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&i.data.length>this._def.items.length&&(Ce(i,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...i.data].map((u,f)=>{const p=this._def.items[f]||this._def.rest;return p?p._parse(new Kn(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(c).then(u=>br.mergeArray(s,u)):br.mergeArray(s,c)}get items(){return this._def.items}rest(r){return new Qn({...this._def,rest:r})}}Qn.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qn({items:e,typeName:He.ZodTuple,rest:null,...nt(r)})};class zo extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:i}=this._processInputParams(r);if(i.parsedType!==Te.object)return Ce(i,{code:ve.invalid_type,expected:Te.object,received:i.parsedType}),Qe;const o=[],c=this._def.keyType,u=this._def.valueType;for(const f in i.data)o.push({key:c._parse(new Kn(i,f,i.path,f)),value:u._parse(new Kn(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?br.mergeObjectAsync(s,o):br.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(r,s,i){return s instanceof it?new zo({keyType:r,valueType:s,typeName:He.ZodRecord,...nt(i)}):new zo({keyType:Nn.create(),valueType:r,typeName:He.ZodRecord,...nt(s)})}}class Gc extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:i}=this._processInputParams(r);if(i.parsedType!==Te.map)return Ce(i,{code:ve.invalid_type,expected:Te.map,received:i.parsedType}),Qe;const o=this._def.keyType,c=this._def.valueType,u=[...i.data.entries()].map(([f,p],g)=>({key:o._parse(new Kn(i,f,i.path,[g,"key"])),value:c._parse(new Kn(i,p,i.path,[g,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const p of u){const g=await p.key,x=await p.value;if(g.status==="aborted"||x.status==="aborted")return Qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const p of u){const g=p.key,x=p.value;if(g.status==="aborted"||x.status==="aborted")return Qe;(g.status==="dirty"||x.status==="dirty")&&s.dirty(),f.set(g.value,x.value)}return{status:s.value,value:f}}}}Gc.create=(e,r,s)=>new Gc({valueType:r,keyType:e,typeName:He.ZodMap,...nt(s)});class ka extends it{_parse(r){const{status:s,ctx:i}=this._processInputParams(r);if(i.parsedType!==Te.set)return Ce(i,{code:ve.invalid_type,expected:Te.set,received:i.parsedType}),Qe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(Ce(i,{code:ve.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(Ce(i,{code:ve.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());const c=this._def.valueType;function u(p){const g=new Set;for(const x of p){if(x.status==="aborted")return Qe;x.status==="dirty"&&s.dirty(),g.add(x.value)}return{status:s.value,value:g}}const f=[...i.data.values()].map((p,g)=>c._parse(new Kn(i,p,i.path,g)));return i.common.async?Promise.all(f).then(p=>u(p)):u(f)}min(r,s){return new ka({...this._def,minSize:{value:r,message:Be.toString(s)}})}max(r,s){return new ka({...this._def,maxSize:{value:r,message:Be.toString(s)}})}size(r,s){return this.min(r,s).max(r,s)}nonempty(r){return this.min(1,r)}}ka.create=(e,r)=>new ka({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...nt(r)});class gi extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==Te.function)return Ce(s,{code:ve.invalid_type,expected:Te.function,received:s.parsedType}),Qe;function i(f,p){return Kc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Wc(),wi].filter(g=>!!g),issueData:{code:ve.invalid_arguments,argumentsError:p}})}function o(f,p){return Kc({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Wc(),wi].filter(g=>!!g),issueData:{code:ve.invalid_return_type,returnTypeError:p}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof Si){const f=this;return Tr(async function(...p){const g=new Yr([]),x=await f._def.args.parseAsync(p,c).catch(C=>{throw g.addIssue(i(p,C)),g}),y=await Reflect.apply(u,this,x);return await f._def.returns._def.type.parseAsync(y,c).catch(C=>{throw g.addIssue(o(y,C)),g})})}else{const f=this;return Tr(function(...p){const g=f._def.args.safeParse(p,c);if(!g.success)throw new Yr([i(p,g.error)]);const x=Reflect.apply(u,this,g.data),y=f._def.returns.safeParse(x,c);if(!y.success)throw new Yr([o(x,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new gi({...this._def,args:Qn.create(r).rest(ha.create())})}returns(r){return new gi({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,s,i){return new gi({args:r||Qn.create([]).rest(ha.create()),returns:s||ha.create(),typeName:He.ZodFunction,...nt(i)})}}class Uo extends it{get schema(){return this._def.getter()}_parse(r){const{ctx:s}=this._processInputParams(r);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Uo.create=(e,r)=>new Uo({getter:e,typeName:He.ZodLazy,...nt(r)});class qo extends it{_parse(r){if(r.data!==this._def.value){const s=this._getOrReturnCtx(r);return Ce(s,{received:s.data,code:ve.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:r.data}}get value(){return this._def.value}}qo.create=(e,r)=>new qo({value:e,typeName:He.ZodLiteral,...nt(r)});function Jj(e,r){return new Ks({values:e,typeName:He.ZodEnum,...nt(r)})}class Ks extends it{_parse(r){if(typeof r.data!="string"){const s=this._getOrReturnCtx(r),i=this._def.values;return Ce(s,{expected:ft.joinValues(i),received:s.parsedType,code:ve.invalid_type}),Qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const s=this._getOrReturnCtx(r),i=this._def.values;return Ce(s,{received:s.data,code:ve.invalid_enum_value,options:i}),Qe}return Tr(r.data)}get options(){return this._def.values}get enum(){const r={};for(const s of this._def.values)r[s]=s;return r}get Values(){const r={};for(const s of this._def.values)r[s]=s;return r}get Enum(){const r={};for(const s of this._def.values)r[s]=s;return r}extract(r,s=this._def){return Ks.create(r,{...this._def,...s})}exclude(r,s=this._def){return Ks.create(this.options.filter(i=>!r.includes(i)),{...this._def,...s})}}Ks.create=Jj;class Wo extends it{_parse(r){const s=ft.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(r);if(i.parsedType!==Te.string&&i.parsedType!==Te.number){const o=ft.objectValues(s);return Ce(i,{expected:ft.joinValues(o),received:i.parsedType,code:ve.invalid_type}),Qe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const o=ft.objectValues(s);return Ce(i,{received:i.data,code:ve.invalid_enum_value,options:o}),Qe}return Tr(r.data)}get enum(){return this._def.values}}Wo.create=(e,r)=>new Wo({values:e,typeName:He.ZodNativeEnum,...nt(r)});class Si extends it{unwrap(){return this._def.type}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==Te.promise&&s.common.async===!1)return Ce(s,{code:ve.invalid_type,expected:Te.promise,received:s.parsedType}),Qe;const i=s.parsedType===Te.promise?s.data:Promise.resolve(s.data);return Tr(i.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Si.create=(e,r)=>new Si({type:e,typeName:He.ZodPromise,...nt(r)});class Pn extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:s,ctx:i}=this._processInputParams(r),o=this._def.effect||null,c={addIssue:u=>{Ce(i,u),u.fatal?s.abort():s.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(i.data,c);if(i.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return Qe;const p=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return p.status==="aborted"?Qe:p.status==="dirty"||s.value==="dirty"?ii(p.value):p});{if(s.value==="aborted")return Qe;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?Qe:f.status==="dirty"||s.value==="dirty"?ii(f.value):f}}if(o.type==="refinement"){const u=f=>{const p=o.refinement(f,c);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?Qe:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?Qe:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Sa(u))return Qe;const f=o.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Sa(u)?Promise.resolve(o.transform(u.value,c)).then(f=>({status:s.value,value:f})):Qe);ft.assertNever(o)}}Pn.create=(e,r,s)=>new Pn({schema:e,typeName:He.ZodEffects,effect:r,...nt(s)});Pn.createWithPreprocess=(e,r,s)=>new Pn({schema:r,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...nt(s)});class Un extends it{_parse(r){return this._getType(r)===Te.undefined?Tr(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Un.create=(e,r)=>new Un({innerType:e,typeName:He.ZodOptional,...nt(r)});class Qs extends it{_parse(r){return this._getType(r)===Te.null?Tr(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Qs.create=(e,r)=>new Qs({innerType:e,typeName:He.ZodNullable,...nt(r)});class Ko extends it{_parse(r){const{ctx:s}=this._processInputParams(r);let i=s.data;return s.parsedType===Te.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ko.create=(e,r)=>new Ko({innerType:e,typeName:He.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...nt(r)});class Qo extends it{_parse(r){const{ctx:s}=this._processInputParams(r),i={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Mo(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Yr(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Yr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Qo.create=(e,r)=>new Qo({innerType:e,typeName:He.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...nt(r)});class Yc extends it{_parse(r){if(this._getType(r)!==Te.nan){const i=this._getOrReturnCtx(r);return Ce(i,{code:ve.invalid_type,expected:Te.nan,received:i.parsedType}),Qe}return{status:"valid",value:r.data}}}Yc.create=e=>new Yc({typeName:He.ZodNaN,...nt(e)});const MI=Symbol("zod_brand");class Ih extends it{_parse(r){const{ctx:s}=this._processInputParams(r),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class al extends it{_parse(r){const{status:s,ctx:i}=this._processInputParams(r);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?Qe:c.status==="dirty"?(s.dirty(),ii(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Qe:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(r,s){return new al({in:r,out:s,typeName:He.ZodPipeline})}}class Ho extends it{_parse(r){const s=this._def.innerType._parse(r),i=o=>(Sa(o)&&(o.value=Object.freeze(o.value)),o);return Mo(s)?s.then(o=>i(o)):i(s)}unwrap(){return this._def.innerType}}Ho.create=(e,r)=>new Ho({innerType:e,typeName:He.ZodReadonly,...nt(r)});function cy(e,r){const s=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Oh(e,r={},s){return e?Ni.create().superRefine((i,o)=>{const c=e(i);if(c instanceof Promise)return c.then(u=>{if(!u){const f=cy(r,i),p=f.fatal??s??!0;o.addIssue({code:"custom",...f,fatal:p})}});if(!c){const u=cy(r,i),f=u.fatal??s??!0;o.addIssue({code:"custom",...u,fatal:f})}}):Ni.create()}const FI={object:Lt.lazycreate};var He;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(He||(He={}));const LI=(e,r={message:`Input not instance of ${e.name}`})=>Oh(s=>s instanceof e,r),Td=Nn.create,Dh=qs.create,BI=Yc.create,$I=Ws.create,Mh=Fo.create,VI=Ca.create,zI=Qc.create,UI=Lo.create,ew=Bo.create,Go=Ni.create,qI=ha.create,WI=us.create,KI=Hc.create,tw=Sn.create,rw=Lt.create,QI=Lt.strictCreate,Fh=$o.create,HI=_d.create,GI=Vo.create,YI=Qn.create,nw=zo.create,ZI=Gc.create,XI=ka.create,JI=gi.create,e4=Uo.create,t4=qo.create,r4=Ks.create,n4=Wo.create,s4=Si.create,dy=Pn.create,a4=Un.create,i4=Qs.create,o4=Pn.createWithPreprocess,l4=al.create,c4=()=>Td().optional(),d4=()=>Dh().optional(),u4=()=>Mh().optional(),f4={string:(e=>Nn.create({...e,coerce:!0})),number:(e=>qs.create({...e,coerce:!0})),boolean:(e=>Fo.create({...e,coerce:!0})),bigint:(e=>Ws.create({...e,coerce:!0})),date:(e=>Ca.create({...e,coerce:!0}))},m4=Qe,h4=Object.freeze(Object.defineProperty({__proto__:null,BRAND:MI,DIRTY:ii,EMPTY_PATH:hI,INVALID:Qe,NEVER:m4,OK:Tr,ParseStatus:br,Schema:it,ZodAny:Ni,ZodArray:Sn,ZodBigInt:Ws,ZodBoolean:Fo,ZodBranded:Ih,ZodCatch:Qo,ZodDate:Ca,ZodDefault:Ko,ZodDiscriminatedUnion:_d,ZodEffects:Pn,ZodEnum:Ks,ZodError:Yr,get ZodFirstPartyTypeKind(){return He},ZodFunction:gi,ZodIntersection:Vo,ZodIssueCode:ve,ZodLazy:Uo,ZodLiteral:qo,ZodMap:Gc,ZodNaN:Yc,ZodNativeEnum:Wo,ZodNever:us,ZodNull:Bo,ZodNullable:Qs,ZodNumber:qs,ZodObject:Lt,ZodOptional:Un,ZodParsedType:Te,ZodPipeline:al,ZodPromise:Si,ZodReadonly:Ho,ZodRecord:zo,ZodSchema:it,ZodSet:ka,ZodString:Nn,ZodSymbol:Qc,ZodTransformer:Pn,ZodTuple:Qn,ZodType:it,ZodUndefined:Lo,ZodUnion:$o,ZodUnknown:ha,ZodVoid:Hc,addIssueToContext:Ce,any:Go,array:tw,bigint:$I,boolean:Mh,coerce:f4,custom:Oh,date:VI,datetimeRegex:Xj,defaultErrorMap:wi,discriminatedUnion:HI,effect:dy,enum:r4,function:JI,getErrorMap:Wc,getParsedType:os,instanceof:LI,intersection:GI,isAborted:Om,isAsync:Mo,isDirty:Dm,isValid:Sa,late:FI,lazy:e4,literal:t4,makeIssue:Kc,map:ZI,nan:BI,nativeEnum:n4,never:WI,null:ew,nullable:i4,number:Dh,object:rw,get objectUtil(){return Im},oboolean:u4,onumber:d4,optional:a4,ostring:c4,pipeline:l4,preprocess:o4,promise:s4,quotelessJson:fI,record:nw,set:XI,setErrorMap:mI,strictObject:QI,string:Td,symbol:zI,transformer:dy,tuple:YI,undefined:UI,union:Fh,unknown:qI,get util(){return ft},void:KI},Symbol.toStringTag,{value:"Module"})),Mt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Kt(e,r){return r.includes(e.columnType)}function p4(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const g4=Fh([Td(),Dh(),Mh(),ew()]),x4=Fh([g4,nw(Go()),tw(Go())]),v4=Oh(e=>e instanceof Buffer);function sw(e,r){const s=r?.zodInstance??h4,i=r?.coerce??{};let o;return p4(e)&&(o=e.enumValues.length?s.enum(e.enumValues):s.string()),o||(Kt(e,["PgGeometry","PgPointTuple"])?o=s.tuple([s.number(),s.number()]):Kt(e,["PgGeometryObject","PgPointObject"])?o=s.object({x:s.number(),y:s.number()}):Kt(e,["PgHalfVector","PgVector"])?(o=s.array(s.number()),o=e.dimensions?o.length(e.dimensions):o):Kt(e,["PgLine"])?o=s.tuple([s.number(),s.number(),s.number()]):Kt(e,["PgLineABC"])?o=s.object({a:s.number(),b:s.number(),c:s.number()}):Kt(e,["PgArray"])?(o=s.array(sw(e.baseColumn,s)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=s.array(s.any()):e.dataType==="number"?o=y4(e,s,i):e.dataType==="bigint"?o=b4(e,s,i):e.dataType==="boolean"?o=i===!0||i.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?o=i===!0||i.date?s.coerce.date():s.date():e.dataType==="string"?o=j4(e,s,i):e.dataType==="json"?o=x4:e.dataType==="custom"?o=s.any():e.dataType==="buffer"&&(o=v4)),o||(o=s.any()),o}function y4(e,r,s){let i=e.getSQLType().includes("unsigned"),o,c,u=!1;Kt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=i?0:Mt.INT8_MIN,c=i?Mt.INT8_UNSIGNED_MAX:Mt.INT8_MAX,u=!0):Kt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=i?0:Mt.INT16_MIN,c=i?Mt.INT16_UNSIGNED_MAX:Mt.INT16_MAX,u=!0):Kt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=i?0:Mt.INT24_MIN,c=i?Mt.INT24_UNSIGNED_MAX:Mt.INT24_MAX,u=Kt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Kt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=i?0:Mt.INT32_MIN,c=i?Mt.INT32_UNSIGNED_MAX:Mt.INT32_MAX,u=!0):Kt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=i?0:Mt.INT48_MIN,c=i?Mt.INT48_UNSIGNED_MAX:Mt.INT48_MAX):Kt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||Kt(e,["MySqlSerial","SingleStoreSerial"]),o=i?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):Kt(e,["MySqlYear","SingleStoreYear"])?(o=1901,c=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?r.coerce.number():r.number();return f=f.min(o).max(c),u?f.int():f}function b4(e,r,s){const i=e.getSQLType().includes("unsigned"),o=i?0n:Mt.INT64_MIN,c=i?Mt.INT64_UNSIGNED_MAX:Mt.INT64_MAX;return(s===!0||s?.bigint?r.coerce.bigint():r.bigint()).min(o).max(c)}function j4(e,r,s){if(Kt(e,["PgUUID"]))return r.string().uuid();let i,o,c=!1;Kt(e,["PgVarchar","SQLiteText"])?i=e.length:Kt(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Mt.INT16_UNSIGNED_MAX:Kt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Mt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Mt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Mt.INT16_UNSIGNED_MAX:i=Mt.INT8_UNSIGNED_MAX),Kt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,c=!0),Kt(e,["PgBinaryVector"])&&(o=/^[01]+$/,i=e.dimensions);let u=s===!0||s?.string?r.coerce.string():r.string();return u=o?u.regex(o):u,i&&c?u.length(i):i?u.max(i):u}function aw(e){return Uj(e)?oA(e):lA(e)}function iw(e,r,s,i){const o={};for(const[c,u]of Object.entries(e)){if(!or(u,Do)&&!or(u,Vt)&&!or(u,Vt.Aliased)&&typeof u=="object"){const y=Uj(u)||iA(u)?aw(u):u;o[c]=iw(y,r[c]??{},s,i);continue}const f=r[c];if(f!==void 0&&typeof f!="function"){o[c]=f;continue}const p=or(u,Do)?u:void 0,g=p?sw(p,i):Go(),x=typeof f=="function"?f(g):g;s.never(p)||(o[c]=x,p&&(s.nullable(p)&&(o[c]=o[c].nullable()),s.optional(p)&&(o[c]=o[c].optional())))}return rw(o)}const w4={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},An=(e,r)=>{const s=aw(e);return iw(s,{},w4)},N4=En("god_register",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),phoneNumber:Ae("phone_number").notNull().unique(),tenancyName:Ae("tenancy_name").notNull(),registeredAt:bt("registered_at").default(pt`CURRENT_TIMESTAMP`)}),S4=En("server_registry",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),serverName:Ae("server_name").notNull().unique(),maxBotCount:cn("max_bot_count").notNull(),currentBotCount:cn("current_bot_count").default(0),serverStatus:Ae("server_status").default("active"),serverUrl:Ae("server_url"),baseUrl:Ae("base_url"),sharedSecret:Ae("shared_secret"),description:Ae("description"),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(pt`CURRENT_TIMESTAMP`)}),C4=En("users",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),username:Ae("username").notNull().unique(),password:Ae("password").notNull(),role:Ae("role").notNull().default("user"),serverName:Ae("server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`)}),k4=En("bot_instances",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),name:Ae("name").notNull(),phoneNumber:Ae("phone_number"),status:Ae("status").notNull().default("offline"),credentials:ji("credentials"),settings:ji("settings").default({}),autoLike:fr("auto_like").default(!0),autoViewStatus:fr("auto_view_status").default(!0),autoReact:fr("auto_react").default(!0),typingMode:Ae("typing_mode").default("recording"),presenceMode:Ae("presence_mode").default("available"),alwaysOnline:fr("always_online").default(!1),presenceAutoSwitch:fr("presence_auto_switch").default(!1),chatgptEnabled:fr("chatgpt_enabled").default(!1),lastActivity:bt("last_activity"),messagesCount:cn("messages_count").default(0),commandsCount:cn("commands_count").default(0),approvalStatus:Ae("approval_status").default("pending"),isGuest:fr("is_guest").default(!1),approvalDate:Ae("approval_date"),expirationMonths:cn("expiration_months"),autoStart:fr("auto_start").default(!0),credentialVerified:fr("credential_verified").default(!1),credentialPhone:Ae("credential_phone"),invalidReason:Ae("invalid_reason"),authMessageSentAt:bt("auth_message_sent_at"),uptimeStartedAt:bt("uptime_started_at"),totalUptimeSeconds:cn("total_uptime_seconds").default(0),lastUptimeUpdate:bt("last_uptime_update"),commandPrefix:Ae("command_prefix").default("."),serverName:Ae("server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(pt`CURRENT_TIMESTAMP`)}),P4=En("commands",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),name:Ae("name").notNull(),description:Ae("description").notNull(),response:Ae("response"),isActive:fr("is_active").default(!0),useChatGPT:fr("use_chatgpt").default(!1),botInstanceId:hr("bot_instance_id"),serverName:Ae("server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`)}),_4=En("activities",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),botInstanceId:hr("bot_instance_id"),type:Ae("type").notNull(),description:Ae("description").notNull(),metadata:ji("metadata").default({}),serverName:Ae("server_name").notNull(),remoteTenancy:Ae("remote_tenancy"),remoteBotId:Ae("remote_bot_id"),phoneNumber:Ae("phone_number"),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`)}),T4=En("groups",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),whatsappId:Ae("whatsapp_id").notNull().unique(),name:Ae("name").notNull(),description:Ae("description"),participantCount:cn("participant_count").default(0),botInstanceId:hr("bot_instance_id").notNull(),isActive:fr("is_active").default(!0),serverName:Ae("server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`)}),E4=En("viewed_status_ids",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),botInstanceId:hr("bot_instance_id").notNull(),statusId:Ae("status_id").notNull(),statusSender:Ae("status_sender").notNull(),viewedAt:bt("viewed_at").default(pt`CURRENT_TIMESTAMP`),expiresAt:bt("expires_at").notNull(),serverName:Ae("server_name").notNull()}),A4=En("external_bot_connections",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),phoneNumber:Ae("phone_number").notNull(),ownerJid:Ae("owner_jid").notNull(),originServerName:Ae("origin_server_name").notNull(),remoteBotId:Ae("remote_bot_id").notNull(),sessionData:ji("session_data"),credentialsValid:fr("credentials_valid").default(!1),lastValidation:bt("last_validation"),connectionEstablishedAt:bt("connection_established_at"),notificationSentAt:bt("notification_sent_at"),features:ji("features").default({}),tempToken:Ae("temp_token"),expiresAt:bt("expires_at").notNull().default(pt`CURRENT_TIMESTAMP + INTERVAL '24 hours'`),currentServerName:Ae("current_server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(pt`CURRENT_TIMESTAMP`)}),R4=En("offer_management",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),offerName:Ae("offer_name").notNull().default("Special Offer"),isActive:fr("is_active").default(!1),offerConfig:Ae("offer_config"),durationDays:cn("duration_days").default(0),durationMonths:cn("duration_months").default(0),startTime:bt("start_time"),endTime:bt("end_time"),serverName:Ae("server_name").notNull(),description:Ae("description"),autoApproval:fr("auto_approval").default(!0),maxBots:cn("max_bots"),currentUsage:cn("current_usage").default(0),createdBy:Ae("created_by").default("admin"),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(pt`CURRENT_TIMESTAMP`)}),I4=En("stk_push_transactions",{id:hr("id").primaryKey().default(pt`gen_random_uuid()`),phoneNumber:Ae("phone_number").notNull(),amount:Ae("amount").notNull(),accountReference:Ae("account_reference").notNull(),description:Ae("description"),checkoutRequestId:Ae("checkout_request_id"),merchantRequestId:Ae("merchant_request_id"),status:Ae("status").default("pending"),resultCode:Ae("result_code"),resultDesc:Ae("result_desc"),mpesaReceiptNumber:Ae("mpesa_receipt_number"),transactionDate:Ae("transaction_date"),amountPaid:Ae("amount_paid"),botInstanceId:hr("bot_instance_id"),isGuestMode:fr("is_guest_mode").default(!0),serverName:Ae("server_name").notNull(),createdAt:bt("created_at").default(pt`CURRENT_TIMESTAMP`),updatedAt:bt("updated_at").default(pt`CURRENT_TIMESTAMP`)});An(C4).pick({username:!0,password:!0,role:!0});const O4=An(k4).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0,messagesCount:!0,commandsCount:!0}),D4=An(P4).omit({id:!0,createdAt:!0});An(_4).omit({id:!0,createdAt:!0});An(T4).omit({id:!0,createdAt:!0});An(N4).omit({id:!0,registeredAt:!0});An(S4).omit({id:!0,createdAt:!0,updatedAt:!0});An(E4).omit({id:!0,viewedAt:!0});An(A4).omit({id:!0,createdAt:!0,updatedAt:!0});An(I4).omit({id:!0,createdAt:!0,updatedAt:!0});An(R4).omit({id:!0,createdAt:!0,updatedAt:!0});const Gn=h.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Gn.displayName="Textarea";var tm="rovingFocusGroup.onEntryFocus",M4={bubbles:!1,cancelable:!0},il="RovingFocusGroup",[Fm,ow,F4]=Hm(il),[L4,Ed]=Er(il,[F4]),[B4,$4]=L4(il),lw=h.forwardRef((e,r)=>t.jsx(Fm.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Fm.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(V4,{...e,ref:r})})}));lw.displayName=il;var V4=h.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=e,w=h.useRef(null),C=lt(r,w),k=wd(c),[j,b]=qn({prop:u,defaultProp:f??null,onChange:p,caller:il}),[S,_]=h.useState(!1),O=dn(g),A=ow(s),B=h.useRef(!1),[G,z]=h.useState(0);return h.useEffect(()=>{const se=w.current;if(se)return se.addEventListener(tm,O),()=>se.removeEventListener(tm,O)},[O]),t.jsx(B4,{scope:s,orientation:i,dir:k,loop:o,currentTabStopId:j,onItemFocus:h.useCallback(se=>b(se),[b]),onItemShiftTab:h.useCallback(()=>_(!0),[]),onFocusableItemAdd:h.useCallback(()=>z(se=>se+1),[]),onFocusableItemRemove:h.useCallback(()=>z(se=>se-1),[]),children:t.jsx(Fe.div,{tabIndex:S||G===0?-1:0,"data-orientation":i,...y,ref:C,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{B.current=!0}),onFocus:Me(e.onFocus,se=>{const Z=!B.current;if(se.target===se.currentTarget&&Z&&!S){const ee=new CustomEvent(tm,M4);if(se.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const ae=A().filter(q=>q.focusable),X=ae.find(q=>q.active),re=ae.find(q=>q.id===j),ie=[X,re,...ae].filter(Boolean).map(q=>q.ref.current);uw(ie,x)}}B.current=!1}),onBlur:Me(e.onBlur,()=>_(!1))})})}),cw="RovingFocusGroupItem",dw=h.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...f}=e,p=_r(),g=c||p,x=$4(cw,s),y=x.currentTabStopId===g,w=ow(s),{onFocusableItemAdd:C,onFocusableItemRemove:k,currentTabStopId:j}=x;return h.useEffect(()=>{if(i)return C(),()=>k()},[i,C,k]),t.jsx(Fm.ItemSlot,{scope:s,id:g,focusable:i,active:o,children:t.jsx(Fe.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:r,onMouseDown:Me(e.onMouseDown,b=>{i?x.onItemFocus(g):b.preventDefault()}),onFocus:Me(e.onFocus,()=>x.onItemFocus(g)),onKeyDown:Me(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){x.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=q4(b,x.orientation,x.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let O=w().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")O.reverse();else if(S==="prev"||S==="next"){S==="prev"&&O.reverse();const A=O.indexOf(b.currentTarget);O=x.loop?W4(O,A+1):O.slice(A+1)}setTimeout(()=>uw(O))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:j!=null}):u})})});dw.displayName=cw;var z4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U4(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q4(e,r,s){const i=U4(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return z4[i]}function uw(e,r=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:r}),document.activeElement!==s))return}function W4(e,r){return e.map((s,i)=>e[(r+i)%e.length])}var fw=lw,mw=dw,Ad="Tabs",[K4,cM]=Er(Ad,[Ed]),hw=Ed(),[Q4,Lh]=K4(Ad),pw=h.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:p="automatic",...g}=e,x=wd(f),[y,w]=qn({prop:i,onChange:o,defaultProp:c??"",caller:Ad});return t.jsx(Q4,{scope:s,baseId:_r(),value:y,onValueChange:w,orientation:u,dir:x,activationMode:p,children:t.jsx(Fe.div,{dir:x,"data-orientation":u,...g,ref:r})})});pw.displayName=Ad;var gw="TabsList",xw=h.forwardRef((e,r)=>{const{__scopeTabs:s,loop:i=!0,...o}=e,c=Lh(gw,s),u=hw(s);return t.jsx(fw,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:t.jsx(Fe.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:r})})});xw.displayName=gw;var vw="TabsTrigger",yw=h.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,disabled:o=!1,...c}=e,u=Lh(vw,s),f=hw(s),p=ww(u.baseId,i),g=Nw(u.baseId,i),x=i===u.value;return t.jsx(mw,{asChild:!0,...f,focusable:!o,active:x,children:t.jsx(Fe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:r,onMouseDown:Me(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(i):y.preventDefault()}),onKeyDown:Me(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(i)}),onFocus:Me(e.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(i)})})})});yw.displayName=vw;var bw="TabsContent",jw=h.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,forceMount:o,children:c,...u}=e,f=Lh(bw,s),p=ww(f.baseId,i),g=Nw(f.baseId,i),x=i===f.value,y=h.useRef(x);return h.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),t.jsx(_n,{present:o||x,children:({present:w})=>t.jsx(Fe.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:g,tabIndex:0,...u,ref:r,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&c})})});jw.displayName=bw;function ww(e,r){return`${e}-trigger-${r}`}function Nw(e,r){return`${e}-content-${r}`}var H4=pw,Sw=xw,Cw=yw,kw=jw;const _a=H4,Zs=h.forwardRef(({className:e,...r},s)=>t.jsx(Sw,{ref:s,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Zs.displayName=Sw.displayName;const St=h.forwardRef(({className:e,...r},s)=>t.jsx(Cw,{ref:s,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));St.displayName=Cw.displayName;const yt=h.forwardRef(({className:e,...r},s)=>t.jsx(kw,{ref:s,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));yt.displayName=kw.displayName;const G4=O4.extend({credentialsFile:Go().optional(),credentialsBase64:Td().optional()});function Pw({open:e,onClose:r}){const{toast:s}=Ht(),i=jr(),o=h.useRef(null),[c,u]=h.useState(null),[f,p]=h.useState(""),[g,x]=h.useState("file"),y=Mj({resolver:Lj(G4),defaultValues:{name:"",autoLike:!0,autoViewStatus:!0,autoReact:!1,typingMode:"none",chatgptEnabled:!1}}),w=Ue({mutationFn:async b=>{const S=new FormData;Object.entries(b).forEach(([O,A])=>{O!=="credentialsFile"&&O!=="credentialsBase64"&&S.append(O,String(A))}),g==="file"&&c&&S.append("credentials",c),g==="base64"&&f.trim()&&S.append("credentialsBase64",f.trim());const _=await fetch("/api/bot-instances",{method:"POST",body:S});if(!_.ok){const O=await _.json();throw new Error(O.message||"Failed to create bot instance")}return _.json()},onSuccess:()=>{s({title:"Bot instance created successfully"}),i.invalidateQueries({queryKey:["/api/bot-instances"]}),i.invalidateQueries({queryKey:["/api/dashboard/stats"]}),y.reset(),u(null),p(""),r()},onError:b=>{s({title:"Failed to create bot instance",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),C=b=>{const S=b.target.files?.[0];if(S){if(!S.name.endsWith(".json")){s({title:"Invalid file type",description:"Please select a valid JSON file",variant:"destructive"});return}if(S.size<10){s({title:"File too small",description:"The credentials file appears to be empty or invalid",variant:"destructive"});return}if(S.size>5*1024*1024){s({title:"File too large",description:"Credentials file must be smaller than 5MB",variant:"destructive"});return}const _=new FileReader;_.onload=O=>{try{const A=O.target?.result,B=JSON.parse(A);if(typeof B!="object"||!B||Array.isArray(B))throw new Error("Invalid credentials format");if(Object.keys(B).length===0)throw new Error("Credentials file is empty");u(S),s({title:"File validated",description:"Credentials file looks valid",variant:"default"})}catch{s({title:"Invalid JSON file",description:"The file contains invalid JSON or is not a proper credentials file",variant:"destructive"}),u(null)}},_.readAsText(S)}},k=b=>{if(p(b),b.trim())try{const S=atob(b.trim()),_=JSON.parse(S);if(typeof _!="object"||!_||Array.isArray(_))throw new Error("Invalid credentials format");if(Object.keys(_).length===0)throw new Error("Credentials file is empty");s({title:"Base64 credentials validated",description:"Credentials data looks valid",variant:"default"})}catch{s({title:"Invalid base64 credentials",description:"Please check that your base64 string contains valid JSON credentials",variant:"destructive"})}},j=b=>{w.mutate(b)};return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"bg-card border-border max-w-md","data-testid":"modal-add-bot",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-lg font-semibold text-foreground",children:"Add New Bot Instance"})}),t.jsxs("form",{onSubmit:y.handleSubmit(j),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Bot Name"}),t.jsx(At,{id:"name",placeholder:"Enter bot name...",...y.register("name"),className:"w-full bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-bot-name"}),y.formState.errors.name&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:y.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"block text-sm font-medium text-foreground mb-2",children:"Credentials"}),t.jsxs(_a,{value:g,onValueChange:b=>x(b),className:"w-full",children:[t.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[t.jsx(St,{value:"file",children:"Upload File"}),t.jsx(St,{value:"base64",children:"Paste Base64"})]}),t.jsxs(yt,{value:"file",className:"mt-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>o.current?.click(),"data-testid":"dropzone-credentials",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:t.jsx("i",{className:"fas fa-upload text-muted-foreground text-xl"})}),t.jsx("p",{className:"text-sm text-foreground font-medium",children:c?c.name:"Click to upload creds.json"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop your credentials file"})]}),t.jsx("input",{ref:o,type:"file",accept:".json",onChange:C,className:"hidden","data-testid":"input-credentials-file"})]}),t.jsx(yt,{value:"base64",className:"mt-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(Gn,{placeholder:"Paste your base64-encoded credentials here...",value:f,onChange:b=>k(b.target.value),className:"min-h-[120px] bg-input border-border text-foreground placeholder:text-muted-foreground font-mono text-sm","data-testid":"textarea-base64-credentials"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the base64-encoded version of your creds.json file. The bot will decode and validate it automatically."})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"block text-sm font-medium text-foreground mb-2",children:"Auto Features"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"autoLike",checked:y.watch("autoLike")||!1,onCheckedChange:b=>y.setValue("autoLike",b),"data-testid":"checkbox-auto-like"}),t.jsx(Pe,{htmlFor:"autoLike",className:"text-sm text-foreground",children:"Auto Like"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"autoViewStatus",checked:y.watch("autoViewStatus")||!1,onCheckedChange:b=>y.setValue("autoViewStatus",b),"data-testid":"checkbox-auto-view-status"}),t.jsx(Pe,{htmlFor:"autoViewStatus",className:"text-sm text-foreground",children:"Auto View Status"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"autoReact",checked:y.watch("autoReact")||!1,onCheckedChange:b=>y.setValue("autoReact",b),"data-testid":"checkbox-auto-react"}),t.jsx(Pe,{htmlFor:"autoReact",className:"text-sm text-foreground",children:"Auto React"})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"block text-sm font-medium text-foreground mb-2",children:"Typing Mode"}),t.jsxs(Lr,{value:y.watch("typingMode")||"none",onValueChange:b=>y.setValue("typingMode",b),children:[t.jsx(Cr,{className:"w-full bg-input border-border text-foreground","data-testid":"select-typing-mode",children:t.jsx(Br,{})}),t.jsxs(kr,{className:"bg-popover border-border",children:[t.jsx(Ke,{value:"none",children:"None"}),t.jsx(Ke,{value:"typing",children:"Always Typing"}),t.jsx(Ke,{value:"recording",children:"Recording Audio"}),t.jsx(Ke,{value:"both",children:"Both (Switch)"})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"chatgptEnabled",checked:y.watch("chatgptEnabled")||!1,onCheckedChange:b=>y.setValue("chatgptEnabled",b),"data-testid":"checkbox-chatgpt-enabled"}),t.jsx(Pe,{htmlFor:"chatgptEnabled",className:"text-sm text-foreground",children:"Enable ChatGPT Integration"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx(K,{type:"button",variant:"ghost",onClick:r,"data-testid":"button-cancel",children:"Cancel"}),t.jsx(K,{type:"submit",disabled:w.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-bot",children:w.isPending?"Creating...":"Create Bot Instance"})]})]})]})})}const Y4=["SYSTEM","ADMIN","CUSTOM","FUN","TOOLS","SEARCH","DOWNLOAD","CONVERT"],rm=`// Example WhatsApp bot command
// Available context: { respond, args, message, client }

const query = args.join(' ');
if (!query) {
  await respond('❌ Please provide a search query!');
  return;
}

await respond(\`🔍 Searching for: *\${query}*\`);
// Your custom logic here
await respond(\`✅ Results for: *\${query}*\`);`;function Z4({open:e,onClose:r}){const{toast:s}=Ht(),i=jr(),[o,c]=h.useState({name:"",description:"",category:"CUSTOM",code:rm}),{data:u=[],isLoading:f}=gt({queryKey:["/api/commands"],queryFn:async()=>{const x=await fetch("/api/commands");if(!x.ok)throw new Error("Failed to fetch commands");return x.json()}}),p=Ue({mutationFn:async x=>{const y=await fetch("/api/commands/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to create command")}return y.json()},onSuccess:()=>{s({title:"Custom command created successfully"}),i.invalidateQueries({queryKey:["/api/commands"]}),c({name:"",description:"",category:"CUSTOM",code:rm})},onError:x=>{s({title:"Failed to create command",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=x=>{if(x.preventDefault(),!o.name||!o.description||!o.code){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}p.mutate(o)};return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-xl font-bold",children:"🔧 TREKKER-MD Command Management"})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"Create Custom Command"}),t.jsx(rt,{children:"Add custom JavaScript code that will execute when users call your command"})]}),t.jsx(ue,{children:t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"name",children:"Command Name *"}),t.jsx(At,{id:"name",placeholder:"mycommand",value:o.name,onChange:x=>c(y=>({...y,name:x.target.value})),className:"font-mono"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"description",children:"Description *"}),t.jsx(At,{id:"description",placeholder:"What does this command do?",value:o.description,onChange:x=>c(y=>({...y,description:x.target.value}))})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"category",children:"Category"}),t.jsxs(Lr,{value:o.category,onValueChange:x=>c(y=>({...y,category:x})),children:[t.jsx(Cr,{children:t.jsx(Br,{})}),t.jsx(kr,{children:Y4.map(x=>t.jsx(Ke,{value:x,children:x},x))})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"code",children:"Command Code *"}),t.jsx(Gn,{id:"code",placeholder:"Your JavaScript code here...",value:o.code,onChange:x=>c(y=>({...y,code:x.target.value})),className:"min-h-[300px] font-mono text-sm"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available context: respond, args, message, client"})]}),t.jsx(K,{type:"submit",disabled:p.isPending,className:"w-full",children:p.isPending?"Creating...":"Create Command"})]})})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{children:["Existing Commands (",u.length,")"]}),t.jsx(rt,{children:"All commands available in your TREKKER-MD bot"})]}),t.jsx(ue,{children:f?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading commands..."})]}):t.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:u.map(x=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-mono text-sm font-semibold",children:[".",x.name,x.customCode&&t.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:"CUSTOM"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded mt-1 inline-block",children:x.category})]}),t.jsx("div",{className:`w-2 h-2 rounded-full ${x.isActive?"bg-green-500":"bg-red-500"}`})]},x.id))})})]}),t.jsxs(ce,{children:[t.jsx(Ve,{children:t.jsx(ze,{children:"💡 Command Example"})}),t.jsx(ue,{children:t.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:rm})})]})]})]})]})})}var Bh="Radio",[X4,_w]=Er(Bh),[J4,eO]=X4(Bh),Tw=h.forwardRef((e,r)=>{const{__scopeRadio:s,name:i,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:p,form:g,...x}=e,[y,w]=h.useState(null),C=lt(r,b=>w(b)),k=h.useRef(!1),j=y?g||!!y.closest("form"):!0;return t.jsxs(J4,{scope:s,checked:o,disabled:u,children:[t.jsx(Fe.button,{type:"button",role:"radio","aria-checked":o,"data-state":Iw(o),"data-disabled":u?"":void 0,disabled:u,value:f,...x,ref:C,onClick:Me(e.onClick,b=>{o||p?.(),j&&(k.current=b.isPropagationStopped(),k.current||b.stopPropagation())})}),j&&t.jsx(Rw,{control:y,bubbles:!k.current,name:i,value:f,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});Tw.displayName=Bh;var Ew="RadioIndicator",Aw=h.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:i,...o}=e,c=eO(Ew,s);return t.jsx(_n,{present:i||c.checked,children:t.jsx(Fe.span,{"data-state":Iw(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r})})});Aw.displayName=Ew;var tO="RadioBubbleInput",Rw=h.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:i=!0,...o},c)=>{const u=h.useRef(null),f=lt(u,c),p=bd(s),g=dd(r);return h.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(p!==s&&C){const k=new Event("click",{bubbles:i});C.call(x,s),x.dispatchEvent(k)}},[p,s,i]),t.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Rw.displayName=tO;function Iw(e){return e?"checked":"unchecked"}var rO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rd="RadioGroup",[nO,dM]=Er(Rd,[Ed,_w]),Ow=Ed(),Dw=_w(),[sO,aO]=nO(Rd),Mw=h.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:i,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:p,dir:g,loop:x=!0,onValueChange:y,...w}=e,C=Ow(s),k=wd(g),[j,b]=qn({prop:c,defaultProp:o??null,onChange:y,caller:Rd});return t.jsx(sO,{scope:s,name:i,required:u,disabled:f,value:j,onValueChange:b,children:t.jsx(fw,{asChild:!0,...C,orientation:p,dir:k,loop:x,children:t.jsx(Fe.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":f?"":void 0,dir:k,...w,ref:r})})})});Mw.displayName=Rd;var Fw="RadioGroupItem",Lw=h.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:i,...o}=e,c=aO(Fw,s),u=c.disabled||i,f=Ow(s),p=Dw(s),g=h.useRef(null),x=lt(r,g),y=c.value===o.value,w=h.useRef(!1);return h.useEffect(()=>{const C=j=>{rO.includes(j.key)&&(w.current=!0)},k=()=>w.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",k)}},[]),t.jsx(mw,{asChild:!0,...f,focusable:!u,active:y,children:t.jsx(Tw,{disabled:u,required:c.required,checked:y,...p,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:Me(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:Me(o.onFocus,()=>{w.current&&g.current?.click()})})})});Lw.displayName=Fw;var iO="RadioGroupIndicator",Bw=h.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...i}=e,o=Dw(s);return t.jsx(Aw,{...o,...i,ref:r})});Bw.displayName=iO;var $w=Mw,Vw=Lw,oO=Bw;const $h=h.forwardRef(({className:e,...r},s)=>t.jsx($w,{className:ke("grid gap-2",e),...r,ref:s}));$h.displayName=$w.displayName;const Yo=h.forwardRef(({className:e,...r},s)=>t.jsx(Vw,{ref:s,className:ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(oO,{className:"flex items-center justify-center",children:t.jsx(iP,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Yo.displayName=Vw.displayName;function zw({open:e,onClose:r,botId:s,phoneNumber:i,guestToken:o,onSuccess:c,crossTenancyMode:u=!1,targetServer:f}){const{toast:p}=Ht(),g=h.useRef(null),x=h.useRef(null),[y,w]=h.useState("base64"),[C,k]=h.useState(""),[j,b]=h.useState(null),[S,_]=h.useState(!1),[O,A]=h.useState(null),[B,G]=h.useState("idle"),[z,se]=h.useState("");h.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const Z=async re=>{if(!re.trim()){G("idle"),se("");return}G("validating"),se("Validating credentials format...");try{const $=atob(re.trim()),ie=JSON.parse($);if(!ie||typeof ie!="object")throw new Error("Invalid credentials format");if(!ie.me||!ie.me.id)throw new Error("Missing essential WhatsApp session data");const q=ie.me.id.match(/^(\d+):/);if(!q)throw new Error("Unable to extract phone number from credentials");const P=q[1],R=i.replace(/[\s\-\(\)\+]/g,"");if(P!==R){G("invalid"),se(`⚠️ Phone number mismatch. Credentials are for ${P}, but you're updating ${i}`);return}G("valid"),se("✅ Credentials format is valid and phone number matches")}catch($){G("invalid"),$ instanceof Error?se(`❌ ${$.message}`):se("❌ Invalid base64 credentials format")}},ee=re=>{const $=re.target.files?.[0];if($){if(!$.name.endsWith(".json")){p({title:"Invalid File",description:"Please select a valid .json file",variant:"destructive"});return}b($)}},ae=async re=>{if(re.preventDefault(),y==="base64"){if(!C.trim()){p({title:"Missing Credentials",description:"Please provide a Base64 session ID",variant:"destructive"});return}if(B==="invalid"){p({title:"Invalid Credentials",description:"Please fix the credential validation errors before submitting",variant:"destructive"});return}if(B==="validating"){p({title:"Validation in Progress",description:"Please wait for credential validation to complete",variant:"destructive"});return}if(B!=="valid"&&C.trim()){p({title:"Unvalidated Credentials",description:"Please wait for credential validation to complete",variant:"destructive"});return}}if(y==="file"&&!j){p({title:"Missing File",description:"Please select a credentials file",variant:"destructive"});return}if(!u&&!o){p({title:"Authentication Required",description:"Please authenticate before updating credentials",variant:"destructive"});return}_(!0);try{const $=new FormData;$.append("phoneNumber",i),$.append("action","update_credentials"),$.append("credentialType",y),u||$.append("botId",s),u&&f&&$.append("targetServer",f),y==="base64"?$.append("sessionId",C):j&&$.append("credsFile",j);const ie=u?"/api/guest/cross-tenancy-manage":"/api/guest/manage-bot",q={};o&&(q.Authorization=`Bearer ${o}`);const P=await fetch(ie,{method:"POST",headers:q,body:$}),R=await P.json();P.ok?R.crossTenancy&&R.nextSteps?(A(R),p({title:"Cross-Tenancy Update Initiated!",description:R.message})):(p({title:"Success!",description:R.message}),k(""),b(null),g.current&&(g.current.value=""),c?.(),r()):p({title:"Update Failed",description:R.message||"Failed to update credentials",variant:"destructive"})}catch($){console.error("Error updating credentials:",$),p({title:"Network Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{_(!1)}},X=()=>{S||(k(""),b(null),A(null),g.current&&(g.current.value=""),r())};return t.jsx(It,{open:e,onOpenChange:X,children:t.jsxs(_t,{className:"max-w-md",children:[t.jsxs(Tt,{children:[t.jsxs(Et,{children:["🔑 ",u?"Cross-Tenancy":""," Update Bot Credentials"]}),t.jsx(Oo,{children:u?`Update credentials across servers (Target: ${f})`:"Update your WhatsApp bot credentials to restore connectivity"})]}),O?t.jsxs("div",{className:"space-y-4",children:[t.jsx(ce,{className:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800",children:t.jsxs(ue,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-lg",children:"✅"}),t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200",children:"Cross-Tenancy Update Successful!"})]}),t.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-3",children:O.message}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Source:"}),t.jsx("div",{className:"text-muted-foreground",children:O.sourceServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Target:"}),t.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:O.targetServer})]})]})]})}),t.jsx(ce,{className:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs(ue,{className:"p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),t.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:O.nextSteps?.map((re,$)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),re]},$))})]})}),t.jsx(K,{onClick:X,className:"w-full",children:"✨ Awesome! Got It"})]}):t.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[t.jsx(ce,{className:`${u?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200"}`,children:t.jsxs(ue,{className:"p-3",children:[t.jsxs("p",{className:`text-sm ${u?"text-purple-800 dark:text-purple-200":"text-blue-800"}`,children:[t.jsx("strong",{children:"📱 Phone:"})," ",i,u&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("strong",{children:"🌐 Target Server:"})," ",f]})]}),t.jsx("p",{className:`text-xs mt-1 ${u?"text-purple-600 dark:text-purple-300":"text-blue-600"}`,children:u?"Credentials will be transferred to the target server":"New credentials must match this phone number"})]})}),t.jsxs("div",{children:[t.jsx(Pe,{className:"text-base font-medium",children:"Choose Credential Type *"}),t.jsxs($h,{value:y,onValueChange:re=>w(re),className:"mt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yo,{value:"base64",id:"base64"}),t.jsx(Pe,{htmlFor:"base64",children:"Paste Base64 Session ID"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yo,{value:"file",id:"file"}),t.jsx(Pe,{htmlFor:"file",children:"Upload creds.json File"})]})]})]}),y==="base64"?t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"sessionId",children:"Base64 Session ID *"}),t.jsx(Gn,{id:"sessionId",placeholder:"Paste your Base64 encoded session here...",value:C,onChange:re=>{const $=re.target.value;k($),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{Z($)},1e3)},className:`min-h-[100px] text-xs ${B==="valid"?"border-green-500 bg-green-50/50":B==="invalid"?"border-red-500 bg-red-50/50":B==="validating"?"border-yellow-500 bg-yellow-50/50":""}`,required:!0}),z&&t.jsx("div",{className:`text-xs mt-2 p-2 rounded border ${B==="valid"?"text-green-700 bg-green-50 border-green-200":B==="invalid"?"text-red-700 bg-red-50 border-red-200":B==="validating"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:z}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get this from your WhatsApp session backup. The system will validate the format and phone number match in real-time."})]}):t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"credsFile",children:"Upload creds.json File *"}),t.jsx(At,{id:"credsFile",type:"file",accept:".json",onChange:ee,ref:g,required:!0}),j&&t.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["✅ Selected: ",j.name]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the creds.json file from your bot session"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(K,{type:"button",variant:"outline",onClick:X,disabled:S,className:"flex-1",children:"Cancel"}),t.jsx(K,{type:"submit",disabled:S,className:`flex-1 ${u?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":""}`,children:S?"Updating...":u?"🔄 Update Cross-Tenancy":"Update Credentials"})]})]})]})})}const lO=el("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ci=h.forwardRef(({className:e,variant:r,...s},i)=>t.jsx("div",{ref:i,role:"alert",className:ke(lO({variant:r}),e),...s}));Ci.displayName="Alert";const cO=h.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:ke("mb-1 font-medium leading-none tracking-tight",e),...r}));cO.displayName="AlertTitle";const ki=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:ke("text-sm [&_p]:leading-relaxed",e),...r}));ki.displayName="AlertDescription";function Uw({open:e,onClose:r,phoneNumber:s="",botInstanceId:i,amount:o=100,onPaymentSuccess:c}){const{toast:u}=Ht(),[f,p]=h.useState(s),[g,x]=h.useState("form"),[y,w]=h.useState(""),[C,k]=h.useState(null),[j,b]=h.useState(0),S=(Z,ee,ae)=>{const X={checkoutRequestId:Z,phoneNumber:ee,amount:ae.toString(),timestamp:new Date().toISOString(),status:"pending"},re=`stkdata_${Z}`;localStorage.setItem(re,JSON.stringify(X));const $=JSON.parse(localStorage.getItem("stkdata_transactions")||"[]");$.includes(Z)||($.push(Z),localStorage.setItem("stkdata_transactions",JSON.stringify($))),console.log(`💾 Transaction data saved to localStorage: ${re}`)},_=(Z,ee,ae)=>{const X=`stkdata_${Z}`,$={...JSON.parse(localStorage.getItem(X)||"{}"),status:ee,lastUpdated:new Date().toISOString(),...ae};localStorage.setItem(X,JSON.stringify($)),console.log(`📝 Transaction status updated: ${Z} -> ${ee}`)},O=Ue({mutationFn:async Z=>{const ee=await fetch("/api/guest/stkpush/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:Z.phoneNumber,amount:Z.amount,botInstanceId:Z.botInstanceId,description:"WhatsApp Bot Approval Payment"})});if(!ee.ok){const ae=await ee.json();throw new Error(ae.message||"Failed to initiate payment")}return ee.json()},onSuccess:Z=>{console.log("Payment initiated successfully:",Z);const ee=Z.checkoutRequestId||Z.checkoutRequestID||Z.CheckoutRequestID;if(!ee){console.error("No checkout request ID in response:",Z),x("failed"),u({title:"Payment Error",description:"Invalid response from payment gateway",variant:"destructive"});return}w(ee),k({...Z,checkoutRequestId:ee}),x("processing"),S(ee,f,o),localStorage.setItem("stkpush_checkout_id",ee),localStorage.setItem("stkpush_phone",f),localStorage.setItem("stkpush_amount",o.toString()),ee?.startsWith("MOCK_")||Z.message?.includes("Demo")||Z.message?.includes("simulated")?(u({title:"Demo Payment",description:"Payment simulation started - will auto-complete in 10 seconds"}),setTimeout(()=>{const X={...Z,status:"completed",amount:o.toString(),mpesaReceiptNumber:`DEMO${Date.now()}`,transactionDate:new Date().toISOString()};x("success"),k(X),_(y,"completed",{mpesaReceiptNumber:X.mpesaReceiptNumber,transactionDate:X.transactionDate})},1e4)):(u({title:"Payment Initiated",description:"Check your phone for M-Pesa payment prompt"}),B(ee))},onError:Z=>{console.error("Payment initiation failed:",Z),x("failed");let ee=Z.message;Z.message.includes("Invalid API key")?ee="Payment system not configured. Please contact administrator (+254704897825) to enable M-Pesa payments.":Z.message.includes("Phone number must be in format")?ee="Please enter a valid Safaricom number starting with 254 (e.g., 254712345678)":Z.message.includes("Network error")&&(ee="Network connection failed. Please check your internet and try again."),u({title:"Payment Failed",description:ee,variant:"destructive"})}}),A=Ue({mutationFn:async Z=>{if(!Z)throw new Error("Checkout request ID is missing");console.log("🔍 Checking transaction status for:",Z);const ee=await fetch("/api/guest/stkpush/transaction-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({CheckoutRequestID:Z})});if(!ee.ok){const ae=await ee.json();throw console.error("Transaction status check HTTP error:",ee.status,ae),new Error(ae.message||"Failed to check transaction status")}return ee.json()},onSuccess:Z=>{if(console.log("📊 Transaction status response:",Z),Z.Body&&Z.Body.stkCallback){const ee=Z.Body.stkCallback,ae=ee.ResultCode;if(ae===0){const X=ee.CallbackMetadata?.Item||[],re={status:"completed",resultCode:ae.toString(),resultDesc:ee.ResultDesc,merchantRequestId:ee.MerchantRequestID,checkoutRequestId:ee.CheckoutRequestID};for(const ie of X)switch(ie.Name){case"Amount":re.amount=ie.Value?.toString();break;case"MpesaReceiptNumber":re.mpesaReceiptNumber=ie.Value;break;case"TransactionDate":re.transactionDate=ie.Value?.toString();break;case"PhoneNumber":re.phoneNumber=ie.Value?.toString();break}console.log("✅ Payment completed successfully:",re);const $=JSON.parse(localStorage.getItem("stkdata")||"{}");$[y]&&($[y]={...$[y],status:"completed",completedAt:new Date().toISOString(),mpesaReceiptNumber:re.mpesaReceiptNumber,transactionDate:re.transactionDate},localStorage.setItem("stkdata",JSON.stringify($))),x("success"),k(re),_(y,"completed",re),u({title:"Payment Successful!",description:`Payment of KSh ${re.amount} completed successfully`}),c&&c(re)}else{let X=ee.ResultDesc||"Payment failed";switch(ae){case 1032:X="Payment cancelled by user";break;case 1037:X="Request timeout - unable to reach user";break;case 1025:X="Error occurred while sending payment request";break;case 1:X="Insufficient balance for the transaction";break;case 1019:X="Transaction has expired";break;case 1001:X="Another transaction is already in process";break}const re={status:"failed",resultCode:ae.toString(),resultDesc:X};x("failed"),_(y,"failed",re),u({title:"Payment Failed",description:X,variant:"destructive"})}}else if(Z.ResponseCode&&Z.ResponseCode!=="0"){const ee={status:"failed",resultCode:Z.ResponseCode,resultDesc:Z.ResponseDescription||"Transaction verification failed"};x("failed"),_(y,"failed",ee),u({title:"Payment Failed",description:ee.resultDesc,variant:"destructive"})}},onError:Z=>{console.error("Transaction status check failed:",Z)}}),B=Z=>{if(!Z){console.error("Cannot start polling without checkout ID"),x("failed");return}console.log("Starting payment status polling for:",Z);let ee=0;const ae=setInterval(()=>{if(ee++,b(ee),ee>=40){clearInterval(ae),x("failed"),u({title:"Payment Timeout",description:"Payment verification timed out. Please contact support with reference: "+Z.slice(-8),variant:"destructive"});return}if(g==="success"||g==="failed"){clearInterval(ae);return}A.mutate(Z)},3e3);return ae},G=()=>{const Z=f.replace(/[\s\-\(\)\+]/g,"");if(!Z||Z.length<10){u({title:"Invalid Phone Number",description:"Please enter a valid phone number",variant:"destructive"});return}let ee=Z;if(Z.startsWith("0")?ee="254"+Z.substring(1):(Z.startsWith("7")||Z.startsWith("1"))&&(ee="254"+Z),!/^254\d{9}$/.test(ee)){u({title:"Invalid Phone Number",description:"Please enter a valid Safaricom number (e.g., 0712345678 or 254712345678)",variant:"destructive"});return}O.mutate({phoneNumber:ee,amount:o,botInstanceId:i})},z=()=>{x("form"),b(0),w(""),k(null)},se=()=>{b(0),x("form"),w(""),k(null),r()};return t.jsx(It,{open:e,onOpenChange:se,children:t.jsxs(_t,{className:"max-w-md",children:[t.jsx(Tt,{children:t.jsxs(Et,{className:"flex items-center gap-2",children:[t.jsx(uv,{className:"h-5 w-5 text-green-600"}),"Bot Approval Payment"]})}),g==="form"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ce,{className:"border-green-200 bg-green-50/50",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsx(ze,{className:"text-lg text-green-800",children:"Pay to Approve Bot"}),t.jsx(rt,{className:"text-green-600",children:"Complete payment to activate your WhatsApp bot"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"}),t.jsxs("div",{className:"text-lg font-bold text-green-600",children:["KSh ",o]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Service:"}),t.jsx("div",{className:"text-sm",children:"Bot Approval"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Pe,{htmlFor:"paymentPhone",className:"flex items-center gap-2",children:[t.jsx(li,{className:"h-4 w-4"}),"M-Pesa Phone Number"]}),t.jsx(At,{id:"paymentPhone","data-testid":"input-payment-phone",placeholder:"254700000000",value:f,onChange:Z=>p(Z.target.value.replace(/[\s\-\(\)]/g,"")),className:"text-lg"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your M-Pesa phone number to receive payment prompt"})]})]})]}),t.jsx(K,{onClick:G,"data-testid":"button-approve-bot",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 text-lg",disabled:O.isPending,children:O.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"mr-2 h-4 w-4 animate-spin"}),"Initiating Payment..."]}):t.jsxs(t.Fragment,{children:[t.jsx(uv,{className:"mr-2 h-4 w-4"}),"Pay KSh ",o," & Approve Bot"]})})]}),g==="processing"&&t.jsxs("div",{className:"space-y-4 text-center py-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Ao,{className:"h-8 w-8 text-blue-600 animate-spin"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Processing Payment"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Check your phone for M-Pesa payment prompt and enter your PIN"}),t.jsxs(Ci,{children:[t.jsx(xm,{className:"h-4 w-4"}),t.jsxs(ki,{children:["Payment request sent to ",f,". Please complete the M-Pesa transaction on your phone."]})]})]}),t.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Transaction ID:"})," ",y]}),t.jsxs("div",{children:["Status checks: ",j," / 40"]}),t.jsx("div",{className:"text-xs",children:"This will automatically update when payment is completed"})]})]}),g==="success"&&t.jsxs("div",{className:"space-y-4 text-center py-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Jm,{className:"h-8 w-8 text-green-600"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Your bot has been approved and is now active"}),t.jsx(ce,{className:"border-green-200 bg-green-50",children:t.jsx(ue,{className:"pt-4",children:t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Amount Paid:"}),t.jsxs("span",{className:"font-medium",children:["KSh ",C?.amount]})]}),C?.mpesaReceiptNumber&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Receipt:"}),t.jsx("span",{className:"font-medium",children:C.mpesaReceiptNumber})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Status:"}),t.jsx("span",{className:"font-medium text-green-600",children:"Approved"})]})]})})})]}),t.jsx(K,{onClick:se,className:"w-full","data-testid":"button-payment-complete",children:"Continue to Bot Management"})]}),g==="failed"&&t.jsxs("div",{className:"space-y-4 text-center py-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(xm,{className:"h-8 w-8 text-red-600"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Payment Failed"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"The payment could not be completed. Please try again."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{onClick:z,variant:"outline",className:"w-full","data-testid":"button-retry-payment",children:"Try Again"}),t.jsx(K,{onClick:se,variant:"ghost",className:"w-full",children:"Cancel"})]})]})]})})}function qw({open:e,onClose:r}){const{toast:s}=Ht(),[i,o]=h.useState({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!1,autoReact:!1,autoView:!1,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),[c,u]=h.useState(1),[f,p]=h.useState(null),[g,x]=h.useState(null),[y,w]=h.useState(null),[C,k]=h.useState(null),[j,b]=h.useState(!1),[S,_]=h.useState(!1),[O,A]=h.useState(null),[B,G]=h.useState(!1),[z,se]=h.useState(null),[Z,ee]=h.useState(null),[ae,X]=h.useState(""),[re,$]=h.useState([]),ie=async()=>{try{const E=await fetch("/api/servers/available");if(E.ok){const Q=await E.json();$(Q.servers||[])}else console.error("Failed to fetch available servers"),$([])}catch(E){console.error("Error fetching servers:",E),$([])}},q=Ue({mutationFn:async E=>{const Q=E.replace(/[\s\-\(\)\+]/g,""),pe=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:Q})});if(!pe.ok){let $e="Failed to check phone number";try{const Xe=await pe.json();if(Xe.registeredTo&&Xe.message)return{registered:!0,currentServer:!1,registeredTo:Xe.registeredTo,message:Xe.message,serverMismatch:!0};$e=Xe.message||$e}catch{$e=pe.statusText||$e}throw new Error($e)}const Ne=pe.headers.get("content-type");if(!Ne||!Ne.includes("application/json"))throw new Error("Invalid response format from server");return pe.json()},onSuccess:E=>{ee(E),E.registered||E.serverMismatch?E.serverMismatch||!E.currentServer&&E.registeredTo?(x({details:{registeredTo:E.registeredTo},message:E.message,registeredTo:E.registeredTo,botDetails:E.botDetails||null}),u(9)):E.currentServer&&(E.hasBot?(p(E.bot),u(8)):(ie(),u(3))):(ie(),u(3))},onError:E=>{s({title:"Phone Check Failed",description:E.message,variant:"destructive"}),u(1)}}),P=Ue({mutationFn:async E=>{const Q=new FormData;if(Q.append("botName",E.botName),Q.append("phoneNumber",E.phoneNumber),Q.append("credentialType",E.credentialType),Q.append("features",JSON.stringify(E.features)),E.selectedServer&&Q.append("selectedServer",E.selectedServer),E.credentialType==="base64"&&E.sessionId)try{const Ne=atob(E.sessionId.trim());JSON.parse(Ne),Q.append("sessionId",E.sessionId)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}else E.credsFile&&Q.append("credsFile",E.credsFile);const pe=await fetch("/api/guest/register-bot",{method:"POST",body:Q});if(!pe.ok){const Ne=await pe.json();throw new Error(Ne.message||"Failed to register bot")}return pe.json()},onSuccess:E=>{if(E.type==="existing_bot_found")p(E.botDetails),u(8),s({title:"Existing Bot Found",description:E.message||"Welcome back! You have a bot on this server."});else if(E.type==="cross_tenancy_registered")k(E),u(11),s({title:"Auto-Distributed to Available Server",description:E.message||"Your bot has been registered on an available server!"});else{const Q=E.botDetails?.approvalStatus==="approved";u(7),s(Q?{title:"🎉 Bot Auto-Approved!",description:"Congratulations! Your bot has been automatically approved and will be activated shortly."}:{title:"Bot registration submitted",description:E.message||"Your bot is being validated and awaiting approval..."})}},onError:E=>{const Q=E.message;if(Q?.includes("server")&&Q?.includes("registered to")){x({message:Q}),u(9);return}u(c===6?5:4),s({title:"Registration failed",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),R=E=>{if(E.preventDefault(),!i.phoneNumber){s({title:"Validation Error",description:"Please enter your phone number",variant:"destructive"});return}u(2),q.mutate(i.phoneNumber)},Y=E=>{console.log("Selected server:",E),X(E.name),o(Q=>({...Q,selectedServer:E.name})),u(4),b(!1)},ne=()=>{if(c===4){if(i.credentialType==="base64"&&!i.sessionId){s({title:"Validation Error",description:"Please provide the base64 session ID",variant:"destructive"});return}if(i.credentialType==="file"&&!i.credsFile){s({title:"Validation Error",description:"Please upload the creds.json file",variant:"destructive"});return}u(5)}else c===5&&F()},F=()=>{if(!i.botName){s({title:"Validation Error",description:"Please enter a bot name",variant:"destructive"});return}const E={...i,phoneNumber:i.phoneNumber.replace(/^\+/,""),selectedServer:ae||i.selectedServer};u(6),P.mutate(E)},M=E=>{const Q=E.target.files?.[0];Q&&o(pe=>({...pe,credsFile:Q}))};Ue({mutationFn:async({action:E,botId:Q,phoneNumber:pe})=>{const Ne=new FormData;Ne.append("phoneNumber",pe),Ne.append("action",E),Ne.append("botId",Q);const $e=await fetch("/api/guest/manage-bot",{method:"POST",body:Ne});if(!$e.ok){const Xe=await $e.json();throw new Error(Xe.message||`Failed to ${E} bot`)}return $e.json()},onSuccess:async(E,Q)=>{if(s({title:"Success!",description:E.message}),A(null),Q.action==="update_credentials")try{s({title:"Credentials Updated Successfully",description:"Returning to default server..."}),await new Promise(Ne=>setTimeout(Ne,1500)),(await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:"default-server",description:"Returned to default server after credential update"})})).ok&&(s({title:"Returned to Default Server",description:"Credentials updated successfully. You're now back on the default server."}),setTimeout(()=>{oe()},2e3))}catch(pe){console.error("Error switching back to default server:",pe),s({title:"Credentials Updated",description:"Credentials updated successfully, but couldn't return to default server.",variant:"destructive"})}else de()},onError:(E,Q)=>{s({title:`${Q.action.charAt(0).toUpperCase()+Q.action.slice(1)} Failed`,description:E.message,variant:"destructive"}),A(null)}});const de=()=>{s({title:"Status Updated",description:"Bot status has been updated. Please check the bot status."})},xe=()=>{o({botName:"",phoneNumber:"",credentialType:"base64",sessionId:"",credsFile:null,features:{autoLike:!0,autoReact:!1,autoView:!0,presenceMode:"none",intervalSeconds:30,chatGPT:!1},selectedServer:""}),u(1)},oe=()=>{xe(),p(null),x(null),k(null),_(!1),A(null),r()},we=()=>{u(E=>Math.max(E-1,1))};return t.jsxs(It,{open:e,onOpenChange:oe,children:[t.jsxs(_t,{className:"max-w-2xl max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-2xl font-bold text-center",children:"🚀 Register Your TREKKER-MD Bot"})}),c===1&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xl",children:"📱"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Enter Your Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'll check if you have an existing bot or help you register a new one"})]}),t.jsxs("form",{onSubmit:R,className:"space-y-6",children:[t.jsxs(ce,{className:"border-l-4 border-l-blue-500",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsx(ze,{className:"text-lg",children:"Phone Number Verification"}),t.jsx(rt,{children:"Enter your WhatsApp phone number to begin registration"})]}),t.jsx(ue,{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:"Phone Number (with country code) *"}),t.jsx(At,{id:"phoneNumber","data-testid":"input-phone-number",placeholder:"+254700000000",value:i.phoneNumber,onChange:E=>{const Q=E.target.value.replace(/[\s\-\(\)]/g,"");o(pe=>({...pe,phoneNumber:Q}))},onPaste:E=>{E.preventDefault();const pe=E.clipboardData.getData("text").replace(/[\s\-\(\)]/g,"");o(Ne=>({...Ne,phoneNumber:pe}))},required:!0,className:"mt-1 text-lg",autoFocus:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your phone number with country code (+ will be removed automatically)"})]})})]}),t.jsx(K,{type:"submit","data-testid":"button-check-phone",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",disabled:q.isPending,children:q.isPending?"🔍 Checking...":"🔍 Check Phone Number"})]})]}),c===2&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🔍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Checking Your Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Searching the God Registry for existing bot registrations..."}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),c===3&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"🌍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Select Your Server"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is not registered. Choose a server to register your bot on."})]}),t.jsxs(ce,{className:"border-l-4 border-l-green-500",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsx(ze,{className:"text-lg",children:"Available Servers"}),t.jsx(rt,{children:"Select a server with available bot slots"})]}),t.jsx(ue,{className:"space-y-4",children:t.jsx("div",{className:"grid gap-3",children:re.map(E=>t.jsx("div",{onClick:()=>Y(E),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors","data-testid":`server-option-${E.id}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium text-green-600",children:[E.availableSlots," slots available"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.currentBots,"/",E.maxBots," bots"]})]})]})},E.id))})})]}),t.jsx(K,{onClick:we,variant:"outline",className:"w-full","data-testid":"button-back-step-3",children:"← Back to Phone Number"})]}),c===4&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔐"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Authentication Credentials"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide your WhatsApp session credentials to connect your bot"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ce,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsx(ze,{className:"text-lg",children:"Bot Information"}),t.jsx(rt,{children:"Enter your bot name and choose credential type"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"botName",className:"text-sm font-medium",children:"Bot Name *"}),t.jsx(At,{id:"botName","data-testid":"input-bot-name",placeholder:"My WhatsApp Bot",value:i.botName,onChange:E=>o(Q=>({...Q,botName:E.target.value})),required:!0,className:"mt-1",autoFocus:!0})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Choose Credential Type *"}),t.jsxs($h,{value:i.credentialType,onValueChange:E=>o(Q=>({...Q,credentialType:E})),className:"mt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Yo,{value:"base64",id:"base64"}),t.jsx(Pe,{htmlFor:"base64",className:"cursor-pointer",children:"Paste Base64 Session ID"})]}),t.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Yo,{value:"file",id:"file"}),t.jsx(Pe,{htmlFor:"file",className:"cursor-pointer",children:"Upload creds.json File"})]})]})]}),i.credentialType==="base64"?t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"sessionId",className:"text-sm font-medium",children:"Base64 Session ID *"}),t.jsx(Gn,{id:"sessionId","data-testid":"textarea-session-id",placeholder:"Paste your base64 encoded session ID here...",value:i.sessionId,onChange:E=>o(Q=>({...Q,sessionId:E.target.value})),className:"min-h-[100px] font-mono text-sm mt-1",required:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get your session ID from the pairing site"})]}):t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"credsFile",className:"text-sm font-medium",children:"Upload creds.json File *"}),t.jsx(At,{id:"credsFile","data-testid":"input-creds-file",type:"file",accept:".json",onChange:M,required:!0,className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload the creds.json file from your WhatsApp session"})]})]})]}),t.jsx(K,{onClick:ne,"data-testid":"button-next-step",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"Continue to Features →"})]})]}),c===5&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"→"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"})]})}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl",children:"⚡"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Bot Features"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the automation features for your bot (optional)"})]}),t.jsxs(ce,{className:"border-l-4 border-l-green-500",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsx(ze,{className:"text-lg",children:"Bot Features (Optional)"}),t.jsx(rt,{children:"Select the automation features you want for your bot"})]}),t.jsx(ue,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Hr,{id:"autoLike","data-testid":"checkbox-auto-like",checked:i.features.autoLike,onCheckedChange:E=>o(Q=>({...Q,features:{...Q.features,autoLike:!!E}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{htmlFor:"autoLike",className:"text-sm font-medium cursor-pointer",children:"Auto Like Status"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically like WhatsApp status updates"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Hr,{id:"autoReact","data-testid":"checkbox-auto-react",checked:i.features.autoReact,onCheckedChange:E=>o(Q=>({...Q,features:{...Q.features,autoReact:!!E}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{htmlFor:"autoReact",className:"text-sm font-medium cursor-pointer",children:"Auto React"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically react to messages"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[t.jsx(Hr,{id:"autoView","data-testid":"checkbox-auto-view",checked:i.features.autoView,onCheckedChange:E=>o(Q=>({...Q,features:{...Q.features,autoView:!!E}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{htmlFor:"autoView",className:"text-sm font-medium cursor-pointer",children:"Auto View Status"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically view WhatsApp status"})]})]}),t.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Presence Configuration"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configure how the bot appears online to other users"})]}),t.jsxs(Lr,{value:i.features.presenceMode,onValueChange:E=>o(Q=>({...Q,features:{...Q.features,presenceMode:E}})),children:[t.jsx(Cr,{"data-testid":"select-presence-mode",children:t.jsx(Br,{placeholder:"Select presence mode"})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"none",children:"None - Appear as normal"}),t.jsx(Ke,{value:"always_online",children:"Always Online"}),t.jsx(Ke,{value:"always_typing",children:"Always Typing"}),t.jsx(Ke,{value:"always_recording",children:"Always Recording"}),t.jsx(Ke,{value:"auto_switch",children:"Auto Switch (Recording & Typing)"})]})]}),i.features.presenceMode==="auto_switch"&&t.jsxs("div",{className:"mt-3",children:[t.jsx(Pe,{className:"text-xs text-muted-foreground",children:"Switch Interval (seconds)"}),t.jsx(At,{type:"number",min:"5",max:"120",value:i.features.intervalSeconds,onChange:E=>o(Q=>({...Q,features:{...Q.features,intervalSeconds:parseInt(E.target.value)||30}})),className:"mt-1","data-testid":"input-interval-seconds"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50 md:col-span-2",children:[t.jsx(Hr,{id:"chatGPT","data-testid":"checkbox-chatgpt",checked:i.features.chatGPT,onCheckedChange:E=>o(Q=>({...Q,features:{...Q.features,chatGPT:!!E}})),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{htmlFor:"chatGPT",className:"text-sm font-medium cursor-pointer",children:"ChatGPT Integration"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable AI responses for conversations"})]})]})]})})]}),t.jsx(K,{onClick:ne,"data-testid":"button-register-bot-final",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg rounded-lg shadow-lg transform transition hover:scale-[1.02]",children:"🚀 Register Bot Now"})]}),c===6&&t.jsx("div",{className:"space-y-6 pb-4",children:t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl animate-spin",children:"🚀"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Registering Your Bot"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please wait while we set up your WhatsApp bot..."}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),c===7&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl animate-bounce",children:"🎉"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-green-700 dark:text-green-400",children:"Congratulations! You have successfully claimed your bot!"}),t.jsxs("div",{className:"bg-white/80 dark:bg-green-800/30 rounded-lg p-4 mt-4",children:[t.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-300 mb-2",children:"🎁 Special Offer Active!"}),t.jsx("p",{className:"text-sm text-green-700 dark:text-green-200",children:"Your bot will be auto-approved - don't contact admin!"})]})]}),t.jsxs(ce,{className:"border-l-4 border-l-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-lg text-green-700 dark:text-green-300",children:"🚀 Your Bot is Ready!"}),t.jsx(rt,{className:"text-green-600 dark:text-green-400",children:"Auto-approval is in progress"})]}),t.jsxs(ue,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-green-500",children:"✅"}),t.jsx("span",{className:"font-medium text-sm",children:"Registration Complete"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Bot successfully registered and validated"})]}),t.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-green-500",children:"✅"}),t.jsx("span",{className:"font-medium text-sm",children:"Auto-Approval Active"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Your bot will be approved automatically"})]}),t.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-purple-500",children:"⚡"}),t.jsx("span",{className:"font-medium text-sm",children:"No Admin Contact Needed"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Special offer - instant activation"})]}),t.jsxs("div",{className:"bg-white/50 dark:bg-green-800/20 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-orange-500",children:"🎁"}),t.jsx("span",{className:"font-medium text-sm",children:"Free Trial Period"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enjoy all premium features"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:[t.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"🎯 What's Next?"}),t.jsxs("ul",{className:"space-y-1 text-sm text-blue-600 dark:text-blue-400",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"Your bot will automatically start within a few minutes"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"You'll receive a WhatsApp confirmation message"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"All premium TREKKER-MD features are now available"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 mb-2",children:"🌟 Welcome to TREKKER-MD Lifetime Bot! 🌟"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Thank you for choosing our premium WhatsApp automation platform"})]})]})]}),t.jsx(K,{onClick:oe,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 text-lg","data-testid":"button-close-success",children:"🚀 Awesome! Let's Go"})]}),c===8&&f&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-robot text-2xl text-blue-600"})}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Bot Found!"}),t.jsxs("p",{className:"text-muted-foreground",children:['To manage your bot "',f.name,'", please verify your ownership by uploading your credentials.']})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx("span",{children:"🤖"}),f.name]}),t.jsxs(rt,{children:["Phone: ",f.phoneNumber]})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Status:"}),t.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Approval:"}),t.jsx("div",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs ${f.isApproved?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.approvalStatus})]})]}),f.isApproved&&f.timeRemaining&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-green-800",children:["⏰ ",t.jsxs("strong",{children:[f.timeRemaining," days"]})," remaining until expiry"]})}),f.isExpired&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Your bot has expired. Please contact admin for renewal."})}),t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-800 rounded-full flex items-center justify-center",children:"🔐"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Security Verification Required"}),t.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please upload your credentials file to verify bot ownership"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(K,{className:"w-full bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>{oe(),s({title:"Credential Validation Required",description:"Please use the 'Search Your Bot' page to verify your credentials and manage your bot securely.",duration:5e3})},children:"🔍 Go to Bot Search & Verification"}),t.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 text-center",children:'For security, bot management requires credential verification. Use the "Search Your Bot" page to securely access your bot.'})]})]})]})]}),t.jsx(K,{onClick:oe,className:"w-full","data-testid":"button-close-existing-bot",children:"Close"})]}),c===9&&g&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white text-xl",children:"🔄"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-amber-700 dark:text-amber-400",children:"Phone Number Found on Different Server"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your phone number is registered on a different server"})]}),t.jsxs(ce,{className:"border-l-4 border-l-amber-500",children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-lg",children:"Server Information"}),t.jsx(rt,{children:"Current vs. Registered Server"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[t.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Server"}),t.jsx("p",{className:"text-lg font-bold",children:"default-server"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Where you're trying to register"})]}),t.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 dark:bg-blue-900",children:[t.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Registered Server"}),t.jsx("p",{className:"text-lg font-bold text-blue-600",children:g.registeredTo}),t.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Where your bot exists"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Choose Your Action:"}),t.jsxs("div",{className:"grid gap-3",children:[t.jsx(K,{onClick:async E=>{E.preventDefault(),E.stopPropagation(),console.log("Server switch button clicked!"),console.log("ServerMismatch data:",g);try{s({title:"Switching Server",description:`Switching to ${g.registeredTo}...`}),console.log("Making server configure call...");const Q=await fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:g.registeredTo,description:`Switched to ${g.registeredTo} for bot management`})});if(console.log("Server configure response:",Q.status),!Q.ok){const $e=await Q.json();throw console.error("Server configure error:",$e),new Error($e.message||"Failed to switch server")}const pe=await Q.json();console.log("Server configure result:",pe),s({title:"Server Switched",description:`Successfully switched to ${g.registeredTo}`}),await new Promise($e=>setTimeout($e,1e3)),console.log("Checking registration on new server...");const Ne=await fetch("/api/guest/check-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:i.phoneNumber})});if(console.log("Check registration response:",Ne.status),Ne.ok){const $e=await Ne.json();console.log("Check registration data:",$e),$e.hasBot&&$e.bot?(p($e.bot),X(g.registeredTo),u(8),console.log("Successfully switched to existing bot management")):(console.log("No bot found on registered server"),s({title:"Bot Not Found",description:"Could not find your bot on the registered server",variant:"destructive"}))}else{const $e=await Ne.text();console.error("Check registration failed:",$e),s({title:"Error",description:"Failed to verify bot on registered server",variant:"destructive"})}}catch(Q){console.error("Server switch error:",Q),s({title:"Server Switch Failed",description:Q instanceof Error?Q.message:"Unknown error",variant:"destructive"})}},className:"justify-start text-left h-auto p-4","data-testid":"button-switch-to-registered-server",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"🔄 Switch to Registered Server"}),t.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["Manage your existing bot on ",g.registeredTo]})]})}),t.jsx(K,{variant:"outline",onClick:()=>{u(3)},className:"justify-start text-left h-auto p-4","data-testid":"button-stay-current-server",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"📱 Use Different Phone Number"}),t.jsx("div",{className:"text-sm opacity-80 mt-1",children:"Register a new bot with different phone number on this server"})]})})]})]})]})]}),t.jsx(K,{onClick:we,variant:"outline",className:"w-full","data-testid":"button-back-step-9",children:"← Back to Phone Number"})]}),c===11&&C&&t.jsxs("div",{className:"space-y-6 pb-4",children:[t.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl",children:"🌍"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-700 dark:text-purple-400",children:"Auto-Distributed to Available Server!"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your bot has been automatically assigned to the best available server"})]}),t.jsxs(ce,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-lg",children:"🎯 Server Assignment"}),t.jsx(rt,{children:"Your bot has been optimally placed"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[t.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Assigned Server"}),t.jsx("p",{className:"text-lg font-bold text-purple-600",children:C.assignedServer}),t.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Optimized for your location and performance"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"✅ What happens next:"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),"Your bot is registered on ",C.assignedServer]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"📱"}),"Contact +254704897825 for activation"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-purple-500 mt-0.5",children:"🔄"}),"Switch to ",C.assignedServer," to manage your bot"]})]})]})]})]}),t.jsxs(K,{onClick:()=>{X(C.assignedServer),oe()},className:"w-full","data-testid":"button-switch-to-assigned-server",children:["🔄 Switch to ",C.assignedServer]})]}),c===7&&C&&t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl text-white",children:"🔄"})}),t.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-700 dark:text-emerald-400",children:"Auto-Distributed Successfully!"}),t.jsx("p",{className:"text-muted-foreground",children:C.message})]}),t.jsxs(ce,{className:"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2 text-emerald-700 dark:text-emerald-400",children:[t.jsx("span",{children:"🤖"}),C.botDetails?.name]}),t.jsxs(rt,{children:["Phone: ",C.botDetails?.phoneNumber]})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Original Server:"}),t.jsx("div",{className:"text-muted-foreground",children:C.originalServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Assigned To:"}),t.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:C.assignedServer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Available Slots:"}),t.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[C.botDetails?.availableSlots," remaining"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Registration Type:"}),t.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Auto-Distribution"})]})]}),C.serverUrl&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🌐 ",t.jsx("strong",{children:"Server URL:"})," ",C.serverUrl]})})]})]}),t.jsx(ce,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:t.jsxs(ue,{className:"p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🎯 Next Steps"}),t.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:C.nextSteps?.map((E,Q)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),E]},Q))})]})}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2 flex items-center gap-2",children:"✨ Cross-Tenancy Benefits"}),t.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Automatic load balancing across servers"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Seamless bot management from any approved server"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhanced reliability and availability"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Global bot registry synchronization"]})]})]}),t.jsx(K,{onClick:oe,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700","data-testid":"button-close-cross-tenancy",children:"🚀 Awesome! Let's Go"})]})]}),f&&t.jsx(zw,{open:S,onClose:()=>_(!1),botId:f.id,phoneNumber:f.phoneNumber,crossTenancyMode:!!g,targetServer:g?.details?.registeredTo,onSuccess:()=>{de()}}),t.jsx(Uw,{open:B,onClose:()=>G(!1),phoneNumber:z?.phoneNumber||i.phoneNumber,botInstanceId:z?.botId,amount:100,onPaymentSuccess:E=>{console.log("Payment successful:",E),G(!1),s({title:"Bot Approved!",description:"Your bot has been approved and activated successfully"}),setTimeout(()=>{oe()},2e3)}})]})}const dO=el("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:e,variant:r,...s}){return t.jsx("div",{className:ke(dO({variant:r}),e),...s})}function uO({open:e,onClose:r}){const[s,i]=h.useState("pending"),[o,c]=h.useState(!1),[u,f]=h.useState(!1),[p,g]=h.useState(null),[x,y]=h.useState("3"),[w,C]=h.useState(""),[k,j]=h.useState(""),b=jr(),{data:S=[],isLoading:_}=gt({queryKey:["/api/bots/pending"],enabled:e&&s==="pending"}),{data:O=[],isLoading:A}=gt({queryKey:["/api/bots/approved"],enabled:e&&s==="approved"}),B=Ue({mutationFn:async({botId:q,duration:P})=>(await wt("POST",`/api/bots/${q}/approve`,{expirationMonths:P})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),b.invalidateQueries({queryKey:["/api/bots/approved"]}),c(!1),g(null)}}),G=Ue({mutationFn:async({botId:q,reason:P})=>(await wt("POST",`/api/bots/${q}/reject`,{reason:P})).json(),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/bots/pending"]}),j("")}}),z=Ue({mutationFn:async({botId:q,message:P})=>(await wt("POST",`/api/admin/send-message/${q}`,{message:P})).json(),onSuccess:()=>{f(!1),C(""),g(null)}}),se=q=>{g(q),c(!0)},Z=()=>{p&&x&&B.mutate({botId:p.id,duration:parseInt(x)})},ee=(q,P)=>{G.mutate({botId:q.id,reason:P})},ae=q=>{g(q),f(!0)},X=()=>{p&&w.trim()&&z.mutate({botId:p.id,message:w})},re=q=>new Date(q).toLocaleDateString(),$=(q,P)=>{const R=new Date(q);return R.setMonth(R.getMonth()+P),R.toLocaleDateString()},ie=(q,P)=>{const R=new Date(q);return R.setMonth(R.getMonth()+P),(R.getTime()-Date.now())/(1e3*60*60*24)<=7};return t.jsxs(t.Fragment,{children:[t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-xl font-bold",children:"🔧 Admin Bot Management"})}),t.jsxs("div",{className:"flex space-x-1 bg-muted/30 p-1 rounded-lg mb-6",children:[t.jsxs("button",{onClick:()=>i("pending"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="pending"?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["🔄 Pending Bots (",S.length,")"]}),t.jsxs("button",{onClick:()=>i("approved"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${s==="approved"?"bg-green-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:["✅ Approved Bots (",O.length,")"]})]}),s==="pending"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Pending Bot Registrations"}),_?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):S.length===0?t.jsx(ce,{children:t.jsx(ue,{className:"text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})})}):t.jsx("div",{className:"grid gap-4",children:S.map(q=>t.jsx(ce,{className:"border-orange-200",children:t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-clock text-orange-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:q.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",q.phoneNumber||"No phone number"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",re(q.createdAt)]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ye,{variant:"secondary",className:"text-orange-600 bg-orange-100",children:"Pending"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(K,{size:"sm",onClick:()=>se(q),className:"bg-green-600 hover:bg-green-700 text-white",children:[t.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{const P=prompt("Rejection reason:");P&&ee(q,P)},className:"text-red-600 border-red-600 hover:bg-red-50",children:[t.jsx("i",{className:"fas fa-times mr-1"}),"Reject"]})]})]})]})})},q.id))})]}),s==="approved"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Approved & Active Bots"}),A?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):O.length===0?t.jsx(ce,{children:t.jsx(ue,{className:"text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})})}):t.jsx("div",{className:"grid gap-4",children:O.map(q=>t.jsx(ce,{className:"border-green-200",children:t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-check-circle text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:q.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["📱 ",q.phoneNumber||"No phone number"]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[t.jsxs("span",{children:["✅ Approved: ",re(q.approvalDate)]}),t.jsxs("span",{children:["⏰ Expires: ",$(q.approvalDate,q.expirationMonths)]}),t.jsxs("span",{children:["📅 Duration: ",q.expirationMonths," months"]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ye,{variant:q.status==="online"?"default":"secondary",className:q.status==="online"?"bg-green-600 text-white":"text-gray-600 bg-gray-100",children:q.status==="online"?"🟢 Online":"⚪ Offline"}),ie(q.approvalDate,q.expirationMonths)&&t.jsx(Ye,{variant:"destructive",className:"text-red-600 bg-red-100",children:"⚠️ Expiring Soon"}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>ae(q),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[t.jsx("i",{className:"fas fa-message mr-1"}),"Message"]})]})]})})},q.id))})]})]})}),t.jsx(It,{open:o,onOpenChange:c,children:t.jsxs(_t,{children:[t.jsx(Tt,{children:t.jsx(Et,{children:"✅ Approve Bot Registration"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Bot Name"}),t.jsx("p",{className:"font-medium",children:p?.name})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Phone Number"}),t.jsx("p",{className:"font-medium",children:p?.phoneNumber})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"duration",children:"Approval Duration *"}),t.jsxs(Lr,{value:x,onValueChange:y,children:[t.jsx(Cr,{children:t.jsx(Br,{})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"1",children:"1 Month"}),t.jsx(Ke,{value:"2",children:"2 Months"}),t.jsx(Ke,{value:"3",children:"3 Months"}),t.jsx(Ke,{value:"6",children:"6 Months"}),t.jsx(Ke,{value:"12",children:"12 Months"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will expire and return to pending after this duration"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(K,{onClick:Z,disabled:B.isPending,className:"bg-green-600 hover:bg-green-700",children:B.isPending?"Approving...":"Approve Bot"}),t.jsx(K,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),t.jsx(It,{open:u,onOpenChange:f,children:t.jsxs(_t,{children:[t.jsx(Tt,{children:t.jsx(Et,{children:"📱 Send Message to Bot User"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Bot"}),t.jsxs("p",{className:"font-medium",children:[p?.name," (",p?.phoneNumber,")"]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"message",children:"Message *"}),t.jsx(Gn,{id:"message",value:w,onChange:q=>C(q.target.value),placeholder:"Enter your message to the bot user...",rows:4})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(K,{onClick:X,disabled:z.isPending||!w.trim(),className:"bg-blue-600 hover:bg-blue-700",children:z.isPending?"Sending...":"Send Message"}),t.jsx(K,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})})]})}function fO(){const{isAdmin:e}=rl(),{toast:r}=Ht(),[s,i]=h.useState(!1),[o,c]=h.useState(!1),[u,f]=h.useState(!1),[p,g]=h.useState(!1),[x,y]=h.useState(!1),[w,C]=h.useState(null),[k,j]=h.useState(null),[b,S]=h.useState(!1),[_,O]=h.useState(new Date),{data:A={},isLoading:B}=gt({queryKey:["/api/dashboard/stats"]}),{data:G={},isLoading:z}=gt({queryKey:["/api/server/info"]}),{data:se=[],isLoading:Z}=gt({queryKey:["/api/bot-instances"],enabled:e}),{data:ee=[],isLoading:ae}=gt({queryKey:["/api/bots/pending"],enabled:e}),{data:X=[],isLoading:re}=gt({queryKey:["/api/bots/approved"],enabled:e}),{data:$=[],isLoading:ie}=gt({queryKey:["/api/activities"]}),{data:q=[],isLoading:P}=gt({queryKey:["/api/commands"],enabled:e}),{data:R,isLoading:Y}=gt({queryKey:["/api/offer/current"],refetchInterval:1e3}),{data:ne=[],isLoading:F}=gt({queryKey:["/api/admin/god-registry"],enabled:e});U0();const M=Ue({mutationFn:({id:E,expirationMonths:Q})=>wt("POST",`/api/bots/${E}/approve`,{expirationMonths:Q}),onSuccess:()=>{r({title:"Bot approved successfully!"}),yr.invalidateQueries({queryKey:["/api/bots/pending"]}),yr.invalidateQueries({queryKey:["/api/bots/approved"]}),yr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to approve bot",variant:"destructive"})}}),de=Ue({mutationFn:E=>wt("POST",`/api/bots/${E}/reject`),onSuccess:()=>{r({title:"Bot rejected and removed"}),yr.invalidateQueries({queryKey:["/api/bots/pending"]}),yr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to reject bot",variant:"destructive"})}}),xe=Ue({mutationFn:({botId:E,feature:Q,enabled:pe})=>wt("POST",`/api/bot-instances/${E}/toggle-feature`,{feature:Q,enabled:pe}),onSuccess:()=>{r({title:"Feature updated successfully!"}),yr.invalidateQueries({queryKey:["/api/bots/approved"]}),yr.invalidateQueries({queryKey:["/api/activities"]})},onError:()=>{r({title:"Failed to update feature",variant:"destructive"})}});Ue({mutationFn:E=>wt("POST",`/api/bot-instances/${E}/revoke`),onSuccess:()=>{r({title:"Bot approval revoked",description:"Bot returned to pending status"}),yr.invalidateQueries({queryKey:["/api/bots/approved"]}),yr.invalidateQueries({queryKey:["/api/bots/pending"]}),yr.invalidateQueries({queryKey:["/api/bot-instances"]}),yr.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{r({title:"Failed to revoke approval",variant:"destructive"})}}),Ue({mutationFn:E=>wt("POST",`/api/bot-instances/${E}/restart`),onSuccess:()=>{r({title:"Bot restarted successfully"}),yr.invalidateQueries({queryKey:["/api/bots/approved"]}),yr.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:()=>{r({title:"Failed to restart bot",variant:"destructive"})}});const oe=Ue({mutationFn:({phoneNumber:E,tenancyName:Q})=>wt("PUT",`/api/admin/god-registry/${encodeURIComponent(E)}`,{tenancyName:Q}),onSuccess:()=>{r({title:"Registration updated successfully!"}),yr.invalidateQueries({queryKey:["/api/admin/god-registry"]}),j(null)},onError:()=>{r({title:"Failed to update registration",variant:"destructive"})}}),we=Ue({mutationFn:E=>wt("DELETE",`/api/admin/god-registry/${encodeURIComponent(E)}`),onSuccess:()=>{r({title:"Registration deleted successfully!"}),yr.invalidateQueries({queryKey:["/api/admin/god-registry"]})},onError:()=>{r({title:"Failed to delete registration",variant:"destructive"})}});return h.useEffect(()=>{const E=setInterval(()=>{O(new Date)},1e3);return()=>clearInterval(E)},[]),h.useEffect(()=>{e&&(sessionStorage.getItem("admin-refreshed")||(sessionStorage.setItem("admin-refreshed","true"),window.location.reload()))},[e]),t.jsxs("div",{children:[t.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["🤖 ",G.serverName||"TREKKER-MD"," Dashboard"]})}),t.jsxs("p",{className:"text-muted-foreground",children:["Ultra fast lifetime WhatsApp bot automation",G.serverName&&t.jsxs("span",{className:"ml-2 text-xs bg-blue-600 text-white px-2 py-1 rounded",children:[G.currentBots,"/",G.maxBots," slots used"]}),!G.hasSecretConfig&&G.serverName==="default-server"&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"⚠️ Default server name - Configure recommended"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[e&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(K,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"🔧 Manage Commands"}),t.jsx(K,{onClick:()=>g(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"👥 Manage Bots"}),t.jsx(K,{onClick:()=>y(!0),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📱 God Registry"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{className:"w-10 h-10 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80 transition-colors","data-testid":"button-notifications",children:t.jsx("i",{className:"fas fa-bell text-muted-foreground"})}),t.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full"})]})]})]})}),t.jsxs("div",{className:"p-6",children:[e&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(ce,{className:"bg-card border-border",children:t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Bots"}),t.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-total-bots",children:B||Z?"...":A?.totalBots||0})]}),t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-robot text-primary text-xl"})})]}),t.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[t.jsxs("span",{className:"text-green-400 text-sm",children:["+",A?.activeBots||0]}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"instances"})]})]})}),t.jsx(ce,{className:"bg-card border-border",children:t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-sm",children:"Active Bots"}),t.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-active-bots",children:B||Z?"...":A?.activeBots||0})]}),t.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-check-circle text-green-400 text-xl"})})]}),t.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[t.jsxs("span",{className:"text-green-400 text-sm",children:[A?.totalBots?Math.round(A.activeBots/A.totalBots*100):0,"%"]}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"uptime"})]})]})}),t.jsx(ce,{className:"bg-card border-border",children:t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-sm",children:"Messages Today"}),t.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-messages",children:B?"...":A?.messagesCount||0})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-comment text-blue-400 text-xl"})})]}),t.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[t.jsx("span",{className:"text-green-400 text-sm",children:"+12.5%"}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"vs yesterday"})]})]})}),t.jsx(ce,{className:"bg-card border-border",children:t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-sm",children:"Commands Executed"}),t.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"stat-commands",children:B?"...":A?.commandsCount||0})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-terminal text-purple-400 text-xl"})})]}),t.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[t.jsx("span",{className:"text-green-400 text-sm",children:"+8.2%"}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"from last hour"})]})]})})]}),!Y&&R?.isActive&&t.jsx(ce,{className:"bg-gradient-to-r from-green-600 to-emerald-600 border-none mb-6 text-white",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🎁 SPECIAL OFFER ACTIVE!"}),t.jsxs("p",{className:"text-green-100 mb-4",children:[R.offer?.name," - Limited Time Only!"]}),R.offer?.endTime&&(()=>{const Q=new Date(R.offer.endTime).getTime()-_.getTime();if(Q<=0)return t.jsx("div",{className:"bg-white/20 rounded-lg p-4 text-center",children:t.jsx("p",{className:"text-lg font-bold text-red-200",children:"Offer Expired"})});const pe=Math.floor(Q/(1e3*60*60*24)),Ne=Math.floor(Q%(1e3*60*60*24)/(1e3*60*60)),$e=Math.floor(Q%(1e3*60*60)/(1e3*60)),Xe=Math.floor(Q%(1e3*60)/1e3);return t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[t.jsx("div",{className:"text-2xl font-bold",children:pe}),t.jsx("div",{className:"text-sm text-green-100",children:"Days"})]}),t.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[t.jsx("div",{className:"text-2xl font-bold",children:Ne}),t.jsx("div",{className:"text-sm text-green-100",children:"Hours"})]}),t.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[t.jsx("div",{className:"text-2xl font-bold",children:$e}),t.jsx("div",{className:"text-sm text-green-100",children:"Minutes"})]}),t.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[t.jsx("div",{className:"text-2xl font-bold",children:Xe}),t.jsx("div",{className:"text-sm text-green-100",children:"Seconds"})]})]})})(),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("p",{className:"font-semibold text-lg",children:"🚀 Register now and get instant approval!"}),t.jsxs("p",{className:"text-sm text-green-100 mt-1",children:["All bots registered during this offer period will be automatically approved for ",R.offer?.durationMonths," month",R.offer?.durationMonths!==1?"s":"","!"]})]})]})})}),!e&&t.jsx(ce,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 mb-6",children:t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"🚀 Get Your Bot Running in 3 Easy Steps"}),t.jsx("p",{className:"text-muted-foreground",children:"Follow these simple steps to get your TREKKER-MD bot up and running"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"1"}),t.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Generate Session ID"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get fresh WhatsApp credentials for your bot"}),t.jsxs(K,{onClick:()=>window.open("https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/","_blank"),variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-50","data-testid":"dashboard-generate-session",children:[t.jsx("i",{className:"fas fa-key mr-2"}),"Generate Session ID"]})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"2"}),t.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Register Your Bot"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload credentials and register your bot instance"}),t.jsxs(K,{onClick:()=>f(!0),className:"w-full bg-green-600 hover:bg-green-700 text-white","data-testid":"dashboard-register-bot",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Register Bot"]})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"3"}),t.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Pay & Approve"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete payment for instant bot approval"}),t.jsxs(K,{onClick:()=>S(!0),className:"w-full bg-purple-600 hover:bg-purple-700 text-white","data-testid":"dashboard-pay-approve",children:[t.jsx("i",{className:"fas fa-credit-card mr-2"}),"Pay & Approve Bot"]})]})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(Ac,{href:"/guest/bot-management",children:t.jsxs(K,{variant:"outline",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white border-none hover:from-blue-700 hover:to-purple-700",children:[t.jsx("i",{className:"fas fa-robot mr-2"}),"Manage My Bots"]})})})]})}),e?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ce,{className:"bg-card border-border",children:[t.jsxs(Ve,{className:"border-b border-border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ze,{className:"text-lg font-semibold text-foreground",children:"⏳ Pending Bot Registrations"}),t.jsx(K,{onClick:()=>c(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"🔧 Manage Commands"})]}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Review and approve new bot registrations"})]}),t.jsx(ue,{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:ae?t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):ee.length===0?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:"No pending bot registrations"})}):ee.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md","data-testid":`pending-bot-${E.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-clock text-yellow-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:E.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:E.phoneNumber||"No phone number"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(E.createdAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(K,{size:"sm",onClick:()=>M.mutate({id:E.id,expirationMonths:12}),disabled:M.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":`button-approve-${E.id}`,children:"✅ Approve"}),t.jsx(K,{size:"sm",onClick:()=>de.mutate(E.id),disabled:de.isPending,variant:"destructive","data-testid":`button-reject-${E.id}`,children:"❌ Reject"})]})]},E.id))})})]}),e&&t.jsxs(ce,{className:"bg-card border-border",children:[t.jsxs(Ve,{className:"border-b border-border",children:[t.jsx(ze,{className:"text-lg font-semibold text-foreground",children:"✅ Approved Bot Instances"}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Active bots with auto-running capabilities"})]}),t.jsx(ue,{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:re?t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):X.length===0?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:"No approved bots yet"})}):X.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-500/10 border border-green-500/20 rounded-md","data-testid":`approved-bot-${E.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-robot text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:E.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:E.phoneNumber||"No phone number"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500",children:"APPROVED"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded ${E.status==="online"?"text-green-400 bg-green-500/10":"text-gray-400 bg-gray-500/10"}`,children:E.status?.toUpperCase()||"UNKNOWN"})]})]},E.id))})})]})]}):t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs(ce,{className:"bg-card border-border",children:[t.jsxs(Ve,{className:"border-b border-border",children:[t.jsx(ze,{className:"text-lg font-semibold text-foreground",children:"📊 Your Bot Status"}),t.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Overview of your registered bots and their current status"})]}),t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-robot text-blue-600 text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Bots Registered Yet"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Use the steps above to get your first TREKKER-MD bot running"}),t.jsx(Ac,{href:"/guest/bot-management",children:t.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-view-bots",children:[t.jsx("i",{className:"fas fa-eye mr-2"}),"View My Bots"]})})]})})]})}),t.jsx(ce,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-none mt-8 text-white",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",children:"🚀 TREKKER-MD LIFETIME BOT"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"Ultra fast WhatsApp automation - No expiry, Lifetime access"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-sm",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"flex items-center justify-center mb-2",children:t.jsx("i",{className:"fab fa-telegram text-xl"})}),t.jsx("p",{className:"font-medium",children:"Telegram"}),t.jsx("p",{className:"text-xs text-blue-100",children:"@trekkermd_"})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"flex items-center justify-center mb-2",children:t.jsx("i",{className:"fab fa-whatsapp text-xl"})}),t.jsx("p",{className:"font-medium",children:"WhatsApp"}),t.jsx("p",{className:"text-xs text-blue-100",children:"+254704897825"})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"flex items-center justify-center mb-2",children:t.jsx("i",{className:"fab fa-instagram text-xl"})}),t.jsx("p",{className:"font-medium",children:"Instagram"}),t.jsx("p",{className:"text-xs text-blue-100",children:"@nicholaso_tesla"})]})]}),t.jsx("p",{className:"text-xs text-blue-200 mt-4",children:e?"Admin access - Full system control":"Upload base64 credentials to deploy your bot instantly"})]})})})]}),t.jsx(Pw,{open:s,onClose:()=>i(!1)}),t.jsx(Z4,{open:o,onClose:()=>c(!1)}),t.jsx(qw,{open:u,onClose:()=>f(!1)}),e&&t.jsx(uO,{open:p,onClose:()=>g(!1)}),t.jsx(Uw,{open:b,onClose:()=>S(!1)}),w&&t.jsx(It,{open:!!w,onOpenChange:()=>C(null),children:t.jsxs(_t,{className:"max-w-md",children:[t.jsx(Tt,{children:t.jsxs(Et,{className:"text-lg font-semibold",children:["Manage Bot Features - ",w.name]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle features for this bot. Changes take effect immediately."}),t.jsx("div",{className:"space-y-3",children:[{key:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates"},{key:"autoReact",label:"Auto React",description:"Automatically react to messages"},{key:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status"},{key:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses"},{key:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations"}].map(E=>{const Q=w.settings?.features?.[E.key]||!1;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{className:"text-sm font-medium",children:E.label}),t.jsx("p",{className:"text-xs text-muted-foreground",children:E.description})]}),t.jsx(Hr,{checked:Q,onCheckedChange:pe=>{xe.mutate({botId:w.id,feature:E.key,enabled:!!pe}),C(Ne=>Ne?{...Ne,settings:{...Ne.settings,features:{...Ne.settings?.features,[E.key]:!!pe}}}:null)},disabled:xe.isPending})]},E.key)})}),t.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:t.jsx(K,{variant:"outline",onClick:()=>C(null),children:"Close"})})]})]})}),x&&t.jsx(It,{open:x,onOpenChange:()=>y(!1),children:t.jsxs(_t,{className:"max-w-4xl",children:[t.jsxs(Tt,{children:[t.jsx(Et,{children:"📱 God Registry Management"}),t.jsx(Oo,{children:"Manage global phone number registrations across all tenants"})]}),t.jsx("div",{className:"space-y-4",children:F?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):ne.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No registrations found"}):t.jsx("div",{className:"space-y-2",children:ne.map(E=>t.jsx("div",{className:"border border-border rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-foreground",children:["📱 ",E.phoneNumber]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tenant: ",E.tenancyName]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registered: ",new Date(E.registeredAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(K,{variant:"outline",size:"sm",onClick:()=>j(E),"data-testid":`button-edit-${E.phoneNumber}`,children:"✏️ Edit"}),t.jsx(K,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete registration for ${E.phoneNumber}?`)&&we.mutate(E.phoneNumber)},disabled:we.isPending,"data-testid":`button-delete-${E.phoneNumber}`,children:we.isPending?"...":"🗑️ Delete"})]})]})},E.phoneNumber))})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(K,{onClick:()=>y(!1),children:"Close"})})]})}),k&&t.jsx(It,{open:!!k,onOpenChange:()=>j(null),children:t.jsxs(_t,{children:[t.jsxs(Tt,{children:[t.jsx(Et,{children:"✏️ Edit Registration"}),t.jsxs(Oo,{children:["Update the tenant assignment for ",k.phoneNumber]})]}),t.jsxs("form",{onSubmit:E=>{E.preventDefault();const pe=new FormData(E.currentTarget).get("tenancyName");pe.trim()&&oe.mutate({phoneNumber:k.phoneNumber,tenancyName:pe.trim()})},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),t.jsx("input",{type:"text",value:k.phoneNumber,disabled:!0,className:"w-full p-3 border border-border rounded-md bg-muted text-muted-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tenant Name"}),t.jsx("input",{type:"text",name:"tenancyName",defaultValue:k.tenancyName,placeholder:"Enter new tenant name",required:!0,className:"w-full p-3 border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"input-tenancy-name"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(K,{type:"button",variant:"outline",onClick:()=>j(null),children:"Cancel"}),t.jsx(K,{type:"submit",disabled:oe.isPending,"data-testid":"button-update-registration",children:oe.isPending?"Updating...":"Update"})]})]})]})})]})}var mO="Separator",uy="horizontal",hO=["horizontal","vertical"],Ww=h.forwardRef((e,r)=>{const{decorative:s,orientation:i=uy,...o}=e,c=pO(i)?i:uy,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return t.jsx(Fe.div,{"data-orientation":c,...f,...o,ref:r})});Ww.displayName=mO;function pO(e){return hO.includes(e)}var Kw=Ww;const Zc=h.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...i},o)=>t.jsx(Kw,{ref:o,decorative:s,orientation:r,className:ke("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Zc.displayName=Kw.displayName;function gO({bot:e,isOpen:r,onClose:s}){const{toast:i}=Ht(),o=jr(),[c,u]=h.useState(()=>({autoLike:e.autoLike||!1,autoReact:e.autoReact||!1,autoView:e.autoViewStatus||!1,typingIndicator:e.typingMode!=="none",chatGPT:e.chatgptEnabled||!1,alwaysOnline:e.alwaysOnline||!1,autoRecording:e.presenceMode==="recording",presenceAutoSwitch:e.presenceAutoSwitch||!1})),f=Ue({mutationFn:({feature:C,enabled:k})=>wt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:C,enabled:k}),onSuccess:(C,{feature:k,enabled:j})=>{u(b=>({...b,[k]:j})),o.invalidateQueries({queryKey:["/api/bots/pending"]}),o.invalidateQueries({queryKey:["/api/bots/approved"]}),o.invalidateQueries({queryKey:["/api/bot-instances"]}),i({title:"Feature updated successfully"})},onError:C=>{i({title:"Failed to update feature",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),p=(C,k)=>{f.mutate({feature:C,enabled:k})},g=[{id:"autoLike",label:"Auto Like Status",description:"Automatically like WhatsApp status updates",apiKey:"autoLike",getValue:()=>c.autoLike},{id:"autoReact",label:"Auto React",description:"Automatically react to messages",apiKey:"autoReact",getValue:()=>c.autoReact},{id:"autoView",label:"Auto View Status",description:"Automatically view WhatsApp status",apiKey:"autoView",getValue:()=>c.autoView}],x=[{id:"typingIndicator",label:"Typing Indicator",description:"Show typing indicator for responses",apiKey:"typingIndicator",getValue:()=>c.typingIndicator},{id:"autoRecording",label:"Auto Recording",description:"Show recording indicator automatically",apiKey:"autoRecording",getValue:()=>c.autoRecording},{id:"alwaysOnline",label:"Always Online",description:"Keep bot status as online always",apiKey:"alwaysOnline",getValue:()=>c.alwaysOnline},{id:"presenceAutoSwitch",label:"Auto Switch Typing/Recording",description:"Switch between typing and recording every 30 seconds",apiKey:"presenceAutoSwitch",getValue:()=>c.presenceAutoSwitch}],y=[{id:"chatGPT",label:"ChatGPT Integration",description:"Enable AI responses for conversations",apiKey:"chatGPT",getValue:()=>c.chatGPT}],w=(C,k)=>t.jsxs("div",{className:"space-y-3","data-testid":`section-${C.toLowerCase().replace(/\s+/g,"-")}`,children:[t.jsx("h4",{className:"font-medium text-sm text-foreground",children:C}),t.jsx("div",{className:"space-y-3",children:k.map(j=>t.jsxs("div",{className:"flex items-start space-x-3","data-testid":`feature-${j.id}`,children:[t.jsx(Hr,{id:j.id,checked:j.getValue(e),onCheckedChange:b=>p(j.apiKey,!!b),disabled:f.isPending||e.approvalStatus!=="approved","data-testid":`checkbox-${j.id}`}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Pe,{htmlFor:j.id,className:"text-sm font-medium cursor-pointer",children:j.label}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.description})]})]},j.id))})]});return t.jsx(It,{open:r,onOpenChange:s,children:t.jsxs(_t,{className:"max-w-md","data-testid":"modal-bot-features",children:[t.jsx(Tt,{children:t.jsxs(Et,{"data-testid":"modal-title",children:["Manage Bot Features - ",e.name]})}),t.jsxs("div",{className:"space-y-6",children:[e.approvalStatus!=="approved"&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:t.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Bot must be approved before features can be managed"})}),w("Automation",g),t.jsx(Zc,{}),w("Presence",x),t.jsx(Zc,{}),w("AI Integration",y),t.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:t.jsx(K,{variant:"outline",onClick:s,"data-testid":"button-close",children:"Close"})})]})]})})}function xO(e){if(!e||e.length<8)return e;const r=e.slice(0,7),s=e.slice(-2),i="*".repeat(Math.max(0,e.length-9));return`${r}${i}${s}`}function fy({bot:e}){const{toast:r}=Ht(),s=jr(),{isAdmin:i,token:o}=rl(),[c,u]=h.useState(!1),f=Ue({mutationFn:({feature:j,enabled:b})=>wt("POST",`/api/bot-instances/${e.id}/toggle-feature`,{feature:j,enabled:b}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Feature updated successfully"})},onError:j=>{r({title:"Failed to update feature",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),p=Ue({mutationFn:()=>wt("POST",`/api/bot-instances/${e.id}/approve`,{expirationMonths:3}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Bot approved successfully",description:"Bot is now approved for 3 months"})},onError:j=>{r({title:"Failed to approve bot",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),g=Ue({mutationFn:()=>wt("POST",`/api/bot-instances/${e.id}/revoke`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]}),r({title:"Bot approval revoked",description:"Bot has been returned to pending status"})},onError:j=>{r({title:"Failed to revoke approval",description:j instanceof Error?j.message:"Unknown error",variant:"destructive"})}}),x=Ue({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/start`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to start bot");return j.json()})},onSuccess:()=>{r({title:"Bot started successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{r({title:"Failed to start bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),y=Ue({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/stop`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to stop bot");return j.json()})},onSuccess:()=>{r({title:"Bot stopped successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{r({title:"Failed to stop bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),w=Ue({mutationFn:()=>{if(!i)throw new Error("Admin access required");return fetch(`/api/bot-instances/${e.id}/restart`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(j=>{if(!j.ok)throw new Error("Failed to restart bot");return j.json()})},onSuccess:()=>{r({title:"Bot restarted successfully"}),s.invalidateQueries({queryKey:["/api/bots/pending"]}),s.invalidateQueries({queryKey:["/api/bots/approved"]}),s.invalidateQueries({queryKey:["/api/bot-instances"]})},onError:j=>{r({title:"Failed to restart bot",description:j.message.includes("Admin")?"Admin access required":"Server error",variant:"destructive"})}}),C=j=>{switch(j){case"online":return"status-online";case"offline":return"status-offline";case"error":return"status-error";case"loading":return"status-loading";default:return"status-offline"}},k=()=>i?e.status==="online"?t.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-md text-sm hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":`button-stop-bot-${e.id}`,children:y.isPending?"Stopping...":"Stop"}):e.status==="error"?t.jsx("button",{onClick:()=>w.mutate(),disabled:w.isPending,className:"flex-1 bg-destructive text-destructive-foreground py-2 px-3 rounded-md text-sm hover:bg-destructive/90 transition-colors disabled:opacity-50","data-testid":`button-restart-bot-${e.id}`,children:w.isPending?"Restarting...":"Restart"}):t.jsx("button",{onClick:()=>x.mutate(),disabled:x.isPending,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-start-bot-${e.id}`,children:x.isPending?"Starting...":"Start"}):t.jsx("button",{disabled:!0,className:"flex-1 bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm cursor-not-allowed",title:"Admin access required",children:"🔒 Admin Only"});return t.jsxs(ce,{className:"bg-card border-border","data-testid":`bot-card-${e.id}`,children:[t.jsxs(ue,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e.status==="online"?"bg-primary":e.status==="error"?"bg-yellow-500/20":"bg-muted"}`,children:t.jsx("i",{className:`fab fa-whatsapp text-xl ${e.status==="online"?"text-primary-foreground":e.status==="error"?"text-yellow-400 pulse-animation":"text-muted-foreground"}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground","data-testid":`bot-name-${e.id}`,children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`bot-phone-${e.id}`,children:e.phoneNumber?i?e.phoneNumber:xO(e.phoneNumber):"Not connected"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${C(e.status)}`,"data-testid":`bot-status-${e.id}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),t.jsx("button",{className:"w-8 h-8 bg-muted rounded-md flex items-center justify-center hover:bg-muted/80","data-testid":`button-bot-menu-${e.id}`,children:t.jsx("i",{className:"fas fa-ellipsis-v text-muted-foreground"})})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[e.approvalStatus==="pending"&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"⏳ Awaiting Approval"}),t.jsx("p",{className:"text-xs text-yellow-600",children:"This bot is waiting for admin approval"})]}),t.jsx("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:opacity-50",children:p.isPending?"⏳":"✅ Approve"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoLike",enabled:!e.autoLike}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoView",enabled:!e.autoViewStatus}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoViewStatus?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoViewStatus?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>f.mutate({feature:"autoReact",enabled:!e.autoReact}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>f.mutate({feature:"chatGPT",enabled:!e.chatgptEnabled}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.chatgptEnabled?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.chatgptEnabled?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing"}),t.jsx("button",{onClick:()=>f.mutate({feature:"typingIndicator",enabled:e.typingMode==="none"}),disabled:f.isPending||e.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${e.typingMode!=="none"?"bg-primary justify-end":"bg-muted justify-start"} ${e.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${e.typingMode!=="none"?"bg-white":"bg-muted-foreground"}`})})]})]})]}),e.status==="error"&&t.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3 mb-4",children:t.jsx("p",{className:"text-sm text-destructive",children:"Connection timeout - attempting restart"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-messages-${e.id}`,children:e.messagesCount}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-foreground","data-testid":`bot-commands-${e.id}`,children:e.commandsCount}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Commands"})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[k(),i&&t.jsxs(t.Fragment,{children:[e.approvalStatus==="pending"&&t.jsx("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"bg-green-600 text-white py-2 px-3 rounded-md text-sm hover:bg-green-700 transition-colors disabled:opacity-50","data-testid":`button-approve-${e.id}`,children:p.isPending?"Approving...":"✓ Approve"}),e.approvalStatus==="approved"&&t.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-orange-600 text-white py-2 px-3 rounded-md text-sm hover:bg-orange-700 transition-colors disabled:opacity-50","data-testid":`button-revoke-${e.id}`,children:g.isPending?"Revoking...":"↓ Normal"})]}),t.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-analytics-${e.id}`,children:t.jsx("i",{className:"fas fa-chart-line"})}),t.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white py-2 px-3 rounded-md text-sm hover:bg-blue-700 transition-colors","data-testid":`button-features-${e.id}`,children:[t.jsx("i",{className:"fas fa-sliders-h mr-1"}),"Features"]}),t.jsx("button",{className:"bg-muted text-muted-foreground py-2 px-3 rounded-md text-sm hover:bg-muted/80 transition-colors","data-testid":`button-settings-${e.id}`,children:t.jsx("i",{className:"fas fa-cog"})})]})]}),t.jsx(gO,{bot:e,isOpen:c,onClose:()=>u(!1)})]})}function vO(){const[e,r]=h.useState(!1),[s,i]=h.useState("pending"),{data:o=[],isLoading:c}=gt({queryKey:["/api/bots/pending"]}),{data:u=[],isLoading:f}=gt({queryKey:["/api/bots/approved"]}),p=o||[],g=u||[];return U0(),t.jsxs("div",{children:[t.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Bot Management Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage bot instances based on their approval status"})]}),t.jsxs(K,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-new-bot",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Bot"]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs(_a,{value:s,onValueChange:x=>i(x),children:[t.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[t.jsx(St,{value:"pending",className:"relative","data-testid":"tab-pending",children:t.jsxs("span",{className:"flex items-center gap-2",children:["⏳ Pending Approval",p.length>0&&t.jsx(Ye,{variant:"secondary",className:"ml-1 bg-yellow-100 text-yellow-800",children:p.length})]})}),t.jsx(St,{value:"approved",className:"relative","data-testid":"tab-approved",children:t.jsxs("span",{className:"flex items-center gap-2",children:["✅ Approved Bots",g.length>0&&t.jsx(Ye,{variant:"secondary",className:"ml-1 bg-green-100 text-green-800",children:g.length})]})})]}),t.jsxs(yt,{value:"pending",className:"mt-6",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pending Bot Approvals"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots are awaiting admin approval. Limited functionality is available until approved."})]}),c?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>t.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24"}),t.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-3 bg-muted rounded"}),t.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):p.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-clock text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Pending Approvals"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"All bots have been reviewed. Create a new bot to get started."}),t.jsx(K,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-pending-bot",children:"Add New Bot"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(x=>t.jsx(fy,{bot:{...x,approvalStatus:"pending"}},x.id))})]}),t.jsxs(yt,{value:"approved",className:"mt-6",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Approved Bots"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"These bots have been approved and have full functionality available."})]}),f?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(3)].map((x,y)=>t.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-24"}),t.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-3 bg-muted rounded"}),t.jsx("div",{className:"h-3 bg-muted rounded"})]})]},y))}):g.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-check-circle text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Approved Bots"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Approve pending bots or create new ones to get started."}),t.jsx(K,{onClick:()=>i("pending"),variant:"outline",className:"mr-2","data-testid":"button-view-pending",children:"View Pending"}),t.jsx(K,{onClick:()=>r(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-approved-bot",children:"Add New Bot"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(x=>t.jsx(fy,{bot:{...x,approvalStatus:"approved"}},x.id))})]})]})}),t.jsx(Pw,{open:e,onClose:()=>r(!1)})]})}const yO=D4;function bO(){const{toast:e}=Ht(),r=jr(),[s,i]=h.useState(!1),[o,c]=h.useState("all"),{data:u=[],isLoading:f}=gt({queryKey:["/api/commands"]}),{data:p=[]}=gt({queryKey:["/api/bot-instances"]}),g=Mj({resolver:Lj(yO),defaultValues:{name:"",description:"",response:"",isActive:!0,useChatGPT:!1,botInstanceId:null}}),x=Ue({mutationFn:b=>wt("POST","/api/commands",b),onSuccess:()=>{e({title:"Command created successfully"}),r.invalidateQueries({queryKey:["/api/commands"]}),g.reset(),i(!1)},onError:b=>{e({title:"Failed to create command",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),y=Ue({mutationFn:({id:b,isActive:S})=>wt("PATCH",`/api/commands/${b}`,{isActive:S}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/commands"]})}}),w=Ue({mutationFn:()=>wt("POST","/api/commands/sync"),onSuccess:b=>{e({title:"Commands synced successfully",description:`${b.addedCount} new commands added`}),r.invalidateQueries({queryKey:["/api/commands"]})},onError:b=>{e({title:"Failed to sync commands",description:b instanceof Error?b.message:"Unknown error",variant:"destructive"})}}),C=Ue({mutationFn:b=>wt("DELETE",`/api/commands/${b}`),onSuccess:()=>{e({title:"Command deleted successfully"}),r.invalidateQueries({queryKey:["/api/commands"]})},onError:()=>{e({title:"Failed to delete command",variant:"destructive"})}}),k=b=>{x.mutate(b)},j=u.filter(b=>o==="all"?!0:o==="global"?!b.botInstanceId:b.botInstanceId===o);return t.jsxs("div",{children:[t.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Commands"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage bot commands with prefix (.)"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(Lr,{value:o,onValueChange:c,children:[t.jsx(Cr,{className:"w-48 bg-input border-border text-foreground","data-testid":"select-bot-filter",children:t.jsx(Br,{})}),t.jsxs(kr,{className:"bg-popover border-border",children:[t.jsx(Ke,{value:"all",children:"All Commands"}),t.jsx(Ke,{value:"global",children:"Global Commands"}),p.map(b=>t.jsx(Ke,{value:b.id,children:b.name},b.id))]})]}),t.jsxs(K,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-sync-commands",children:[t.jsx("i",{className:"fas fa-sync mr-2"}),w.isPending?"Syncing...":"Sync Commands"]}),t.jsxs(It,{open:s,onOpenChange:i,children:[t.jsx(FT,{asChild:!0,children:t.jsxs(K,{className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-add-command",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"Add Command"]})}),t.jsxs(_t,{className:"bg-card border-border max-w-2xl","data-testid":"modal-add-command",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-lg font-semibold text-foreground",children:"Add New Command"})}),t.jsxs("form",{onSubmit:g.handleSubmit(k),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"command-name",children:"Command Name"}),t.jsx(At,{id:"command-name",placeholder:"help, status, info...",...g.register("name"),"data-testid":"input-command-name"}),g.formState.errors.name&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"bot-instance",children:"Bot Instance"}),t.jsxs(Lr,{value:g.watch("botInstanceId")||"",onValueChange:b=>g.setValue("botInstanceId",b||null),children:[t.jsx(Cr,{"data-testid":"select-command-bot",children:t.jsx(Br,{placeholder:"Global command"})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"",children:"Global command"}),p.map(b=>t.jsx(Ke,{value:b.id,children:b.name},b.id))]})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"description",children:"Description"}),t.jsx(At,{id:"description",placeholder:"What does this command do?",...g.register("description"),"data-testid":"input-command-description"}),g.formState.errors.description&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:g.formState.errors.description.message})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"response",children:"Response"}),t.jsx(Gn,{id:"response",placeholder:"Static response text (leave empty if using ChatGPT)",...g.register("response"),rows:3,"data-testid":"textarea-command-response"})]}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"use-chatgpt",checked:g.watch("useChatGPT")||!1,onCheckedChange:b=>g.setValue("useChatGPT",b),"data-testid":"checkbox-use-chatgpt"}),t.jsx(Pe,{htmlFor:"use-chatgpt",children:"Use ChatGPT"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Hr,{id:"is-active",checked:g.watch("isActive")||!1,onCheckedChange:b=>g.setValue("isActive",b),"data-testid":"checkbox-command-active"}),t.jsx(Pe,{htmlFor:"is-active",children:"Active"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx(K,{type:"button",variant:"ghost",onClick:()=>i(!1),"data-testid":"button-cancel-command",children:"Cancel"}),t.jsx(K,{type:"submit",disabled:x.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-save-command",children:x.isPending?"Creating...":"Create Command"})]})]})]})]})]})]})}),t.jsx("div",{className:"p-6",children:f?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading commands..."})]}):j.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-terminal text-muted-foreground text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Commands Found"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first command to get started"}),t.jsx(K,{onClick:()=>i(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-create-first-command",children:"Create Your First Command"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(b=>t.jsxs(ce,{className:"bg-card border-border","data-testid":`command-card-${b.id}`,children:[t.jsx(Ve,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("code",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-mono",children:[".",b.name]}),b.useChatGPT&&t.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded text-xs",children:[t.jsx("i",{className:"fas fa-brain mr-1"}),"GPT"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>y.mutate({id:b.id,isActive:!b.isActive}),className:`w-8 h-4 rounded-full flex items-center px-1 ${b.isActive?"bg-primary justify-end":"bg-muted justify-start"}`,"data-testid":`toggle-command-${b.id}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${b.isActive?"bg-white":"bg-muted-foreground"}`})}),t.jsx("button",{onClick:()=>C.mutate(b.id),className:"text-muted-foreground hover:text-destructive transition-colors","data-testid":`button-delete-command-${b.id}`,children:t.jsx("i",{className:"fas fa-trash text-sm"})})]})]})}),t.jsxs(ue,{children:[t.jsx("p",{className:"text-sm text-foreground mb-3","data-testid":`command-description-${b.id}`,children:b.description}),b.response&&t.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[t.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Response:"}),t.jsx("p",{className:"text-sm text-foreground","data-testid":`command-response-${b.id}`,children:b.response.length>100?`${b.response.substring(0,100)}...`:b.response})]}),b.botInstanceId&&t.jsx("div",{className:"mt-3",children:t.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bot: ",p.find(S=>S.id===b.botInstanceId)?.name||"Unknown"]})})]})]},b.id))})})]})}const Xc=h.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:ke("w-full caption-bottom text-sm",e),...r})}));Xc.displayName="Table";const Jc=h.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:ke("[&_tr]:border-b",e),...r}));Jc.displayName="TableHeader";const ed=h.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:ke("[&_tr:last-child]:border-0",e),...r}));ed.displayName="TableBody";const jO=h.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));jO.displayName="TableFooter";const Bs=h.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Bs.displayName="TableRow";const $t=h.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));$t.displayName="TableHead";const Ft=h.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));Ft.displayName="TableCell";const wO=h.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:ke("mt-4 text-sm text-muted-foreground",e),...r}));wO.displayName="TableCaption";var Qw="AlertDialog",[NO,uM]=Er(Qw,[g0]),fs=g0(),Hw=e=>{const{__scopeAlertDialog:r,...s}=e,i=fs(r);return t.jsx(yh,{...i,...s,modal:!0})};Hw.displayName=Qw;var SO="AlertDialogTrigger",Gw=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,o=fs(s);return t.jsx(R0,{...o,...i,ref:r})});Gw.displayName=SO;var CO="AlertDialogPortal",Yw=e=>{const{__scopeAlertDialog:r,...s}=e,i=fs(r);return t.jsx(bh,{...i,...s})};Yw.displayName=CO;var kO="AlertDialogOverlay",Zw=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,o=fs(s);return t.jsx(vd,{...o,...i,ref:r})});Zw.displayName=kO;var xi="AlertDialogContent",[PO,_O]=NO(xi),TO=Uy("AlertDialogContent"),Xw=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:i,...o}=e,c=fs(s),u=h.useRef(null),f=lt(r,u),p=h.useRef(null);return t.jsx(IT,{contentName:xi,titleName:Jw,docsSlug:"alert-dialog",children:t.jsx(PO,{scope:s,cancelRef:p,children:t.jsxs(yd,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:Me(o.onOpenAutoFocus,g=>{g.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[t.jsx(TO,{children:i}),t.jsx(AO,{contentRef:u})]})})})});Xw.displayName=xi;var Jw="AlertDialogTitle",eN=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,o=fs(s);return t.jsx(jh,{...o,...i,ref:r})});eN.displayName=Jw;var tN="AlertDialogDescription",rN=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,o=fs(s);return t.jsx(wh,{...o,...i,ref:r})});rN.displayName=tN;var EO="AlertDialogAction",nN=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,o=fs(s);return t.jsx(Nh,{...o,...i,ref:r})});nN.displayName=EO;var sN="AlertDialogCancel",aN=h.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...i}=e,{cancelRef:o}=_O(sN,s),c=fs(s),u=lt(r,o);return t.jsx(Nh,{...c,...i,ref:u})});aN.displayName=sN;var AO=({contentRef:e})=>{const r=`\`${xi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xi}\` by passing a \`${tN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},RO=Hw,IO=Gw,OO=Yw,iN=Zw,oN=Xw,lN=nN,cN=aN,dN=eN,uN=rN;const Vh=RO,zh=IO,DO=OO,fN=h.forwardRef(({className:e,...r},s)=>t.jsx(iN,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));fN.displayName=iN.displayName;const Id=h.forwardRef(({className:e,...r},s)=>t.jsxs(DO,{children:[t.jsx(fN,{}),t.jsx(oN,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));Id.displayName=oN.displayName;const Od=({className:e,...r})=>t.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...r});Od.displayName="AlertDialogHeader";const Dd=({className:e,...r})=>t.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Dd.displayName="AlertDialogFooter";const Md=h.forwardRef(({className:e,...r},s)=>t.jsx(dN,{ref:s,className:ke("text-lg font-semibold",e),...r}));Md.displayName=dN.displayName;const Fd=h.forwardRef(({className:e,...r},s)=>t.jsx(uN,{ref:s,className:ke("text-sm text-muted-foreground",e),...r}));Fd.displayName=uN.displayName;const Ld=h.forwardRef(({className:e,...r},s)=>t.jsx(lN,{ref:s,className:ke(mh(),e),...r}));Ld.displayName=lN.displayName;const Bd=h.forwardRef(({className:e,...r},s)=>t.jsx(cN,{ref:s,className:ke(mh({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));Bd.displayName=cN.displayName;function MO({open:e,onClose:r}){const{toast:s}=Ht(),i=jr(),[o,c]=h.useState(""),[u,f]=h.useState({serverUrl:"",adminToken:""}),[p,g]=h.useState(null),[x,y]=h.useState(!1),[w,C]=h.useState(""),[k,j]=h.useState("base64"),[b,S]=h.useState(!1),[_,O]=h.useState(null),[A,B]=h.useState("3"),[G,z]=h.useState(""),[se,Z]=h.useState("all"),[ee,ae]=h.useState("all"),[X,re]=h.useState("all"),[$,ie]=h.useState("name"),[q,P]=h.useState("asc"),[R,Y]=h.useState([]),[ne,F]=h.useState(!1),[M,de]=h.useState(null),[xe,oe]=h.useState(""),[we,E]=h.useState(!1),[Q,pe]=h.useState(""),[Ne,$e]=h.useState(!1),{data:Xe=[],isLoading:Gt}=gt({queryKey:["/api/master/tenancies"],enabled:e}),{data:tt=[],isLoading:Vr,refetch:Zr}=gt({queryKey:["/api/master/cross-tenancy-bots"],enabled:e,refetchInterval:1e4}),{data:un=[],isLoading:Mi}=gt({queryKey:["/api/servers/list"],enabled:e,refetchInterval:15e3}),{data:ms=[],isLoading:D}=gt({queryKey:["/api/master/approved-bots"],enabled:e,refetchInterval:1e4}),U=tt.filter(T=>{const be=G===""||T.name.toLowerCase().includes(G.toLowerCase())||T.phoneNumber.includes(G)||T.tenancy.toLowerCase().includes(G.toLowerCase()),Ze=se==="all"||T.status===se,st=ee==="all"||T.tenancy===ee,xt=X==="all"||T.approvalStatus===X;return be&&Ze&&st&&xt}).sort((T,be)=>{let Ze,st;switch($){case"name":Ze=T.name.toLowerCase(),st=be.name.toLowerCase();break;case"phoneNumber":Ze=T.phoneNumber,st=be.phoneNumber;break;case"server":Ze=T.tenancy,st=be.tenancy;break;case"status":Ze=T.status,st=be.status;break;case"lastActivity":Ze=new Date(T.lastActivity||0),st=new Date(be.lastActivity||0);break;default:Ze=T.name,st=be.name}return Ze<st?q==="asc"?-1:1:Ze>st?q==="asc"?1:-1:0}),te={totalBots:tt.length,onlineBots:tt.filter(T=>T.status==="online").length,pendingBots:tt.filter(T=>T.approvalStatus==="pending").length,approvedBots:tt.filter(T=>T.approvalStatus==="approved").length,serverDistribution:tt.reduce((T,be)=>(T[be.tenancy]=(T[be.tenancy]||0)+1,T),{}),statusDistribution:tt.reduce((T,be)=>(T[be.status]=(T[be.status]||0)+1,T),{})};Ue({mutationFn:async T=>(console.log(`Attempting to connect to ${T.tenancy} via God Registry`),{success:!0,message:`Connected to ${T.tenancy} via God Registry`}),onSuccess:()=>{s({title:"Success",description:"Successfully connected to tenancy server"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:T=>{s({title:"Connection Failed",description:T.message,variant:"destructive"})}});const Se=Ue({mutationFn:async T=>await(await wt("POST","/api/master/migrate-bot",T)).json(),onSuccess:()=>{s({title:"Bot Migration Successful",description:"Bot has been migrated to the target server"}),F(!1),de(null),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:T=>{s({title:"Migration Failed",description:T.message,variant:"destructive"})}}),je=Ue({mutationFn:async T=>await(await wt("POST","/api/master/batch-operation",T)).json(),onSuccess:T=>{s({title:"Batch Operation Successful",description:`${T.completedCount} of ${T.totalCount} operations completed successfully`}),E(!1),Y([]),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:T=>{s({title:"Batch Operation Failed",description:T.message,variant:"destructive"})}}),me=Ue({mutationFn:async({action:T,botId:be,tenancy:Ze,data:st})=>(await wt("POST","/api/master/bot-action",{action:T,botId:be,tenancy:Ze,data:st})).json(),onSuccess:(T,be)=>{s({title:"Success",description:`Successfully ${be.action}d bot`}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:T=>{s({title:"Action Failed",description:T.message,variant:"destructive"})}}),Oe=Ue({mutationFn:async({action:T,botId:be,tenancy:Ze,feature:st,enabled:xt})=>(await wt("POST","/api/master/feature-management",{action:T,botId:be,tenancy:Ze,feature:st,enabled:xt})).json(),onSuccess:()=>{s({title:"Feature Updated",description:"Bot feature settings updated successfully"}),i.invalidateQueries({queryKey:["/api/master/cross-tenancy-bots"]})},onError:T=>{s({title:"Feature Update Failed",description:T.message,variant:"destructive"})}}),dt=Ue({mutationFn:async({sourceServer:T,targetServers:be,commandIds:Ze})=>(await wt("POST","/api/master/sync-commands",{sourceServer:T,targetServers:be,commandIds:Ze})).json(),onSuccess:()=>{s({title:"Commands Synced",description:"Commands successfully synced across selected tenancies"})},onError:T=>{s({title:"Command Sync Failed",description:T.message,variant:"destructive"})}}),Je=(T,be,Ze,st)=>{me.mutate({action:T,botId:be,tenancy:Ze,data:st})},Yt=(T,be,Ze,st)=>{Oe.mutate({action:"toggle_feature",botId:T,tenancy:be,feature:Ze,enabled:st})},Xr=()=>{if(_&&A){const T=parseInt(A,10);if(isNaN(T)||T<1||T>12){s({title:"Invalid Duration",description:"Approval duration must be between 1 and 12 months",variant:"destructive"});return}Je("approve",_.id,_.tenancy,{duration:T}),S(!1),O(null)}},zt=T=>{const be={online:"bg-green-500",offline:"bg-gray-500",pending:"bg-yellow-500",approved:"bg-blue-500",rejected:"bg-red-500",dormant:"bg-purple-500"};return t.jsx(Ye,{className:`${be[T]||"bg-gray-500"} text-white`,children:T})};return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-2xl font-bold text-center",children:"🎛️ Master Control Panel"})}),t.jsxs(_a,{defaultValue:"overview",className:"w-full",children:[t.jsxs(Zs,{className:"grid w-full grid-cols-6",children:[t.jsx(St,{value:"overview",children:"Overview"}),t.jsx(St,{value:"servers",children:"Servers"}),t.jsx(St,{value:"bots",children:"Bot Management"}),t.jsx(St,{value:"features",children:"Features"}),t.jsx(St,{value:"credentials",children:"Credentials"}),t.jsx(St,{value:"bulk",children:"Bulk Actions"})]}),t.jsxs(yt,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6 dark:from-blue-900/20 dark:to-purple-900/20 dark:border-blue-800",children:[t.jsx("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"🎛️ Master Control Dashboard"}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Complete control over all server tenancies and bot containers in the TREKKER-MD ecosystem"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Xe.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Tenancies"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:tt.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bots"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:tt.filter(T=>T.approvalStatus==="pending").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:tt.filter(T=>T.status==="online").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Online Bots"})]})]})]}),t.jsxs(ce,{children:[t.jsx(Ve,{children:t.jsxs(ze,{className:"flex items-center gap-2",children:["📊 Real-time System Status",t.jsx(Ye,{variant:"outline",className:"ml-auto",children:"Live"})]})}),t.jsx(ue,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Tenancy Distribution"}),t.jsx("div",{className:"space-y-2",children:Xe.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"font-medium",children:T.name})]}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[T.botCount," bots"]})]},T.name))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Bot Status Summary"}),t.jsx("div",{className:"space-y-2",children:[{status:"online",count:tt.filter(T=>T.status==="online").length,color:"bg-green-500"},{status:"offline",count:tt.filter(T=>T.status==="offline").length,color:"bg-gray-500"},{status:"pending",count:tt.filter(T=>T.approvalStatus==="pending").length,color:"bg-yellow-500"},{status:"error",count:tt.filter(T=>T.status==="error").length,color:"bg-red-500"}].map(T=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 ${T.color} rounded-full`}),t.jsx("span",{className:"capitalize",children:T.status})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:T.count})]},T.status))})]})]})})]})]}),t.jsx(yt,{value:"servers",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-blue-600",children:"🖥️ Server Tenancy Management"}),t.jsx(rt,{children:"Monitor and control all server instances and their bot containers"})]}),t.jsx(ue,{children:Mi?t.jsx("div",{className:"text-center py-8",children:"Loading server information..."}):t.jsx("div",{className:"space-y-4",children:un.slice(0,20).map(T=>t.jsx(ce,{className:"border-l-4 border-l-blue-500",children:t.jsxs(ue,{className:"pt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:["🏢 ",T.name,T.status==="active"?t.jsx(Ye,{className:"bg-green-500 text-white",children:"Active"}):t.jsx(Ye,{className:"bg-gray-500 text-white",children:"Available"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.description||"Server instance ready for bot deployment"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T.currentBots}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Bots"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:T.remainingBots}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Available Slots"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-medium",children:[Math.round(T.currentBots/T.totalBots*100),"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Capacity Used"}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.round(T.currentBots/T.totalBots*100)}%`}})})]})]}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsx(K,{size:"sm",variant:"outline",onClick:()=>{fetch("/api/server/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverName:T.name,description:`Switched to ${T.name} for administration`})}).then(()=>{s({title:"Server Switched",description:`Successfully switched to ${T.name}`}),Zr()})},"data-testid":`button-switch-to-${T.name}`,children:"🔄 Switch To"}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{const be=tt.filter(Ze=>Ze.tenancy===T.name);s({title:"Server Bots",description:`${T.name} has ${be.length} bots registered`})},children:["👁️ View Bots (",tt.filter(be=>be.tenancy===T.name).length,")"]})]})]})},T.name))})})]})}),t.jsx(yt,{value:"tenancies",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:Xe.map(T=>t.jsxs(ce,{children:[t.jsx(Ve,{children:t.jsxs(ze,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[T.name,zt(T.status||"unknown")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Je("sync","",T.name),disabled:me.isPending,children:"Sync"}),t.jsx(K,{size:"sm",variant:"destructive",onClick:()=>Je("disconnect","",T.name),disabled:me.isPending,children:"Disconnect"})]})]})}),t.jsx(ue,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Server URL"}),t.jsx(At,{value:T.url,readOnly:!0})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Bot Count"}),t.jsx(At,{value:T.botCount.toString(),readOnly:!0})]})]})})]},T.name))})}),t.jsxs(yt,{value:"bots",className:"space-y-4",children:[t.jsxs(ce,{className:"border-l-4 border-l-purple-500",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(ci,{className:"h-5 w-5"}),"Advanced Bot Search & Filtering"]}),t.jsx(rt,{children:"Search and filter bots across all server tenancies with real-time results"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(At,{placeholder:"Search by bot name, phone number, or server...",value:G,onChange:T=>z(T.target.value),className:"pl-10","data-testid":"input-search-bots"})]}),t.jsx(K,{variant:"outline",onClick:()=>{z(""),Z("all"),ae("all"),re("all")},"data-testid":"button-clear-filters",children:"Clear"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Status Filter"}),t.jsxs(Lr,{value:se,onValueChange:Z,children:[t.jsx(Cr,{"data-testid":"select-status-filter",children:t.jsx(Br,{})}),t.jsxs(kr,{children:[t.jsxs(Ke,{value:"all",children:["All Status (",te.totalBots,")"]}),t.jsxs(Ke,{value:"online",children:["Online (",te.onlineBots,")"]}),t.jsxs(Ke,{value:"offline",children:["Offline (",te.totalBots-te.onlineBots,")"]}),t.jsx(Ke,{value:"loading",children:"Loading"}),t.jsx(Ke,{value:"error",children:"Error"})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Server Filter"}),t.jsxs(Lr,{value:ee,onValueChange:ae,children:[t.jsx(Cr,{"data-testid":"select-server-filter",children:t.jsx(Br,{})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"all",children:"All Servers"}),Object.entries(te.serverDistribution).map(([T,be])=>t.jsxs(Ke,{value:T,children:[T," (",be,")"]},T))]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Approval Status"}),t.jsxs(Lr,{value:X,onValueChange:re,children:[t.jsx(Cr,{"data-testid":"select-approval-filter",children:t.jsx(Br,{})}),t.jsxs(kr,{children:[t.jsxs(Ke,{value:"all",children:["All (",te.totalBots,")"]}),t.jsxs(Ke,{value:"approved",children:["Approved (",te.approvedBots,")"]}),t.jsxs(Ke,{value:"pending",children:["Pending (",te.pendingBots,")"]}),t.jsx(Ke,{value:"rejected",children:"Rejected"})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Sort By"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(Lr,{value:$,onValueChange:ie,children:[t.jsx(Cr,{"data-testid":"select-sort-by",children:t.jsx(Br,{})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"name",children:"Name"}),t.jsx(Ke,{value:"phoneNumber",children:"Phone"}),t.jsx(Ke,{value:"server",children:"Server"}),t.jsx(Ke,{value:"status",children:"Status"}),t.jsx(Ke,{value:"lastActivity",children:"Activity"})]})]}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>P(q==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:q==="asc"?"↑":"↓"})]})]})]}),t.jsx("div",{className:"bg-muted rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"font-medium",children:["Results: ",U.length," of ",te.totalBots," bots"]}),t.jsxs(Ye,{variant:"outline",children:[U.filter(T=>T.status==="online").length," online"]}),t.jsxs(Ye,{variant:"outline",children:[U.filter(T=>T.approvalStatus==="pending").length," pending"]}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>Zr(),disabled:Vr,className:"ml-auto","data-testid":"button-refresh-data",children:[t.jsx(Xm,{className:"h-3 w-3 mr-1"}),Vr?"Refreshing...":"Refresh"]})]})})]})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-purple-600",children:"🤖 Complete Bot Registry"}),t.jsx(rt,{children:"All bots across all server tenancies with individual container controls"})]}),t.jsx(ue,{children:Vr?t.jsx("div",{className:"text-center py-8",children:"Loading bot registry..."}):t.jsxs(Xc,{children:[t.jsx(Jc,{children:t.jsxs(Bs,{children:[t.jsx($t,{children:"Bot Details"}),t.jsx($t,{children:"Server"}),t.jsx($t,{children:"Status"}),t.jsx($t,{children:"Approval"}),t.jsx($t,{children:"Features"}),t.jsx($t,{children:"Stats"}),t.jsx($t,{children:"Container Actions"})]})}),t.jsx(ed,{children:U.length===0?t.jsx(Bs,{children:t.jsx(Ft,{colSpan:7,className:"text-center py-8",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ci,{className:"h-8 w-8 text-muted-foreground"}),t.jsx("p",{className:"text-muted-foreground",children:"No bots match your current filters"}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>{z(""),Z("all"),ae("all"),re("all")},children:"Clear all filters"})]})})}):U.map(T=>t.jsxs(Bs,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[t.jsx(Ft,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:T.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:T.phoneNumber})]})}),t.jsx(Ft,{children:t.jsx(Ye,{variant:T.tenancy==="default-server"?"default":"outline",children:T.tenancy})}),t.jsx(Ft,{children:t.jsxs("div",{className:"space-y-1",children:[zt(T.status),T.approvalStatus&&t.jsx("div",{children:zt(T.approvalStatus)})]})}),t.jsx(Ft,{children:T.approvalStatus==="pending"?t.jsxs("div",{className:"flex gap-1",children:[t.jsx(K,{size:"sm",variant:"default",onClick:()=>{O(T),S(!0)},disabled:me.isPending,"data-testid":`button-approve-${T.id}`,children:"✅ Approve"}),t.jsx(K,{size:"sm",variant:"destructive",onClick:()=>Je("reject",T.id,T.tenancy),disabled:me.isPending,"data-testid":`button-reject-${T.id}`,children:"❌"})]}):T.approvalStatus==="approved"?t.jsxs("div",{className:"text-xs text-green-600",children:["✅ Approved",T.expirationMonths&&t.jsxs("div",{children:["(",T.expirationMonths,"mo)"]})]}):t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Je("revoke",T.id,T.tenancy),disabled:me.isPending,"data-testid":`button-revoke-${T.id}`,children:"🔄 Revoke Approval"})}),t.jsx(Ft,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsxs(Ye,{variant:T.autoLike?"default":"outline",className:"text-xs",children:["👍 ",T.autoLike?"ON":"OFF"]}),t.jsxs(Ye,{variant:T.chatgptEnabled?"default":"outline",className:"text-xs",children:["🤖 ",T.chatgptEnabled?"ON":"OFF"]})]})}),t.jsx(Ft,{children:t.jsxs("div",{className:"text-xs space-y-1",children:[t.jsxs("div",{children:["Msgs: ",T.messagesCount||0]}),t.jsxs("div",{children:["Cmds: ",T.commandsCount||0]})]})}),t.jsx(Ft,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Je(T.status==="online"?"stop":"start",T.id,T.serverName||T.tenancy||"default-server"),disabled:me.isPending,"data-testid":`button-${T.status==="online"?"stop":"start"}-${T.id}`,children:T.status==="online"?"⏹️":"▶️"}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>{g(T),y(!0)},"data-testid":`button-creds-${T.id}`,children:"🔐"}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Yt(T.id,T.tenancy,"autoLike",!T.autoLike),disabled:Oe.isPending,children:"🎛️"}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>{de(T),F(!0)},disabled:me.isPending,"data-testid":`button-migrate-${T.id}`,title:"Migrate to another server",children:t.jsx(dv,{className:"h-3 w-3"})}),t.jsx(K,{size:"sm",variant:"destructive",onClick:()=>Je("delete",T.id,T.tenancy),disabled:me.isPending,"data-testid":`button-delete-${T.id}`,children:"🗑️"})]})})]},`${T.tenancy}-${T.id}`))})]})})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-green-600",children:"✅ Approved & Active Bots"}),t.jsx(rt,{children:"Currently approved and active bots across all tenancies"})]}),t.jsx(ue,{children:D?t.jsx("div",{className:"text-center py-8",children:"Loading approved bots..."}):t.jsxs(Xc,{children:[t.jsx(Jc,{children:t.jsxs(Bs,{children:[t.jsx($t,{children:"Bot Name"}),t.jsx($t,{children:"Phone Number"}),t.jsx($t,{children:"Tenancy"}),t.jsx($t,{children:"Status"}),t.jsx($t,{children:"Approval Date"}),t.jsx($t,{children:"Last Activity"}),t.jsx($t,{children:"Actions"})]})}),t.jsx(ed,{children:ms.map(T=>t.jsxs(Bs,{children:[t.jsx(Ft,{className:"font-medium",children:T.name}),t.jsx(Ft,{children:T.phoneNumber}),t.jsx(Ft,{children:t.jsx(Ye,{variant:"outline",children:T.serverName})}),t.jsx(Ft,{children:zt(T.status)}),t.jsx(Ft,{className:"text-sm text-muted-foreground",children:T.approvalDate?new Date(T.approvalDate).toLocaleDateString():"N/A"}),t.jsx(Ft,{className:"text-sm text-muted-foreground",children:new Date(T.updatedAt||T.createdAt).toLocaleDateString()}),t.jsx(Ft,{children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Je(T.status==="online"?"stop":"start",T.id,T.serverName||T.tenancy||"default-server"),disabled:me.isPending,"data-testid":`button-${T.status==="online"?"stop":"start"}-${T.id}`,children:T.status==="online"?"⏹️ Stop":"▶️ Start"}),t.jsx(K,{size:"sm",variant:"destructive",onClick:()=>Je("delete",T.id,T.tenancy),disabled:me.isPending,"data-testid":`button-delete-approved-${T.id}`,children:"🗑️ Delete"})]})})]},`approved-${T.serverName}-${T.id}`))})]})})]})]}),t.jsx(yt,{value:"features",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-purple-600",children:"🎛️ Cross-Tenancy Feature Control"}),t.jsx(rt,{children:"Manage bot features across all tenancies from this central panel"})]}),t.jsxs(ue,{className:"space-y-6",children:[t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[t.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:"🌐 Global Feature Management"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"autoLike",label:"Auto Like",icon:"👍",description:"Automatically like status updates"},{key:"autoReact",label:"Auto React",icon:"😄",description:"Automatically react to messages"},{key:"autoView",label:"Auto View",icon:"👁️",description:"Automatically view status updates"},{key:"chatGPT",label:"ChatGPT",icon:"🤖",description:"Enable AI chat responses"},{key:"typingIndicator",label:"Typing",icon:"⌨️",description:"Show typing indicators"},{key:"readReceipts",label:"Read Receipts",icon:"✓✓",description:"Send read receipts"}].map(T=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg",children:T.icon}),t.jsx("span",{className:"font-medium text-sm",children:T.label})]}),t.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:T.description}),t.jsx("div",{className:"space-y-2",children:Xe.map(be=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",children:be.name}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>Yt("",be.name,T.key,!0),className:"h-6 px-2 text-xs",disabled:Oe.isPending,children:"Toggle"})]},be.name))})]},T.key))})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:"🤖 Individual Bot Feature Control"}),t.jsx("div",{className:"space-y-4",children:tt.filter(T=>T.approvalStatus==="approved").map(T=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium",children:T.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.phoneNumber," • ",T.tenancy]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[zt(T.status),t.jsx(Ye,{variant:"outline",children:T.tenancy})]})]}),t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{key:"autoLike",label:"Like",icon:"👍"},{key:"autoReact",label:"React",icon:"😄"},{key:"autoView",label:"View",icon:"👁️"},{key:"chatGPT",label:"AI",icon:"🤖"},{key:"typing",label:"Type",icon:"⌨️"},{key:"receipts",label:"Read",icon:"✓✓"}].map(be=>t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>Yt(T.id,T.tenancy,be.key,!0),className:"flex flex-col items-center gap-1 h-auto py-2",disabled:Oe.isPending,children:[t.jsx("span",{className:"text-sm",children:be.icon}),t.jsx("span",{className:"text-xs",children:be.label})]},be.key))})]},`${T.tenancy}-${T.id}`))})]}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 dark:bg-emerald-900/20 dark:border-emerald-800",children:[t.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:"📡 Command Sync Across Tenancies"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Server"}),t.jsxs("select",{className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800",children:[t.jsx("option",{value:"",children:"Select source server..."}),Xe.map(T=>t.jsx("option",{value:T.name,children:T.name},T.name))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Target Servers"}),t.jsx("div",{className:"space-y-2",children:Xe.map(T=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:`target-${T.name}`,className:"rounded"}),t.jsx("label",{htmlFor:`target-${T.name}`,className:"text-sm",children:T.name})]},T.name))})]})]}),t.jsx(K,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",disabled:dt.isPending,children:"🔄 Sync Selected Commands"})]})]})]})}),t.jsx(yt,{value:"credentials",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-green-600",children:"🔐 Bot Credential Management"}),t.jsx(rt,{children:"Update WhatsApp credentials for bots in their respective containers"})]}),t.jsxs(ue,{children:[t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-800",children:[t.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"⚠️ Credential Update Safety"}),t.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Credential updates are performed within each bot's isolated container. Data registry entries remain unchanged to maintain system integrity."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:tt.filter(T=>T.approvalStatus==="approved").map(T=>t.jsx(ce,{className:"border-l-4 border-l-green-500",children:t.jsx(ue,{className:"pt-6",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.phoneNumber}),t.jsx(Ye,{variant:"outline",className:"mt-1",children:T.tenancy})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Container Status:"}),zt(T.status)]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>{g(T),y(!0)},className:"w-full","data-testid":`button-update-creds-${T.id}`,children:"🔐 Update Credentials"})]})})},`cred-${T.tenancy}-${T.id}`))})]})]})}),t.jsx(yt,{value:"bulk",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{className:"text-red-600",children:"⚡ Bulk Operations"}),t.jsx(rt,{children:"Perform actions on multiple bots across all server tenancies"})]}),t.jsx(ue,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900/20 dark:border-red-800",children:[t.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-3",children:"📋 Bulk Bot Selection"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{const T=tt.map(be=>`${be.tenancy}-${be.id}`);Y(T)},children:["✅ Select All (",tt.length,")"]}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{const T=tt.filter(be=>be.approvalStatus==="pending").map(be=>`${be.tenancy}-${be.id}`);Y(T)},children:["⏳ Select Pending (",tt.filter(T=>T.approvalStatus==="pending").length,")"]}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{const T=tt.filter(be=>be.status==="online").map(be=>`${be.tenancy}-${be.id}`);Y(T)},children:["🟢 Select Online (",tt.filter(T=>T.status==="online").length,")"]}),t.jsx(K,{size:"sm",variant:"destructive",onClick:()=>Y([]),children:"❌ Clear Selection"})]}),t.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["Selected: ",R.length," bots"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(ce,{className:"border-l-4 border-l-green-500",children:t.jsxs(ue,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-green-600 mb-3",children:"✅ Bulk Approve"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approve all selected pending bots"}),t.jsx(K,{size:"sm",variant:"default",className:"w-full",disabled:R.length===0,onClick:()=>{R.forEach(T=>{const[be,Ze]=T.split("-"),st=tt.find(xt=>xt.tenancy===be&&xt.id===Ze);st&&st.approvalStatus==="pending"&&Je("approve",Ze,be,{duration:6})}),s({title:"Bulk Approval",description:`Processing approval for ${R.length} bots`})},children:"Approve Selected"})]})}),t.jsx(ce,{className:"border-l-4 border-l-blue-500",children:t.jsxs(ue,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-blue-600 mb-3",children:"▶️ Bulk Start"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start all selected offline bots"}),t.jsx(K,{size:"sm",variant:"outline",className:"w-full",disabled:R.length===0,onClick:()=>{R.forEach(T=>{const[be,Ze]=T.split("-"),st=tt.find(xt=>xt.tenancy===be&&xt.id===Ze);st&&st.status==="offline"&&Je("start",Ze,be)}),s({title:"Bulk Start",description:`Starting ${R.length} bots`})},children:"Start Selected"})]})}),t.jsx(ce,{className:"border-l-4 border-l-orange-500",children:t.jsxs(ue,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-orange-600 mb-3",children:"⏹️ Bulk Stop"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stop all selected online bots"}),t.jsx(K,{size:"sm",variant:"outline",className:"w-full",disabled:R.length===0,onClick:()=>{R.forEach(T=>{const[be,Ze]=T.split("-"),st=tt.find(xt=>xt.tenancy===be&&xt.id===Ze);st&&st.status==="online"&&Je("stop",Ze,be)}),s({title:"Bulk Stop",description:`Stopping ${R.length} bots`})},children:"Stop Selected"})]})}),t.jsx(ce,{className:"border-l-4 border-l-purple-500",children:t.jsxs(ue,{className:"pt-6",children:[t.jsx("h4",{className:"font-medium text-purple-600 mb-3",children:"🎛️ Bulk Features"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enable features for selected bots"}),t.jsx(K,{size:"sm",variant:"outline",className:"w-full",disabled:R.length===0,onClick:()=>{R.forEach(T=>{const[be,Ze]=T.split("-");Yt(Ze,be,"autoLike",!0)}),s({title:"Bulk Feature Update",description:`Enabling features for ${R.length} bots`})},children:"Enable Auto-Like"})]})})]})]})})]})}),t.jsx(yt,{value:"connect",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"God Registry Information"}),t.jsx(rt,{children:"Cross-tenancy management is powered by the God Registry table"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🔄 How Cross-Tenancy Works:"}),t.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[t.jsx("li",{children:"• All bot registrations are stored in the God Registry table"}),t.jsx("li",{children:"• Each entry contains phone number and tenancy name (SERVER1, SERVER2, etc.)"}),t.jsx("li",{children:"• Master control can see and manage bots across all tenancies"}),t.jsx("li",{children:"• Local tenancy bots show full details, remote ones show registry info"}),t.jsx("li",{children:"• Actions on local tenancy bots are executed directly"}),t.jsx("li",{children:"• Actions on remote tenancy bots are logged for coordination"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 Current Setup:"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("li",{children:["• Current Server: ","SERVER1"]}),t.jsx("li",{children:"• God Registry: Active and monitoring all tenancies"}),t.jsx("li",{children:"• Cross-tenancy actions: Logged and tracked"}),t.jsx("li",{children:"• Data isolation: Each tenancy maintains its own bot data"})]})]}),t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional setup required - God Registry manages everything automatically"})})]})]})})]}),p&&t.jsx(It,{open:x,onOpenChange:y,children:t.jsxs(_t,{className:"max-w-2xl",children:[t.jsx(Tt,{children:t.jsx(Et,{children:"🔐 Update Bot Credentials"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Information"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",p.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",p.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Server:"})," ",p.tenancy]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",p.status]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"credential-type",children:"Credential Type"}),t.jsxs(Lr,{value:k,onValueChange:T=>j(T),children:[t.jsx(Cr,{children:t.jsx(Br,{placeholder:"Select credential type"})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"base64",children:"Base64 String"}),t.jsx(Ke,{value:"file",children:"File Upload"})]})]})]}),k==="base64"?t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"credentials",children:"New Credentials (Base64)"}),t.jsx("textarea",{id:"credentials",className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm",placeholder:"Paste your base64-encoded credentials here...",value:w,onChange:T=>C(T.target.value)})]}):t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"credential-file",children:"Upload Credentials File"}),t.jsx("input",{id:"credential-file",type:"file",accept:".json",className:"w-full p-2 border rounded-md",onChange:T=>{const be=T.target.files?.[0];if(be){const Ze=new FileReader;Ze.onload=st=>{C(st.target?.result||"")},Ze.readAsText(be)}}})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:()=>{if(!w.trim()){s({title:"Validation Error",description:"Please provide credentials",variant:"destructive"});return}fetch("/api/master/bot-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({action:"update_credentials",botId:p.id,tenancy:p.tenancy,data:{credentials:k==="base64"?w:JSON.parse(w),type:k}})}).then(async T=>{if(T.ok)s({title:"Credentials Updated",description:`Credentials updated for ${p.name} in ${p.tenancy} container`}),y(!1),g(null),C(""),Zr();else{const be=await T.json();s({title:"Update Failed",description:be.message||"Failed to update credentials",variant:"destructive"})}})},className:"flex-1","data-testid":"button-save-credentials",children:"💾 Update Credentials"}),t.jsx(K,{variant:"outline",onClick:()=>{y(!1),g(null),C("")},children:"Cancel"})]})]})]})]})}),b&&_&&t.jsx(It,{open:b,onOpenChange:()=>{S(!1),O(null)},children:t.jsxs(_t,{className:"max-w-md",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-center flex items-center justify-center gap-2",children:"✅ Cross-Server Bot Approval"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot Details"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",_.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",_.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Server:"})," ",_.tenancy]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Status:"})," ",_.approvalStatus]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"approval-duration",children:"Approval Duration"}),t.jsxs(Lr,{value:A,onValueChange:B,children:[t.jsx(Cr,{"data-testid":"select-approval-duration",children:t.jsx(Br,{placeholder:"Select approval duration"})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"1",children:"1 Month"}),t.jsx(Ke,{value:"2",children:"2 Months"}),t.jsx(Ke,{value:"3",children:"3 Months (Recommended)"}),t.jsx(Ke,{value:"6",children:"6 Months"}),t.jsx(Ke,{value:"9",children:"9 Months"}),t.jsx(Ke,{value:"12",children:"12 Months"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bot will be automatically deactivated after this period unless renewed."})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:t.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[t.jsx("strong",{children:"Cross-Server Approval:"})," This bot is located on ",_.tenancy," server. The approval will be coordinated through the God Registry system."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:Xr,disabled:me.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approval",children:me.isPending?t.jsx(t.Fragment,{children:"⏳ Processing..."}):t.jsxs(t.Fragment,{children:["✅ Approve for ",A," Month",parseInt(A)>1?"s":""]})}),t.jsx(K,{variant:"outline",onClick:()=>{S(!1),O(null)},disabled:me.isPending,"data-testid":"button-cancel-approval",children:"Cancel"})]})]})]})}),ne&&M&&t.jsx(It,{open:ne,onOpenChange:F,children:t.jsxs(_t,{className:"max-w-md",children:[t.jsx(Tt,{children:t.jsxs(Et,{className:"flex items-center gap-2",children:[t.jsx(dv,{className:"h-5 w-5 text-blue-600"}),"Cross-Server Bot Migration"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Bot to Migrate"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",M.name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",M.phoneNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Server:"})," ",M.tenancy]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"target-server",children:"Target Server"}),t.jsxs(Lr,{value:xe,onValueChange:oe,children:[t.jsx(Cr,{"data-testid":"select-target-server",children:t.jsx(Br,{placeholder:"Select destination server"})}),t.jsx(kr,{children:Object.keys(te.serverDistribution).filter(T=>T!==M.tenancy).map(T=>t.jsxs(Ke,{value:T,children:[T," (",te.serverDistribution[T]," bots)"]},T))})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 dark:bg-yellow-900/20 dark:border-yellow-800",children:t.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:[t.jsx("strong",{children:"Migration Process:"})," Bot will be safely transferred with all data and credentials. This process maintains data integrity and bot functionality."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:()=>{if(!xe){s({title:"Target Required",description:"Please select a target server",variant:"destructive"});return}if(xe===M.tenancy){s({title:"Invalid Target",description:"Target server must be different from source server",variant:"destructive"});return}Se.mutate({botId:M.id,sourceServer:M.tenancy,targetServer:xe})},disabled:Se.isPending||!xe,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-migration",children:Se.isPending?t.jsx(t.Fragment,{children:"⏳ Migrating..."}):t.jsx(t.Fragment,{children:"🚀 Migrate Bot"})}),t.jsx(K,{variant:"outline",onClick:()=>{F(!1),de(null),oe("")},disabled:Se.isPending,children:"Cancel"})]})]})]})}),we&&t.jsx(It,{open:we,onOpenChange:E,children:t.jsxs(_t,{className:"max-w-lg",children:[t.jsx(Tt,{children:t.jsxs(Et,{className:"flex items-center gap-2",children:[t.jsx(fP,{className:"h-5 w-5 text-purple-600"}),"Batch Bot Operations"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800",children:[t.jsxs("h4",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:["Selected Bots (",R.length,")"]}),t.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:R.map(T=>{const[be,Ze]=T.split("-"),st=U.find(xt=>xt.tenancy===be&&xt.id===Ze);return st?t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:st.name}),t.jsx("span",{className:"text-muted-foreground",children:st.tenancy})]},T):null})})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"batch-operation",children:"Operation Type"}),t.jsxs(Lr,{value:Q,onValueChange:pe,children:[t.jsx(Cr,{"data-testid":"select-batch-operation",children:t.jsx(Br,{placeholder:"Select batch operation"})}),t.jsxs(kr,{children:[t.jsx(Ke,{value:"start",children:"Start All Selected Bots"}),t.jsx(Ke,{value:"stop",children:"Stop All Selected Bots"}),t.jsx(Ke,{value:"restart",children:"Restart All Selected Bots"}),t.jsx(Ke,{value:"approve",children:"Bulk Approve (Pending Bots Only)"}),t.jsx(Ke,{value:"feature-toggle",children:"Enable/Disable Feature"})]})]})]}),t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/20 dark:border-red-800",children:t.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[t.jsx("strong",{children:"Batch Operations:"})," This will apply the selected operation to all ",R.length,"selected bots simultaneously. This action affects multiple servers and cannot be undone."]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:()=>{if(!Q){s({title:"Operation Required",description:"Please select a batch operation",variant:"destructive"});return}je.mutate({operation:Q,botIds:R})},disabled:je.isPending||!Q||R.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700","data-testid":"button-execute-batch",children:je.isPending?t.jsx(t.Fragment,{children:"⏳ Processing..."}):t.jsx(t.Fragment,{children:"⚡ Execute Batch Operation"})}),t.jsx(K,{variant:"outline",onClick:()=>{E(!1),pe("")},disabled:je.isPending,children:"Cancel"})]})]})]})}),Ne&&t.jsx(It,{open:Ne,onOpenChange:$e,children:t.jsxs(_t,{className:"max-w-4xl",children:[t.jsx(Tt,{children:t.jsxs(Et,{className:"flex items-center gap-2",children:[t.jsx(Qr,{className:"h-5 w-5 text-green-600"}),"Cross-Server Health Monitor"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(ce,{className:"border-green-200",children:t.jsx(ue,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy Bots"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.filter(T=>T.status==="online").length})]}),t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),t.jsx(ce,{className:"border-yellow-200",children:t.jsx(ue,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Status"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:U.filter(T=>T.status==="loading").length})]}),t.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})]})})}),t.jsx(ce,{className:"border-red-200",children:t.jsx(ue,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:U.filter(T=>T.status==="error"||T.status==="offline").length})]}),t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})})})]}),t.jsxs(ce,{children:[t.jsx(Ve,{children:t.jsx(ze,{className:"text-sm font-medium",children:"Server Health Status"})}),t.jsx(ue,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(te.serverDistribution).map(([T,be])=>{const st=U.filter(Rn=>Rn.tenancy===T).filter(Rn=>Rn.status==="online").length,xt=Math.round(st/be*100)||0,hs=xt>=80?"text-green-600":xt>=60?"text-yellow-600":"text-red-600";return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${xt>=80?"bg-green-500":xt>=60?"bg-yellow-500":"bg-red-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:T}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[st,"/",be," bots online"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${hs}`,children:[xt,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]},T)})})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(K,{variant:"outline",onClick:()=>$e(!1),children:"Close Monitor"})})]})]})})]})})}var my=1,FO=.9,LO=.8,BO=.17,nm=.1,sm=.999,$O=.9999,VO=.99,zO=/[\\\/_+.#"@\[\(\{&]/,UO=/[\\\/_+.#"@\[\(\{&]/g,qO=/[\s-]/,mN=/[\s-]/g;function Lm(e,r,s,i,o,c,u){if(c===r.length)return o===e.length?my:VO;var f=`${o},${c}`;if(u[f]!==void 0)return u[f];for(var p=i.charAt(c),g=s.indexOf(p,o),x=0,y,w,C,k;g>=0;)y=Lm(e,r,s,i,g+1,c+1,u),y>x&&(g===o?y*=my:zO.test(e.charAt(g-1))?(y*=LO,C=e.slice(o,g-1).match(UO),C&&o>0&&(y*=Math.pow(sm,C.length))):qO.test(e.charAt(g-1))?(y*=FO,k=e.slice(o,g-1).match(mN),k&&o>0&&(y*=Math.pow(sm,k.length))):(y*=BO,o>0&&(y*=Math.pow(sm,g-o))),e.charAt(g)!==r.charAt(c)&&(y*=$O)),(y<nm&&s.charAt(g-1)===i.charAt(c+1)||i.charAt(c+1)===i.charAt(c)&&s.charAt(g-1)!==i.charAt(c))&&(w=Lm(e,r,s,i,g+1,c+2,u),w*nm>y&&(y=w*nm)),y>x&&(x=y),g=s.indexOf(p,g+1);return u[f]=x,x}function hy(e){return e.toLowerCase().replace(mN," ")}function WO(e,r,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Lm(e,r,hy(e),hy(r),0,0,{})}var Co='[cmdk-group=""]',am='[cmdk-group-items=""]',KO='[cmdk-group-heading=""]',hN='[cmdk-item=""]',py=`${hN}:not([aria-disabled="true"])`,Bm="cmdk-item-select",si="data-value",QO=(e,r,s)=>WO(e,r,s),pN=h.createContext(void 0),ol=()=>h.useContext(pN),gN=h.createContext(void 0),Uh=()=>h.useContext(gN),xN=h.createContext(void 0),vN=h.forwardRef((e,r)=>{let s=ai(()=>{var M,de;return{search:"",value:(de=(M=e.value)!=null?M:e.defaultValue)!=null?de:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=ai(()=>new Set),o=ai(()=>new Map),c=ai(()=>new Map),u=ai(()=>new Set),f=yN(e),{label:p,children:g,value:x,onValueChange:y,filter:w,shouldFilter:C,loop:k,disablePointerSelection:j=!1,vimBindings:b=!0,...S}=e,_=_r(),O=_r(),A=_r(),B=h.useRef(null),G=sD();Pa(()=>{if(x!==void 0){let M=x.trim();s.current.value=M,z.emit()}},[x]),Pa(()=>{G(6,re)},[]);let z=h.useMemo(()=>({subscribe:M=>(u.current.add(M),()=>u.current.delete(M)),snapshot:()=>s.current,setState:(M,de,xe)=>{var oe,we,E,Q;if(!Object.is(s.current[M],de)){if(s.current[M]=de,M==="search")X(),ee(),G(1,ae);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let pe=document.getElementById(A);pe?pe.focus():(oe=document.getElementById(_))==null||oe.focus()}if(G(7,()=>{var pe;s.current.selectedItemId=(pe=$())==null?void 0:pe.id,z.emit()}),xe||G(5,re),((we=f.current)==null?void 0:we.value)!==void 0){let pe=de??"";(Q=(E=f.current).onValueChange)==null||Q.call(E,pe);return}}z.emit()}},emit:()=>{u.current.forEach(M=>M())}}),[]),se=h.useMemo(()=>({value:(M,de,xe)=>{var oe;de!==((oe=c.current.get(M))==null?void 0:oe.value)&&(c.current.set(M,{value:de,keywords:xe}),s.current.filtered.items.set(M,Z(de,xe)),G(2,()=>{ee(),z.emit()}))},item:(M,de)=>(i.current.add(M),de&&(o.current.has(de)?o.current.get(de).add(M):o.current.set(de,new Set([M]))),G(3,()=>{X(),ee(),s.current.value||ae(),z.emit()}),()=>{c.current.delete(M),i.current.delete(M),s.current.filtered.items.delete(M);let xe=$();G(4,()=>{X(),xe?.getAttribute("id")===M&&ae(),z.emit()})}),group:M=>(o.current.has(M)||o.current.set(M,new Set),()=>{c.current.delete(M),o.current.delete(M)}),filter:()=>f.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:_,inputId:A,labelId:O,listInnerRef:B}),[]);function Z(M,de){var xe,oe;let we=(oe=(xe=f.current)==null?void 0:xe.filter)!=null?oe:QO;return M?we(M,s.current.search,de):0}function ee(){if(!s.current.search||f.current.shouldFilter===!1)return;let M=s.current.filtered.items,de=[];s.current.filtered.groups.forEach(oe=>{let we=o.current.get(oe),E=0;we.forEach(Q=>{let pe=M.get(Q);E=Math.max(pe,E)}),de.push([oe,E])});let xe=B.current;ie().sort((oe,we)=>{var E,Q;let pe=oe.getAttribute("id"),Ne=we.getAttribute("id");return((E=M.get(Ne))!=null?E:0)-((Q=M.get(pe))!=null?Q:0)}).forEach(oe=>{let we=oe.closest(am);we?we.appendChild(oe.parentElement===we?oe:oe.closest(`${am} > *`)):xe.appendChild(oe.parentElement===xe?oe:oe.closest(`${am} > *`))}),de.sort((oe,we)=>we[1]-oe[1]).forEach(oe=>{var we;let E=(we=B.current)==null?void 0:we.querySelector(`${Co}[${si}="${encodeURIComponent(oe[0])}"]`);E?.parentElement.appendChild(E)})}function ae(){let M=ie().find(xe=>xe.getAttribute("aria-disabled")!=="true"),de=M?.getAttribute(si);z.setState("value",de||void 0)}function X(){var M,de,xe,oe;if(!s.current.search||f.current.shouldFilter===!1){s.current.filtered.count=i.current.size;return}s.current.filtered.groups=new Set;let we=0;for(let E of i.current){let Q=(de=(M=c.current.get(E))==null?void 0:M.value)!=null?de:"",pe=(oe=(xe=c.current.get(E))==null?void 0:xe.keywords)!=null?oe:[],Ne=Z(Q,pe);s.current.filtered.items.set(E,Ne),Ne>0&&we++}for(let[E,Q]of o.current)for(let pe of Q)if(s.current.filtered.items.get(pe)>0){s.current.filtered.groups.add(E);break}s.current.filtered.count=we}function re(){var M,de,xe;let oe=$();oe&&(((M=oe.parentElement)==null?void 0:M.firstChild)===oe&&((xe=(de=oe.closest(Co))==null?void 0:de.querySelector(KO))==null||xe.scrollIntoView({block:"nearest"})),oe.scrollIntoView({block:"nearest"}))}function $(){var M;return(M=B.current)==null?void 0:M.querySelector(`${hN}[aria-selected="true"]`)}function ie(){var M;return Array.from(((M=B.current)==null?void 0:M.querySelectorAll(py))||[])}function q(M){let de=ie()[M];de&&z.setState("value",de.getAttribute(si))}function P(M){var de;let xe=$(),oe=ie(),we=oe.findIndex(Q=>Q===xe),E=oe[we+M];(de=f.current)!=null&&de.loop&&(E=we+M<0?oe[oe.length-1]:we+M===oe.length?oe[0]:oe[we+M]),E&&z.setState("value",E.getAttribute(si))}function R(M){let de=$(),xe=de?.closest(Co),oe;for(;xe&&!oe;)xe=M>0?rD(xe,Co):nD(xe,Co),oe=xe?.querySelector(py);oe?z.setState("value",oe.getAttribute(si)):P(M)}let Y=()=>q(ie().length-1),ne=M=>{M.preventDefault(),M.metaKey?Y():M.altKey?R(1):P(1)},F=M=>{M.preventDefault(),M.metaKey?q(0):M.altKey?R(-1):P(-1)};return h.createElement(Fe.div,{ref:r,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:M=>{var de;(de=S.onKeyDown)==null||de.call(S,M);let xe=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||xe))switch(M.key){case"n":case"j":{b&&M.ctrlKey&&ne(M);break}case"ArrowDown":{ne(M);break}case"p":case"k":{b&&M.ctrlKey&&F(M);break}case"ArrowUp":{F(M);break}case"Home":{M.preventDefault(),q(0);break}case"End":{M.preventDefault(),Y();break}case"Enter":{M.preventDefault();let oe=$();if(oe){let we=new Event(Bm);oe.dispatchEvent(we)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:se.inputId,id:se.labelId,style:iD},p),$d(e,M=>h.createElement(gN.Provider,{value:z},h.createElement(pN.Provider,{value:se},M))))}),HO=h.forwardRef((e,r)=>{var s,i;let o=_r(),c=h.useRef(null),u=h.useContext(xN),f=ol(),p=yN(e),g=(i=(s=p.current)==null?void 0:s.forceMount)!=null?i:u?.forceMount;Pa(()=>{if(!g)return f.item(o,u?.id)},[g]);let x=bN(o,c,[e.value,e.children,c],e.keywords),y=Uh(),w=Hs(G=>G.value&&G.value===x.current),C=Hs(G=>g||f.filter()===!1?!0:G.search?G.filtered.items.get(o)>0:!0);h.useEffect(()=>{let G=c.current;if(!(!G||e.disabled))return G.addEventListener(Bm,k),()=>G.removeEventListener(Bm,k)},[C,e.onSelect,e.disabled]);function k(){var G,z;j(),(z=(G=p.current).onSelect)==null||z.call(G,x.current)}function j(){y.setState("value",x.current,!0)}if(!C)return null;let{disabled:b,value:S,onSelect:_,forceMount:O,keywords:A,...B}=e;return h.createElement(Fe.div,{ref:xa(c,r),...B,id:o,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!w,"data-disabled":!!b,"data-selected":!!w,onPointerMove:b||f.getDisablePointerSelection()?void 0:j,onClick:b?void 0:k},e.children)}),GO=h.forwardRef((e,r)=>{let{heading:s,children:i,forceMount:o,...c}=e,u=_r(),f=h.useRef(null),p=h.useRef(null),g=_r(),x=ol(),y=Hs(C=>o||x.filter()===!1?!0:C.search?C.filtered.groups.has(u):!0);Pa(()=>x.group(u),[]),bN(u,f,[e.value,e.heading,p]);let w=h.useMemo(()=>({id:u,forceMount:o}),[o]);return h.createElement(Fe.div,{ref:xa(f,r),...c,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},s&&h.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:g},s),$d(e,C=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?g:void 0},h.createElement(xN.Provider,{value:w},C))))}),YO=h.forwardRef((e,r)=>{let{alwaysRender:s,...i}=e,o=h.useRef(null),c=Hs(u=>!u.search);return!s&&!c?null:h.createElement(Fe.div,{ref:xa(o,r),...i,"cmdk-separator":"",role:"separator"})}),ZO=h.forwardRef((e,r)=>{let{onValueChange:s,...i}=e,o=e.value!=null,c=Uh(),u=Hs(g=>g.search),f=Hs(g=>g.selectedItemId),p=ol();return h.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),h.createElement(Fe.input,{ref:r,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":f,id:p.inputId,type:"text",value:o?e.value:u,onChange:g=>{o||c.setState("search",g.target.value),s?.(g.target.value)}})}),XO=h.forwardRef((e,r)=>{let{children:s,label:i="Suggestions",...o}=e,c=h.useRef(null),u=h.useRef(null),f=Hs(g=>g.selectedItemId),p=ol();return h.useEffect(()=>{if(u.current&&c.current){let g=u.current,x=c.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let C=g.offsetHeight;x.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return w.observe(g),()=>{cancelAnimationFrame(y),w.unobserve(g)}}},[]),h.createElement(Fe.div,{ref:xa(c,r),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":i,id:p.listId},$d(e,g=>h.createElement("div",{ref:xa(u,p.listInnerRef),"cmdk-list-sizer":""},g)))}),JO=h.forwardRef((e,r)=>{let{open:s,onOpenChange:i,overlayClassName:o,contentClassName:c,container:u,...f}=e;return h.createElement(yh,{open:s,onOpenChange:i},h.createElement(bh,{container:u},h.createElement(vd,{"cmdk-overlay":"",className:o}),h.createElement(yd,{"aria-label":e.label,"cmdk-dialog":"",className:c},h.createElement(vN,{ref:r,...f}))))}),eD=h.forwardRef((e,r)=>Hs(s=>s.filtered.count===0)?h.createElement(Fe.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),tD=h.forwardRef((e,r)=>{let{progress:s,children:i,label:o="Loading...",...c}=e;return h.createElement(Fe.div,{ref:r,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},$d(e,u=>h.createElement("div",{"aria-hidden":!0},u)))}),$r=Object.assign(vN,{List:XO,Item:HO,Input:ZO,Group:GO,Separator:YO,Dialog:JO,Empty:eD,Loading:tD});function rD(e,r){let s=e.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function nD(e,r){let s=e.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function yN(e){let r=h.useRef(e);return Pa(()=>{r.current=e}),r}var Pa=typeof window>"u"?h.useEffect:h.useLayoutEffect;function ai(e){let r=h.useRef();return r.current===void 0&&(r.current=e()),r}function Hs(e){let r=Uh(),s=()=>e(r.snapshot());return h.useSyncExternalStore(r.subscribe,s,s)}function bN(e,r,s,i=[]){let o=h.useRef(),c=ol();return Pa(()=>{var u;let f=(()=>{var g;for(let x of s){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(g=x.current.textContent)==null?void 0:g.trim():o.current}})(),p=i.map(g=>g.trim());c.value(e,f,p),(u=r.current)==null||u.setAttribute(si,f),o.current=f}),o}var sD=()=>{let[e,r]=h.useState(),s=ai(()=>new Map);return Pa(()=>{s.current.forEach(i=>i()),s.current=new Map},[e]),(i,o)=>{s.current.set(i,o),r({})}};function aD(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function $d({asChild:e,children:r},s){return e&&h.isValidElement(r)?h.cloneElement(aD(r),{ref:r.ref},s(r.props.children)):s(r)}var iD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jN=h.forwardRef(({className:e,...r},s)=>t.jsx($r,{ref:s,className:ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));jN.displayName=$r.displayName;const wN=h.forwardRef(({className:e,...r},s)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(ci,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx($r.Input,{ref:s,className:ke("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));wN.displayName=$r.Input.displayName;const NN=h.forwardRef(({className:e,...r},s)=>t.jsx($r.List,{ref:s,className:ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));NN.displayName=$r.List.displayName;const SN=h.forwardRef((e,r)=>t.jsx($r.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));SN.displayName=$r.Empty.displayName;const CN=h.forwardRef(({className:e,...r},s)=>t.jsx($r.Group,{ref:s,className:ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));CN.displayName=$r.Group.displayName;const oD=h.forwardRef(({className:e,...r},s)=>t.jsx($r.Separator,{ref:s,className:ke("-mx-1 h-px bg-border",e),...r}));oD.displayName=$r.Separator.displayName;const kN=h.forwardRef(({className:e,...r},s)=>t.jsx($r.Item,{ref:s,className:ke("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));kN.displayName=$r.Item.displayName;var Vd="Popover",[PN,fM]=Er(Vd,[Oi]),ll=Oi(),[lD,Xs]=PN(Vd),_N=e=>{const{__scopePopover:r,children:s,open:i,defaultOpen:o,onOpenChange:c,modal:u=!1}=e,f=ll(r),p=h.useRef(null),[g,x]=h.useState(!1),[y,w]=qn({prop:i,defaultProp:o??!1,onChange:c,caller:Vd});return t.jsx(Zb,{...f,children:t.jsx(lD,{scope:r,contentId:_r(),triggerRef:p,open:y,onOpenChange:w,onOpenToggle:h.useCallback(()=>w(C=>!C),[w]),hasCustomAnchor:g,onCustomAnchorAdd:h.useCallback(()=>x(!0),[]),onCustomAnchorRemove:h.useCallback(()=>x(!1),[]),modal:u,children:s})})};_N.displayName=Vd;var TN="PopoverAnchor",cD=h.forwardRef((e,r)=>{const{__scopePopover:s,...i}=e,o=Xs(TN,s),c=ll(s),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=o;return h.useEffect(()=>(u(),()=>f()),[u,f]),t.jsx(ud,{...c,...i,ref:r})});cD.displayName=TN;var EN="PopoverTrigger",AN=h.forwardRef((e,r)=>{const{__scopePopover:s,...i}=e,o=Xs(EN,s),c=ll(s),u=lt(r,o.triggerRef),f=t.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":MN(o.open),...i,ref:u,onClick:Me(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:t.jsx(ud,{asChild:!0,...c,children:f})});AN.displayName=EN;var qh="PopoverPortal",[dD,uD]=PN(qh,{forceMount:void 0}),RN=e=>{const{__scopePopover:r,forceMount:s,children:i,container:o}=e,c=Xs(qh,r);return t.jsx(dD,{scope:r,forceMount:s,children:t.jsx(_n,{present:s||c.open,children:t.jsx(Xo,{asChild:!0,container:o,children:i})})})};RN.displayName=qh;var Pi="PopoverContent",IN=h.forwardRef((e,r)=>{const s=uD(Pi,e.__scopePopover),{forceMount:i=s.forceMount,...o}=e,c=Xs(Pi,e.__scopePopover);return t.jsx(_n,{present:i||c.open,children:c.modal?t.jsx(mD,{...o,ref:r}):t.jsx(hD,{...o,ref:r})})});IN.displayName=Pi;var fD=va("PopoverContent.RemoveScroll"),mD=h.forwardRef((e,r)=>{const s=Xs(Pi,e.__scopePopover),i=h.useRef(null),o=lt(r,i),c=h.useRef(!1);return h.useEffect(()=>{const u=i.current;if(u)return ph(u)},[]),t.jsx(gd,{as:fD,allowPinchZoom:!0,children:t.jsx(ON,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,u=>{u.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Me(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),hD=h.forwardRef((e,r)=>{const s=Xs(Pi,e.__scopePopover),i=h.useRef(!1),o=h.useRef(!1);return t.jsx(ON,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),ON=h.forwardRef((e,r)=>{const{__scopePopover:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:x,...y}=e,w=Xs(Pi,s),C=ll(s);return hh(),t.jsx(hd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:t.jsx(Ei,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onDismiss:()=>w.onOpenChange(!1),children:t.jsx(dh,{"data-state":MN(w.open),role:"dialog",id:w.contentId,...C,...y,ref:r,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DN="PopoverClose",pD=h.forwardRef((e,r)=>{const{__scopePopover:s,...i}=e,o=Xs(DN,s);return t.jsx(Fe.button,{type:"button",...i,ref:r,onClick:Me(e.onClick,()=>o.onOpenChange(!1))})});pD.displayName=DN;var gD="PopoverArrow",xD=h.forwardRef((e,r)=>{const{__scopePopover:s,...i}=e,o=ll(s);return t.jsx(uh,{...o,...i,ref:r})});xD.displayName=gD;function MN(e){return e?"open":"closed"}var vD=_N,yD=AN,bD=RN,FN=IN;const jD=vD,wD=yD,LN=h.forwardRef(({className:e,align:r="center",sideOffset:s=4,...i},o)=>t.jsx(bD,{children:t.jsx(FN,{ref:o,align:r,sideOffset:s,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...i})}));LN.displayName=FN.displayName;function ND({open:e,onOpenChange:r,currentServerName:s,hasSecretConfig:i}){const{toast:o}=Ht(),c=jr(),[u,f]=h.useState(s||""),[p,g]=h.useState(""),[x,y]=h.useState(!1),{data:w=[],isLoading:C}=gt({queryKey:["/api/servers/list"],enabled:e&&!i}),k=Ue({mutationFn:async S=>await(await wt("POST","/api/server/configure",S)).json(),onSuccess:S=>{o({title:"Server configured successfully",description:"Your server name has been saved."}),S&&S.requiresRefresh?(o({title:"Server context switched",description:"Refreshing to load new server data..."}),c.clear(),setTimeout(()=>{window.location.reload()},1e3)):c.invalidateQueries({queryKey:["/api/server/info"]}),r(!1)},onError:S=>{o({title:"Configuration failed",description:S.message||"Failed to configure server",variant:"destructive"})}}),j=S=>{if(S.preventDefault(),!u.trim()){o({title:"Server required",description:"Please select a server",variant:"destructive"});return}k.mutate({serverName:u.trim(),description:p.trim()||void 0})},b=w.find(S=>S.name===u);return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"sm:max-w-[500px]","data-testid":"dialog-server-config",children:[t.jsxs(Tt,{children:[t.jsxs(Et,{className:"flex items-center gap-2",children:[t.jsx(di,{className:"h-5 w-5"}),"Server Configuration"]}),t.jsx(Oo,{children:"Configure your server name and description. This will be used to identify this server instance."})]}),i&&t.jsxs(Ci,{"data-testid":"alert-secret-configured",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(ki,{children:"Server name is configured via environment secrets (SERVER_NAME) and cannot be changed through the UI."})]}),!i&&t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{"data-testid":"label-server-name",children:"Select Server *"}),C?t.jsxs("div",{className:"flex items-center justify-center p-4 border rounded-md",children:[t.jsx(Ao,{className:"h-4 w-4 animate-spin mr-2"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading servers..."})]}):t.jsxs(jD,{open:x,onOpenChange:y,children:[t.jsx(wD,{asChild:!0,children:t.jsxs(K,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",disabled:k.isPending,"data-testid":"button-server-select",children:[u?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fv,{className:"h-4 w-4"}),t.jsx("span",{children:u}),b&&t.jsxs(Ye,{variant:"secondary",className:"ml-auto",children:[b.currentBots,"/",b.totalBots]})]}):t.jsx("span",{className:"text-muted-foreground",children:"Select a server..."}),t.jsx(eh,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(LN,{className:"w-full p-0",align:"start",children:t.jsxs(jN,{children:[t.jsx(wN,{placeholder:"Search servers...",className:"h-9"}),t.jsx(SN,{children:"No servers found."}),t.jsx(NN,{className:"max-h-[200px]",children:t.jsx(CN,{children:w.map(S=>t.jsxs(kN,{value:S.name,onSelect:()=>{f(S.name),y(!1)},className:"flex items-center justify-between","data-testid":`option-${S.name}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fv,{className:"h-4 w-4"}),t.jsx("span",{children:S.name})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Ye,{variant:S.currentBots===0?"secondary":S.remainingBots===0?"destructive":"default",className:"text-xs",children:[S.currentBots,"/",S.totalBots]}),S.remainingBots>0&&t.jsxs("span",{className:"text-xs text-green-600",children:[S.remainingBots," free"]})]})]},S.name))})})]})})]}),b&&t.jsx("div",{className:"text-sm text-muted-foreground p-2 bg-muted rounded",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Bot Usage: ",b.currentBots,"/",b.totalBots]}),t.jsxs("span",{className:b.remainingBots>0?"text-green-600":"text-red-600",children:[b.remainingBots," slots available"]})]})}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from Server1 to Server100. Servers with fewer bots are shown first."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"description","data-testid":"label-description",children:"Description (Optional)"}),t.jsx(Gn,{id:"description","data-testid":"textarea-description",value:p,onChange:S=>g(S.target.value),placeholder:"Describe the purpose of this server...",disabled:k.isPending,rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:k.isPending,"data-testid":"button-cancel",children:"Cancel"}),t.jsxs(K,{type:"submit",disabled:k.isPending||!u.trim(),"data-testid":"button-save-config",children:[k.isPending&&t.jsx(Ao,{className:"mr-2 h-4 w-4 animate-spin"}),"Switch to ",u]})]})]}),i&&t.jsx("div",{className:"flex justify-end",children:t.jsx(K,{onClick:()=>r(!1),"data-testid":"button-close",children:"Close"})})]})})}var Wh="Progress",Kh=100,[SD,mM]=Er(Wh),[CD,kD]=SD(Wh),BN=h.forwardRef((e,r)=>{const{__scopeProgress:s,value:i=null,max:o,getValueLabel:c=PD,...u}=e;(o||o===0)&&!gy(o)&&console.error(_D(`${o}`,"Progress"));const f=gy(o)?o:Kh;i!==null&&!xy(i,f)&&console.error(TD(`${i}`,"Progress"));const p=xy(i,f)?i:null,g=td(p)?c(p,f):void 0;return t.jsx(CD,{scope:s,value:p,max:f,children:t.jsx(Fe.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":td(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":zN(p,f),"data-value":p??void 0,"data-max":f,...u,ref:r})})});BN.displayName=Wh;var $N="ProgressIndicator",VN=h.forwardRef((e,r)=>{const{__scopeProgress:s,...i}=e,o=kD($N,s);return t.jsx(Fe.div,{"data-state":zN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:r})});VN.displayName=$N;function PD(e,r){return`${Math.round(e/r*100)}%`}function zN(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function td(e){return typeof e=="number"}function gy(e){return td(e)&&!isNaN(e)&&e>0}function xy(e,r){return td(e)&&!isNaN(e)&&e<=r&&e>=0}function _D(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Kh}\`.`}function TD(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Kh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var UN=BN,ED=VN;const $m=h.forwardRef(({className:e,value:r,...s},i)=>t.jsx(UN,{ref:i,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:t.jsx(ED,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));$m.displayName=UN.displayName;function AD(){const{data:e,isLoading:r}=gt({queryKey:["/api/servers/all"],refetchInterval:5e3}),s=e?.servers||[],i=(y,w,C)=>y!=="active"?t.jsx(dP,{className:"h-4 w-4 text-red-500"}):w>=C?t.jsx(ln,{className:"h-4 w-4 text-yellow-500"}):t.jsx(uP,{className:"h-4 w-4 text-green-500"}),o=(y,w,C)=>y!=="active"?t.jsx(Ye,{variant:"destructive",children:"Inactive"}):w>=C?t.jsx(Ye,{variant:"secondary",children:"Full"}):w===0?t.jsx(Ye,{variant:"outline",children:"Empty"}):t.jsx(Ye,{variant:"default",children:"Active"}),c=y=>y>=90?"bg-red-500":y>=70?"bg-yellow-500":"bg-green-500",u=s.length,f=s.filter(y=>y.serverStatus==="active").length,p=s.reduce((y,w)=>y+w.currentBots,0),g=s.reduce((y,w)=>y+w.maxBots,0),x=g>0?Math.round(p/g*100):0;return r?t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,w)=>t.jsx(ce,{children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},w))})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(ce,{"data-testid":"card-total-servers",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Servers"}),t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-servers",children:u})]}),t.jsx(di,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(ce,{"data-testid":"card-active-servers",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Servers"}),t.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-servers",children:f})]}),t.jsx(Xm,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(ce,{"data-testid":"card-total-bots",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bots"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-bots",children:p})]}),t.jsx(ls,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(ce,{"data-testid":"card-avg-utilization",children:t.jsx(ue,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Utilization"}),t.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-avg-utilization",children:[x,"%"]})]}),t.jsx("div",{className:"text-right",children:t.jsx($m,{value:x,className:"w-16 h-2","data-testid":"progress-avg-utilization"})})]})})})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(di,{className:"h-5 w-5"}),"Server Status Overview"]}),t.jsx(rt,{children:"Real-time status of all registered servers in the multi-tenant system"})]}),t.jsxs(ue,{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(y=>{const w=y.maxBots>0?Math.round(y.currentBots/y.maxBots*100):0;return t.jsx(ce,{className:"relative overflow-hidden","data-testid":`card-server-${y.serverName}`,children:t.jsxs(ue,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[i(y.serverStatus,y.currentBots,y.maxBots),t.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-server-name-${y.serverName}`,children:y.serverName})]}),t.jsx("div",{"data-testid":`badge-status-${y.serverName}`,children:o(y.serverStatus,y.currentBots,y.maxBots)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Bots"}),t.jsxs("span",{className:"font-medium","data-testid":`text-bot-count-${y.serverName}`,children:[y.currentBots,"/",y.maxBots]})]}),t.jsx($m,{value:w,className:`h-2 ${c(w)}`,"data-testid":`progress-utilization-${y.serverName}`}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsxs("span",{"data-testid":`text-utilization-${y.serverName}`,children:["Utilization: ",w,"%"]}),t.jsxs("span",{"data-testid":`text-slots-free-${y.serverName}`,children:[y.availableSlots," slots free"]})]}),y.description&&t.jsx("p",{className:"text-xs text-muted-foreground truncate mt-2",title:y.description,"data-testid":`text-description-${y.serverName}`,children:y.description})]}),y.currentBots>=y.maxBots&&t.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-bl-lg"})]})},y.serverName)})}),s.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(di,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"No Servers Registered"}),t.jsx("p",{className:"text-sm",children:"Register your first server to see it here."})]})]})]})]})}var zd="Switch",[RD,hM]=Er(zd),[ID,OD]=RD(zd),qN=h.forwardRef((e,r)=>{const{__scopeSwitch:s,name:i,checked:o,defaultChecked:c,required:u,disabled:f,value:p="on",onCheckedChange:g,form:x,...y}=e,[w,C]=h.useState(null),k=lt(r,O=>C(O)),j=h.useRef(!1),b=w?x||!!w.closest("form"):!0,[S,_]=qn({prop:o,defaultProp:c??!1,onChange:g,caller:zd});return t.jsxs(ID,{scope:s,checked:S,disabled:f,children:[t.jsx(Fe.button,{type:"button",role:"switch","aria-checked":S,"aria-required":u,"data-state":HN(S),"data-disabled":f?"":void 0,disabled:f,value:p,...y,ref:k,onClick:Me(e.onClick,O=>{_(A=>!A),b&&(j.current=O.isPropagationStopped(),j.current||O.stopPropagation())})}),b&&t.jsx(QN,{control:w,bubbles:!j.current,name:i,value:p,checked:S,required:u,disabled:f,form:x,style:{transform:"translateX(-100%)"}})]})});qN.displayName=zd;var WN="SwitchThumb",KN=h.forwardRef((e,r)=>{const{__scopeSwitch:s,...i}=e,o=OD(WN,s);return t.jsx(Fe.span,{"data-state":HN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r})});KN.displayName=WN;var DD="SwitchBubbleInput",QN=h.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:i=!0,...o},c)=>{const u=h.useRef(null),f=lt(u,c),p=bd(s),g=dd(r);return h.useEffect(()=>{const x=u.current;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(p!==s&&C){const k=new Event("click",{bubbles:i});C.call(x,s),x.dispatchEvent(k)}},[p,s,i]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:f,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QN.displayName=DD;function HN(e){return e?"checked":"unchecked"}var GN=qN,MD=KN;const YN=h.forwardRef(({className:e,...r},s)=>t.jsx(GN,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:s,children:t.jsx(MD,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));YN.displayName=GN.displayName;function FD({open:e,onClose:r}){const[s,i]=h.useState(!1),[o,c]=h.useState({offerName:"",description:"",durationDays:0,durationMonths:1,autoApproval:!0,maxBots:""}),{toast:u}=Ht(),f=jr(),{data:p=[],isLoading:g}=gt({queryKey:["/api/admin/offers"],enabled:e}),x=Ue({mutationFn:async S=>(await wt("POST","/api/admin/offers/create",S)).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/offers"]}),f.invalidateQueries({queryKey:["/api/offer/current"]}),i(!1),c({offerName:"",description:"",durationDays:0,durationMonths:1,autoApproval:!0,maxBots:""}),u({title:"Offer created successfully!"})},onError:S=>{u({title:"Failed to create offer",description:S.message,variant:"destructive"})}}),y=Ue({mutationFn:async()=>(await wt("POST","/api/admin/offers/stop-current")).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/offers"]}),f.invalidateQueries({queryKey:["/api/offer/current"]}),u({title:"Current offer stopped successfully!"})},onError:S=>{u({title:"Failed to stop offer",description:S.message,variant:"destructive"})}}),w=Ue({mutationFn:async S=>(await wt("DELETE",`/api/admin/offers/${S}`)).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/offers"]}),f.invalidateQueries({queryKey:["/api/offer/current"]}),u({title:"Offer deleted successfully!"})},onError:S=>{u({title:"Failed to delete offer",description:S.message,variant:"destructive"})}}),C=()=>{if(!o.offerName.trim()){u({title:"Offer name is required",variant:"destructive"});return}if(o.durationDays===0&&o.durationMonths===0){u({title:"Duration must be greater than 0",variant:"destructive"});return}x.mutate({...o,maxBots:o.maxBots?parseInt(o.maxBots):void 0})},k=S=>new Date(S).toLocaleString(),j=S=>{const _=new Date().getTime(),A=new Date(S).getTime()-_;if(A<=0)return"Expired";const B=Math.floor(A/(1e3*60*60*24)),G=Math.floor(A%(1e3*60*60*24)/(1e3*60*60)),z=Math.floor(A%(1e3*60*60)/(1e3*60));return B>0?`${B}d ${G}h ${z}m`:G>0?`${G}h ${z}m`:`${z}m`},b=p.find(S=>S.isActive);return t.jsxs(t.Fragment,{children:[t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(Tt,{children:t.jsx(Et,{className:"text-xl font-bold flex items-center gap-2",children:"🎁 Offer Manager"})}),b&&t.jsxs(ce,{className:"bg-gradient-to-r from-green-600 to-emerald-600 border-none text-white mb-6",children:[t.jsx(Ve,{children:t.jsxs(ze,{className:"text-white flex items-center justify-between",children:[t.jsx("span",{children:"🚀 Active Offer"}),t.jsx(Ye,{variant:"secondary",className:"bg-white/20 text-white",children:"Active"})]})}),t.jsx(ue,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-lg",children:b.offerName}),b.description&&t.jsx("p",{className:"text-green-100 text-sm mt-1",children:b.description}),t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{children:["⏱️ Duration: ",b.durationDays,"d ",b.durationMonths,"m"]}),t.jsxs("p",{children:["✅ Auto Approval: ",b.autoApproval?"Yes":"No"]}),b.maxBots&&t.jsxs("p",{children:["🤖 Max Bots: ",b.currentUsage,"/",b.maxBots]})]})]}),t.jsxs("div",{className:"text-right",children:[b.endTime&&t.jsxs("div",{className:"bg-white/20 rounded-lg p-3 mb-3",children:[t.jsx("p",{className:"text-sm text-green-100",children:"Time Remaining"}),t.jsx("p",{className:"text-lg font-bold",children:j(b.endTime)})]}),t.jsx(K,{variant:"destructive",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,className:"bg-red-600 hover:bg-red-700",children:y.isPending?"Stopping...":"🛑 Stop Offer"})]})]})})]}),t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Offer Management"}),t.jsx(K,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:"🎁 Create New Offer"})]}),t.jsx("div",{className:"space-y-4",children:g?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):p.length===0?t.jsx(ce,{children:t.jsx(ue,{className:"text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"No offers created yet"})})}):p.map(S=>t.jsx(ce,{className:S.isActive?"border-green-500":"",children:t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[S.offerName,S.isActive&&t.jsx(Ye,{variant:"default",className:"bg-green-600 text-white",children:"Active"})]}),S.description&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-2",children:[t.jsxs("span",{children:["⏱️ ",S.durationDays,"d ",S.durationMonths,"m"]}),t.jsxs("span",{children:["✅ Auto: ",S.autoApproval?"Yes":"No"]}),S.maxBots&&t.jsxs("span",{children:["🤖 ",S.currentUsage,"/",S.maxBots," used"]}),t.jsxs("span",{children:["📅 Created: ",k(S.createdAt)]}),S.endTime&&S.isActive&&t.jsxs("span",{children:["⏰ Ends: ",j(S.endTime)]})]})]})})}),t.jsx("div",{className:"flex items-center gap-2",children:!S.isActive&&t.jsxs(Vh,{children:[t.jsx(zh,{asChild:!0,children:t.jsx(K,{size:"sm",variant:"destructive",className:"text-red-600 border-red-600 hover:bg-red-50",children:"🗑️ Delete"})}),t.jsxs(Id,{children:[t.jsxs(Od,{children:[t.jsx(Md,{children:"Delete Offer"}),t.jsxs(Fd,{children:['Are you sure you want to delete "',S.offerName,'"? This action cannot be undone.']})]}),t.jsxs(Dd,{children:[t.jsx(Bd,{children:"Cancel"}),t.jsx(Ld,{onClick:()=>w.mutate(S.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})})]})})},S.id))})]})}),t.jsx(It,{open:s,onOpenChange:i,children:t.jsxs(_t,{children:[t.jsx(Tt,{children:t.jsx(Et,{children:"🎁 Create New Offer"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"offerName",children:"Offer Name *"}),t.jsx(At,{id:"offerName",value:o.offerName,onChange:S=>c(_=>({..._,offerName:S.target.value})),placeholder:"e.g., Spring Special Offer"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"description",children:"Description"}),t.jsx(Gn,{id:"description",value:o.description,onChange:S=>c(_=>({..._,description:S.target.value})),placeholder:"Optional description of the offer...",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"durationDays",children:"Duration (Days)"}),t.jsx(At,{id:"durationDays",type:"number",min:"0",value:o.durationDays,onChange:S=>c(_=>({..._,durationDays:parseInt(S.target.value)||0})),placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"durationMonths",children:"Duration (Months)"}),t.jsx(At,{id:"durationMonths",type:"number",min:"0",value:o.durationMonths,onChange:S=>c(_=>({..._,durationMonths:parseInt(S.target.value)||0})),placeholder:"1"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(YN,{id:"autoApproval",checked:o.autoApproval,onCheckedChange:S=>c(_=>({..._,autoApproval:S}))}),t.jsx(Pe,{htmlFor:"autoApproval",children:"Auto-approve bots during offer"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"maxBots",children:"Max Bots (Optional)"}),t.jsx(At,{id:"maxBots",type:"number",min:"1",value:o.maxBots,onChange:S=>c(_=>({..._,maxBots:S.target.value})),placeholder:"Leave empty for unlimited"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of bots that can use this offer"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(K,{onClick:C,disabled:x.isPending,className:"bg-green-600 hover:bg-green-700",children:x.isPending?"Creating...":"🎁 Create Offer"}),t.jsx(K,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]})})]})}function LD(){const{toast:e}=Ht(),r=jr(),{logout:s}=rl(),[i,o]=h.useState(!1),[c,u]=h.useState(!1),[f,p]=h.useState(!1),{data:g=[],isLoading:x}=gt({queryKey:["/api/admin/bot-instances"],queryFn:async()=>{const A=await fetch("/api/admin/bot-instances",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok)throw new Error("Failed to fetch bot instances");return await A.json()}}),{data:y=[],isLoading:w}=gt({queryKey:["/api/admin/activities"],queryFn:async()=>{const A=await fetch("/api/admin/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok)throw new Error("Failed to fetch activities");return await A.json()}}),{data:C}=gt({queryKey:["/api/admin/stats"],queryFn:async()=>{const A=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!A.ok)throw new Error("Failed to fetch stats");return A.json()}}),{data:k={}}=gt({queryKey:["/api/server/info"]}),j=Ue({mutationFn:async A=>{const B=await fetch(`/api/admin/bot-instances/${A}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!B.ok)throw new Error("Failed to start bot");return B.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot started successfully"})},onError:()=>{e({title:"Failed to start bot",variant:"destructive"})}}),b=Ue({mutationFn:async A=>{const B=await fetch(`/api/admin/bot-instances/${A}/stop`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!B.ok)throw new Error("Failed to stop bot");return B.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot stopped successfully"})},onError:()=>{e({title:"Failed to stop bot",variant:"destructive"})}}),S=Ue({mutationFn:async A=>{const B=await fetch(`/api/admin/bot-instances/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!B.ok){const G=await B.text();throw new Error(G||"Failed to delete bot")}return B.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/bot-instances"]}),e({title:"Bot deleted successfully"})},onError:()=>{e({title:"Failed to delete bot",variant:"destructive"})}}),_=A=>{const B={online:"default",offline:"secondary",loading:"outline",error:"destructive",qr_code:"outline"};return t.jsx(Ye,{variant:B[A]||"secondary","data-testid":`status-${A}`,children:A.replace("_"," ").toUpperCase()})},O=A=>new Date(A).toLocaleString();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qr,{className:"h-6 w-6 text-red-600"}),t.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-console-title",children:"Admin Console"})]}),t.jsxs(K,{variant:"outline",onClick:()=>{s(),window.location.href="/"},className:"flex items-center gap-2","data-testid":"button-logout-admin",children:[t.jsx(oP,{className:"h-4 w-4"}),"Logout"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(ce,{children:[t.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ze,{className:"text-sm font-medium",children:"Total Bots"}),t.jsx(ls,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ue,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-bots",children:C?.totalBots||g.length})})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ze,{className:"text-sm font-medium",children:"Online Bots"}),t.jsx(Xm,{className:"h-4 w-4 text-green-600"})]}),t.jsx(ue,{children:t.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"online-bots",children:g.filter(A=>A.status==="online").length})})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ze,{className:"text-sm font-medium",children:"Total Messages"}),t.jsx(sP,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ue,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-messages",children:g.reduce((A,B)=>A+(B.messagesCount||0),0)})})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ze,{className:"text-sm font-medium",children:"Commands Used"}),t.jsx(cP,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(ue,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"total-commands",children:g.reduce((A,B)=>A+(B.commandsCount||0),0)})})]})]}),t.jsxs(_a,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(Zs,{children:[t.jsx(St,{value:"overview","data-testid":"tab-overview",children:"Server Overview"}),t.jsx(St,{value:"bots","data-testid":"tab-bots",children:"Bot Management"}),t.jsx(St,{value:"activities","data-testid":"tab-activities",children:"Recent Activity"}),t.jsx(St,{value:"offers","data-testid":"tab-offers",children:"Offer Manager"}),t.jsx(St,{value:"server","data-testid":"tab-server",children:"Server Config"}),t.jsx(St,{value:"master","data-testid":"tab-master",children:"Master Control"})]}),t.jsx(yt,{value:"overview",className:"space-y-4",children:t.jsx(AD,{})}),t.jsx(yt,{value:"bots",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"Bot Instance Management"}),t.jsx(rt,{children:"Manage all WhatsApp bot instances across the system"})]}),t.jsx(ue,{children:x?t.jsx("div",{className:"text-center py-8",children:"Loading bot instances..."}):t.jsxs(Xc,{children:[t.jsx(Jc,{children:t.jsxs(Bs,{children:[t.jsx($t,{children:"Name"}),t.jsx($t,{children:"Phone Number"}),t.jsx($t,{children:"Status"}),t.jsx($t,{children:"Messages"}),t.jsx($t,{children:"Commands"}),t.jsx($t,{children:"Last Activity"}),t.jsx($t,{children:"Actions"})]})}),t.jsx(ed,{children:g.map(A=>t.jsxs(Bs,{children:[t.jsx(Ft,{className:"font-medium","data-testid":`bot-name-${A.id}`,children:A.name}),t.jsx(Ft,{"data-testid":`bot-phone-${A.id}`,children:A.phoneNumber||"Not set"}),t.jsx(Ft,{children:_(A.status)}),t.jsx(Ft,{"data-testid":`bot-messages-${A.id}`,children:A.messagesCount||0}),t.jsx(Ft,{"data-testid":`bot-commands-${A.id}`,children:A.commandsCount||0}),t.jsx(Ft,{"data-testid":`bot-activity-${A.id}`,children:A.lastActivity?O(A.lastActivity):"Never"}),t.jsx(Ft,{children:t.jsxs("div",{className:"flex gap-2",children:[A.status==="offline"||A.status==="error"?t.jsx(K,{size:"sm",variant:"outline",onClick:()=>j.mutate(A.id),disabled:j.isPending,"data-testid":`button-start-${A.id}`,children:t.jsx(ya,{className:"h-4 w-4"})}):t.jsx(K,{size:"sm",variant:"outline",onClick:()=>b.mutate(A.id),disabled:b.isPending,"data-testid":`button-stop-${A.id}`,children:t.jsx(vi,{className:"h-4 w-4"})}),t.jsxs(Vh,{children:[t.jsx(zh,{asChild:!0,children:t.jsx(K,{size:"sm",variant:"destructive","data-testid":`button-delete-${A.id}`,children:t.jsx(vb,{className:"h-4 w-4"})})}),t.jsxs(Id,{children:[t.jsxs(Od,{children:[t.jsx(Md,{children:"Delete Bot Instance"}),t.jsxs(Fd,{children:['Are you sure you want to delete "',A.name,'"? This action cannot be undone.']})]}),t.jsxs(Dd,{children:[t.jsx(Bd,{children:"Cancel"}),t.jsx(Ld,{onClick:()=>S.mutate(A.id),"data-testid":`confirm-delete-${A.id}`,children:"Delete"})]})]})]})]})})]},A.id))})]})})]})}),t.jsx(yt,{value:"activities",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"System Activity Monitor"}),t.jsx(rt,{children:"Recent activities across all bot instances"})]}),t.jsx(ue,{children:w?t.jsx("div",{className:"text-center py-8",children:"Loading activities..."}):t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto","data-testid":"activities-list",children:y.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"}):y.map(A=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ye,{variant:"outline","data-testid":`activity-type-${A.type}`,children:A.type.replace("_"," ").toUpperCase()}),t.jsx("span",{className:"text-sm text-muted-foreground",children:O(A.createdAt)})]}),t.jsx("p",{className:"text-sm","data-testid":`activity-description-${A.id}`,children:A.description}),A.metadata&&typeof A.metadata=="object"&&Object.keys(A.metadata).length>0?t.jsxs("details",{className:"text-xs",children:[t.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"View details"}),t.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(A.metadata,null,2)})]}):null]},A.id))})})]})}),t.jsx(yt,{value:"offers",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"Offer Management"}),t.jsx(rt,{children:"Create and manage special offers for bot registrations"})]}),t.jsxs(ue,{children:[t.jsx(K,{onClick:()=>p(!0),className:"w-full","data-testid":"button-open-offer-manager",children:"🎁 Open Offer Manager"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Create time-limited offers with auto-approval and custom durations"})]})]})}),t.jsx(yt,{value:"server",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"Server Configuration"}),t.jsx(rt,{children:"Configure server settings and tenancy management"})]}),t.jsx(ue,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Current Server"}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:k?.serverName||"default-server"}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bot Slots: ",k?.currentBots||0,"/",k?.maxBots||0]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Configuration Status"}),t.jsx("p",{className:"text-sm",children:k?.hasSecretConfig?t.jsx("span",{className:"text-green-600",children:"✅ Environment Configured"}):t.jsx("span",{className:"text-yellow-600",children:"⚠️ Manual Configuration"})})]})]}),t.jsx(K,{onClick:()=>u(!0),className:"w-full","data-testid":"button-configure-server-admin",children:"⚙️ Configure Server Settings"}),t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Switch between server instances and manage tenancy settings"})]})})]})}),t.jsx(yt,{value:"master",className:"space-y-4",children:t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsx(ze,{children:"Master Control Panel"}),t.jsx(rt,{children:"Cross-tenancy bot management using God Registry"})]}),t.jsxs(ue,{children:[t.jsx(K,{onClick:()=>o(!0),className:"w-full","data-testid":"button-open-master-control",children:"🎛️ Open Master Control Panel"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Manage bots across all tenancies from a centralized interface"})]})]})})]}),t.jsx(MO,{open:i,onClose:()=>o(!1)}),t.jsx(ND,{open:c,onOpenChange:u,currentServerName:k?.serverName||"",hasSecretConfig:k?.hasSecretConfig||!1}),t.jsx(FD,{open:f,onClose:()=>p(!1)})]})}function BD(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsx(ce,{className:"w-full max-w-md mx-4",children:t.jsxs(ue,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(xm,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function $D(){const{toast:e}=Ht(),[r,s]=h.useState(""),[i,o]=h.useState("session"),[c,u]=h.useState(!1),[f,p]=h.useState(null),g=[{step:1,title:"Enter Session ID",description:"Paste your bot's Base64 session credentials to verify ownership",icon:t.jsx(Qr,{className:"h-5 w-5"}),completed:i!=="session"},{step:2,title:"Check Connection",description:"Verify if your bot is currently active and connected",icon:t.jsx(li,{className:"h-5 w-5"}),completed:i==="verified"},{step:3,title:"Access Granted",description:"Full access to bot management features",icon:t.jsx(oi,{className:"h-5 w-5"}),completed:c}],x=Ue({mutationFn:async k=>{const j=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:k.trim()})});if(!j.ok){const b=await j.json();throw new Error(b.message||"Session verification failed")}return j.json()},onSuccess:k=>{p(k),k.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${k.phoneNumber} is connected and ready to manage.`})):(o("inactive"),e({title:"Bot Inactive",description:"Your bot is not currently connected. Please provide updated credentials.",variant:"destructive"}))},onError:k=>{e({title:"Verification Failed",description:k.message,variant:"destructive"})}}),y=Ue({mutationFn:async k=>{const j=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:k.trim()})});if(!j.ok){const b=await j.json();throw new Error(b.message||"Session verification failed")}return j.json()},onSuccess:k=>{p(k),k.botActive?(o("verified"),u(!0),e({title:"Bot Active!",description:`Your bot ${k.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:k=>{e({title:"Verification Failed",description:k.message,variant:"destructive"})}}),w=()=>{if(!r.trim()){e({title:"Session ID Required",description:"Please paste your bot's session credentials",variant:"destructive"});return}x.mutate(r)},C=()=>{if(!r.trim()){e({title:"Session ID Required",description:"Please paste updated session credentials",variant:"destructive"});return}y.mutate(r)};return t.jsx("div",{className:"min-h-screen w-full p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Bot Session Verification"}),t.jsx("p",{className:"text-muted-foreground",children:"Verify your bot ownership with session credentials to access management features"})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(Qr,{className:"h-5 w-5"}),"Verification Process"]}),t.jsx(rt,{children:"Follow these steps to verify your bot session and access management features"})]}),t.jsx(ue,{children:t.jsx("div",{className:"space-y-4",children:g.map(k=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[t.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${k.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:k.completed?t.jsx(oi,{className:"h-4 w-4"}):k.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium",children:k.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),t.jsx(Ye,{variant:k.completed?"default":"outline",children:k.completed?"Completed":"Pending"})]},k.step))})})]}),i==="session"&&t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(Qr,{className:"h-5 w-5"}),"Enter Session Credentials"]}),t.jsx(rt,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"session",children:"Session ID / Base64 Credentials"}),t.jsx("textarea",{id:"session",placeholder:"Paste your base64 session credentials here...",value:r,onChange:k=>s(k.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-session-id"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"We'll extract the phone number and check if your bot is currently active"})]}),t.jsx(K,{onClick:w,disabled:x.isPending,className:"w-full","data-testid":"button-verify-session",children:x.isPending?"Verifying...":"Verify Session & Check Connection"})]})]}),i==="inactive"&&t.jsxs(ce,{className:"border-orange-200",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"h-5 w-5 text-orange-500"}),"Bot Connection Inactive"]}),t.jsxs(rt,{children:["Your bot ",f?.phoneNumber," was found but is not currently connected. Please provide updated session credentials."]})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"newSession",children:"Updated Session ID / Base64 Credentials"}),t.jsx("textarea",{id:"newSession",placeholder:"Paste your updated base64 session credentials here...",value:r,onChange:k=>s(k.target.value),className:"w-full h-32 p-3 border rounded-md resize-none font-mono text-sm","data-testid":"input-new-session-id"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Provide fresh session credentials to reactivate your bot connection"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:C,disabled:y.isPending,className:"flex-1","data-testid":"button-retry-verification",children:y.isPending?"Updating...":"Update & Verify Connection"}),t.jsx(K,{variant:"outline",onClick:()=>{o("session"),s(""),p(null)},children:"Start Over"})]})]})]}),i==="verified"&&t.jsx(ce,{className:"border-green-200",children:t.jsx(ue,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(oi,{className:"h-8 w-8 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Bot Connection Verified!"}),t.jsxs("p",{className:"text-green-600 mt-1",children:["Your bot ",f?.phoneNumber," is active and ready to manage."]})]}),t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsx(K,{asChild:!0,children:t.jsx("a",{href:"/guest/bot-management",children:"Manage Your Bots"})}),t.jsx(K,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/credentials",children:"Update Credentials"})})]})]})})}),t.jsx(ce,{className:"border-orange-200",children:t.jsx(ue,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ln,{className:"h-5 w-5 text-orange-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-orange-800",children:"Security Notice"}),t.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others. This verification ensures you have legitimate access to the bot."})]})]})})})]})})}function VD(){const{toast:e}=Ht(),r=jr(),[s,i]=h.useState(""),[o,c]=h.useState(""),[u,f]=h.useState("session"),[p,g]=h.useState(null),[x,y]=h.useState(null),[w,C]=h.useState(!1),[k,j]=h.useState(null),[b,S]=h.useState(!1),_=Ue({mutationFn:async P=>{try{const Y=P.trim(),ne=atob(Y);JSON.parse(ne)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const R=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!R.ok){const Y=await R.json();throw new Error(Y.message||"Session verification failed")}return R.json()},onSuccess:P=>{if(j(P),i(P.phoneNumber),g(P.token),P.success&&P.botActive&&!P.credentialValidationFailed)f("dashboard"),y(P.botId),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is connected and ready to manage.`});else if(P.success&&P.connectionUpdated&&!P.credentialValidationFailed)f("dashboard"),y(P.botId),e({title:"Session Updated!",description:"New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp."}),c(""),setTimeout(()=>{r.invalidateQueries({queryKey:["/api/guest/server-bots",P.phoneNumber]})},3e3);else{f("inactive");let R="Your bot is not currently connected. Please provide updated credentials.";P.credentialValidationFailed||P.message&&P.message.includes("validation failed")?R="The credentials you provided are invalid or expired. Please provide fresh session credentials.":P.message&&P.message.includes("Connection Failure")||P.message.includes("401")?R="Connection test failed - your credentials are invalid or expired. Please get a new session ID.":P.message&&P.message.includes("failed")&&(R="Connection test failed. Please ensure your credentials are current and valid."),e({title:"Bot Inactive",description:R,variant:"destructive"})}},onError:P=>{let R=P.message;R.includes("Cannot extract phone number")?R="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":R.includes("Invalid session ID format")&&(R="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Verification Failed",description:R,variant:"destructive"})}}),O=Ue({mutationFn:async P=>{try{const Y=P.trim(),ne=atob(Y);JSON.parse(ne)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const R=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!R.ok){const Y=await R.json();throw new Error(Y.message||"Session update failed")}return R.json()},onSuccess:P=>{if(j(P),i(P.phoneNumber),g(P.token),P.success&&!P.credentialValidationFailed){f("dashboard"),y(P.botId);let R="Session Updated!",Y="";P.crossServer?Y=`✅ Credentials updated successfully for bot on ${P.botServer}! Success message sent to your WhatsApp.`:P.botActive?Y=`✅ New session ID updated successfully! Your bot ${P.phoneNumber} is now connected and ready to manage.`:P.connectionUpdated?Y="✅ New session ID tested successfully! Your bot is reconnecting and a success message has been sent to your WhatsApp.":Y="✅ Credentials updated successfully and success message sent to your WhatsApp.",e({title:R,description:Y}),c(""),setTimeout(()=>{r.invalidateQueries({queryKey:["/api/guest/server-bots",P.phoneNumber]})},3e3)}else{let R="New session update failed - connection could not be verified";P.credentialValidationFailed||P.message&&P.message.includes("validation failed")?R="The new credentials you provided are invalid or expired. Please get a fresh session ID.":P.message&&P.message.includes("Connection Failure")||P.message.includes("401")?R="Connection test failed - your new credentials are invalid or expired. Please get a fresh session ID.":P.message&&P.message.includes("failed")&&(R="Connection test failed. Please ensure your new credentials are current and valid."),e({title:"Update Failed",description:R,variant:"destructive"})}},onError:P=>{let R=P.message;R.includes("Cannot extract phone number")?R="❌ Invalid session ID: Cannot extract phone number from the credentials. Please ensure you're using valid WhatsApp session data.":R.includes("Connection timeout")?R="❌ Connection timeout: Your new session ID may be expired or invalid. Please get a fresh session ID.":R.includes("phone number mismatch")?R="❌ Phone number mismatch: The new session ID belongs to a different phone number.":R.includes("Failed to establish connection")?R="❌ Cannot connect with new session ID. Please ensure it's valid and active.":R.includes("Invalid session ID format")&&(R="❌ Invalid session ID format: Please ensure you're pasting valid base64-encoded WhatsApp session data."),e({title:"Update Failed",description:R,variant:"destructive"})}});Ue({mutationFn:async P=>{const R=await fetch("/api/guest/verify-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:P.trim()})});if(!R.ok){const Y=await R.json();throw new Error(Y.message||"Session verification failed")}return R.json()},onSuccess:P=>{j(P),i(P.phoneNumber),g(P.token),P.botActive?(f("dashboard"),y(P.botId),e({title:"Bot Active!",description:`Your bot ${P.phoneNumber} is now connected and ready to manage.`})):e({title:"Bot Still Inactive",description:"The bot is still not connected. Please ensure the credentials are current.",variant:"destructive"})},onError:P=>{e({title:"Verification Failed",description:P.message,variant:"destructive"})}});const{data:A=[],isLoading:B}=gt({queryKey:["/api/guest/server-bots",s],queryFn:async()=>{if(!s.trim()||u!=="dashboard")return[];const P=s.replace(/[\s\-\(\)\+]/g,""),R=await fetch("/api/guest/search-server-bots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({phoneNumber:P})});if(!R.ok)return[];const Y=await R.json();return console.log("Bot search response:",Y),(Y.bots||[]).map(F=>({...F,hostingServer:Y.hostingServer||F.hostingServer||F.serverName,currentServer:Y.currentServer,crossServer:F.crossServer||Y.hostingServer!==Y.currentServer}))},enabled:u==="dashboard"&&!!s.trim()&&!!p}),G=Ue({mutationFn:async({action:P,botId:R,phoneNumber:Y})=>{const ne=await fetch("/api/guest/server-bot-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:P,botId:R,phoneNumber:Y})});if(!ne.ok){const F=await ne.json();throw new Error(F.message||`Failed to ${P} bot`)}return ne.json()},onSuccess:(P,R)=>{e({title:"Action Successful",description:`Bot ${R.action} completed successfully`}),r.invalidateQueries({queryKey:["/api/guest/server-bots",s]})},onError:P=>{e({title:"Action Failed",description:P.message,variant:"destructive"})}}),z=Ue({mutationFn:async({feature:P,enabled:R,botId:Y})=>{const ne=await fetch("/api/guest/server-bot-features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:P,enabled:R,botId:Y,phoneNumber:s})});if(!ne.ok){const F=await ne.json();throw new Error(F.message||"Failed to update feature")}return ne.json()},onSuccess:P=>{const R=P.crossServer?` on ${P.hostingServer}`:"";e({title:"Feature Updated",description:`${P.feature} ${P.enabled?"enabled":"disabled"} successfully${R}`}),r.invalidateQueries({queryKey:["/api/guest/server-bots",s]})},onError:(P,R)=>{let Y=P.message,ne="Feature Update Failed";Y.includes("Bot not found")?(ne="Bot Not Found",Y="The bot could not be found on the hosting server. It may have been removed."):Y.includes("Only approved bots")?(ne="Bot Not Approved",Y="Only approved bots can have features updated. Please contact admin for approval."):Y.includes("Invalid feature name")&&(ne="Invalid Feature",Y="The requested feature is not available for this bot."),e({title:ne,description:Y,variant:"destructive"})}}),se=()=>{if(!o.trim()){e({title:"Session ID Required",description:"Please paste your session ID (base64 credentials)",variant:"destructive"});return}_.mutate(o)},Z=()=>{if(!o.trim()){e({title:"Session ID Required",description:"Please paste your NEW session credentials",variant:"destructive"});return}c(o.trim()),O.mutate(o.trim())},ee=(P,R)=>{G.mutate({action:P,botId:R.botId,phoneNumber:s})},ae=(P,R,Y)=>{const ne=Y.crossServer?{feature:P,enabled:R,botId:Y.botId,phoneNumber:s}:{feature:P,enabled:R,botId:Y.botId};z.mutate(ne)},X=()=>{f("session"),i(""),c(""),g(null),y(null),j(null),S(!1)},re=(P,R)=>{if(R==="pending")return t.jsx(Ye,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending Approval"});switch(P){case"online":return t.jsx(Ye,{className:"bg-green-500",children:"Online"});case"offline":return t.jsx(Ye,{variant:"outline",children:"Offline"});case"error":return t.jsx(Ye,{variant:"destructive",children:"Error"});default:return t.jsx(Ye,{variant:"outline",children:P})}},$=A.filter(P=>P.isActive&&P.isApproved),ie=A.filter(P=>P.approvalStatus==="pending"),q=A.filter(P=>!P.isActive||P.approvalStatus==="rejected");return t.jsx("div",{className:"min-h-screen w-full p-6 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx(ls,{className:"h-10 w-10 text-blue-600"}),t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Bot Management Portal"})]}),t.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Manage your WhatsApp bots with secure credential verification"})]}),t.jsx(ce,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-900/20",children:t.jsx(ue,{className:"pt-6",children:t.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:"Verify Session",icon:Qr,active:u==="session",completed:["dashboard","inactive"].includes(u)},{step:2,title:"Check Connection",icon:on,active:u==="inactive",completed:u==="dashboard"},{step:3,title:"Manage Bot",icon:xb,active:u==="dashboard",completed:!1}].map((P,R)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${P.completed?"bg-green-500 border-green-500 text-white":P.active?"bg-blue-500 border-blue-500 text-white":"bg-gray-200 border-gray-300 text-gray-500"}`,children:P.completed?t.jsx(oi,{className:"h-5 w-5"}):t.jsx(P.icon,{className:"h-5 w-5"})}),t.jsx("div",{className:"ml-3 hidden sm:block",children:t.jsx("p",{className:`text-sm font-medium ${P.active||P.completed?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:P.title})}),R<2&&t.jsx("div",{className:`hidden sm:block w-16 h-0.5 mx-4 ${P.completed?"bg-green-500":"bg-gray-300"}`})]},P.step))})})}),u==="session"&&!b&&t.jsxs(ce,{className:"border-blue-200",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(Qr,{className:"h-6 w-6 text-blue-600"}),"Enter Session Credentials"]}),t.jsx(rt,{children:"Paste your bot's Base64 session credentials to verify ownership and check connection status"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Session ID (Base64 Credentials)"}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>C(!w),children:w?t.jsx(mv,{className:"h-4 w-4"}):t.jsx(hv,{className:"h-4 w-4"})})]}),t.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:o,onChange:P=>c(P.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${w?"":"filter blur-sm hover:filter-none focus:filter-none"}`,onKeyDown:P=>P.key==="Enter"&&P.ctrlKey&&se()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll extract the phone number and check if your bot is currently active"}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[t.jsx("strong",{children:"Need a new session ID?"})," If your credentials are expired:"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oc,{className:"h-4 w-4"}),t.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:se,disabled:_.isPending,size:"lg",className:"flex-1",children:_.isPending?t.jsxs(t.Fragment,{children:[t.jsx(on,{className:"h-4 w-4 mr-2 animate-spin"})," Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qr,{className:"h-4 w-4 mr-2"})," Verify Session & Check Connection"]})}),t.jsxs(K,{variant:"outline",onClick:()=>S(!0),size:"lg",className:"flex items-center gap-2",children:[t.jsx(li,{className:"h-4 w-4"}),"Use Phone Number"]})]}),t.jsxs(Ci,{children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(ki,{children:"Your session ID contains sensitive authentication information. Only enter it on trusted platforms and never share it with others."})]})]})]}),u==="session"&&b&&t.jsxs(ce,{className:"border-green-200",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(li,{className:"h-6 w-6 text-green-600"}),"Enter Phone Number"]}),t.jsx(rt,{children:"Enter your phone number to search for your bot"})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Phone Number (with country code)"}),t.jsx(At,{placeholder:"+254700000000",value:s,onChange:P=>{const R=P.target.value.replace(/[\s\-\(\)]/g,"");i(R)},className:"text-lg",autoFocus:!0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your phone number with country code (+ will be removed automatically)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(K,{onClick:()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number",variant:"destructive"});return}window.location.href="/guest/verification"},size:"lg",className:"flex-1",children:[t.jsx(li,{className:"h-4 w-4 mr-2"}),"Search Bot by Phone"]}),t.jsx(K,{variant:"outline",onClick:()=>S(!1),size:"lg",children:"Back to Session ID"})]})]})]}),u==="inactive"&&t.jsxs(ce,{className:"border-orange-200",children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"h-6 w-6 text-orange-500"}),"Bot Connection Inactive"]}),t.jsxs(rt,{children:["Your bot ",k?.phoneNumber," was found but is not currently connected. Enter a NEW session ID and we'll automatically test the connection and update your bot."]})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Updated Session ID (Base64 Credentials)"}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>C(!w),children:w?t.jsx(mv,{className:"h-4 w-4"}):t.jsx(hv,{className:"h-4 w-4"})})]}),t.jsx("textarea",{placeholder:"Paste your NEW base64 session credentials here...",value:o,onChange:P=>c(P.target.value),className:`w-full h-32 p-3 border rounded-md resize-none font-mono text-sm ${w?"":"filter blur-sm hover:filter-none focus:filter-none"}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll test your NEW session ID connection, verify it works, then update your bot credentials"}),t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:t.jsx("strong",{children:"✅ What happens automatically:"})}),t.jsxs("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[t.jsx("li",{children:"• We test your new session ID connection"}),t.jsx("li",{children:"• Bot credentials are safely updated if valid"}),t.jsx("li",{children:"• A success message is sent to your WhatsApp"}),t.jsx("li",{children:"• You're taken to the bot management dashboard"})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:[t.jsx("strong",{children:"Need a new session ID?"})," Get fresh credentials:"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oc,{className:"h-4 w-4"}),t.jsx("a",{href:"https://dc693d3f-99a0-4944-94cc-6b839418279c.e1-us-east-azure.choreoapps.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Get NEW SESSION ID"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{onClick:Z,disabled:O.isPending,className:"flex-1",size:"lg",children:O.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"h-4 w-4 mr-2 animate-spin"})," Auto-Testing & Updating Session..."]}):t.jsxs(t.Fragment,{children:[t.jsx(lP,{className:"h-4 w-4 mr-2"})," Auto-Test & Update Session"]})}),t.jsx(K,{variant:"outline",onClick:()=>{f("session"),c(""),j(null),S(!1)},size:"lg",children:"Back"})]})]})]}),u==="dashboard"&&t.jsxs(t.Fragment,{children:[t.jsx(ce,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:t.jsx(ue,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(oi,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-green-800 dark:text-green-200",children:"Authentication Successful!"}),t.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Welcome! You can now manage your bot for ",s]})]}),t.jsx(K,{variant:"outline",size:"sm",onClick:X,className:"ml-auto",children:"Switch Account"})]})})}),t.jsxs(_a,{defaultValue:"active",className:"w-full",children:[t.jsxs(Zs,{className:"grid w-full grid-cols-3",children:[t.jsxs(St,{value:"active",className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4"}),"Active Bots (",$.length,")"]}),t.jsxs(St,{value:"pending",className:"flex items-center gap-2",children:[t.jsx(ln,{className:"h-4 w-4"}),"Pending (",ie.length,")"]}),t.jsxs(St,{value:"inactive",className:"flex items-center gap-2",children:[t.jsx(vi,{className:"h-4 w-4"}),"Inactive (",q.length,")"]})]}),t.jsx(yt,{value:"active",className:"space-y-4",children:B?t.jsx(ce,{children:t.jsxs(ue,{className:"pt-6 text-center",children:[t.jsx(on,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("p",{children:"Loading your bots..."})]})}):$.length===0?t.jsx(ce,{children:t.jsxs(ue,{className:"pt-6 text-center",children:[t.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No active bots found"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:$.map(P=>t.jsxs(ce,{className:"border-green-200 hover:shadow-lg transition-shadow",children:[t.jsxs(Ve,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ze,{className:"text-lg",children:P.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[P.crossServer&&t.jsxs(Ye,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:["📡 ",P.hostingServer]}),re(P.status,P.approvalStatus)]})]}),t.jsxs(rt,{children:[P.phoneNumber,P.crossServer&&t.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:"🌍 Cross-server management enabled"})]})]}),t.jsxs(ue,{className:"space-y-4",children:[P.crossServer&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-3",children:[t.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"🌐 Cross-Server Bot"}),t.jsx("p",{className:"text-xs text-blue-600",children:"Feature toggles require server connectivity"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>ae("autoLike",!P.features?.autoLike,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>ae("autoView",!P.features?.autoView,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>ae("autoReact",!P.features?.autoReact,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>ae("chatGPT",!P.features?.chatGPT,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),t.jsx("button",{onClick:()=>ae("alwaysOnline",!P.features?.alwaysOnline,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),t.jsx("button",{onClick:()=>ae("typingIndicator",!P.features?.typingIndicator,P),disabled:z.isPending,className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} cursor-pointer hover:opacity-80`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),t.jsx("div",{className:"flex gap-2",children:P.crossServer?t.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-md p-2 text-center",children:[t.jsxs("p",{className:"text-xs text-blue-700",children:["🌐 Bot hosted on ",P.hostingServer]}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Features can be toggled above"})]}):t.jsxs(t.Fragment,{children:[P.status==="offline"?t.jsxs(K,{size:"sm",onClick:()=>ee("start",P),disabled:G.isPending,className:"flex-1",children:[t.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}):t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>ee("stop",P),disabled:G.isPending,className:"flex-1",children:[t.jsx(vi,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>ee("restart",P),disabled:G.isPending,title:"Restart bot",children:t.jsx(on,{className:"h-3 w-3"})})]})}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-2 border-t",children:[t.jsxs("span",{children:["Messages: ",P.messagesCount||0]}),t.jsxs("span",{children:["Commands: ",P.commandsCount||0]})]})]})]},P.id))})}),t.jsx(yt,{value:"pending",className:"space-y-4",children:ie.length===0?t.jsx(ce,{children:t.jsxs(ue,{className:"pt-6 text-center",children:[t.jsx(oi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ie.map(P=>t.jsx(ce,{className:"border-yellow-200",children:t.jsxs(Ve,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ze,{className:"text-lg",children:P.name}),re(P.status,P.approvalStatus)]}),t.jsx(rt,{children:P.phoneNumber})]})},P.id))})}),t.jsx(yt,{value:"inactive",className:"space-y-4",children:q.length===0?t.jsx(ce,{children:t.jsxs(ue,{className:"pt-6 text-center",children:[t.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No inactive bots"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:q.map(P=>t.jsxs(ce,{className:"border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsxs(Ve,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ze,{className:"text-lg",children:P.name}),re(P.status,P.approvalStatus)]}),t.jsx(rt,{children:P.phoneNumber})]}),t.jsxs(ue,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto Like"}),t.jsx("button",{onClick:()=>ae("autoLike",!P.features?.autoLike,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoLike?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoLike?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto View"}),t.jsx("button",{onClick:()=>ae("autoViewStatus",!P.features?.autoView,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoView?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoView?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Auto React"}),t.jsx("button",{onClick:()=>ae("autoReact",!P.features?.autoReact,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.autoReact?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.autoReact?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"ChatGPT"}),t.jsx("button",{onClick:()=>ae("chatgptEnabled",!P.features?.chatGPT,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.chatGPT?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.chatGPT?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Always Online"}),t.jsx("button",{onClick:()=>ae("alwaysOnline",!P.features?.alwaysOnline,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.alwaysOnline?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.alwaysOnline?"bg-white":"bg-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Typing Indicator"}),t.jsx("button",{onClick:()=>ae("typingIndicator",!P.features?.typingIndicator,P),disabled:z.isPending||P.approvalStatus!=="approved",className:`w-8 h-4 rounded-full flex items-center px-1 transition-colors ${P.features?.typingIndicator?"bg-primary justify-end":"bg-muted justify-start"} ${P.approvalStatus!=="approved"?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"}`,children:t.jsx("div",{className:`w-2 h-2 rounded-full ${P.features?.typingIndicator?"bg-white":"bg-muted-foreground"}`})})]})]}),t.jsx("div",{className:"flex gap-2",children:P.approvalStatus==="approved"?t.jsxs(t.Fragment,{children:[t.jsxs(K,{size:"sm",onClick:()=>ee("start",P),disabled:G.isPending,className:"flex-1",children:[t.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>ee("restart",P),disabled:G.isPending,title:"Restart bot",children:t.jsx(on,{className:"h-3 w-3"})})]}):t.jsxs(K,{size:"sm",disabled:!0,className:"flex-1",title:"Bot must be approved to start",children:[t.jsx(ln,{className:"h-3 w-3 mr-1"}),"Pending Approval"]})}),P.approvalStatus!=="approved"&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 text-xs",children:[t.jsx("p",{className:"text-yellow-800 font-medium",children:"⏳ Awaiting Admin Approval"}),t.jsx("p",{className:"text-yellow-600",children:"Contact admin to activate this bot"})]})]})]},P.id))})})]})]})]})})}function zD(){const{toast:e}=Ht(),r=jr(),[s,i]=h.useState(""),[o,c]=h.useState(!1),{data:u,isLoading:f}=gt({queryKey:["/api/guest/cross-server-bots",s],queryFn:async()=>{if(!s.trim())return{bots:[],servers:[]};const j=s.replace(/[\s\-\(\)\+]/g,""),b=await fetch("/api/guest/cross-server-bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:j})});if(!b.ok){const S=await b.json();throw new Error(S.message||"Failed to fetch cross-server data")}return b.json()},enabled:o&&!!s.trim()}),p=Ue({mutationFn:async({action:j,botId:b,serverName:S,data:_})=>{const O=await fetch("/api/guest/cross-server-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("guest_token")}`},body:JSON.stringify({action:j,botId:b,serverName:S,..._})});if(!O.ok){const A=await O.json();throw new Error(A.message||`Failed to ${j} bot on ${S}`)}return O.json()},onSuccess:(j,b)=>{e({title:"Cross-Server Action Successful",description:`${b.action} completed on ${b.serverName}`}),r.invalidateQueries({queryKey:["/api/guest/cross-server-bots"]})},onError:j=>{e({title:"Cross-Server Action Failed",description:j.message,variant:"destructive"})}}),g=()=>{if(!s.trim()){e({title:"Phone Required",description:"Please enter your phone number to find your cross-server bots",variant:"destructive"});return}c(!0)},x=(j,b,S)=>{p.mutate({action:j,botId:b.id,serverName:b.serverName,data:S})},y=(j,b)=>{if(b==="pending")return t.jsx(Ye,{variant:"outline",className:"bg-yellow-50 text-yellow-800",children:"Pending"});switch(j){case"online":return t.jsx(Ye,{className:"bg-green-500",children:"Online"});case"offline":return t.jsx(Ye,{variant:"outline",children:"Offline"});case"error":return t.jsx(Ye,{variant:"destructive",children:"Error"});default:return t.jsx(Ye,{variant:"outline",children:j})}},w=u?.bots||[],C=u?.servers||[],k=w.reduce((j,b)=>(j[b.serverName]||(j[b.serverName]=[]),j[b.serverName].push(b),j),{});return t.jsx("div",{className:"min-h-screen w-full p-6",children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Cross-Server Bot Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your bots across multiple servers from one central location"})]}),t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(Bf,{className:"h-5 w-5"}),"Find Your Cross-Server Bots"]}),t.jsx(rt,{children:"Enter your phone number to discover and manage bots across all servers"})]}),t.jsx(ue,{className:"space-y-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(At,{type:"tel",placeholder:"+1234567890",value:s,onChange:j=>i(j.target.value),className:"flex-1","data-testid":"input-cross-server-phone"}),t.jsx(K,{onClick:g,disabled:f,"data-testid":"button-search-cross-server",children:f?t.jsx(on,{className:"h-4 w-4 animate-spin"}):"Find Bots"})]})})]}),o&&!f&&C.length>0&&t.jsxs(ce,{children:[t.jsxs(Ve,{children:[t.jsxs(ze,{className:"flex items-center gap-2",children:[t.jsx(di,{className:"h-5 w-5"}),"Server Overview"]}),t.jsxs(rt,{children:["Your bots are distributed across ",C.length," server",C.length>1?"s":""]})]}),t.jsx(ue,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(j=>t.jsx(ce,{className:"border-blue-200",children:t.jsxs(ue,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:j.serverName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.botCount," bot",j.botCount>1?"s":""]})]}),j.serverUrl&&t.jsx(K,{size:"sm",variant:"outline",asChild:!0,children:t.jsx("a",{href:j.serverUrl,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Oc,{className:"h-3 w-3"})})})]}),t.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-green-600",children:j.onlineBots})," online"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-yellow-600",children:j.pendingBots})," pending"]})]})]})},j.serverName))})})]}),o&&!f&&w.length>0&&t.jsxs(_a,{defaultValue:"all",className:"w-full",children:[t.jsxs(Zs,{className:"grid w-full grid-cols-4",children:[t.jsxs(St,{value:"all","data-testid":"tab-all-servers",children:["All Servers (",w.length,")"]}),t.jsxs(St,{value:"online","data-testid":"tab-online-servers",children:["Online (",w.filter(j=>j.status==="online").length,")"]}),t.jsxs(St,{value:"offline","data-testid":"tab-offline-servers",children:["Offline (",w.filter(j=>j.status==="offline").length,")"]}),t.jsxs(St,{value:"pending","data-testid":"tab-pending-servers",children:["Pending (",w.filter(j=>j.approvalStatus==="pending").length,")"]})]}),t.jsx(yt,{value:"all",className:"space-y-6",children:Object.entries(k).map(([j,b])=>t.jsxs(ce,{children:[t.jsx(Ve,{children:t.jsxs(ze,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(di,{className:"h-5 w-5"}),j]}),t.jsxs(Ye,{variant:"outline",children:[b.length," bot",b.length>1?"s":""]})]})}),t.jsx(ue,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(S=>t.jsx(ce,{className:"border-gray-200",children:t.jsxs(ue,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:S.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:S.phoneNumber})]}),y(S.status,S.approvalStatus)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Messages"}),t.jsx("p",{className:"font-medium",children:S.messagesCount||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Commands"}),t.jsx("p",{className:"font-medium",children:S.commandsCount||0})]})]}),S.features&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.features.autoLike&&t.jsx(Ye,{variant:"outline",className:"text-xs",children:"Like"}),S.features.autoReact&&t.jsx(Ye,{variant:"outline",className:"text-xs",children:"React"}),S.features.autoView&&t.jsx(Ye,{variant:"outline",className:"text-xs",children:"View"}),S.features.chatGPT&&t.jsx(Ye,{variant:"outline",className:"text-xs",children:"AI"})]})]}),S.canManage&&S.approvalStatus==="approved"&&t.jsxs("div",{className:"flex gap-1",children:[S.status==="offline"?t.jsxs(K,{size:"sm",onClick:()=>x("start",S),disabled:p.isPending,className:"flex-1","data-testid":`button-cross-start-${S.id}`,children:[t.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}):t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>x("stop",S),disabled:p.isPending,className:"flex-1","data-testid":`button-cross-stop-${S.id}`,children:[t.jsx(vi,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>x("restart",S),disabled:p.isPending,"data-testid":`button-cross-restart-${S.id}`,children:t.jsx(on,{className:"h-3 w-3"})}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>x("configure",S),disabled:p.isPending,"data-testid":`button-cross-config-${S.id}`,children:t.jsx(xb,{className:"h-3 w-3"})})]}),!S.canManage&&t.jsxs(Ci,{children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(ki,{className:"text-xs",children:"Limited access on this server. Contact admin for full management."})]})]})},S.id))})})]},j))}),t.jsx(yt,{value:"online",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(j=>j.status==="online").map(j=>t.jsx(ce,{className:"border-green-200",children:t.jsxs(ue,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:j.name}),y(j.status)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[j.phoneNumber," • ",j.serverName]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>x("stop",j),disabled:p.isPending,className:"flex-1",children:[t.jsx(vi,{className:"h-3 w-3 mr-1"}),"Stop"]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>x("restart",j),disabled:p.isPending,children:t.jsx(on,{className:"h-3 w-3"})})]})]})},j.id))})}),t.jsx(yt,{value:"offline",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.filter(j=>j.status==="offline").map(j=>t.jsx(ce,{className:"border-gray-200",children:t.jsxs(ue,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:j.name}),y(j.status)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[j.phoneNumber," • ",j.serverName]}),t.jsxs(K,{size:"sm",onClick:()=>x("start",j),disabled:p.isPending,className:"w-full",children:[t.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start Bot"]})]})},j.id))})}),t.jsx(yt,{value:"pending",className:"space-y-4",children:t.jsx("div",{className:"space-y-4",children:w.filter(j=>j.approvalStatus==="pending").map(j=>t.jsx(ce,{className:"border-yellow-200",children:t.jsxs(ue,{className:"pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:j.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.phoneNumber," • ",j.serverName]})]}),y(j.status,j.approvalStatus)]}),t.jsxs(Ci,{children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsxs(ki,{children:["This bot is awaiting approval from the admin on ",j.serverName,"."]})]})]})},j.id))})})]}),o&&!f&&w.length===0&&t.jsx(ce,{children:t.jsxs(ue,{className:"pt-6 text-center space-y-4",children:[t.jsx(Bf,{className:"h-16 w-16 text-muted-foreground mx-auto"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"No Cross-Server Bots Found"}),t.jsxs("p",{className:"text-muted-foreground",children:["No bots found across servers for phone number ",s,"."]})]}),t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsx(K,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/verification",children:"Register New Bot"})}),t.jsx(K,{variant:"outline",asChild:!0,children:t.jsx("a",{href:"/guest/bot-management",children:"Manage Existing Bots"})})]})]})}),t.jsx(ce,{className:"border-blue-200",children:t.jsx(ue,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Bf,{className:"h-5 w-5 text-blue-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-800",children:"Cross-Server Management"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature allows you to manage bots across multiple servers from a single interface. Actions are coordinated through the God Registry system to ensure consistency across all servers. Some features may have limited availability depending on server configuration and your access level."})]})]})})})]})})}function UD({isOpen:e,onClose:r,onLogin:s}){const[i,o]=h.useState(""),[c,u]=h.useState(""),[f,p]=h.useState(!1),{toast:g}=Ht(),x=async y=>{y.preventDefault(),p(!0);try{const w=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:c})});if(w.ok){const C=await w.json();localStorage.setItem("auth_token",C.token),localStorage.setItem("user",JSON.stringify(C.user)),s(C.token,C.user),r(),g({title:"Login successful",description:C.message}),C.user?.isAdmin&&window.location.reload()}else{const C=await w.json();g({title:"Login failed",description:C.message,variant:"destructive"})}}catch{g({title:"Login error",description:"Failed to connect to server",variant:"destructive"})}finally{p(!1)}};return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"sm:max-w-[425px]",children:[t.jsx(Tt,{children:t.jsx(Et,{children:"🔐 Admin Login"})}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"username",children:"Username"}),t.jsx(At,{id:"username",type:"text",value:i,onChange:y=>o(y.target.value),placeholder:"Enter admin username",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"password",children:"Password"}),t.jsx(At,{id:"password",type:"password",value:c,onChange:y=>u(y.target.value),placeholder:"Enter admin password",required:!0})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(K,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),t.jsx(K,{type:"submit",disabled:f,className:"flex-1",children:f?"Logging in...":"Login"})]})]})]})})}function qD({isOpen:e,onClose:r}){const[s,i]=h.useState(null),[o,c]=h.useState(""),[u,f]=h.useState("file"),[p,g]=h.useState(!1),{toast:x}=Ht(),y=C=>{const k=C.target.files?.[0];k&&(k.name.endsWith(".json")?i(k):x({title:"Invalid file type",description:"Please select a .json file",variant:"destructive"}))},w=async C=>{if(C.preventDefault(),u==="file"&&!s){x({title:"No file selected",description:"Please select a credentials.json file",variant:"destructive"});return}if(u==="base64"&&!o.trim()){x({title:"No session ID provided",description:"Please paste your base64 session ID",variant:"destructive"});return}g(!0);try{let k;if(u==="file"){const b=new FormData;b.append("credentials",s),k=await fetch("/api/validate-credentials",{method:"POST",body:b})}else k=await fetch("/api/validate-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:o.trim()})});const j=await k.json();k.ok&&j.valid?x({title:"✅ Credentials Valid!",description:j.message}):x({title:"❌ Invalid Credentials",description:j.message,variant:"destructive"})}catch{x({title:"Validation error",description:"Failed to validate credentials",variant:"destructive"})}finally{g(!1),i(null),c(""),r()}};return t.jsx(It,{open:e,onOpenChange:r,children:t.jsxs(_t,{className:"sm:max-w-[500px]",children:[t.jsx(Tt,{children:t.jsx(Et,{children:"🔍 Validate Session ID"})}),t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs(_a,{value:u,onValueChange:f,className:"w-full",children:[t.jsxs(Zs,{className:"grid w-full grid-cols-2",children:[t.jsx(St,{value:"file",children:"Upload File"}),t.jsx(St,{value:"base64",children:"Paste Session ID"})]}),t.jsxs(yt,{value:"file",className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"credentials",children:"Upload credentials.json"}),t.jsx(At,{id:"credentials",type:"file",accept:".json",onChange:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your WhatsApp session credentials.json file to test if it's valid"})]}),s&&t.jsxs("div",{className:"text-sm text-green-600",children:["✓ Selected: ",s.name]})]}),t.jsxs(yt,{value:"base64",className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"sessionData",children:"Paste Base64 Session ID"}),t.jsx(Gn,{id:"sessionData",placeholder:"Paste your base64 encoded session data here...",value:o,onChange:C=>c(C.target.value),className:"min-h-[120px] font-mono text-xs"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your base64 encoded credentials.json data (session ID)"})]}),o.trim()&&t.jsxs("div",{className:"text-sm text-green-600",children:["✓ Session data pasted (",o.length," characters)"]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(K,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),t.jsx(K,{type:"submit",disabled:p||u==="file"&&!s||u==="base64"&&!o.trim(),className:"flex-1",children:p?"Validating...":"Validate"})]})]})]})})}function WD(e){switch(e){case"wait_approval":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"update_credentials":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"authenticate":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"authenticated":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}}function KD(e){switch(e){case"wait_approval":return t.jsx(ln,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"});case"update_credentials":return t.jsx(Qr,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"});case"authenticate":return t.jsx(ls,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"});case"authenticated":return t.jsx(ya,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"});default:return t.jsx(ls,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 mt-0.5 flex-shrink-0"})}}function QD(e){switch(e){case"wait_approval":return"Pending Approval";case"update_credentials":return"Credentials Required";case"authenticate":return"Ready to Authenticate";case"authenticated":return"Bot Ready";default:return"Status Unknown"}}function HD(){const{toast:e}=Ht(),r=jr(),[s,i]=h.useState(""),[o,c]=h.useState(!1),[u,f]=h.useState(null),[p,g]=h.useState(!1),[x,y]=h.useState(null),[w,C]=h.useState(""),[k,j]=h.useState(!1),{data:b,isLoading:S,error:_}=gt({queryKey:["/api/guest/search-bot",s],queryFn:async()=>{if(!s.trim())return null;const $=s.replace(/[\s\-\(\)\+]/g,""),ie=await fetch("/api/guest/search-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:$})});if(!ie.ok){const q=await ie.json();throw new Error(q.message||"Bot not found")}return await ie.json()},enabled:o&&!!s.trim()}),O=Ue({mutationFn:async({phoneNumber:$,sessionId:ie})=>{const q=$.replace(/[\s\-\(\)\+]/g,"");try{const R=ie.trim(),Y=atob(R);JSON.parse(Y)}catch{throw new Error("Invalid session ID format. Please ensure you're providing valid base64-encoded credentials.")}const P=await fetch("/api/guest/validate-existing-bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:q,sessionId:ie.trim()})});if(!P.ok){const R=await P.json();throw new Error(R.message||"Failed to validate session ID")}return P.json()},onSuccess:$=>{const ie=s.replace(/[\s\-\(\)\+]/g,"");f($.guestToken),g(!0),y(ie),C(""),e({title:"Session validated successfully",description:$.message||"You can now manage your bot"}),r.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:$=>{e({title:"Session validation failed",description:$.message,variant:"destructive"})}}),A=Ue({mutationFn:async({botId:$,phoneNumber:ie})=>{if(!u)throw new Error("Authentication required");const q=await fetch("/api/guest/bot/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:$,phoneNumber:ie})});if(!q.ok){const P=await q.json();throw new Error(P.message||"Failed to start bot")}return q.json()},onSuccess:()=>{e({title:"Bot started successfully"}),r.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:$=>{e({title:"Failed to start bot",description:$.message,variant:"destructive"})}}),B=Ue({mutationFn:async({botId:$,phoneNumber:ie})=>{if(!u)throw new Error("Authentication required");const q=await fetch("/api/guest/bot/stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:$,phoneNumber:ie})});if(!q.ok){const P=await q.json();throw new Error(P.message||"Failed to stop bot")}return q.json()},onSuccess:()=>{e({title:"Bot stopped successfully"}),r.invalidateQueries({queryKey:["/api/guest/search-bot",s]})},onError:$=>{e({title:"Failed to stop bot",description:$.message,variant:"destructive"})}}),G=Ue({mutationFn:async({botId:$,phoneNumber:ie})=>{if(!u)throw new Error("Authentication required");const q=await fetch("/api/guest/bot/delete",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({botId:$,phoneNumber:ie})});if(!q.ok){const P=await q.json();throw new Error(P.message||"Failed to delete bot")}return q.json()},onSuccess:()=>{e({title:"Bot deleted successfully"}),c(!1),i(""),f(null),g(!1),y(null)},onError:$=>{e({title:"Failed to delete bot",description:$.message,variant:"destructive"})}}),z=h.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number to search for your bot",variant:"destructive"});return}c(!0)},[s,e]),se=h.useCallback(()=>{if(!s.trim()){e({title:"Phone number required",description:"Please enter your phone number first",variant:"destructive"});return}if(!w.trim()){e({title:"Session ID required",description:"Please enter your session ID (base64 encoded credentials)",variant:"destructive"});return}O.mutate({phoneNumber:s,sessionId:w})},[s,w,O,e]),Z=h.useCallback(()=>{f(null),g(!1),y(null),C("")},[]),ee=$=>{const ie=$.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return p&&x===ie&&!$.crossServer&&$.isApproved},ae=$=>{if(!$)return!1;const ie=$.phoneNumber.replace(/[\s\-\(\)\+]/g,"");return!p||x!==ie},X=($,ie)=>ie==="approved"?$==="online"?t.jsx(Ye,{variant:"default",className:"bg-green-600",children:"Online"}):t.jsx(Ye,{variant:"secondary",children:"Offline"}):t.jsx(Ye,{variant:"outline",children:"Pending Approval"}),re=$=>$?new Date($).toLocaleString():"Never";return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ce,{className:"border-dashed",children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsxs(ze,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ci,{className:"h-4 w-4"}),"Find My Bot"]}),t.jsx(rt,{className:"text-xs",children:"Enter your phone number to manage your bot"})]}),t.jsxs(ue,{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(At,{placeholder:"Enter phone number",value:s,onChange:$=>i($.target.value),onKeyDown:$=>$.key==="Enter"&&z(),className:"pl-9 text-sm","data-testid":"input-phone-search"})]}),t.jsx(K,{size:"sm",onClick:z,disabled:S||!s.trim(),"data-testid":"button-search-bot",children:S?t.jsx(on,{className:"h-4 w-4 animate-spin"}):t.jsx(ci,{className:"h-4 w-4"})})]}),b&&ae(b)&&t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[t.jsx(Qr,{className:"h-4 w-4"}),"Session ID Verification Required"]}),t.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:['To manage "',b.name,'" (',b.phoneNumber,"), please enter your session ID (base64 encoded credentials)."]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Session ID (Base64 Credentials)"}),t.jsx("textarea",{placeholder:"Paste your base64 encoded credentials here...",value:w,onChange:$=>C($.target.value),className:"w-full h-24 text-xs p-2 border border-blue-300 dark:border-blue-600 rounded resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","data-testid":"input-session-id"})]}),t.jsx(K,{onClick:se,disabled:O.isPending||!w.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-validate-session",children:O.isPending?t.jsxs(t.Fragment,{children:[t.jsx(on,{className:"h-3 w-3 mr-2 animate-spin"})," Validating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qr,{className:"h-3 w-3 mr-2"})," Validate Session ID"]})}),t.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 text-center bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:"💡 Enter your base64 encoded credentials (creds.json converted to base64) to verify bot ownership."})]})]}),b&&!ae(b)&&t.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800",children:t.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 dark:text-green-300",children:[t.jsx(Qr,{className:"h-3 w-3"}),"Authenticated for ",b.phoneNumber," - You can now manage this bot",t.jsxs("div",{className:"ml-auto flex gap-1",children:[t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{Z(),c(!1),i("")},className:"text-xs h-6 px-2",title:"Search for another bot (requires re-authentication)",children:"Search Another"}),t.jsx(K,{variant:"ghost",size:"sm",onClick:Z,className:"text-xs h-6 px-2",children:"Logout"})]})]})}),_&&t.jsx("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded border","data-testid":"error-search",children:_.message})]})]}),b&&t.jsxs(ce,{children:[t.jsxs(Ve,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ze,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4"}),b.name]}),X(b.status,b.approvalStatus)]}),t.jsxs(rt,{className:"text-xs",children:[b.phoneNumber," • ",b.serverName?`Server: ${b.serverName}`:"No server assigned"]})]}),t.jsxs(ue,{className:"space-y-3","data-testid":`bot-card-${b.phoneNumber}`,children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[t.jsx("div",{className:"font-medium",children:"Messages"}),t.jsx("div",{className:"text-muted-foreground","data-testid":`bot-messages-${b.phoneNumber}`,children:b.messagesCount||0})]}),t.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[t.jsx("div",{className:"font-medium",children:"Commands"}),t.jsx("div",{className:"text-muted-foreground","data-testid":`bot-commands-${b.phoneNumber}`,children:b.commandsCount||0})]})]}),b.lastActivity&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last activity: ",re(b.lastActivity)]}),t.jsx(Zc,{}),b.crossServer&&t.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(ln,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Cross-Server Bot Detected"}),t.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:b.message||`Your bot is registered on ${b.serverName}. To manage it, please visit that server.`}),t.jsxs(K,{size:"sm",variant:"outline",className:"text-xs h-7",onClick:()=>{new URL(window.location.href),e({title:"Server Switch Required",description:`Your bot is on ${b.serverName}. Please contact the administrator for access to that server, or visit the correct server URL directly.`,variant:"default"})},"data-testid":`button-switch-server-${b.phoneNumber}`,children:[t.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Contact Admin for ",b.serverName]})]})]})}),!b.crossServer&&t.jsxs("div",{className:"space-y-3",children:[b.nextStep&&t.jsx("div",{className:`p-3 rounded border ${WD(b.nextStep)}`,children:t.jsxs("div",{className:"flex items-start gap-2",children:[KD(b.nextStep),t.jsxs("div",{className:"space-y-1 flex-1",children:[t.jsx("div",{className:"text-sm font-medium",children:QD(b.nextStep)}),t.jsx("p",{className:"text-xs",children:b.message}),b.invalidReason&&t.jsxs("p",{className:"text-xs opacity-75",children:["Reason: ",b.invalidReason]})]})]})}),t.jsx("div",{className:"flex gap-2",children:ae(b)&&b.nextStep!=="wait_approval"?t.jsx("div",{className:"w-full bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700 text-center",children:t.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:p?`Please authenticate for this bot (${b.phoneNumber}) to manage actions`:"Authentication required to manage bot actions"})}):b.nextStep==="wait_approval"?t.jsx("div",{className:"w-full bg-amber-50 dark:bg-amber-900/20 p-3 rounded border border-amber-200 dark:border-amber-800 text-center",children:t.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Waiting for admin approval - check back later"})}):b.nextStep==="update_credentials"?t.jsxs("div",{className:"w-full space-y-2",children:[t.jsxs(K,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>j(!0),"data-testid":`button-upload-credentials-${b.phoneNumber}`,disabled:!p,children:[t.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Upload New Credentials"]}),t.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Upload your creds.json file to reactivate your bot"})]}):b.nextStep==="authenticated"&&!ae(b)?t.jsxs(t.Fragment,{children:[b.status==="online"?t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>B.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:B.isPending||!ee(b),className:"flex-1 text-xs","data-testid":`button-stop-${b.phoneNumber}`,children:[B.isPending?t.jsx(on,{className:"h-3 w-3 mr-1 animate-spin"}):t.jsx(vi,{className:"h-3 w-3 mr-1"}),"Stop"]}):t.jsxs(K,{size:"sm",onClick:()=>A.mutate({botId:b.id,phoneNumber:b.phoneNumber}),disabled:A.isPending||!ee(b),className:"flex-1 text-xs","data-testid":`button-start-${b.phoneNumber}`,children:[A.isPending?t.jsx(on,{className:"h-3 w-3 mr-1 animate-spin"}):t.jsx(ya,{className:"h-3 w-3 mr-1"}),"Start"]}),t.jsxs(Vh,{children:[t.jsx(zh,{asChild:!0,children:t.jsx(K,{size:"sm",variant:"destructive",className:"text-xs","data-testid":`button-delete-${b.phoneNumber}`,children:t.jsx(vb,{className:"h-3 w-3"})})}),t.jsxs(Id,{children:[t.jsxs(Od,{children:[t.jsx(Md,{children:"Delete Bot"}),t.jsxs(Fd,{children:['Are you sure you want to delete "',b.name,'"? This action cannot be undone.']})]}),t.jsxs(Dd,{children:[t.jsx(Bd,{children:"Cancel"}),t.jsx(Ld,{onClick:()=>G.mutate({botId:b.id,phoneNumber:b.phoneNumber}),"data-testid":`confirm-delete-${b.phoneNumber}`,children:"Delete"})]})]})]})]}):t.jsx("div",{className:"w-full text-xs text-muted-foreground bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 text-center",children:"⏳ Your bot is pending admin approval. Contact support for activation."})})]})]})]}),b&&t.jsx(zw,{open:k,onClose:()=>j(!1),botId:b.id,phoneNumber:b.phoneNumber,guestToken:u,onSuccess:()=>{r.invalidateQueries({queryKey:["/api/guest/search-bot",s]}),j(!1)}})]})}const GD=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/guest/verification",label:"Phone Verification",icon:"fas fa-phone"},{href:"/guest/bot-management",label:"Bot Management",icon:"fas fa-robot"},{href:"/guest/credentials",label:"Credential Manager",icon:"fas fa-key"},{href:"/guest/cross-server",label:"Cross-Server Bots",icon:"fas fa-network-wired"}],YD=[{href:"/",label:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/bot-instances",label:"Bot Instances",icon:"fas fa-robot"},{href:"/commands",label:"Commands",icon:"fas fa-terminal"},{href:"/chatgpt",label:"ChatGPT Integration",icon:"fas fa-brain"},{href:"/groups",label:"Group Management",icon:"fas fa-users"},{href:"/analytics",label:"Analytics",icon:"fas fa-chart-line"},{href:"/settings",label:"Settings",icon:"fas fa-cog"}],ZD=[{href:"/admin",label:"Admin Console",icon:"fas fa-shield-alt"}];function XD(){const[e]=Py(),{user:r,isAuthenticated:s,isAdmin:i,logout:o}=rl(),[c,u]=h.useState(!1),[f,p]=h.useState(!1),[g,x]=h.useState(!1),[y,w]=h.useState(!0),C=h.useRef(null);return h.useEffect(()=>{const k=j=>{C.current&&!C.current.contains(j.target)&&!y&&w(!0)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[y]),t.jsxs(t.Fragment,{children:[t.jsx(K,{variant:"default",size:"lg",onClick:()=>w(!y),className:"fixed top-6 left-6 z-[9999] p-4 bg-primary text-primary-foreground shadow-2xl hover:bg-primary/90 rounded-full border-2 border-background transition-all duration-300 hover:scale-110 w-14 h-14","data-testid":"sidebar-expand-button",title:y?"Expand Sidebar":"Collapse Sidebar",children:t.jsx("i",{className:`fas ${y?"fa-bars":"fa-times"} text-lg`})}),t.jsxs("aside",{ref:C,className:ke("bg-card border-r border-border flex flex-col transition-all duration-300 ease-in-out fixed left-0 top-0 h-full z-[9998]",y?"w-0 opacity-0 pointer-events-none -translate-x-full overflow-hidden":"w-64 opacity-100 translate-x-0"),"data-testid":"sidebar",children:[t.jsxs("div",{className:ke("border-b border-border flex items-center justify-between",y?"p-4":"p-6"),children:[t.jsxs("div",{className:ke("flex items-center",y?"justify-center w-full":"space-x-3"),children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fab fa-whatsapp text-primary-foreground text-xl"})}),!y&&t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Bot Manager"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Automation"})]})]}),!y&&t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"p-2 hover:bg-muted","data-testid":"sidebar-toggle",children:t.jsx("i",{className:"fas fa-chevron-left"})})]}),t.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(i?YD:GD).map(k=>t.jsx(Ac,{href:k.href,children:t.jsxs("div",{className:ke("flex items-center rounded-md transition-colors cursor-pointer",y?"justify-center px-3 py-3":"space-x-3 px-3 py-2",e===k.href?"bg-primary/10 text-primary border border-primary/20":"hover:bg-muted text-muted-foreground hover:text-foreground"),"data-testid":`nav-${k.label.toLowerCase().replace(" ","-")}`,title:y?k.label:void 0,children:[t.jsx("i",{className:`${k.icon} w-5`}),!y&&t.jsx("span",{children:k.label})]})},k.href)),!i&&!y&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-t border-border my-4"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"My Bots"}),t.jsx(HD,{})]})]}),i&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-t border-border my-4"}),!y&&t.jsx("div",{className:"px-3 py-2",children:t.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),ZD.map(k=>t.jsx(Ac,{href:k.href,children:t.jsxs("div",{className:ke("flex items-center rounded-md transition-colors cursor-pointer",y?"justify-center px-3 py-3":"space-x-3 px-3 py-2",e===k.href?"bg-red-500/10 text-red-600 border border-red-500/20":"hover:bg-red-500/5 text-muted-foreground hover:text-red-600"),"data-testid":`nav-${k.label.toLowerCase().replace(" ","-")}`,title:y?k.label:void 0,children:[t.jsx("i",{className:`${k.icon} w-5`}),!y&&t.jsx("span",{children:k.label})]})},k.href))]})]}),t.jsx("div",{className:"p-4 border-t border-border",children:s?t.jsxs("div",{className:ke("flex items-center px-3 py-2",y?"justify-center":"space-x-3"),children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-user text-primary-foreground text-sm"})}),!y&&t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:r?.username||"User"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i?"Administrator":"User"})]}),t.jsx("button",{onClick:o,className:"text-muted-foreground hover:text-foreground","data-testid":"button-logout",title:"Logout",children:t.jsx("i",{className:"fas fa-sign-out-alt"})})]}):t.jsxs(K,{onClick:()=>u(!0),className:"w-full",size:y?"sm":"default",children:[t.jsx("i",{className:ke("fas fa-sign-in-alt",!y&&"mr-2")}),!y&&"Admin Login"]})}),t.jsx(UD,{isOpen:c,onClose:()=>u(!1),onLogin:(k,j)=>{u(!1)}}),t.jsx(qD,{isOpen:f,onClose:()=>p(!1)}),t.jsx(qw,{open:g,onClose:()=>x(!1)})]})]})}function im({children:e,requireAdmin:r=!1,requireAuth:s=!1}){const{isAuthenticated:i,isAdmin:o}=rl(),[,c]=Py();return r&&!o?t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:t.jsxs(ce,{className:"max-w-md w-full",children:[t.jsxs(Ve,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(pv,{className:"h-8 w-8 text-red-600"})}),t.jsx(ze,{className:"text-2xl text-red-600",children:"Access Denied"}),t.jsx(rt,{className:"text-base",children:"This page is restricted to administrators only."})]}),t.jsxs(ue,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to access bot management features. These tools are reserved for system administrators."}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs(K,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-dashboard",children:[t.jsx(cv,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),t.jsx(K,{onClick:()=>c("/guest/verification"),variant:"outline",className:"w-full","data-testid":"button-guest-registration",children:"Register Your Bot"})]})]})]})}):s&&!i?t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6 bg-background",children:t.jsxs(ce,{className:"max-w-md w-full",children:[t.jsxs(Ve,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(pv,{className:"h-8 w-8 text-yellow-600"})}),t.jsx(ze,{className:"text-2xl text-yellow-600",children:"Authentication Required"}),t.jsx(rt,{className:"text-base",children:"Please log in to access this page."})]}),t.jsxs(ue,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"This page requires authentication. Please log in to continue."}),t.jsxs(K,{onClick:()=>c("/"),className:"w-full","data-testid":"button-return-home",children:[t.jsx(cv,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})]})}):t.jsx(t.Fragment,{children:e})}function JD(){return t.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[t.jsx(XD,{}),t.jsx("main",{className:"flex-1 overflow-auto transition-all duration-300 ease-in-out",children:t.jsx("div",{className:"p-4",children:t.jsxs(w1,{children:[t.jsx(Os,{path:"/",component:fO}),t.jsx(Os,{path:"/bot-instances",children:t.jsx(im,{requireAdmin:!0,children:t.jsx(vO,{})})}),t.jsx(Os,{path:"/commands",children:t.jsx(im,{requireAdmin:!0,children:t.jsx(bO,{})})}),t.jsx(Os,{path:"/admin",children:t.jsx(im,{requireAdmin:!0,children:t.jsx(LD,{})})}),t.jsx(Os,{path:"/guest/verification",component:$D}),t.jsx(Os,{path:"/guest/bot-management",component:VD}),t.jsx(Os,{path:"/guest/cross-server",component:zD}),t.jsx(Os,{component:BD})]})})})]})}function eM(){return t.jsx(K1,{client:yr,children:t.jsx(WT,{children:t.jsx(R_,{children:t.jsxs("div",{className:"dark",children:[t.jsx(HP,{}),t.jsx(JD,{})]})})})})}JC.createRoot(document.getElementById("root")).render(t.jsx(eM,{}));
